id,project,branch,change_id,subject,status,created,updated,insertions,deletions,reviewers,messages,total_comment_count,revisions,number,current_revision,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,changed_files
openstack%2Freleases~893638,openstack/releases,master,I9bcdc00428b32de1af93edb24fc3f85eb3775302,[heat] Create 2023.2 branch for client and non-client libs,MERGED,2023-09-04 12:10:27.000000000,2023-09-07 09:34:24.000000000,3,0,"[{'_account_id': 308, 'name': 'Thierry Carrez', 'email': 'thierry@openstack.org', 'username': 'ttx'}, {'_account_id': 9816, 'name': 'Takashi Kajinami', 'email': 'kajinamit@oss.nttdata.com', 'username': 'kajinamit'}, {'_account_id': 12404, 'name': 'Rico Lin', 'email': 'ricolin@ricolky.com', 'username': 'rico.lin'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2023-09-04 12:10:27.000000000', 'files': ['deliverables/bobcat/python-heatclient.yaml'], 'message': '[heat] Create 2023.2 branch for client and non-client libs\n\nThis creates the stable/2023.2 branch for all client and non-client\nlibraries now that we are past the library freeze.\n\nIf the team wants to wait for a specific patch to make it to the\nlibrary (for example if the gate of the deliverable is broken and\nneeds to be fixed before branching), then someone from the team can\n-1 the patch to have it held, or update that patch with a different\ncommit SHA.\n\nPatches with no response will be merged by Friday, 08.\n\nChange-Id: I9bcdc00428b32de1af93edb24fc3f85eb3775302\n'}]",893638,e153bf1c41fb4d947284597aa0837f3564745c5e,28522,Hervé Beraud,hberaud,0,"[heat] Create 2023.2 branch for client and non-client libs

This creates the stable/2023.2 branch for all client and non-client
libraries now that we are past the library freeze.

If the team wants to wait for a specific patch to make it to the
library (for example if the gate of the deliverable is broken and
needs to be fixed before branching), then someone from the team can
-1 the patch to have it held, or update that patch with a different
commit SHA.

Patches with no response will be merged by Friday, 08.

Change-Id: I9bcdc00428b32de1af93edb24fc3f85eb3775302
",['deliverables/bobcat/python-heatclient.yaml']
openstack%2Freleases~893628,openstack/releases,master,I2251db9967a6d803fa31149fc41918ee319a29c4,[kuryr] Create 2023.2 branch for client and non-client libs,MERGED,2023-09-04 11:49:59.000000000,2023-09-07 09:34:22.000000000,3,0,"[{'_account_id': 308, 'name': 'Thierry Carrez', 'email': 'thierry@openstack.org', 'username': 'ttx'}, {'_account_id': 13692, 'name': 'Roman Dobosz', 'email': 'gryf73@gmail.com', 'username': 'gryf'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2023-09-04 11:49:59.000000000', 'files': ['deliverables/bobcat/kuryr.yaml'], 'message': '[kuryr] Create 2023.2 branch for client and non-client libs\n\nThis creates the stable/2023.2 branch for all client and non-client\nlibraries now that we are past the library freeze.\n\nIf the team wants to wait for a specific patch to make it to the\nlibrary (for example if the gate of the deliverable is broken and\nneeds to be fixed before branching), then someone from the team can\n-1 the patch to have it held, or update that patch with a different\ncommit SHA.\n\nPatches with no response will be merged by Friday, 08.\n\nChange-Id: I2251db9967a6d803fa31149fc41918ee319a29c4\n'}]",893628,f28c959217e8914ddbb1dff05630e9c3fbfe8094,28522,Hervé Beraud,hberaud,0,"[kuryr] Create 2023.2 branch for client and non-client libs

This creates the stable/2023.2 branch for all client and non-client
libraries now that we are past the library freeze.

If the team wants to wait for a specific patch to make it to the
library (for example if the gate of the deliverable is broken and
needs to be fixed before branching), then someone from the team can
-1 the patch to have it held, or update that patch with a different
commit SHA.

Patches with no response will be merged by Friday, 08.

Change-Id: I2251db9967a6d803fa31149fc41918ee319a29c4
",['deliverables/bobcat/kuryr.yaml']
openstack%2Freleases~893623,openstack/releases,master,I0328fa09b430b52e29a713a68ff1e0826b62c626,[Telemetry] Create 2023.2 branch for client and non-client libs,MERGED,2023-09-04 11:39:11.000000000,2023-09-07 09:34:20.000000000,3,0,"[{'_account_id': 308, 'name': 'Thierry Carrez', 'email': 'thierry@openstack.org', 'username': 'ttx'}, {'_account_id': 4264, 'name': 'Matthias Runge', 'email': 'mrunge@redhat.com', 'username': 'mrunge'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 24061, 'name': 'pangliye', 'email': 'pangliye@inspur.com', 'username': 'pangliye'}, {'_account_id': 26458, 'name': 'Brin Zhang', 'email': 'zhangbailin@inspur.com', 'username': 'zhangbailin'}, {'_account_id': 27565, 'name': 'inspurericzhang', 'email': 'zhanglf01@inspur.com', 'username': 'inspurericzhang'}]",,3,"[{'number': 2, 'created': '2023-09-05 08:45:19.000000000', 'files': ['deliverables/bobcat/ceilometermiddleware.yaml'], 'message': '[Telemetry] Create 2023.2 branch for client and non-client libs\n\nThis creates the stable/2023.2 branch for all client and non-client\nlibraries now that we are past the library freeze.\n\nIf the team wants to wait for a specific patch to make it to the\nlibrary (for example if the gate of the deliverable is broken and\nneeds to be fixed before branching), then someone from the team can\n-1 the patch to have it held, or update that patch with a different\ncommit SHA.\n\nPatches with no response will be merged by Friday, 08.\n\nChange-Id: I0328fa09b430b52e29a713a68ff1e0826b62c626\n'}]",893623,266f17c464cf52b10ba9de5f8d809791717049e4,28522,Hervé Beraud,hberaud,0,"[Telemetry] Create 2023.2 branch for client and non-client libs

This creates the stable/2023.2 branch for all client and non-client
libraries now that we are past the library freeze.

If the team wants to wait for a specific patch to make it to the
library (for example if the gate of the deliverable is broken and
needs to be fixed before branching), then someone from the team can
-1 the patch to have it held, or update that patch with a different
commit SHA.

Patches with no response will be merged by Friday, 08.

Change-Id: I0328fa09b430b52e29a713a68ff1e0826b62c626
",['deliverables/bobcat/ceilometermiddleware.yaml']
openstack%2Freleases~893618,openstack/releases,master,I65f0b71efbe554ef9710237b7311b279359927a4,[nova] Create 2023.2 branch for client and non-client libs,MERGED,2023-09-04 11:26:52.000000000,2023-09-07 09:34:15.000000000,9,0,"[{'_account_id': 308, 'name': 'Thierry Carrez', 'email': 'thierry@openstack.org', 'username': 'ttx'}, {'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 16207, 'name': 'ribaudr', 'display_name': 'uggla', 'email': 'rene.ribaud@gmail.com', 'username': 'uggla', 'status': 'Red Hat'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34860, 'name': 'Amit Uniyal', 'email': 'auniyal@redhat.com', 'username': 'auniyal'}]",,0,"[{'number': 1, 'created': '2023-09-04 11:26:52.000000000', 'files': ['deliverables/bobcat/os-vif.yaml', 'deliverables/bobcat/osc-placement.yaml', 'deliverables/bobcat/python-novaclient.yaml'], 'message': '[nova] Create 2023.2 branch for client and non-client libs\n\nThis creates the stable/2023.2 branch for all client and non-client\nlibraries now that we are past the library freeze.\n\nIf the team wants to wait for a specific patch to make it to the\nlibrary (for example if the gate of the deliverable is broken and\nneeds to be fixed before branching), then someone from the team can\n-1 the patch to have it held, or update that patch with a different\ncommit SHA.\n\nPatches with no response will be merged by Friday, 08.\n\nChange-Id: I65f0b71efbe554ef9710237b7311b279359927a4\n'}]",893618,f9a38558be16ac43f70652ea4ad2cec05495befa,28522,Hervé Beraud,hberaud,0,"[nova] Create 2023.2 branch for client and non-client libs

This creates the stable/2023.2 branch for all client and non-client
libraries now that we are past the library freeze.

If the team wants to wait for a specific patch to make it to the
library (for example if the gate of the deliverable is broken and
needs to be fixed before branching), then someone from the team can
-1 the patch to have it held, or update that patch with a different
commit SHA.

Patches with no response will be merged by Friday, 08.

Change-Id: I65f0b71efbe554ef9710237b7311b279359927a4
","['deliverables/bobcat/os-vif.yaml', 'deliverables/bobcat/osc-placement.yaml', 'deliverables/bobcat/python-novaclient.yaml']"
openstack%2Freleases~893644,openstack/releases,master,Ic8b04730efd841a8f787a447aacf941315abf0cb,[vitrage] Create 2023.2 branch for client and non-client libs,MERGED,2023-09-04 12:17:19.000000000,2023-09-07 09:34:13.000000000,3,0,"[{'_account_id': 308, 'name': 'Thierry Carrez', 'email': 'thierry@openstack.org', 'username': 'ttx'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 19134, 'name': 'Eyal', 'email': 'eyalb1@gmail.com', 'username': 'eyalb'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28619, 'name': 'Dmitriy Rabotyagov', 'email': 'noonedeadpunk@gmail.com', 'username': 'noonedeadpunk'}, {'_account_id': 36201, 'name': 'Shanjiayi', 'email': 'shanjiayi@yovole.com', 'username': 'Shanjiayi'}]",,2,"[{'number': 1, 'created': '2023-09-04 12:17:19.000000000', 'files': ['deliverables/bobcat/python-vitrageclient.yaml'], 'message': '[vitrage] Create 2023.2 branch for client and non-client libs\n\nThis creates the stable/2023.2 branch for all client and non-client\nlibraries now that we are past the library freeze.\n\nIf the team wants to wait for a specific patch to make it to the\nlibrary (for example if the gate of the deliverable is broken and\nneeds to be fixed before branching), then someone from the team can\n-1 the patch to have it held, or update that patch with a different\ncommit SHA.\n\nPatches with no response will be merged by Friday, 08.\n\nChange-Id: Ic8b04730efd841a8f787a447aacf941315abf0cb\n'}]",893644,7413f435ab11ba87c1ea1d92c20e19f62426262a,28522,Hervé Beraud,hberaud,0,"[vitrage] Create 2023.2 branch for client and non-client libs

This creates the stable/2023.2 branch for all client and non-client
libraries now that we are past the library freeze.

If the team wants to wait for a specific patch to make it to the
library (for example if the gate of the deliverable is broken and
needs to be fixed before branching), then someone from the team can
-1 the patch to have it held, or update that patch with a different
commit SHA.

Patches with no response will be merged by Friday, 08.

Change-Id: Ic8b04730efd841a8f787a447aacf941315abf0cb
",['deliverables/bobcat/python-vitrageclient.yaml']
openstack%2Freleases~893632,openstack/releases,master,I4b73a34dbbfe763bb0a801d10ab8a1346e858e16,[Telemetry] Create 2023.2 branch for client and non-client libs,MERGED,2023-09-04 11:59:39.000000000,2023-09-07 09:34:10.000000000,3,0,"[{'_account_id': 308, 'name': 'Thierry Carrez', 'email': 'thierry@openstack.org', 'username': 'ttx'}, {'_account_id': 4264, 'name': 'Matthias Runge', 'email': 'mrunge@redhat.com', 'username': 'mrunge'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2023-09-04 11:59:39.000000000', 'files': ['deliverables/bobcat/python-aodhclient.yaml'], 'message': '[Telemetry] Create 2023.2 branch for client and non-client libs\n\nThis creates the stable/2023.2 branch for all client and non-client\nlibraries now that we are past the library freeze.\n\nIf the team wants to wait for a specific patch to make it to the\nlibrary (for example if the gate of the deliverable is broken and\nneeds to be fixed before branching), then someone from the team can\n-1 the patch to have it held, or update that patch with a different\ncommit SHA.\n\nPatches with no response will be merged by Friday, 08.\n\nChange-Id: I4b73a34dbbfe763bb0a801d10ab8a1346e858e16\n'}]",893632,630cbd4c1162dee7d73e5b02d5c5d11b85dfcb10,28522,Hervé Beraud,hberaud,0,"[Telemetry] Create 2023.2 branch for client and non-client libs

This creates the stable/2023.2 branch for all client and non-client
libraries now that we are past the library freeze.

If the team wants to wait for a specific patch to make it to the
library (for example if the gate of the deliverable is broken and
needs to be fixed before branching), then someone from the team can
-1 the patch to have it held, or update that patch with a different
commit SHA.

Patches with no response will be merged by Friday, 08.

Change-Id: I4b73a34dbbfe763bb0a801d10ab8a1346e858e16
",['deliverables/bobcat/python-aodhclient.yaml']
openstack%2Freleases~893634,openstack/releases,master,I1fca185251c7352f3414200104097e213cf4b3ab,[venus] Create 2023.2 branch for client and non-client libs,MERGED,2023-09-04 12:06:43.000000000,2023-09-07 09:34:08.000000000,3,0,"[{'_account_id': 308, 'name': 'Thierry Carrez', 'email': 'thierry@openstack.org', 'username': 'ttx'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 24061, 'name': 'pangliye', 'email': 'pangliye@inspur.com', 'username': 'pangliye'}, {'_account_id': 26458, 'name': 'Brin Zhang', 'email': 'zhangbailin@inspur.com', 'username': 'zhangbailin'}, {'_account_id': 27565, 'name': 'inspurericzhang', 'email': 'zhanglf01@inspur.com', 'username': 'inspurericzhang'}]",,2,"[{'number': 1, 'created': '2023-09-04 12:06:43.000000000', 'files': ['deliverables/bobcat/python-venusclient.yaml'], 'message': '[venus] Create 2023.2 branch for client and non-client libs\n\nThis creates the stable/2023.2 branch for all client and non-client\nlibraries now that we are past the library freeze.\n\nIf the team wants to wait for a specific patch to make it to the\nlibrary (for example if the gate of the deliverable is broken and\nneeds to be fixed before branching), then someone from the team can\n-1 the patch to have it held, or update that patch with a different\ncommit SHA.\n\nPatches with no response will be merged by Friday, 08.\n\nChange-Id: I1fca185251c7352f3414200104097e213cf4b3ab\n'}]",893634,ecd8446e8b5de829ea6704d8d7c4fdfe696dbcc2,28522,Hervé Beraud,hberaud,0,"[venus] Create 2023.2 branch for client and non-client libs

This creates the stable/2023.2 branch for all client and non-client
libraries now that we are past the library freeze.

If the team wants to wait for a specific patch to make it to the
library (for example if the gate of the deliverable is broken and
needs to be fixed before branching), then someone from the team can
-1 the patch to have it held, or update that patch with a different
commit SHA.

Patches with no response will be merged by Friday, 08.

Change-Id: I1fca185251c7352f3414200104097e213cf4b3ab
",['deliverables/bobcat/python-venusclient.yaml']
openstack%2Freleases~893635,openstack/releases,master,I10343b2a78271c0ea3dc98c3c4b61e1941d47c6a,[cloudkitty] Create 2023.2 branch for client and non-client libs,MERGED,2023-09-04 12:08:03.000000000,2023-09-07 09:32:25.000000000,3,0,"[{'_account_id': 308, 'name': 'Thierry Carrez', 'email': 'thierry@openstack.org', 'username': 'ttx'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28356, 'name': 'Rafael Weingartner', 'email': 'rafael@apache.org', 'username': 'rafaelweingartner'}]",,1,"[{'number': 1, 'created': '2023-09-04 12:08:03.000000000', 'files': ['deliverables/bobcat/python-cloudkittyclient.yaml'], 'message': '[cloudkitty] Create 2023.2 branch for client and non-client libs\n\nThis creates the stable/2023.2 branch for all client and non-client\nlibraries now that we are past the library freeze.\n\nIf the team wants to wait for a specific patch to make it to the\nlibrary (for example if the gate of the deliverable is broken and\nneeds to be fixed before branching), then someone from the team can\n-1 the patch to have it held, or update that patch with a different\ncommit SHA.\n\nPatches with no response will be merged by Friday, 08.\n\nChange-Id: I10343b2a78271c0ea3dc98c3c4b61e1941d47c6a\n'}]",893635,cad068b007e0ffda6c3475a277c0e28b3fb5a460,28522,Hervé Beraud,hberaud,0,"[cloudkitty] Create 2023.2 branch for client and non-client libs

This creates the stable/2023.2 branch for all client and non-client
libraries now that we are past the library freeze.

If the team wants to wait for a specific patch to make it to the
library (for example if the gate of the deliverable is broken and
needs to be fixed before branching), then someone from the team can
-1 the patch to have it held, or update that patch with a different
commit SHA.

Patches with no response will be merged by Friday, 08.

Change-Id: I10343b2a78271c0ea3dc98c3c4b61e1941d47c6a
",['deliverables/bobcat/python-cloudkittyclient.yaml']
openstack%2Freleases~893610,openstack/releases,master,If399e31fe6640cd3cb19e4cf8abc065812f35a7d,[oslo] Create 2023.2 branch for client and non-client libs,MERGED,2023-09-04 09:51:20.000000000,2023-09-07 09:32:22.000000000,75,0,"[{'_account_id': 308, 'name': 'Thierry Carrez', 'email': 'thierry@openstack.org', 'username': 'ttx'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 31245, 'name': 'Daniel Bengtsson', 'email': 'dbengt@redhat.com', 'username': 'damani42'}]",,1,"[{'number': 2, 'created': '2023-09-04 11:34:30.000000000', 'files': ['deliverables/bobcat/oslo.upgradecheck.yaml', 'deliverables/bobcat/automaton.yaml', 'deliverables/bobcat/oslo.privsep.yaml', 'deliverables/bobcat/oslo.limit.yaml', 'deliverables/bobcat/oslo.log.yaml', 'deliverables/bobcat/oslo.policy.yaml', 'deliverables/bobcat/castellan.yaml', 'deliverables/bobcat/oslo.utils.yaml', 'deliverables/bobcat/oslo.metrics.yaml', 'deliverables/bobcat/oslo.reports.yaml', 'deliverables/bobcat/oslo.vmware.yaml', 'deliverables/bobcat/oslo.context.yaml', 'deliverables/bobcat/oslo.cache.yaml', 'deliverables/bobcat/oslo.config.yaml', 'deliverables/bobcat/oslo.rootwrap.yaml', 'deliverables/bobcat/stevedore.yaml', 'deliverables/bobcat/oslo.messaging.yaml', 'deliverables/bobcat/oslo.concurrency.yaml', 'deliverables/bobcat/oslo.middleware.yaml', 'deliverables/bobcat/taskflow.yaml', 'deliverables/bobcat/oslo.db.yaml', 'deliverables/bobcat/oslo.versionedobjects.yaml', 'deliverables/bobcat/oslo.i18n.yaml', 'deliverables/bobcat/oslo.service.yaml', 'deliverables/bobcat/oslo.serialization.yaml'], 'message': '[oslo] Create 2023.2 branch for client and non-client libs\n\nThis creates the stable/2023.2 branch for all client and non-client\nlibraries now that we are past the library freeze.\n\nIf the team wants to wait for a specific patch to make it to the\nlibrary (for example if the gate of the deliverable is broken and\nneeds to be fixed before branching), then someone from the team can\n-1 the patch to have it held, or update that patch with a different\ncommit SHA.\n\nPatches with no response will be merged by Friday, 08.\n\nChange-Id: If399e31fe6640cd3cb19e4cf8abc065812f35a7d\n'}]",893610,3d73c072db89901863732a1ea31d340d5693761a,28522,Hervé Beraud,hberaud,0,"[oslo] Create 2023.2 branch for client and non-client libs

This creates the stable/2023.2 branch for all client and non-client
libraries now that we are past the library freeze.

If the team wants to wait for a specific patch to make it to the
library (for example if the gate of the deliverable is broken and
needs to be fixed before branching), then someone from the team can
-1 the patch to have it held, or update that patch with a different
commit SHA.

Patches with no response will be merged by Friday, 08.

Change-Id: If399e31fe6640cd3cb19e4cf8abc065812f35a7d
","['deliverables/bobcat/oslo.upgradecheck.yaml', 'deliverables/bobcat/automaton.yaml', 'deliverables/bobcat/oslo.privsep.yaml', 'deliverables/bobcat/oslo.limit.yaml', 'deliverables/bobcat/oslo.log.yaml', 'deliverables/bobcat/oslo.policy.yaml', 'deliverables/bobcat/castellan.yaml', 'deliverables/bobcat/oslo.utils.yaml', 'deliverables/bobcat/oslo.metrics.yaml', 'deliverables/bobcat/oslo.reports.yaml', 'deliverables/bobcat/oslo.vmware.yaml', 'deliverables/bobcat/oslo.context.yaml', 'deliverables/bobcat/oslo.cache.yaml', 'deliverables/bobcat/oslo.config.yaml', 'deliverables/bobcat/oslo.rootwrap.yaml', 'deliverables/bobcat/stevedore.yaml', 'deliverables/bobcat/oslo.messaging.yaml', 'deliverables/bobcat/oslo.concurrency.yaml', 'deliverables/bobcat/oslo.middleware.yaml', 'deliverables/bobcat/taskflow.yaml', 'deliverables/bobcat/oslo.db.yaml', 'deliverables/bobcat/oslo.versionedobjects.yaml', 'deliverables/bobcat/oslo.i18n.yaml', 'deliverables/bobcat/oslo.service.yaml', 'deliverables/bobcat/oslo.serialization.yaml']"
openstack%2Fpython-saharaclient~893329,openstack/python-saharaclient,master,Ie84630d73d006c3887e7c1b5a547da56352d7c28,Adapt to tox4  This fixes the several problems/errors caused by tox 4.,MERGED,2023-09-06 05:47:04.000000000,2023-09-07 09:29:04.000000000,7,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29423, 'name': 'zhouxinyong', 'email': 'zhouxinyong@inspur.com', 'username': 'zhouxinyong'}]",,1,"[{'number': 5, 'created': '2023-09-07 05:32:49.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'message': 'Adapt to tox4  This fixes the several problems/errors caused by tox 4.\n\nChange-Id: Ie84630d73d006c3887e7c1b5a547da56352d7c28\n'}]",893329,555c7431e3d6beb2074929b19d4e744fe7933d3a,29423,zhouxinyong,zhouxinyong,0,"Adapt to tox4  This fixes the several problems/errors caused by tox 4.

Change-Id: Ie84630d73d006c3887e7c1b5a547da56352d7c28
","['doc/requirements.txt', 'tox.ini']"
openstack%2Fnetworking-bagpipe~893709,openstack/networking-bagpipe,master,Ie3a7169bf135e9af2ecf5e2bad2eb5035f6e5836,CI: Change focal nodeset to jammy,MERGED,2023-09-05 08:40:48.000000000,2023-09-07 09:10:03.000000000,1,1,"[{'_account_id': 11975, 'name': 'Slawek Kaplonski', 'email': 'skaplons@redhat.com', 'username': 'slaweq'}, {'_account_id': 13861, 'name': 'yatin', 'email': 'ykarel@redhat.com', 'username': 'yatinkarel'}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 32029, 'name': 'likui', 'email': 'likui@yovole.com', 'username': 'likui'}]",,0,"[{'number': 1, 'created': '2023-09-05 08:40:48.000000000', 'files': ['.zuul.yaml'], 'message': 'CI: Change focal nodeset to jammy\n\nNova bumbed the minimum libvirt version and this\nforces other jobs also to change from focal to jammy,\nsee [1].\n\n[1]: https://review.opendev.org/c/openstack/devstack/+/885468\n\nChange-Id: Ie3a7169bf135e9af2ecf5e2bad2eb5035f6e5836\n'}]",893709,60d374d8a75e5c2c5ef3053c07b09ac43ac0790e,8313,Lajos Katona,elajkat,0,"CI: Change focal nodeset to jammy

Nova bumbed the minimum libvirt version and this
forces other jobs also to change from focal to jammy,
see [1].

[1]: https://review.opendev.org/c/openstack/devstack/+/885468

Change-Id: Ie3a7169bf135e9af2ecf5e2bad2eb5035f6e5836
",['.zuul.yaml']
openstack%2Fpuppet-ceilometer~893548,openstack/puppet-ceilometer,stable/2023.1,Ib5c273df325f5ed0dccf7f45a9c7a91aba9568c3,Set 'tenant_name_discovery' parameter in 'polling' section,MERGED,2023-09-04 07:29:32.000000000,2023-09-07 08:49:48.000000000,8,3,"[{'_account_id': 9816, 'name': 'Takashi Kajinami', 'email': 'kajinamit@oss.nttdata.com', 'username': 'kajinamit'}, {'_account_id': 14985, 'name': 'Alex Schultz', 'email': 'aschultz@next-development.com', 'username': 'mwhahaha'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2023-09-04 07:29:32.000000000', 'files': ['manifests/agent/polling.pp', 'spec/classes/ceilometer_agent_polling_spec.rb'], 'message': ""Set 'tenant_name_discovery' parameter in 'polling' section\n\nAs of now 'tenant_name_discovery'[1] is being configured in 'DEFAULT' section in ceilometer config file.\n\nAs per Ceilometer this must be configured as a polling option[2].\n\n[1] https://github.com/openstack/ceilometer/blob/master/ceilometer/polling/manager.py#L69-L80\n[2] https://github.com/openstack/ceilometer/blob/master/ceilometer/opts.py#L98\n\nChange-Id: Ib5c273df325f5ed0dccf7f45a9c7a91aba9568c3\n(cherry picked from commit 204a8b398d0ccc25d074f85e55641b369ad716b7)\n""}]",893548,1a0803fa9cd15166e791ec00800d994ee1d48052,32240,Yadnesh Kulkarni,ykulkarn,0,"Set 'tenant_name_discovery' parameter in 'polling' section

As of now 'tenant_name_discovery'[1] is being configured in 'DEFAULT' section in ceilometer config file.

As per Ceilometer this must be configured as a polling option[2].

[1] https://github.com/openstack/ceilometer/blob/master/ceilometer/polling/manager.py#L69-L80
[2] https://github.com/openstack/ceilometer/blob/master/ceilometer/opts.py#L98

Change-Id: Ib5c273df325f5ed0dccf7f45a9c7a91aba9568c3
(cherry picked from commit 204a8b398d0ccc25d074f85e55641b369ad716b7)
","['manifests/agent/polling.pp', 'spec/classes/ceilometer_agent_polling_spec.rb']"
openstack%2Fos-brick~892669,openstack/os-brick,master,I8b1aaedfdb9bef6e34813e39dede9afe98371d2b,Fix unit tests when hostid file exists,MERGED,2023-08-24 12:06:44.000000000,2023-09-07 08:45:32.000000000,1,0,"[{'_account_id': 4523, 'name': 'Eric Harney', 'email': 'eharney@redhat.com', 'username': 'eharney'}, {'_account_id': 9535, 'name': 'Gorka Eguileor', 'email': 'geguileo@redhat.com', 'username': 'Gorka'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 32029, 'name': 'likui', 'email': 'likui@yovole.com', 'username': 'likui'}]","[{'rev_nbr': 1, 'author': '2023-08-24 12:54:44.000000000', 'date': '2023-08-24 12:54:44.000000000'}, {'rev_nbr': 1, 'author': '2023-08-24 14:12:37.000000000', 'date': '2023-08-24 14:12:37.000000000'}, {'rev_nbr': 1, 'author': '2023-08-24 14:48:38.000000000', 'date': '2023-08-24 14:48:38.000000000'}, {'rev_nbr': 2, 'author': '2023-08-24 16:13:30.000000000', 'date': '2023-08-24 16:13:30.000000000'}, {'rev_nbr': 1, 'author': '2023-08-24 16:33:37.000000000', 'date': '2023-08-24 16:33:37.000000000'}, {'rev_nbr': 2, 'author': '2023-08-24 17:47:37.000000000', 'date': '2023-08-24 17:47:37.000000000'}, {'rev_nbr': 2, 'author': '2023-08-24 18:38:48.000000000', 'date': '2023-08-24 18:38:48.000000000'}, {'rev_nbr': 2, 'author': '2023-08-24 18:55:10.000000000', 'date': '2023-08-24 18:55:10.000000000'}, {'rev_nbr': 2, 'author': '2023-08-24 21:29:46.000000000', 'date': '2023-08-24 21:29:46.000000000'}, {'rev_nbr': 2, 'author': '2023-08-24 21:43:44.000000000', 'date': '2023-08-24 21:43:44.000000000'}, {'rev_nbr': 2, 'author': '2023-08-24 23:32:49.000000000', 'date': '2023-08-24 23:32:49.000000000'}, {'rev_nbr': 2, 'author': '2023-08-24 23:36:29.000000000', 'date': '2023-08-24 23:36:29.000000000'}, {'rev_nbr': 2, 'author': '2023-08-25 07:30:39.000000000', 'date': '2023-08-25 07:30:39.000000000'}, {'rev_nbr': 2, 'author': '2023-08-25 12:21:48.000000000', 'date': '2023-08-25 12:21:48.000000000'}, {'rev_nbr': 2, 'author': '2023-08-25 12:36:52.000000000', 'date': '2023-08-25 12:36:52.000000000'}, {'rev_nbr': 2, 'author': '2023-08-25 13:40:24.000000000', 'date': '2023-08-25 13:40:24.000000000'}, {'rev_nbr': 2, 'author': '2023-08-25 13:46:02.000000000', 'date': '2023-08-25 13:46:02.000000000'}, {'rev_nbr': 2, 'author': '2023-08-25 14:33:35.000000000', 'date': '2023-08-25 14:33:35.000000000'}, {'rev_nbr': 2, 'author': '2023-09-07 08:45:32.000000000', 'date': '2023-09-07 08:45:32.000000000'}]",7,"[{'number': 2, 'created': '2023-08-24 15:29:01.000000000', 'files': ['os_brick/tests/initiator/test_connector.py'], 'message': ""Fix unit tests when hostid file exists\n\nAfter merging change I0b60f9078f23f8464d8234841645ed520e8ba655, we\nnoticed an issue with existing unit tests which started failing.\nThe reason is 'nvme_hostid' was an additional parameter returned\nin the response while fetching connector properties from nvme\nconnector.\nThis is environment specific and won't occur in environments where\n'/etc/nvme/hostid' file doesn't exist due to which these tests\npassed in gate but failed in the local run when hostid file\nwas present.\nThis patch mocks the get_nvme_host_id method for tests so the\nhostid is never returned irrespective of the environment.\n\nCloses-Bug: #2032941\nChange-Id: I8b1aaedfdb9bef6e34813e39dede9afe98371d2b\n""}]",892669,71627c56ac14bd3d31e78979d430eccee9a92d91,27615,Rajat Dhasmana,whoami-rajat,0,"Fix unit tests when hostid file exists

After merging change I0b60f9078f23f8464d8234841645ed520e8ba655, we
noticed an issue with existing unit tests which started failing.
The reason is 'nvme_hostid' was an additional parameter returned
in the response while fetching connector properties from nvme
connector.
This is environment specific and won't occur in environments where
'/etc/nvme/hostid' file doesn't exist due to which these tests
passed in gate but failed in the local run when hostid file
was present.
This patch mocks the get_nvme_host_id method for tests so the
hostid is never returned irrespective of the environment.

Closes-Bug: #2032941
Change-Id: I8b1aaedfdb9bef6e34813e39dede9afe98371d2b
",['os_brick/tests/initiator/test_connector.py']
openstack%2Fkolla~886636,openstack/kolla,master,I72c9f4a1577f1ad1cb3462b9e6478dc75497ceab,Designate infoblox port 53 permission denied,ABANDONED,2023-06-21 12:52:30.000000000,2023-09-07 08:35:53.000000000,4,2,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 32553, 'name': 'Sven Kieske', 'email': 'sven_oss@posteo.de', 'username': 'skieske'}]",,8,"[{'number': 3, 'created': '2023-06-22 08:59:48.000000000', 'files': ['docker/designate/designate-mdns/Dockerfile.j2', '.zuul.d/ubuntu.yaml', '.zuul.d/rocky.yaml'], 'message': 'Designate infoblox port 53 permission denied\n\nDesignate infoblox integration requires mdns to bind to port 53, which\ncauses permission denied issues as process is executed as designate user.\nPer design privileged access is necessary to bind ports below 1024.\n\nChanging designate-mdns container `USER` to `root`.\n\nCloses-Bug: 2024576\nChange-Id: I72c9f4a1577f1ad1cb3462b9e6478dc75497ceab\n'}]",886636,49224951fde1893e08a4ca7d700c87162afcd2ad,34076,Jakub Darmach,darmach,0,"Designate infoblox port 53 permission denied

Designate infoblox integration requires mdns to bind to port 53, which
causes permission denied issues as process is executed as designate user.
Per design privileged access is necessary to bind ports below 1024.

Changing designate-mdns container `USER` to `root`.

Closes-Bug: 2024576
Change-Id: I72c9f4a1577f1ad1cb3462b9e6478dc75497ceab
","['docker/designate/designate-mdns/Dockerfile.j2', '.zuul.d/ubuntu.yaml', '.zuul.d/rocky.yaml']"
openstack%2Fkolla-ansible~893771,openstack/kolla-ansible,stable/zed,Ia025283e38ea7c3bd37c7a70d03f6b46c68f4456,ovn: Improve clustering,MERGED,2023-09-06 12:57:35.000000000,2023-09-07 08:21:53.000000000,343,2,"[{'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 23084, 'name': 'Bartosz Bezak', 'email': 'bartosz@stackhpc.com', 'username': 'b.bezak'}, {'_account_id': 29268, 'name': 'Matthew Heler', 'email': 'matthew.heler@hotmail.com', 'username': 'mheler'}]",,1,"[{'number': 1, 'created': '2023-09-06 12:57:35.000000000', 'files': ['ansible/roles/ovn-db/templates/ovn-sb-db.json.j2', 'ansible/roles/ovn-db/tasks/bootstrap-initial.yml', 'ansible/roles/ovn-db/tasks/deploy.yml', 'ansible/roles/ovn-db/tasks/lookup_cluster.yml', 'ansible/library/kolla_container_volume_facts.py', 'ansible/roles/ovn-db/defaults/main.yml', 'ansible/roles/ovn-db/templates/ovn-nb-db.json.j2', 'releasenotes/notes/1875223-05552108375d005a.yaml'], 'message': 'ovn: Improve clustering\n\nCurrently clustering steps are very static, if for a reason first\nnode in the inventory fails and gets re-introduced - K-A will create\na second empty cluster on that node.\n\nThis patch changes the approach and checks if cluster exists, if it\ndoes - chooses a donor for the new node from currently running\nnode set.\n\nAlso it fixes node replacement - it removes old node from cluster\n(that has the same ip address as newly provisioned node).\n\nCloses-Bug: #1875223\n\nChange-Id: Ia025283e38ea7c3bd37c7a70d03f6b46c68f4456\n(cherry picked from commit 7cc4bf62031d293487b1714448ba7bb65ed324d6)\n'}]",893771,03db998f65fcb5cd1a2a9897b5cf7cb3476754cf,22629,Michal Nasiadka,mnasiadka,0,"ovn: Improve clustering

Currently clustering steps are very static, if for a reason first
node in the inventory fails and gets re-introduced - K-A will create
a second empty cluster on that node.

This patch changes the approach and checks if cluster exists, if it
does - chooses a donor for the new node from currently running
node set.

Also it fixes node replacement - it removes old node from cluster
(that has the same ip address as newly provisioned node).

Closes-Bug: #1875223

Change-Id: Ia025283e38ea7c3bd37c7a70d03f6b46c68f4456
(cherry picked from commit 7cc4bf62031d293487b1714448ba7bb65ed324d6)
","['ansible/roles/ovn-db/templates/ovn-sb-db.json.j2', 'ansible/roles/ovn-db/tasks/bootstrap-initial.yml', 'ansible/roles/ovn-db/tasks/deploy.yml', 'ansible/roles/ovn-db/tasks/lookup_cluster.yml', 'ansible/library/kolla_container_volume_facts.py', 'ansible/roles/ovn-db/defaults/main.yml', 'ansible/roles/ovn-db/templates/ovn-nb-db.json.j2', 'releasenotes/notes/1875223-05552108375d005a.yaml']"
openstack%2Fkolla-ansible~893772,openstack/kolla-ansible,stable/yoga,Ia025283e38ea7c3bd37c7a70d03f6b46c68f4456,ovn: Improve clustering,MERGED,2023-09-06 12:58:56.000000000,2023-09-07 08:21:50.000000000,343,2,"[{'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 23084, 'name': 'Bartosz Bezak', 'email': 'bartosz@stackhpc.com', 'username': 'b.bezak'}]",,1,"[{'number': 1, 'created': '2023-09-06 12:58:56.000000000', 'files': ['ansible/roles/ovn-db/templates/ovn-sb-db.json.j2', 'ansible/roles/ovn-db/tasks/bootstrap-initial.yml', 'ansible/roles/ovn-db/tasks/deploy.yml', 'ansible/roles/ovn-db/tasks/lookup_cluster.yml', 'ansible/library/kolla_container_volume_facts.py', 'ansible/roles/ovn-db/defaults/main.yml', 'ansible/roles/ovn-db/templates/ovn-nb-db.json.j2', 'releasenotes/notes/1875223-05552108375d005a.yaml'], 'message': 'ovn: Improve clustering\n\nCurrently clustering steps are very static, if for a reason first\nnode in the inventory fails and gets re-introduced - K-A will create\na second empty cluster on that node.\n\nThis patch changes the approach and checks if cluster exists, if it\ndoes - chooses a donor for the new node from currently running\nnode set.\n\nAlso it fixes node replacement - it removes old node from cluster\n(that has the same ip address as newly provisioned node).\n\nCloses-Bug: #1875223\n\nChange-Id: Ia025283e38ea7c3bd37c7a70d03f6b46c68f4456\n(cherry picked from commit 7cc4bf62031d293487b1714448ba7bb65ed324d6)\n'}]",893772,d626c02fb31a5b4d10f9f5c4541dda36dc103e95,22629,Michal Nasiadka,mnasiadka,0,"ovn: Improve clustering

Currently clustering steps are very static, if for a reason first
node in the inventory fails and gets re-introduced - K-A will create
a second empty cluster on that node.

This patch changes the approach and checks if cluster exists, if it
does - chooses a donor for the new node from currently running
node set.

Also it fixes node replacement - it removes old node from cluster
(that has the same ip address as newly provisioned node).

Closes-Bug: #1875223

Change-Id: Ia025283e38ea7c3bd37c7a70d03f6b46c68f4456
(cherry picked from commit 7cc4bf62031d293487b1714448ba7bb65ed324d6)
","['ansible/roles/ovn-db/templates/ovn-sb-db.json.j2', 'ansible/roles/ovn-db/tasks/bootstrap-initial.yml', 'ansible/roles/ovn-db/tasks/deploy.yml', 'ansible/roles/ovn-db/tasks/lookup_cluster.yml', 'ansible/library/kolla_container_volume_facts.py', 'ansible/roles/ovn-db/defaults/main.yml', 'ansible/roles/ovn-db/templates/ovn-nb-db.json.j2', 'releasenotes/notes/1875223-05552108375d005a.yaml']"
openstack%2Fkolla-ansible~893770,openstack/kolla-ansible,stable/2023.1,Ia025283e38ea7c3bd37c7a70d03f6b46c68f4456,ovn: Improve clustering,MERGED,2023-09-06 12:57:26.000000000,2023-09-07 08:11:42.000000000,343,2,"[{'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 23084, 'name': 'Bartosz Bezak', 'email': 'bartosz@stackhpc.com', 'username': 'b.bezak'}]",,1,"[{'number': 1, 'created': '2023-09-06 12:57:26.000000000', 'files': ['ansible/roles/ovn-db/templates/ovn-sb-db.json.j2', 'ansible/roles/ovn-db/tasks/bootstrap-initial.yml', 'ansible/roles/ovn-db/tasks/deploy.yml', 'ansible/roles/ovn-db/tasks/lookup_cluster.yml', 'ansible/library/kolla_container_volume_facts.py', 'ansible/roles/ovn-db/defaults/main.yml', 'ansible/roles/ovn-db/templates/ovn-nb-db.json.j2', 'releasenotes/notes/1875223-05552108375d005a.yaml'], 'message': 'ovn: Improve clustering\n\nCurrently clustering steps are very static, if for a reason first\nnode in the inventory fails and gets re-introduced - K-A will create\na second empty cluster on that node.\n\nThis patch changes the approach and checks if cluster exists, if it\ndoes - chooses a donor for the new node from currently running\nnode set.\n\nAlso it fixes node replacement - it removes old node from cluster\n(that has the same ip address as newly provisioned node).\n\nCloses-Bug: #1875223\n\nChange-Id: Ia025283e38ea7c3bd37c7a70d03f6b46c68f4456\n(cherry picked from commit 7cc4bf62031d293487b1714448ba7bb65ed324d6)\n'}]",893770,fdcb72b38c79094dde7398ed80fcee9f4bf2960d,22629,Michal Nasiadka,mnasiadka,0,"ovn: Improve clustering

Currently clustering steps are very static, if for a reason first
node in the inventory fails and gets re-introduced - K-A will create
a second empty cluster on that node.

This patch changes the approach and checks if cluster exists, if it
does - chooses a donor for the new node from currently running
node set.

Also it fixes node replacement - it removes old node from cluster
(that has the same ip address as newly provisioned node).

Closes-Bug: #1875223

Change-Id: Ia025283e38ea7c3bd37c7a70d03f6b46c68f4456
(cherry picked from commit 7cc4bf62031d293487b1714448ba7bb65ed324d6)
","['ansible/roles/ovn-db/templates/ovn-sb-db.json.j2', 'ansible/roles/ovn-db/tasks/bootstrap-initial.yml', 'ansible/roles/ovn-db/tasks/deploy.yml', 'ansible/roles/ovn-db/tasks/lookup_cluster.yml', 'ansible/library/kolla_container_volume_facts.py', 'ansible/roles/ovn-db/defaults/main.yml', 'ansible/roles/ovn-db/templates/ovn-nb-db.json.j2', 'releasenotes/notes/1875223-05552108375d005a.yaml']"
openstack%2Fironic~893992,openstack/ironic,master,I68aa95eb1ed80a0fde1c29d708ebd606393481aa,[CI] Unblock CI by fixing job regex and non-voting snmp,MERGED,2023-09-06 22:29:27.000000000,2023-09-07 07:30:32.000000000,8,3,"[{'_account_id': 4571, 'name': 'Steve Baker', 'email': 'sbaker@redhat.com', 'username': 'steve-stevebaker'}, {'_account_id': 10239, 'name': 'Dmitry Tantsur', 'email': 'dtantsur@protonmail.com', 'username': 'dtantsur'}, {'_account_id': 11655, 'name': 'Julia Kreger', 'email': 'juliaashleykreger@gmail.com', 'username': 'jkreger', 'status': 'Flying to the moon with a Jetpack!'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 36201, 'name': 'Shanjiayi', 'email': 'shanjiayi@yovole.com', 'username': 'Shanjiayi'}]",,2,"[{'number': 2, 'created': '2023-09-07 03:58:35.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml'], 'message': '[CI] Unblock CI by fixing job regex and non-voting snmp\n\nTwo issues have occcured:\n\n1) Zuul has decided some syntax is deprecated and generates an error.\n   The exlcusionary nature of the syntax is just not supported by RE2\n   which is the new requirement, so explicitly matching ""^master$""\n   as opposed to ""not stable branches"".\n\n2) Marking the snmp job as non-voting, the root issue appears to be ipxe\nor the VMs, unknown as of yet.\n\nChange-Id: I68aa95eb1ed80a0fde1c29d708ebd606393481aa\n'}]",893992,985c7fdf217ed28d53c040a022f53a639d60fa95,11655,Julia Kreger,jkreger,0,"[CI] Unblock CI by fixing job regex and non-voting snmp

Two issues have occcured:

1) Zuul has decided some syntax is deprecated and generates an error.
   The exlcusionary nature of the syntax is just not supported by RE2
   which is the new requirement, so explicitly matching ""^master$""
   as opposed to ""not stable branches"".

2) Marking the snmp job as non-voting, the root issue appears to be ipxe
or the VMs, unknown as of yet.

Change-Id: I68aa95eb1ed80a0fde1c29d708ebd606393481aa
","['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml']"
openstack%2Fapi-sig~305590,openstack/api-sig,master,I61b83ce1a340f9333b500212bb33a57874e12c18,Rename Swagger to OpenAPI,MERGED,2016-04-14 02:57:43.000000000,2023-09-07 07:12:59.000000000,12,12,"[{'_account_id': 3, 'name': 'Jenkins', 'username': 'jenkins'}, {'_account_id': 964, 'name': 'Anne Gentle', 'email': 'annegentle@justwriteclick.com', 'username': 'annegentle'}, {'_account_id': 1112, 'name': 'Everett Toews', 'email': 'everett.toews@rackspace.com', 'username': 'everett-toews'}, {'_account_id': 6062, 'name': 'jichenjc', 'email': 'jichenjc@cn.ibm.com', 'username': 'jichenjc'}, {'_account_id': 8246, 'name': 'Qiming Teng', 'email': 'tengqm@outlook.com', 'username': 'tengqm'}, {'_account_id': 10670, 'name': 'Michael McCune', 'email': 'elmiko@redhat.com', 'username': 'mimccune'}, {'_account_id': 11564, 'name': 'Chris Dent', 'email': 'cdent@anticdent.org', 'username': 'chdent'}]",,0,"[{'number': 1, 'created': '2016-04-14 02:57:43.000000000', 'files': ['guidelines/api-docs.rst'], 'message': 'Rename Swagger to OpenAPI\n\nAs the official site[1] of Swagger mentioned like the following:\n  ""Starting January 1st 2016 the Swagger Specification has been\n   donated to the Open API Initiative (OAI) and has been renamed\n   to the OpenAPI Specification.""\nSwagger is renamed to OpenAPI.\nThis patch changes the name to fit the rename.\n\n[1]: http://swagger.io/\n\nChange-Id: I61b83ce1a340f9333b500212bb33a57874e12c18\n'}]",305590,6d79d68e75448cb2b21b519ccf8938c5287fa7a1,6167,Ken'ichi Ohmichi,oomichi,0,"Rename Swagger to OpenAPI

As the official site[1] of Swagger mentioned like the following:
  ""Starting January 1st 2016 the Swagger Specification has been
   donated to the Open API Initiative (OAI) and has been renamed
   to the OpenAPI Specification.""
Swagger is renamed to OpenAPI.
This patch changes the name to fit the rename.

[1]: http://swagger.io/

Change-Id: I61b83ce1a340f9333b500212bb33a57874e12c18
",['guidelines/api-docs.rst']
openstack%2Ftripleo-ansible~875886,openstack/tripleo-ansible,stable/wallaby,Ie560f0d00715235de79d3cd6074c4e9754781aba,Add playbook to rotate stack keys,MERGED,2023-03-01 11:43:04.000000000,2023-09-07 07:12:53.000000000,270,0,"[{'_account_id': 9914, 'name': 'Ade Lee', 'email': 'alee@redhat.com', 'username': 'alee'}, {'_account_id': 11166, 'name': 'Lukas Bezdicka', 'email': 'social@v3.sk', 'username': 'xbezdick'}, {'_account_id': 14250, 'name': 'Grzegorz Grasza', 'email': 'xek@redhat.com', 'username': 'xek'}, {'_account_id': 16515, 'name': 'mbu', 'email': 'mat.bultel@gmail.com', 'username': 'matbu'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22954, 'name': 'Juan Badia Payno', 'email': 'jbadiapa@redhat.com', 'username': 'jbadiapa'}]",,36,"[{'number': 24, 'created': '2023-06-13 13:52:39.000000000', 'files': ['tripleo_ansible/playbooks/ssh_key_rotation.yaml'], 'message': 'Add playbook to rotate stack keys\n\nSome OSs like RHEL9.1 now only support a minimum size keypair size of 2048-bits, using keys shorter\nthan that will cause errors and access issues.\nThis patch will allow customer to replace old keys by valid ones, longer then 2048 bits.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=2151002\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}]",875886,34088a2083b81cd904601a42ea14f580a3734e40,34120,Andre Aranha,afariasa,0,"Add playbook to rotate stack keys

Some OSs like RHEL9.1 now only support a minimum size keypair size of 2048-bits, using keys shorter
than that will cause errors and access issues.
This patch will allow customer to replace old keys by valid ones, longer then 2048 bits.

https://bugzilla.redhat.com/show_bug.cgi?id=2151002

Change-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba
",['tripleo_ansible/playbooks/ssh_key_rotation.yaml']
openstack%2Fmagnum~894001,openstack/magnum,master,I26fea98c5820027fefe15bf9691423cd20b8df85,[doc] Add supported labels and OS for Bobcat,MERGED,2023-09-07 05:26:40.000000000,2023-09-07 06:36:16.000000000,5,0,"[{'_account_id': 8064, 'name': 'Jake Yip', 'email': 'jake.yip@ardc.edu.au', 'username': 'jake'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-07 05:26:40.000000000', 'files': ['doc/source/user/index.rst'], 'message': '[doc] Add supported labels and OS for Bobcat\n\nChange-Id: I26fea98c5820027fefe15bf9691423cd20b8df85\n'}]",894001,d3897a749a211f9d7ecfb9deb3ef8e62e8b92bc3,8064,Jake Yip,jake,0,"[doc] Add supported labels and OS for Bobcat

Change-Id: I26fea98c5820027fefe15bf9691423cd20b8df85
",['doc/source/user/index.rst']
openstack%2Fcinder~893324,openstack/cinder,master,Ic9a3db6bcba9e623f92a215b192cc8b703488631,Reference - Documentation correction,ABANDONED,2023-09-04 05:57:15.000000000,2023-09-07 06:13:17.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 31779, 'name': 'Jean Pierre Roquesalane', 'display_name': 'happystacker', 'email': 'jeanpierre.roquesalane@dell.com', 'username': 'happystacker'}, {'_account_id': 32029, 'name': 'likui', 'email': 'likui@yovole.com', 'username': 'likui'}, {'_account_id': 35063, 'name': 'Tony Saad', 'email': 'tony.saad@dell.com', 'username': 'tony-saad'}, {'_account_id': 35759, 'name': 'Yian Zong', 'display_name': 'Yian Zong', 'email': 'yian.zong@dell.com', 'username': 'yianzong'}]","[{'rev_nbr': 1, 'author': '2023-09-04 06:58:48.000000000', 'date': '2023-09-04 06:58:48.000000000'}, {'rev_nbr': 1, 'author': '2023-09-04 07:02:19.000000000', 'date': '2023-09-04 07:02:19.000000000'}, {'rev_nbr': 1, 'author': '2023-09-04 07:12:34.000000000', 'date': '2023-09-04 07:12:34.000000000'}, {'rev_nbr': 1, 'author': '2023-09-04 07:21:27.000000000', 'date': '2023-09-04 07:21:27.000000000'}, {'rev_nbr': 1, 'author': '2023-09-04 08:08:43.000000000', 'date': '2023-09-04 08:08:43.000000000'}, {'rev_nbr': 1, 'author': '2023-09-04 08:15:04.000000000', 'date': '2023-09-04 08:15:04.000000000'}, {'rev_nbr': 1, 'author': '2023-09-04 09:55:20.000000000', 'date': '2023-09-04 09:55:20.000000000'}, {'rev_nbr': 1, 'author': '2023-09-04 12:48:36.000000000', 'date': '2023-09-04 12:48:36.000000000'}, {'rev_nbr': 1, 'author': '2023-09-04 22:13:46.000000000', 'date': '2023-09-04 22:13:46.000000000'}]",0,"[{'number': 1, 'created': '2023-09-04 05:57:15.000000000', 'files': ['doc/source/reference/support-matrix.ini'], 'message': 'Reference - Documentation correction\n\nCorrect PowerStore NFS driver document to support extending volume\n\nChange-Id: Ic9a3db6bcba9e623f92a215b192cc8b703488631\n'}]",893324,c328eef18e976b3b009ea2211d1ac929b8edcaef,36132,Cuiye Liu,cuiyeliu,0,"Reference - Documentation correction

Correct PowerStore NFS driver document to support extending volume

Change-Id: Ic9a3db6bcba9e623f92a215b192cc8b703488631
",['doc/source/reference/support-matrix.ini']
openstack%2Fos-brick~890159,openstack/os-brick,master,I5fc02efc5e9657821a1335f1c1ac5fe036e9329a,Check paths before extending device,MERGED,2023-07-31 19:37:17.000000000,2023-09-07 05:17:00.000000000,95,21,"[{'_account_id': 5314, 'name': 'Brian Rosmaita', 'email': 'rosmaita.fossdev@gmail.com', 'username': 'brian-rosmaita'}, {'_account_id': 9535, 'name': 'Gorka Eguileor', 'email': 'geguileo@redhat.com', 'username': 'Gorka'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-07-31 21:18:15.000000000', 'date': '2023-07-31 21:18:15.000000000'}, {'rev_nbr': 1, 'author': '2023-07-31 21:21:52.000000000', 'date': '2023-07-31 21:21:52.000000000'}, {'rev_nbr': 1, 'author': '2023-07-31 21:29:39.000000000', 'date': '2023-07-31 21:29:39.000000000'}, {'rev_nbr': 1, 'author': '2023-07-31 21:44:07.000000000', 'date': '2023-07-31 21:44:07.000000000'}, {'rev_nbr': 1, 'author': '2023-07-31 22:25:22.000000000', 'date': '2023-07-31 22:25:22.000000000'}, {'rev_nbr': 1, 'author': '2023-07-31 23:18:33.000000000', 'date': '2023-07-31 23:18:33.000000000'}, {'rev_nbr': 1, 'author': '2023-07-31 23:37:52.000000000', 'date': '2023-07-31 23:37:52.000000000'}, {'rev_nbr': 1, 'author': '2023-07-31 23:42:50.000000000', 'date': '2023-07-31 23:42:50.000000000'}, {'rev_nbr': 1, 'author': '2023-08-01 05:04:48.000000000', 'date': '2023-08-01 05:04:48.000000000'}, {'rev_nbr': 1, 'author': '2023-08-01 06:22:17.000000000', 'date': '2023-08-01 06:22:17.000000000'}, {'rev_nbr': 3, 'author': '2023-08-22 10:08:28.000000000', 'date': '2023-08-22 10:08:28.000000000'}, {'rev_nbr': 3, 'author': '2023-08-22 11:40:23.000000000', 'date': '2023-08-22 11:40:23.000000000'}, {'rev_nbr': 2, 'author': '2023-08-22 11:46:22.000000000', 'date': '2023-08-22 11:46:22.000000000'}, {'rev_nbr': 3, 'author': '2023-08-22 12:27:03.000000000', 'date': '2023-08-22 12:27:03.000000000'}, {'rev_nbr': 3, 'author': '2023-08-22 12:40:17.000000000', 'date': '2023-08-22 12:40:17.000000000'}, {'rev_nbr': 3, 'author': '2023-08-22 13:35:40.000000000', 'date': '2023-08-22 13:35:40.000000000'}, {'rev_nbr': 3, 'author': '2023-08-22 16:27:39.000000000', 'date': '2023-08-22 16:27:39.000000000'}, {'rev_nbr': 3, 'author': '2023-08-22 18:45:06.000000000', 'date': '2023-08-22 18:45:06.000000000'}, {'rev_nbr': 3, 'author': '2023-08-23 02:12:11.000000000', 'date': '2023-08-23 02:12:11.000000000'}, {'rev_nbr': 4, 'author': '2023-08-23 12:47:10.000000000', 'date': '2023-08-23 12:47:10.000000000'}, {'rev_nbr': 4, 'author': '2023-08-23 15:18:31.000000000', 'date': '2023-08-23 15:18:31.000000000'}, {'rev_nbr': 4, 'author': '2023-08-23 19:17:16.000000000', 'date': '2023-08-23 19:17:16.000000000'}, {'rev_nbr': 4, 'author': '2023-08-23 19:34:27.000000000', 'date': '2023-08-23 19:34:27.000000000'}, {'rev_nbr': 4, 'author': '2023-08-23 20:29:07.000000000', 'date': '2023-08-23 20:29:07.000000000'}, {'rev_nbr': 4, 'author': '2023-08-23 21:16:45.000000000', 'date': '2023-08-23 21:16:45.000000000'}, {'rev_nbr': 4, 'author': '2023-08-23 21:21:43.000000000', 'date': '2023-08-23 21:21:43.000000000'}, {'rev_nbr': 4, 'author': '2023-08-24 05:09:50.000000000', 'date': '2023-08-24 05:09:50.000000000'}, {'rev_nbr': 4, 'author': '2023-08-24 05:52:54.000000000', 'date': '2023-08-24 05:52:54.000000000'}, {'rev_nbr': 4, 'author': '2023-08-24 07:38:01.000000000', 'date': '2023-08-24 07:38:01.000000000'}, {'rev_nbr': 4, 'author': '2023-08-24 07:39:00.000000000', 'date': '2023-08-24 07:39:00.000000000'}, {'rev_nbr': 4, 'author': '2023-08-24 10:04:35.000000000', 'date': '2023-08-24 10:04:35.000000000'}, {'rev_nbr': 5, 'author': '2023-08-24 12:16:57.000000000', 'date': '2023-08-24 12:16:57.000000000'}, {'rev_nbr': 5, 'author': '2023-08-24 13:45:10.000000000', 'date': '2023-08-24 13:45:10.000000000'}, {'rev_nbr': 5, 'author': '2023-08-24 14:52:27.000000000', 'date': '2023-08-24 14:52:27.000000000'}, {'rev_nbr': 5, 'author': '2023-08-24 16:05:47.000000000', 'date': '2023-08-24 16:05:47.000000000'}, {'rev_nbr': 5, 'author': '2023-08-24 16:29:01.000000000', 'date': '2023-08-24 16:29:01.000000000'}, {'rev_nbr': 5, 'author': '2023-08-24 17:36:36.000000000', 'date': '2023-08-24 17:36:36.000000000'}, {'rev_nbr': 5, 'author': '2023-08-24 20:26:36.000000000', 'date': '2023-08-24 20:26:36.000000000'}, {'rev_nbr': 5, 'author': '2023-08-24 20:54:53.000000000', 'date': '2023-08-24 20:54:53.000000000'}, {'rev_nbr': 5, 'author': '2023-08-24 21:59:53.000000000', 'date': '2023-08-24 21:59:53.000000000'}, {'rev_nbr': 5, 'author': '2023-08-24 22:16:19.000000000', 'date': '2023-08-24 22:16:19.000000000'}, {'rev_nbr': 5, 'author': '2023-08-25 02:02:13.000000000', 'date': '2023-08-25 02:02:13.000000000'}, {'rev_nbr': 5, 'author': '2023-08-25 04:22:52.000000000', 'date': '2023-08-25 04:22:52.000000000'}, {'rev_nbr': 5, 'author': '2023-08-25 13:23:18.000000000', 'date': '2023-08-25 13:23:18.000000000'}, {'rev_nbr': 5, 'author': '2023-08-25 14:41:09.000000000', 'date': '2023-08-25 14:41:09.000000000'}, {'rev_nbr': 5, 'author': '2023-08-25 15:56:50.000000000', 'date': '2023-08-25 15:56:50.000000000'}, {'rev_nbr': 5, 'author': '2023-08-25 16:06:43.000000000', 'date': '2023-08-25 16:06:43.000000000'}, {'rev_nbr': 5, 'author': '2023-08-25 16:40:28.000000000', 'date': '2023-08-25 16:40:28.000000000'}, {'rev_nbr': 5, 'author': '2023-09-07 05:17:00.000000000', 'date': '2023-09-07 05:17:00.000000000'}]",19,"[{'number': 5, 'created': '2023-08-24 11:40:59.000000000', 'files': ['os_brick/initiator/connectors/base.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/utils.py', 'os_brick/tests/test_utils.py', 'releasenotes/notes/fix-extend-multipath-a308d333061665fd.yaml'], 'message': ""Check paths before extending device\n\nIn a multipath enabled deployment, when we try to extend a volume\nand some paths are down, we fail to extend the multipath device and\nleave the environment in an inconsistent state. See LP Bug #2032177\nfor more details.\n\nTo handle this, we check if all the paths are up before trying to\nextend the device and fail fast if any path is down. This ensures\nwe don't partially extend some paths and leave the other to the\noriginal size leading to inconsistent state in the environment.\n\nCloses-Bug: 2032177\n\nChange-Id: I5fc02efc5e9657821a1335f1c1ac5fe036e9329a\n""}]",890159,1435059da5c3b66e83ec9108cd85d17471a8d747,27615,Rajat Dhasmana,whoami-rajat,0,"Check paths before extending device

In a multipath enabled deployment, when we try to extend a volume
and some paths are down, we fail to extend the multipath device and
leave the environment in an inconsistent state. See LP Bug #2032177
for more details.

To handle this, we check if all the paths are up before trying to
extend the device and fail fast if any path is down. This ensures
we don't partially extend some paths and leave the other to the
original size leading to inconsistent state in the environment.

Closes-Bug: 2032177

Change-Id: I5fc02efc5e9657821a1335f1c1ac5fe036e9329a
","['os_brick/initiator/connectors/base.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/utils.py', 'os_brick/tests/test_utils.py', 'releasenotes/notes/fix-extend-multipath-a308d333061665fd.yaml']"
openstack%2Fneutron~893602,openstack/neutron,master,I088cc4b260cccf6be2963d23a76a05f11cfccf2c,[UT] Adjust autogen_process_directives for alembic-1.12.0+,MERGED,2023-09-04 08:07:10.000000000,2023-09-07 05:05:20.000000000,5,2,"[{'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 9845, 'name': 'Arista CI', 'email': 'arista-openstack-test@aristanetworks.com', 'username': 'arista-test', 'tags': ['SERVICE_USER']}, {'_account_id': 11975, 'name': 'Slawek Kaplonski', 'email': 'skaplons@redhat.com', 'username': 'slaweq'}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,3,"[{'number': 2, 'created': '2023-09-04 08:42:44.000000000', 'files': ['neutron/tests/unit/db/test_migration.py'], 'message': ""[UT] Adjust autogen_process_directives for alembic-1.12.0+\n\nWith [1] included in alembic-1.12.0 the unit test\ntest_autogen_process_directives fails as it was\nexpecting 'type_' param in Autogenerated output.\nBut this is not included with 1.12.0 by default,\nthis patch enhances the regex to care only for relevant\nparameters.\n\n[1] https://github.com/sqlalchemy/alembic/commit/733197e\nCloses-Bug: #2034016\nChange-Id: I088cc4b260cccf6be2963d23a76a05f11cfccf2c\n""}]",893602,f7489abaf822574f6d8c01b72495788e07d756d3,13861,yatin,yatinkarel,0,"[UT] Adjust autogen_process_directives for alembic-1.12.0+

With [1] included in alembic-1.12.0 the unit test
test_autogen_process_directives fails as it was
expecting 'type_' param in Autogenerated output.
But this is not included with 1.12.0 by default,
this patch enhances the regex to care only for relevant
parameters.

[1] https://github.com/sqlalchemy/alembic/commit/733197e
Closes-Bug: #2034016
Change-Id: I088cc4b260cccf6be2963d23a76a05f11cfccf2c
",['neutron/tests/unit/db/test_migration.py']
openstack%2Fi18n~777864,openstack/i18n,master,Ica09d0348863aca9822eef7d9978a36b2ff3aac6,Sync translation_team.yaml with Zanata,MERGED,2021-02-27 15:07:11.000000000,2023-09-07 04:26:59.000000000,91,6,"[{'_account_id': 841, 'name': 'Akihiro Motoki', 'email': 'amotoki@gmail.com', 'username': 'amotoki'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 23279, 'name': 'Seongsoo Cho', 'display_name': 'Seongsoo Cho', 'email': 'ppiyakk2@printf.kr', 'username': 'seongsoo.cho'}]",,0,"[{'number': 3, 'created': '2023-09-02 06:18:08.000000000', 'files': ['tools/zanata/translation_team.yaml'], 'message': 'Sync translation_team.yaml with Zanata\n\nThis list is generated by running ""tox -e zanata-users-sync""\ncommand to sync translation members up-to-date similar as\nI5a309564fae7229fdc097715bdbb1ce85d109753\n\nChange-Id: Ica09d0348863aca9822eef7d9978a36b2ff3aac6\n'}]",777864,c9c82d4f3e36a1164b195d9f690c7e536cebbc9a,14482,Ian Y. Choi,ianychoi,0,"Sync translation_team.yaml with Zanata

This list is generated by running ""tox -e zanata-users-sync""
command to sync translation members up-to-date similar as
I5a309564fae7229fdc097715bdbb1ce85d109753

Change-Id: Ica09d0348863aca9822eef7d9978a36b2ff3aac6
",['tools/zanata/translation_team.yaml']
openstack%2Ftrove~893866,openstack/trove,master,Iab9d4849d50c01ff35ce159a988fde95593f7ebf,Fix Zuul warnings with regexps,MERGED,2023-09-06 11:56:36.000000000,2023-09-07 04:12:46.000000000,6,4,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 26285, 'name': 'wu.chunyang', 'email': 'wchy1001@gmail.com', 'username': 'wu.chunyang'}]",,2,"[{'number': 2, 'created': '2023-09-06 12:05:05.000000000', 'files': ['zuul.d/projects.yaml'], 'message': 'Fix Zuul warnings with regexps\n\nzuul now reports warnings when using perl-style regexp:\n| The RE2 syntax error is: invalid perl operator: (?!\nfor\n| branches: ^(?!stable)\n\nThis commit fixes it by using the correct RE2 syntax\n\nmore details: https://zuul-ci.org/docs/zuul/latest/project-config.html#regular-expressions\n\nChange-Id: Iab9d4849d50c01ff35ce159a988fde95593f7ebf\n'}]",893866,e4079989db09bd2545735559c32a5195e532bf9f,26285,wu.chunyang,wu.chunyang,0,"Fix Zuul warnings with regexps

zuul now reports warnings when using perl-style regexp:
| The RE2 syntax error is: invalid perl operator: (?!
for
| branches: ^(?!stable)

This commit fixes it by using the correct RE2 syntax

more details: https://zuul-ci.org/docs/zuul/latest/project-config.html#regular-expressions

Change-Id: Iab9d4849d50c01ff35ce159a988fde95593f7ebf
",['zuul.d/projects.yaml']
openstack%2Ftrove~893984,openstack/trove,master,I6100ef09901259e2189b3e327e5d4875a37f2721,Fix bindep.txt for python 3.11 job(Debian Bookworm),MERGED,2023-09-06 22:02:49.000000000,2023-09-07 04:11:45.000000000,3,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 26285, 'name': 'wu.chunyang', 'email': 'wchy1001@gmail.com', 'username': 'wu.chunyang'}]",,0,"[{'number': 1, 'created': '2023-09-06 22:02:49.000000000', 'files': ['bindep.txt'], 'message': 'Fix bindep.txt for python 3.11 job(Debian Bookworm)\n\nPython 3.11 job run on Debian Bookworm which does\nnot the mysql pkg for example, mariadb-server, libmysqlclient-dev\ninstead they have mariadb. Updating bindep.txt file\nto adjust the pkgs as per Debian bookworm.\n\nChange-Id: I6100ef09901259e2189b3e327e5d4875a37f2721\n'}]",893984,2bd3ead04948d381ae1cba1de2dabe0daed98cab,8556,Ghanshyam,ghanshyam,0,"Fix bindep.txt for python 3.11 job(Debian Bookworm)

Python 3.11 job run on Debian Bookworm which does
not the mysql pkg for example, mariadb-server, libmysqlclient-dev
instead they have mariadb. Updating bindep.txt file
to adjust the pkgs as per Debian bookworm.

Change-Id: I6100ef09901259e2189b3e327e5d4875a37f2721
",['bindep.txt']
openstack%2Felection~893591,openstack/election,master,I778ee2fcbcdd85599db3ec53c68fc1e6563d92df,Add template for CIVS opt-in,MERGED,2023-09-02 18:00:24.000000000,2023-09-07 03:59:58.000000000,83,20,"[{'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 12898, 'name': 'Tony Breeds', 'email': 'tony@bakeyournoodle.com', 'username': 'tonyb'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,14,"[{'number': 6, 'created': '2023-09-06 21:46:21.000000000', 'files': ['openstack_election/templates/tc_voting_optin_civs.j2', 'openstack_election/templates/combined_voting_optin_civs.j2', 'README.rst', 'openstack_election/templates/tc_voting_kickoff.j2', 'openstack_election/cmds/template_emails.py', 'openstack_election/templates/ptl_voting_kickoff.j2', 'openstack_election/templates/ptl_voting_optin_civs.j2', 'openstack_election/templates/combined_voting_kickoff.j2'], 'message': 'Add template for CIVS opt-in\n\nCIVS opt-in needs to be announced before voting kickoff so that\nelectorates participate in voting.\nCreating template named: ""voting_optin_civs"".\n\nChange-Id: I778ee2fcbcdd85599db3ec53c68fc1e6563d92df\n'}]",893591,fb6a674adbad5332a0758a3224775455b9489606,14482,Ian Y. Choi,ianychoi,0,"Add template for CIVS opt-in

CIVS opt-in needs to be announced before voting kickoff so that
electorates participate in voting.
Creating template named: ""voting_optin_civs"".

Change-Id: I778ee2fcbcdd85599db3ec53c68fc1e6563d92df
","['openstack_election/templates/tc_voting_optin_civs.j2', 'openstack_election/templates/combined_voting_optin_civs.j2', 'README.rst', 'openstack_election/templates/tc_voting_kickoff.j2', 'openstack_election/cmds/template_emails.py', 'openstack_election/templates/ptl_voting_kickoff.j2', 'openstack_election/templates/ptl_voting_optin_civs.j2', 'openstack_election/templates/combined_voting_kickoff.j2']"
openstack%2Fsahara-specs~885436,openstack/sahara-specs,master,Iac38495c4263b7649132019e1b7c7cdf6fa6d53b,Update various links in the documentation,MERGED,2023-06-08 00:24:26.000000000,2023-09-07 03:08:58.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29423, 'name': 'zhouxinyong', 'email': 'zhouxinyong@inspur.com', 'username': 'zhouxinyong'}]",,10,"[{'number': 1, 'created': '2023-06-08 00:24:26.000000000', 'files': ['specs/mitaka/improved-secret-storage.rst'], 'message': 'Update various links in the documentation\n\nChange-Id: Iac38495c4263b7649132019e1b7c7cdf6fa6d53b\n'}]",885436,28e7ca56ec228a5fcaf43d0cfac9c167cda03f02,29423,zhouxinyong,zhouxinyong,0,"Update various links in the documentation

Change-Id: Iac38495c4263b7649132019e1b7c7cdf6fa6d53b
",['specs/mitaka/improved-secret-storage.rst']
openstack%2Fi18n~893581,openstack/i18n,master,I3bb050b8abf3b32929eb0379eb8ac1bb84951803,Update tox.ini to work with tox 4,MERGED,2023-09-02 02:36:51.000000000,2023-09-07 02:48:37.000000000,5,3,"[{'_account_id': 841, 'name': 'Akihiro Motoki', 'email': 'amotoki@gmail.com', 'username': 'amotoki'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 23279, 'name': 'Seongsoo Cho', 'display_name': 'Seongsoo Cho', 'email': 'ppiyakk2@printf.kr', 'username': 'seongsoo.cho'}]",,1,"[{'number': 1, 'created': '2023-09-02 02:36:51.000000000', 'files': ['tox.ini'], 'message': 'Update tox.ini to work with tox 4\n\nTox 4 deprecated whitelist_externals.\nReplace whitelist_externals with allowlist_externals.\n\nAlso, add bash to allowlist_externals on generatepot tox env.\n\nRelated-Bug: #2000399\nChange-Id: I3bb050b8abf3b32929eb0379eb8ac1bb84951803\n'}]",893581,9b939e1b404a96a70961b6e1099e5f0b291af4da,14482,Ian Y. Choi,ianychoi,0,"Update tox.ini to work with tox 4

Tox 4 deprecated whitelist_externals.
Replace whitelist_externals with allowlist_externals.

Also, add bash to allowlist_externals on generatepot tox env.

Related-Bug: #2000399
Change-Id: I3bb050b8abf3b32929eb0379eb8ac1bb84951803
",['tox.ini']
openstack%2Fsahara-specs~893841,openstack/sahara-specs,master,Iff615b47c1ae2ea38fb3186ee0f002fe78f49dc9,Adapt to tox4  This fixes the several problems/errors caused by tox 4.,MERGED,2023-09-06 08:33:47.000000000,2023-09-07 01:58:59.000000000,15,4,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29423, 'name': 'zhouxinyong', 'email': 'zhouxinyong@inspur.com', 'username': 'zhouxinyong'}]",,1,"[{'number': 8, 'created': '2023-09-07 01:29:23.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'message': 'Adapt to tox4  This fixes the several problems/errors caused by tox 4.\n\nChange-Id: Iff615b47c1ae2ea38fb3186ee0f002fe78f49dc9\n'}]",893841,e80a141dd96a74156c09762430d46004f36f5109,36096,guolimin,guolimin.lc,0,"Adapt to tox4  This fixes the several problems/errors caused by tox 4.

Change-Id: Iff615b47c1ae2ea38fb3186ee0f002fe78f49dc9
","['doc/requirements.txt', 'tox.ini']"
openstack%2Fswift~893577,openstack/swift,master,I7ebfd557b9c8ec25498c628fcf0695cd52ad78d6,Improve FakeSwift Backend-Ignore-Range support,MERGED,2023-09-02 00:16:50.000000000,2023-09-06 21:27:40.000000000,245,72,"[{'_account_id': 1179, 'name': 'Clay Gerrard', 'email': 'clay.gerrard@gmail.com', 'username': 'clay-gerrard'}, {'_account_id': 7847, 'name': 'Alistair Coles', 'email': 'alistairncoles@gmail.com', 'username': 'acoles'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,14,"[{'number': 3, 'created': '2023-09-06 12:08:13.000000000', 'files': ['swift/obj/server.py', 'test/unit/common/test_request_helpers.py', 'test/unit/common/middleware/test_slo.py', 'test/unit/common/middleware/test_helpers.py', 'swift/common/request_helpers.py', 'test/unit/common/middleware/helpers.py'], 'message': ""Improve FakeSwift Backend-Ignore-Range support\n\nIn keeping with the trend as of late, this change makes FakeSwift behave\nmore reliably like a real Swift backend.\n\nSwift backend object server's grew support for ignoring Range request\nheaders when fetching SLO manifests in Jan-2020, and FakeSwift learned\nhow to mimic the real behavior in Jul-2022.  This change unifies the\nimplementation details with a request_helper and consolidates the\nbehavior in FakeSwift.  It also makes the modern object-server behavior\nthe default.\n\nBetween 2020 and 2022 there was arguably some utility defaulting to\nlegacy behavior, but in 2023 as we endeavor to refactor the SLO\nimplementation and extend it's tests: a reliable FakeSwift is paramount.\n\nSince most of the existing tests for SLO's behavior responding to Range\nrequests did not reliably assert behavior across new and old swift this\nchange selects the most relevant tests to legacy behavior and has them\nopt-in to can_ignore_range = False, while the others merely have their\nbackend request asserts cleaned-up to match the backend request pattern\nyou would expect in a production environment that's upgraded in the last\n3 years.  Additional technical investment may be required to ensure\nolder clusters can upgrade proxies before object servers w/o tracebacks\nuntil the upgrade finishes; however it appears the existing code is\nsufficiently robust despite the lack of explicit multi-inheritance\ntesting like was done for the legacy manifest format change in Nov-2016\n(N.B. unlike rolling upgrade bugs, data is forever).\n\nRelated-Change-Id: I4ff2a178d0456e7e37d561109ef57dd0d92cbd4e\nRelated-Change-Id: If3861e5b9c4f17ab3b82ea16673ddb29d07820a1\nRelated-Change-Id: Ia6ad32354105515560b005cea750aa64a88c96f9\n\nChange-Id: I7ebfd557b9c8ec25498c628fcf0695cd52ad78d6\n""}]",893577,451ae26a8b7115a202b856da220fc639b5fabdea,1179,Clay Gerrard,clay-gerrard,0,"Improve FakeSwift Backend-Ignore-Range support

In keeping with the trend as of late, this change makes FakeSwift behave
more reliably like a real Swift backend.

Swift backend object server's grew support for ignoring Range request
headers when fetching SLO manifests in Jan-2020, and FakeSwift learned
how to mimic the real behavior in Jul-2022.  This change unifies the
implementation details with a request_helper and consolidates the
behavior in FakeSwift.  It also makes the modern object-server behavior
the default.

Between 2020 and 2022 there was arguably some utility defaulting to
legacy behavior, but in 2023 as we endeavor to refactor the SLO
implementation and extend it's tests: a reliable FakeSwift is paramount.

Since most of the existing tests for SLO's behavior responding to Range
requests did not reliably assert behavior across new and old swift this
change selects the most relevant tests to legacy behavior and has them
opt-in to can_ignore_range = False, while the others merely have their
backend request asserts cleaned-up to match the backend request pattern
you would expect in a production environment that's upgraded in the last
3 years.  Additional technical investment may be required to ensure
older clusters can upgrade proxies before object servers w/o tracebacks
until the upgrade finishes; however it appears the existing code is
sufficiently robust despite the lack of explicit multi-inheritance
testing like was done for the legacy manifest format change in Nov-2016
(N.B. unlike rolling upgrade bugs, data is forever).

Related-Change-Id: I4ff2a178d0456e7e37d561109ef57dd0d92cbd4e
Related-Change-Id: If3861e5b9c4f17ab3b82ea16673ddb29d07820a1
Related-Change-Id: Ia6ad32354105515560b005cea750aa64a88c96f9

Change-Id: I7ebfd557b9c8ec25498c628fcf0695cd52ad78d6
","['swift/obj/server.py', 'test/unit/common/test_request_helpers.py', 'test/unit/common/middleware/test_slo.py', 'test/unit/common/middleware/test_helpers.py', 'swift/common/request_helpers.py', 'test/unit/common/middleware/helpers.py']"
openstack%2Fplacement~893821,openstack/placement,master,Ib47d5e77b14353402fad06e7adc04f8ee8a7e94c,Fix bindep.txt for python 3.11 job(Debian Bookworm),MERGED,2023-09-06 02:48:12.000000000,2023-09-06 21:27:29.000000000,5,3,"[{'_account_id': 4393, 'name': 'Dan Smith', 'email': 'dms@danplanet.com', 'username': 'danms'}, {'_account_id': 9816, 'name': 'Takashi Kajinami', 'email': 'kajinamit@oss.nttdata.com', 'username': 'kajinamit'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 2, 'created': '2023-09-06 17:50:43.000000000', 'files': ['bindep.txt'], 'message': 'Fix bindep.txt for python 3.11 job(Debian Bookworm)\n\nPython 3.11 job run on Debian Bookworm which does\nnot the mysql pkg for example, libmysqlclient-dev\ninstead they have mariadb. Updating bindep.txt file\nto adjust the pkgs as per Debian bookworm.\n\nChange-Id: Ib47d5e77b14353402fad06e7adc04f8ee8a7e94c\n'}]",893821,5ce841588b4bfd3bc17e5df70dba46886492a046,8556,Ghanshyam,ghanshyam,0,"Fix bindep.txt for python 3.11 job(Debian Bookworm)

Python 3.11 job run on Debian Bookworm which does
not the mysql pkg for example, libmysqlclient-dev
instead they have mariadb. Updating bindep.txt file
to adjust the pkgs as per Debian bookworm.

Change-Id: Ib47d5e77b14353402fad06e7adc04f8ee8a7e94c
",['bindep.txt']
openstack%2Fopenstack-helm-infra~893965,openstack/openstack-helm-infra,master,Ic98a5824a319e4835aa3df2a8e68a1daef97392c,Use Ceph Reef repo while deploying K8s,MERGED,2023-09-06 16:18:40.000000000,2023-09-06 21:08:09.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29974, 'name': 'Stephen Taylor', 'email': 'stephen.taylor.1@att.com', 'username': 'st053q'}]",,1,"[{'number': 1, 'created': '2023-09-06 16:18:40.000000000', 'files': ['tools/gate/deploy-k8s.sh'], 'message': 'Use Ceph Reef repo while deploying K8s\n\nReef is compatible with Focal and Jammy\n\nChange-Id: Ic98a5824a319e4835aa3df2a8e68a1daef97392c\n'}]",893965,b0d659f9b22bd002ea745f2e67820c452af436fd,3009,Vladimir Kozhukalov,kozhukalov,0,"Use Ceph Reef repo while deploying K8s

Reef is compatible with Focal and Jammy

Change-Id: Ic98a5824a319e4835aa3df2a8e68a1daef97392c
",['tools/gate/deploy-k8s.sh']
openstack%2Fkolla~893722,openstack/kolla,master,I22b39914b58ead7fa7addb1a1265353567d92476,Use latest tagged version from gnocchi again,MERGED,2023-09-05 11:37:58.000000000,2023-09-06 19:57:36.000000000,1,1,"[{'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 23084, 'name': 'Bartosz Bezak', 'email': 'bartosz@stackhpc.com', 'username': 'b.bezak'}, {'_account_id': 24072, 'name': 'Marcin Juszkiewicz', 'email': 'mjuszkiewicz@redhat.com', 'username': 'hrw'}, {'_account_id': 27339, 'name': 'Michal Arbet', 'email': 'michal.arbet@ultimum.io', 'username': 'michalarbet'}, {'_account_id': 32553, 'name': 'Sven Kieske', 'email': 'sven_oss@posteo.de', 'username': 'skieske'}]",,3,"[{'number': 1, 'created': '2023-09-05 11:37:58.000000000', 'files': ['kolla/common/sources.py'], 'message': 'Use latest tagged version from gnocchi again\n\nIn [0] we switched to using gnocchi from master, since we were needing a\nfix that had not been released yet. Now gnocchi has release 4.6.0 with\nthe fix, switch back to using that tagged version.\n\n[0] I3ca4e10508c26b752412789502ceb917ecb4dbeb\n\nChange-Id: I22b39914b58ead7fa7addb1a1265353567d92476\n'}]",893722,d16f18299879b8bd986954dca979e1d9ddd530a2,13252,Dr. Jens Harbott,jrosenboom,0,"Use latest tagged version from gnocchi again

In [0] we switched to using gnocchi from master, since we were needing a
fix that had not been released yet. Now gnocchi has release 4.6.0 with
the fix, switch back to using that tagged version.

[0] I3ca4e10508c26b752412789502ceb917ecb4dbeb

Change-Id: I22b39914b58ead7fa7addb1a1265353567d92476
",['kolla/common/sources.py']
openstack%2Fkayobe~884822,openstack/kayobe,stable/2023.1,I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3,Pass through kolla inventories as is,MERGED,2023-06-01 08:21:48.000000000,2023-09-06 18:35:55.000000000,304,51,"[{'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 14826, 'name': 'Mark Goddard', 'email': 'markgoddard86@gmail.com', 'username': 'mgoddard'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 23084, 'name': 'Bartosz Bezak', 'email': 'bartosz@stackhpc.com', 'username': 'b.bezak'}]",,1,"[{'number': 1, 'created': '2023-06-01 08:21:48.000000000', 'files': ['kayobe/tests/unit/test_kolla_ansible.py', 'kayobe/kolla_ansible.py', 'releasenotes/notes/adds-support-for-multiple-kolla-inventories-65fd7a4922c639c5.yaml', 'ansible/kolla-ansible.yml', 'doc/source/configuration/reference/kolla-ansible.rst', 'doc/source/control-plane-service-placement.rst', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'ansible/roles/kolla-ansible/defaults/main.yml', 'doc/source/multiple-environments.rst', 'kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py', 'ansible/roles/kolla-ansible/tasks/config.yml', 'ansible/roles/kolla-ansible/vars/Debian.yml', 'ansible/roles/kolla-ansible/vars/RedHat.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/roles/kolla-ansible/vars/main.yml'], 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible and\nlet ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n(cherry picked from commit c75a32e72fa2d31e494b83bd406e42040e8de15d)\n'}]",884822,4c09f11b1d4481cff8f129db0f273427ecf9bd04,14826,Mark Goddard,mgoddard,0,"Pass through kolla inventories as is

Previously, we only supported passing through group_vars. Passing
through the inventory as is allows you to use other features of ansible
inventory such as host vars. It also simplifies the logic of merging
multiple inventories as we can just pass the inventory to ansible and
let ansible take care of the rest. This is useful for the multiple
environments feature.

Change-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3
Story: 2002009
Task: 42910
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863
(cherry picked from commit c75a32e72fa2d31e494b83bd406e42040e8de15d)
","['kayobe/tests/unit/test_kolla_ansible.py', 'kayobe/kolla_ansible.py', 'releasenotes/notes/adds-support-for-multiple-kolla-inventories-65fd7a4922c639c5.yaml', 'ansible/kolla-ansible.yml', 'doc/source/configuration/reference/kolla-ansible.rst', 'doc/source/control-plane-service-placement.rst', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'ansible/roles/kolla-ansible/defaults/main.yml', 'doc/source/multiple-environments.rst', 'kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py', 'ansible/roles/kolla-ansible/tasks/config.yml', 'ansible/roles/kolla-ansible/vars/Debian.yml', 'ansible/roles/kolla-ansible/vars/RedHat.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/roles/kolla-ansible/vars/main.yml']"
openstack%2Fpython-novaclient~893822,openstack/python-novaclient,master,I1cc279d6ec4a0b48f43c8a29600e972fb2d73f6e,DNM testing python 3.11,ABANDONED,2023-09-06 02:49:51.000000000,2023-09-06 17:40:27.000000000,1,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-06 02:49:51.000000000', 'files': ['.zuul.yaml'], 'message': 'DNM testing python 3.11\n\nChange-Id: I1cc279d6ec4a0b48f43c8a29600e972fb2d73f6e\n'}]",893822,4798999f9493b33f38930a0a8ac8dbf5c8929fa8,8556,Ghanshyam,ghanshyam,0,"DNM testing python 3.11

Change-Id: I1cc279d6ec4a0b48f43c8a29600e972fb2d73f6e
",['.zuul.yaml']
openstack%2Fos-resource-classes~893820,openstack/os-resource-classes,master,I3c34e173d43fa065bcaa6a7659e7c29edc4cb0f6,DNM testing python 3.11,ABANDONED,2023-09-06 02:39:09.000000000,2023-09-06 17:40:13.000000000,1,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-06 02:39:09.000000000', 'files': ['.zuul.yaml'], 'message': 'DNM testing python 3.11\n\nChange-Id: I3c34e173d43fa065bcaa6a7659e7c29edc4cb0f6\n'}]",893820,6b8edf2c66c4a15191511bdc60026f28930cf1c7,8556,Ghanshyam,ghanshyam,0,"DNM testing python 3.11

Change-Id: I3c34e173d43fa065bcaa6a7659e7c29edc4cb0f6
",['.zuul.yaml']
openstack%2Fos-traits~893819,openstack/os-traits,master,I14b4b1b963d0e41d416d35094e5887c70126318f,DNM: testing python 3.11,ABANDONED,2023-09-06 02:37:21.000000000,2023-09-06 17:40:02.000000000,1,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-06 02:37:21.000000000', 'files': ['.zuul.yaml'], 'message': 'DNM: testing python 3.11\n\nChange-Id: I14b4b1b963d0e41d416d35094e5887c70126318f\n'}]",893819,13ddda97696525603723cf61518de383aad87cbb,8556,Ghanshyam,ghanshyam,0,"DNM: testing python 3.11

Change-Id: I14b4b1b963d0e41d416d35094e5887c70126318f
",['.zuul.yaml']
openstack%2Fosc-placement~891795,openstack/osc-placement,master,I6c574b23b118a0a2c0e49887423412120e15de23,DNM: dummy change to test gate health,ABANDONED,2023-08-17 14:58:53.000000000,2023-09-06 17:39:42.000000000,1,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2023-08-17 14:58:53.000000000', 'files': ['osc_placement/version.py'], 'message': 'DNM: dummy change to test gate health\n\nChange-Id: I6c574b23b118a0a2c0e49887423412120e15de23\n'}]",891795,0ccffc94029dd1c0b41f1a63b1f19be7f98c7487,17685,Elod Illes,elod.illes,0,"DNM: dummy change to test gate health

Change-Id: I6c574b23b118a0a2c0e49887423412120e15de23
",['osc_placement/version.py']
openstack%2Fblazar-dashboard~893940,openstack/blazar-dashboard,stable/pike,Id4bf99ee4925d10298daf7202380bec667b94eab,Replace zuul config by noop jobs,MERGED,2023-09-06 16:07:49.000000000,2023-09-06 17:31:19.000000000,1,5,"[{'_account_id': 15197, 'name': 'Pierre Riteau', 'email': 'pierre@stackhpc.com', 'username': 'priteau', 'status': 'StackHPC'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-06 16:07:49.000000000', 'files': ['.zuul.yaml'], 'message': 'Replace zuul config by noop jobs\n\nSome templates are to be cleaned up and likely most of the jobs are\nfailing anyway like they did in blazar.\n\nChange-Id: Id4bf99ee4925d10298daf7202380bec667b94eab\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\n'}]",893940,6369f8ae06208cb9803517ffc58ca170ee11492a,13252,Dr. Jens Harbott,jrosenboom,0,"Replace zuul config by noop jobs

Some templates are to be cleaned up and likely most of the jobs are
failing anyway like they did in blazar.

Change-Id: Id4bf99ee4925d10298daf7202380bec667b94eab
Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
",['.zuul.yaml']
openstack%2Fbifrost~893755,openstack/bifrost,stable/xena,Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235,Remove Fedora from the CI,MERGED,2023-09-05 15:58:48.000000000,2023-09-06 17:07:06.000000000,6,18,"[{'_account_id': 15519, 'name': 'Iury Gregory Melo Ferreira', 'display_name': 'Iury Gregory', 'email': 'iurygregory@gmail.com', 'username': 'iurygregory'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-05 15:58:48.000000000', 'files': ['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml'], 'message': 'Remove Fedora from the CI\n\nIt is currently broken since the only supported version (36) is EOL.\nThe OpenDev infrastructure will stop supporting Fedora:\nhttps://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/\n\nWhile master branch had a new CI job added to cover netboot,\nthis change is not being carried back on stable branches in\norder to minimize change complexity while focusing on remvoal\nof Fedora from CI.\n\nWhen backporting to Zed, dropped docs changes.\n\nChange-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235\n(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)\n(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)\n(cherry picked from commit 9de69557f2428e2cfc82cef737b5a540fc91c017)\n'}]",893755,14f1836f86b165ba1cbfb0208bb1fda854dcbe08,11655,Julia Kreger,jkreger,0,"Remove Fedora from the CI

It is currently broken since the only supported version (36) is EOL.
The OpenDev infrastructure will stop supporting Fedora:
https://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/

While master branch had a new CI job added to cover netboot,
this change is not being carried back on stable branches in
order to minimize change complexity while focusing on remvoal
of Fedora from CI.

When backporting to Zed, dropped docs changes.

Change-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235
(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)
(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)
(cherry picked from commit 9de69557f2428e2cfc82cef737b5a540fc91c017)
","['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml']"
openstack%2Fbifrost~893753,openstack/bifrost,stable/zed,Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235,Remove Fedora from the CI,MERGED,2023-09-05 15:50:50.000000000,2023-09-06 17:06:43.000000000,6,17,"[{'_account_id': 15519, 'name': 'Iury Gregory Melo Ferreira', 'display_name': 'Iury Gregory', 'email': 'iurygregory@gmail.com', 'username': 'iurygregory'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-09-05 15:55:56.000000000', 'files': ['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml'], 'message': 'Remove Fedora from the CI\n\nIt is currently broken since the only supported version (36) is EOL.\nThe OpenDev infrastructure will stop supporting Fedora:\nhttps://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/\n\nWhile master branch had a new CI job added to cover netboot,\nthis change is not being carried back on stable branches in\norder to minimize change complexity while focusing on remvoal\nof Fedora from CI.\n\nWhen backporting to Zed, dropped docs changes.\n\nChange-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235\n(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)\n(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)\n'}]",893753,9de69557f2428e2cfc82cef737b5a540fc91c017,11655,Julia Kreger,jkreger,0,"Remove Fedora from the CI

It is currently broken since the only supported version (36) is EOL.
The OpenDev infrastructure will stop supporting Fedora:
https://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/

While master branch had a new CI job added to cover netboot,
this change is not being carried back on stable branches in
order to minimize change complexity while focusing on remvoal
of Fedora from CI.

When backporting to Zed, dropped docs changes.

Change-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235
(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)
(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)
","['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml']"
openstack%2Fproject-config~893961,openstack/project-config,master,I8c2a91cc43a0dbc633857a2733d66dc935ce32fa,Set fedora labels min-ready to 0,MERGED,2023-09-06 16:08:03.000000000,2023-09-06 16:32:48.000000000,2,2,"[{'_account_id': 5263, 'name': 'Jeremy Stanley', 'display_name': 'fungi', 'email': 'fungi@yuggoth.org', 'username': 'fungi', 'status': 'missing, presumed fed'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-06 16:08:03.000000000', 'files': ['nodepool/nl01.opendev.org.yaml'], 'message': 'Set fedora labels min-ready to 0\n\nIn preparation for fedora node label removal we set min-ready to 0. This\nis the first step to removing the images entirely.\n\nChange-Id: I8c2a91cc43a0dbc633857a2733d66dc935ce32fa\n'}]",893961,8d32d45da269b44f6769440d098940e40b6c04e6,4146,Clark Boylan,cboylan,0,"Set fedora labels min-ready to 0

In preparation for fedora node label removal we set min-ready to 0. This
is the first step to removing the images entirely.

Change-Id: I8c2a91cc43a0dbc633857a2733d66dc935ce32fa
",['nodepool/nl01.opendev.org.yaml']
openstack%2Fcharm-openstack-hypervisor~893937,openstack/charm-openstack-hypervisor,main,Ia7fb555abafcc59fea44c8eb006c8231ac03d31b,Add missing requirements,MERGED,2023-09-06 15:38:22.000000000,2023-09-06 16:22:27.000000000,2,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 35761, 'name': 'Guillaume Boutry', 'display_name': 'gboutry', 'email': 'guillaume.boutry@canonical.com', 'username': 'gboutry'}]",,0,"[{'number': 1, 'created': '2023-09-06 15:38:22.000000000', 'files': ['requirements.txt'], 'message': 'Add missing requirements\n\nCommit 43b9dc90 added the grafana lib which has cosl and\npydantic dependencies. This change adds those deps to\nthe requirements file.\n\nChange-Id: Ia7fb555abafcc59fea44c8eb006c8231ac03d31b\nSigned-off-by: Liam Young <liam.young@canonical.com>\n'}]",893937,dd03fbf47ea728a03e4db962ba9a5fa4de0cd454,12549,gnuoy,gnuoy,0,"Add missing requirements

Commit 43b9dc90 added the grafana lib which has cosl and
pydantic dependencies. This change adds those deps to
the requirements file.

Change-Id: Ia7fb555abafcc59fea44c8eb006c8231ac03d31b
Signed-off-by: Liam Young <liam.young@canonical.com>
",['requirements.txt']
openstack%2Fbifrost~893756,openstack/bifrost,stable/wallaby,Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235,Remove Fedora from the CI,MERGED,2023-09-05 15:59:22.000000000,2023-09-06 16:04:37.000000000,6,18,"[{'_account_id': 15519, 'name': 'Iury Gregory Melo Ferreira', 'display_name': 'Iury Gregory', 'email': 'iurygregory@gmail.com', 'username': 'iurygregory'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-05 15:59:22.000000000', 'files': ['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml'], 'message': 'Remove Fedora from the CI\n\nIt is currently broken since the only supported version (36) is EOL.\nThe OpenDev infrastructure will stop supporting Fedora:\nhttps://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/\n\nWhile master branch had a new CI job added to cover netboot,\nthis change is not being carried back on stable branches in\norder to minimize change complexity while focusing on remvoal\nof Fedora from CI.\n\nWhen backporting to Zed, dropped docs changes.\n\nChange-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235\n(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)\n(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)\n(cherry picked from commit 9de69557f2428e2cfc82cef737b5a540fc91c017)\n(cherry picked from commit 14f1836f86b165ba1cbfb0208bb1fda854dcbe08)\n'}]",893756,80db3cd8a950548b44bee6662b74a92cb9a1e39f,11655,Julia Kreger,jkreger,0,"Remove Fedora from the CI

It is currently broken since the only supported version (36) is EOL.
The OpenDev infrastructure will stop supporting Fedora:
https://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/

While master branch had a new CI job added to cover netboot,
this change is not being carried back on stable branches in
order to minimize change complexity while focusing on remvoal
of Fedora from CI.

When backporting to Zed, dropped docs changes.

Change-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235
(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)
(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)
(cherry picked from commit 9de69557f2428e2cfc82cef737b5a540fc91c017)
(cherry picked from commit 14f1836f86b165ba1cbfb0208bb1fda854dcbe08)
","['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml']"
openstack%2Fkeystone~893549,openstack/keystone,stable/wallaby,I8d0bb2438b23227b5a66b94af6f8e198084fcd8d,Force algo specific maximum length & Properly trimm bcrypt hashed passwords,MERGED,2023-09-04 09:00:55.000000000,2023-09-06 15:58:48.000000000,64,11,"[{'_account_id': 7414, 'name': 'David Wilde', 'email': 'dwilde@redhat.com', 'username': 'd34dh0r53'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2023-09-04 09:00:55.000000000', 'files': ['keystone/tests/unit/common/test_utils.py', 'keystone/conf/identity.py', 'releasenotes/notes/max-password-length-truncation-and-warning-bd69090315ec18a7.yaml', 'releasenotes/notes/bcrypt_truncation_fix-674dc5d7f1e776f2.yaml', 'keystone/common/password_hashing.py', 'tox.ini'], 'message': 'Force algo specific maximum length & Properly trimm bcrypt hashed passwords\n\nThis is the squash of 2 patches related to bcrypt hashing settings.\n\n1.\nForce algo specific maximum length\n\nThe bcrypt algorithm that we use for password hashing silently\nlength limits the size of the password that is hashed giving the\nuser a false sense of security [0].  This patch adds a check\nin the verify_length_and_trunc_password function for the hash in\nuse and updates the max_length accordingly, this will override\nthe configured value and log a warning if the password is truncated.\n\nConflicts:\n* tox.ini\n\n[0]: https://passlib.readthedocs.io/en/stable/lib/passlib.hash.bcrypt.html#security-issues\n\n2.\nProperly trimm bcrypt hashed passwords\n\nbcrypt  hashing algorythm has a limitation on length of passwords it\ncan hash on 72 bytes. In [1] a password trimm to 54 symbols has been\nimplemented, which resulted in password being invalidated after the\nkeystone upgrade, since passwords are trimmed differently by bcrypt\nitself, as well as len(str()) is not always equal to\nlen(str().encode()) as trimming should be done based on bytes and not\nstring itself.\n\nWith the change we return a byte object from\n`verify_length_and_trunc_password`, so it does not need to\nbe encoded afterwards, since we need to strip based on bytes\nrather then on length of the string.\n\n[1] https://review.opendev.org/c/openstack/keystone/+/828595\n\nCloses-Bug: #2028809\nRelated-Bug: #1901891\noriginal change id: Iea95a3c2df041a0046647b3d3dadead1a6d054d1\n(cherry picked from commit 6730c761d18aa547998f2add833c13f45f257fe7)\n(cherry picked from commit 65f1fb6b4a54386f473369b05c8d10d77fb6710c)\n\nCloses-bug: #1901891\nChange-Id: I8d0bb2438b23227b5a66b94af6f8e198084fcd8d\n(cherry picked from commit 3288af579de8ee312c36fb78ac9309ce8c554827)\n(cherry picked from commit 1b3536a7a4d72e7f7b95cc1874a450accad3ec8d)\n(cherry picked from commit 7852ca24a4eb86cb271ef7ec5e07f8f9c97f926d)\n(cherry picked from commit a38ba2a70cdf7e72c0f17bb80d895ccc1e39a010)\n'}]",893549,11e1258ccda688fd6f1414ac664c50df56ca2989,8313,Lajos Katona,elajkat,0,"Force algo specific maximum length & Properly trimm bcrypt hashed passwords

This is the squash of 2 patches related to bcrypt hashing settings.

1.
Force algo specific maximum length

The bcrypt algorithm that we use for password hashing silently
length limits the size of the password that is hashed giving the
user a false sense of security [0].  This patch adds a check
in the verify_length_and_trunc_password function for the hash in
use and updates the max_length accordingly, this will override
the configured value and log a warning if the password is truncated.

Conflicts:
* tox.ini

[0]: https://passlib.readthedocs.io/en/stable/lib/passlib.hash.bcrypt.html#security-issues

2.
Properly trimm bcrypt hashed passwords

bcrypt  hashing algorythm has a limitation on length of passwords it
can hash on 72 bytes. In [1] a password trimm to 54 symbols has been
implemented, which resulted in password being invalidated after the
keystone upgrade, since passwords are trimmed differently by bcrypt
itself, as well as len(str()) is not always equal to
len(str().encode()) as trimming should be done based on bytes and not
string itself.

With the change we return a byte object from
`verify_length_and_trunc_password`, so it does not need to
be encoded afterwards, since we need to strip based on bytes
rather then on length of the string.

[1] https://review.opendev.org/c/openstack/keystone/+/828595

Closes-Bug: #2028809
Related-Bug: #1901891
original change id: Iea95a3c2df041a0046647b3d3dadead1a6d054d1
(cherry picked from commit 6730c761d18aa547998f2add833c13f45f257fe7)
(cherry picked from commit 65f1fb6b4a54386f473369b05c8d10d77fb6710c)

Closes-bug: #1901891
Change-Id: I8d0bb2438b23227b5a66b94af6f8e198084fcd8d
(cherry picked from commit 3288af579de8ee312c36fb78ac9309ce8c554827)
(cherry picked from commit 1b3536a7a4d72e7f7b95cc1874a450accad3ec8d)
(cherry picked from commit 7852ca24a4eb86cb271ef7ec5e07f8f9c97f926d)
(cherry picked from commit a38ba2a70cdf7e72c0f17bb80d895ccc1e39a010)
","['keystone/tests/unit/common/test_utils.py', 'keystone/conf/identity.py', 'releasenotes/notes/max-password-length-truncation-and-warning-bd69090315ec18a7.yaml', 'releasenotes/notes/bcrypt_truncation_fix-674dc5d7f1e776f2.yaml', 'keystone/common/password_hashing.py', 'tox.ini']"
openstack%2Fopenstack-zuul-jobs~893792,openstack/openstack-zuul-jobs,master,I2216976a9c040cdf1d324f90831a543f7cf4a15d,Use re2 compatible regexes in branch matchers,MERGED,2023-09-05 17:32:10.000000000,2023-09-06 15:51:53.000000000,90,30,"[{'_account_id': 5263, 'name': 'Jeremy Stanley', 'display_name': 'fungi', 'email': 'fungi@yuggoth.org', 'username': 'fungi', 'status': 'missing, presumed fed'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 3, 'created': '2023-09-05 22:07:01.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'message': 'Use re2 compatible regexes in branch matchers\n\nPython regexes are deprecated in Zuul, so update the use of regexes\nin branch matchers with re2-compatible syntax.\n\nChange-Id: I2216976a9c040cdf1d324f90831a543f7cf4a15d\n'}]",893792,450dec3a86ec86a9a418bc6d164b58ab5f9dcd16,1,James E. Blair,corvus,0,"Use re2 compatible regexes in branch matchers

Python regexes are deprecated in Zuul, so update the use of regexes
in branch matchers with re2-compatible syntax.

Change-Id: I2216976a9c040cdf1d324f90831a543f7cf4a15d
","['zuul.d/zuul-legacy-jobs.yaml', 'zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']"
openstack%2Fproject-config~893935,openstack/project-config,master,I0bb7d9b7b34f4f6c392374182538b7e433617e13,Drop libvirt-python from suse in bindep fallback,MERGED,2023-09-06 15:19:31.000000000,2023-09-06 15:51:06.000000000,1,1,"[{'_account_id': 4146, 'name': 'Clark Boylan', 'email': 'cboylan@sapwetik.org', 'username': 'cboylan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-06 15:19:31.000000000', 'files': ['nodepool/elements/bindep-fallback.txt'], 'message': 'Drop libvirt-python from suse in bindep fallback\n\nThe bindep fallback list includes a libvirt-python package for all\nRPM-based distros, but it appears that OpenSuse Leap has recently\ndropped this (likely as part of removing Python 2.7 related\npackages). Exclude the package on that platform so that the\nopensuse-15 job will stop failing.\n\nChange-Id: I0bb7d9b7b34f4f6c392374182538b7e433617e13\n'}]",893935,16ddb49e48de7e55a54a3cd1b819754560590d2d,5263,Jeremy Stanley,fungi,0,"Drop libvirt-python from suse in bindep fallback

The bindep fallback list includes a libvirt-python package for all
RPM-based distros, but it appears that OpenSuse Leap has recently
dropped this (likely as part of removing Python 2.7 related
packages). Exclude the package on that platform so that the
opensuse-15 job will stop failing.

Change-Id: I0bb7d9b7b34f4f6c392374182538b7e433617e13
",['nodepool/elements/bindep-fallback.txt']
openstack%2Fovn-octavia-provider~893858,openstack/ovn-octavia-provider,master,I1b7e35c92b01c15c9c236861f60d13bc5098330f,Bump Neutron and neutron-lib versions,MERGED,2023-09-06 10:39:13.000000000,2023-09-06 15:50:58.000000000,2,4,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 23567, 'name': 'Luis Tomas Bolivar', 'email': 'ltomasbo@redhat.com', 'username': 'ltomasbo'}, {'_account_id': 34451, 'name': 'Fernando Royo', 'email': 'froyo@redhat.com', 'username': 'froyo'}]",,1,"[{'number': 2, 'created': '2023-09-06 12:56:44.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'message': 'Bump Neutron and neutron-lib versions\n\nIt is needed to enforce the correct versions of both projects due\nto incompatibilities with previous version. The Neutron Bobcat beta\n3 should work with neutron-lib 3.8.0.\n\nChange-Id: I1b7e35c92b01c15c9c236861f60d13bc5098330f\n'}]",893858,e02c1b9b3ea50d01145d10b8d6789d7e357d884b,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,0,"Bump Neutron and neutron-lib versions

It is needed to enforce the correct versions of both projects due
to incompatibilities with previous version. The Neutron Bobcat beta
3 should work with neutron-lib 3.8.0.

Change-Id: I1b7e35c92b01c15c9c236861f60d13bc5098330f
","['requirements.txt', 'test-requirements.txt']"
openstack%2Fheat~893830,openstack/heat,master,I18951908a1bea5f9f266382e8c7bfa91a5e6f38f,Fix bindep.txt for python 3.11 job(Debian Bookworm),MERGED,2023-09-06 07:32:22.000000000,2023-09-06 15:42:54.000000000,5,4,"[{'_account_id': 9816, 'name': 'Takashi Kajinami', 'email': 'kajinamit@oss.nttdata.com', 'username': 'kajinamit'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 2, 'created': '2023-09-06 07:41:22.000000000', 'files': ['bindep.txt'], 'message': 'Fix bindep.txt for python 3.11 job(Debian Bookworm)\n\nPython 3.11 job run on Debian Bookworm which does\nnot have the mysql pkg for example, libmysqlclient-dev\ninstead they have mariadb. Updating bindep.txt file\nto adjust the pkgs as per Debian bookworm.\n\nBased on [1]\n\n[1]: https://review.opendev.org/c/openstack/placement/+/893821\n\nChange-Id: I18951908a1bea5f9f266382e8c7bfa91a5e6f38f\n'}]",893830,cacaf3e6d12a9cd05e50b769fb3f0f9142271885,22629,Michal Nasiadka,mnasiadka,0,"Fix bindep.txt for python 3.11 job(Debian Bookworm)

Python 3.11 job run on Debian Bookworm which does
not have the mysql pkg for example, libmysqlclient-dev
instead they have mariadb. Updating bindep.txt file
to adjust the pkgs as per Debian bookworm.

Based on [1]

[1]: https://review.opendev.org/c/openstack/placement/+/893821

Change-Id: I18951908a1bea5f9f266382e8c7bfa91a5e6f38f
",['bindep.txt']
openstack%2Fmetalsmith~893687,openstack/metalsmith,master,I7b9c70b03c17c631da8e53f70808fed103c95c06,Set role default metalsmith_provisioning_timeout,MERGED,2023-09-04 19:21:40.000000000,2023-09-06 15:29:05.000000000,1,1,"[{'_account_id': 4571, 'name': 'Steve Baker', 'email': 'sbaker@redhat.com', 'username': 'steve-stevebaker'}, {'_account_id': 11655, 'name': 'Julia Kreger', 'email': 'juliaashleykreger@gmail.com', 'username': 'jkreger', 'status': 'Flying to the moon with a Jetpack!'}, {'_account_id': 15519, 'name': 'Iury Gregory Melo Ferreira', 'display_name': 'Iury Gregory', 'email': 'iurygregory@gmail.com', 'username': 'iurygregory'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 23851, 'name': 'Riccardo Pittau', 'email': 'elfosardo@gmail.com', 'username': 'elfosardo'}]",,1,"[{'number': 1, 'created': '2023-09-04 19:21:40.000000000', 'files': ['metalsmith_ansible/roles/metalsmith_deployment/defaults/main.yml'], 'message': 'Set role default metalsmith_provisioning_timeout\n\nJob: metalsmith-integration-glance-centos9-legacy\nis failing with:\n""""""\nargument \'timeout\' is of type <class \'NoneType\'> and we\nwere unable to convert to int: <class \'NoneType\'> cannot be\nconverted to an int\n""""""\n\nSet metalsmith_provisioning_timeout in role defaults to 3600,\nsame as the default timout in module: metalsmith_instances\n\nChange-Id: I7b9c70b03c17c631da8e53f70808fed103c95c06\n'}]",893687,9c928d300429b04dc3f8daeb60225f67519e2040,24245,Harald Jensås,harald.jensas,0,"Set role default metalsmith_provisioning_timeout

Job: metalsmith-integration-glance-centos9-legacy
is failing with:
""""""
argument 'timeout' is of type <class 'NoneType'> and we
were unable to convert to int: <class 'NoneType'> cannot be
converted to an int
""""""

Set metalsmith_provisioning_timeout in role defaults to 3600,
same as the default timout in module: metalsmith_instances

Change-Id: I7b9c70b03c17c631da8e53f70808fed103c95c06
",['metalsmith_ansible/roles/metalsmith_deployment/defaults/main.yml']
openstack%2Ftelemetry-tempest-plugin~893511,openstack/telemetry-tempest-plugin,master,I142249fb2b3549c71a5f83514acaed56ed2a59a4,"Revert ""Turn dsvm jobs non-voting""",ABANDONED,2023-09-01 13:12:21.000000000,2023-09-06 15:04:33.000000000,0,3,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 3, 'created': '2023-09-04 12:13:05.000000000', 'files': ['.zuul.yaml'], 'message': 'Revert ""Turn dsvm jobs non-voting""\n\nThis reverts commit 31fb55b9b7f4f8c3a72fea822ab44758bd7d454f.\n\nChange-Id: I142249fb2b3549c71a5f83514acaed56ed2a59a4\n'}]",893511,a6bab0133fb02c10a91242dbbe4ecbdfabc8ff55,5202,Erno Kuvaja,jokke,0,"Revert ""Turn dsvm jobs non-voting""

This reverts commit 31fb55b9b7f4f8c3a72fea822ab44758bd7d454f.

Change-Id: I142249fb2b3549c71a5f83514acaed56ed2a59a4
",['.zuul.yaml']
openstack%2Fos-brick~857347,openstack/os-brick,master,Ib5a517d58427df0d1d1b22ad3dc66f673da147fe,RBD: Improve close and flush in IOWrapper,MERGED,2022-09-13 11:29:59.000000000,2023-09-06 15:04:26.000000000,44,2,"[{'_account_id': 9236, 'name': 'Jon Bernard', 'email': 'jobernar@redhat.com', 'username': 'jbernard'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27615, 'name': 'Rajat Dhasmana', 'email': 'rajatdhasmana@gmail.com', 'username': 'whoami-rajat'}]","[{'rev_nbr': 1, 'author': '2022-09-13 12:33:21.000000000', 'date': '2022-09-13 12:33:21.000000000'}, {'rev_nbr': 1, 'author': '2022-09-13 13:24:08.000000000', 'date': '2022-09-13 13:24:08.000000000'}, {'rev_nbr': 1, 'author': '2023-02-07 10:46:38.000000000', 'date': '2023-02-07 10:46:38.000000000'}, {'rev_nbr': 1, 'author': '2023-02-07 15:06:49.000000000', 'date': '2023-02-07 15:06:49.000000000'}, {'rev_nbr': 1, 'author': '2023-02-08 00:05:06.000000000', 'date': '2023-02-08 00:05:06.000000000'}, {'rev_nbr': 2, 'author': '2023-02-08 10:51:19.000000000', 'date': '2023-02-08 10:51:19.000000000'}, {'rev_nbr': 2, 'author': '2023-02-08 11:23:11.000000000', 'date': '2023-02-08 11:23:11.000000000'}, {'rev_nbr': 2, 'author': '2023-02-08 12:34:21.000000000', 'date': '2023-02-08 12:34:21.000000000'}, {'rev_nbr': 2, 'author': '2023-02-09 00:19:24.000000000', 'date': '2023-02-09 00:19:24.000000000'}, {'rev_nbr': 2, 'author': '2023-02-09 02:37:00.000000000', 'date': '2023-02-09 02:37:00.000000000'}, {'rev_nbr': 2, 'author': '2023-02-09 08:14:18.000000000', 'date': '2023-02-09 08:14:18.000000000'}, {'rev_nbr': 2, 'author': '2023-02-09 08:28:16.000000000', 'date': '2023-02-09 08:28:16.000000000'}, {'rev_nbr': 2, 'author': '2023-02-13 21:00:43.000000000', 'date': '2023-02-13 21:00:43.000000000'}, {'rev_nbr': 2, 'author': '2023-02-14 08:22:26.000000000', 'date': '2023-02-14 08:22:26.000000000'}, {'rev_nbr': 2, 'author': '2023-02-14 10:14:22.000000000', 'date': '2023-02-14 10:14:22.000000000'}, {'rev_nbr': 2, 'author': '2023-02-14 10:33:07.000000000', 'date': '2023-02-14 10:33:07.000000000'}, {'rev_nbr': 2, 'author': '2023-02-14 14:09:33.000000000', 'date': '2023-02-14 14:09:33.000000000'}, {'rev_nbr': 2, 'author': '2023-02-15 12:10:18.000000000', 'date': '2023-02-15 12:10:18.000000000'}, {'rev_nbr': 2, 'author': '2023-03-30 16:30:04.000000000', 'date': '2023-03-30 16:30:04.000000000'}, {'rev_nbr': 3, 'author': '2023-08-23 11:50:32.000000000', 'date': '2023-08-23 11:50:32.000000000'}, {'rev_nbr': 3, 'author': '2023-08-23 13:26:10.000000000', 'date': '2023-08-23 13:26:10.000000000'}, {'rev_nbr': 3, 'author': '2023-08-23 14:35:09.000000000', 'date': '2023-08-23 14:35:09.000000000'}, {'rev_nbr': 3, 'author': '2023-08-23 20:37:50.000000000', 'date': '2023-08-23 20:37:50.000000000'}, {'rev_nbr': 3, 'author': '2023-08-23 21:08:31.000000000', 'date': '2023-08-23 21:08:31.000000000'}, {'rev_nbr': 3, 'author': '2023-08-23 21:17:14.000000000', 'date': '2023-08-23 21:17:14.000000000'}, {'rev_nbr': 3, 'author': '2023-08-23 23:55:38.000000000', 'date': '2023-08-23 23:55:38.000000000'}, {'rev_nbr': 3, 'author': '2023-08-24 00:17:43.000000000', 'date': '2023-08-24 00:17:43.000000000'}, {'rev_nbr': 3, 'author': '2023-09-06 15:04:26.000000000', 'date': '2023-09-06 15:04:26.000000000'}]",15,"[{'number': 3, 'created': '2023-08-23 10:37:15.000000000', 'files': ['os_brick/initiator/linuxrbd.py', 'os_brick/tests/initiator/test_linuxrbd.py'], 'message': ""RBD: Improve close and flush in IOWrapper\n\nOn Change-Id Ib3b066a7da071b1c2de78a1a4e569676539bd335 we improved the\nRBDVolumeIOWrapper's flush and close methods, and this patch improves\nthem even further.\n\nIf the IOWrapper's close is not explicitly called and it's just\ndereferenced (happens in unit tests) then during Garbage Collection the\nwrapped image may be destroyed before the wrapper, which would trigger\nthe image being closed without the wrapper knowing, so when the wrapper\ngets destroyed it will fail because it calls its close method, which\ncalls its flush, which calls the underlying image's flush, which will\nfail because the underlying image was already closed.\n\nWe need to check if the underlying image has already being flushed\nbefore calling the flush.\n\nCalling the underlying close method for the Image or IOWrapper classes\nis not a problem because they are idempotent.\n\nChange-Id: Ib5a517d58427df0d1d1b22ad3dc66f673da147fe\n""}]",857347,00caa73776d9987103f9023a1c4e9c643fa77039,9535,Gorka Eguileor,Gorka,0,"RBD: Improve close and flush in IOWrapper

On Change-Id Ib3b066a7da071b1c2de78a1a4e569676539bd335 we improved the
RBDVolumeIOWrapper's flush and close methods, and this patch improves
them even further.

If the IOWrapper's close is not explicitly called and it's just
dereferenced (happens in unit tests) then during Garbage Collection the
wrapped image may be destroyed before the wrapper, which would trigger
the image being closed without the wrapper knowing, so when the wrapper
gets destroyed it will fail because it calls its close method, which
calls its flush, which calls the underlying image's flush, which will
fail because the underlying image was already closed.

We need to check if the underlying image has already being flushed
before calling the flush.

Calling the underlying close method for the Image or IOWrapper classes
is not a problem because they are idempotent.

Change-Id: Ib5a517d58427df0d1d1b22ad3dc66f673da147fe
","['os_brick/initiator/linuxrbd.py', 'os_brick/tests/initiator/test_linuxrbd.py']"
openstack%2Ftelemetry-tempest-plugin~893510,openstack/telemetry-tempest-plugin,master,I8f53ce25b4d53f8334584ab61dde75e8d8b8581a,Turn dsvm jobs non-voting,ABANDONED,2023-09-01 13:12:21.000000000,2023-09-06 15:04:26.000000000,3,0,"[{'_account_id': 4264, 'name': 'Matthias Runge', 'email': 'mrunge@redhat.com', 'username': 'mrunge'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2023-09-01 13:12:21.000000000', 'files': ['.zuul.yaml'], 'message': 'Turn dsvm jobs non-voting\n\nWe have bunch of interdependencies across aodh, ceilometer and\ntelemetry-tempest-plugin that needs to be merged before these jobs will\nsucceed again. queueing them up and reverting this once they do pass\nagain.\n\nChange-Id: I8f53ce25b4d53f8334584ab61dde75e8d8b8581a\n'}]",893510,b96b4a66a0cf13dff0a70a3c02bca53e46622621,5202,Erno Kuvaja,jokke,0,"Turn dsvm jobs non-voting

We have bunch of interdependencies across aodh, ceilometer and
telemetry-tempest-plugin that needs to be merged before these jobs will
succeed again. queueing them up and reverting this once they do pass
again.

Change-Id: I8f53ce25b4d53f8334584ab61dde75e8d8b8581a
",['.zuul.yaml']
openstack%2Ftelemetry-tempest-plugin~880946,openstack/telemetry-tempest-plugin,master,Ib0c072458a63bc962d24758cd4f64fad9d1334dd,Use Fedora 38 images instead of 36,ABANDONED,2023-04-20 11:36:24.000000000,2023-09-06 15:03:45.000000000,2,0,"[{'_account_id': 4264, 'name': 'Matthias Runge', 'email': 'mrunge@redhat.com', 'username': 'mrunge'}, {'_account_id': 5202, 'name': 'Erno Kuvaja', 'email': 'jokke@usr.fi', 'username': 'jokke'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,12,"[{'number': 6, 'created': '2023-09-04 12:14:27.000000000', 'files': ['.zuul.yaml'], 'message': 'Use Fedora 38 images instead of 36\n\nFedora 36 will reach eol on 2023-05-16 and these cloud images\nmay not be available later.\n\nThis change overrides parameter ""HEAT_TEST_FEDORA_IMAGE_PATH""\nin localrc to use Fedora 38 cloud image.\n\nChange-Id: Ib0c072458a63bc962d24758cd4f64fad9d1334dd\n'}]",880946,9f390fcefde1ec7fc412ab8da67a62cb40db4245,32240,Yadnesh Kulkarni,ykulkarn,0,"Use Fedora 38 images instead of 36

Fedora 36 will reach eol on 2023-05-16 and these cloud images
may not be available later.

This change overrides parameter ""HEAT_TEST_FEDORA_IMAGE_PATH""
in localrc to use Fedora 38 cloud image.

Change-Id: Ib0c072458a63bc962d24758cd4f64fad9d1334dd
",['.zuul.yaml']
openstack%2Fbifrost~893757,openstack/bifrost,stable/victoria,Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235,Remove Fedora from the CI,MERGED,2023-09-05 16:00:24.000000000,2023-09-06 14:56:12.000000000,7,62,"[{'_account_id': 15519, 'name': 'Iury Gregory Melo Ferreira', 'display_name': 'Iury Gregory', 'email': 'iurygregory@gmail.com', 'username': 'iurygregory'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-09-06 03:35:21.000000000', 'files': ['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml'], 'message': 'Remove Fedora from the CI\n\nIt is currently broken since the only supported version (36) is EOL.\nThe OpenDev infrastructure will stop supporting Fedora:\nhttps://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/\n\nWhile master branch had a new CI job added to cover netboot,\nthis change is not being carried back on stable branches in\norder to minimize change complexity while focusing on remvoal\nof Fedora from CI.\n\nWhen backporting to Zed, dropped docs changes.\n\nAnd disable CI as the vast majority of bifrost jobs no longer work\non the victoria branch.\n\nChange-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235\n(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)\n(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)\n(cherry picked from commit 9de69557f2428e2cfc82cef737b5a540fc91c017)\n(cherry picked from commit 14f1836f86b165ba1cbfb0208bb1fda854dcbe08)\n(cherry picked from commit 80db3cd8a950548b44bee6662b74a92cb9a1e39f)\n'}]",893757,97007a2f6ce496b8457836c16e9e476f4a7eb619,11655,Julia Kreger,jkreger,0,"Remove Fedora from the CI

It is currently broken since the only supported version (36) is EOL.
The OpenDev infrastructure will stop supporting Fedora:
https://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/

While master branch had a new CI job added to cover netboot,
this change is not being carried back on stable branches in
order to minimize change complexity while focusing on remvoal
of Fedora from CI.

When backporting to Zed, dropped docs changes.

And disable CI as the vast majority of bifrost jobs no longer work
on the victoria branch.

Change-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235
(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)
(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)
(cherry picked from commit 9de69557f2428e2cfc82cef737b5a540fc91c017)
(cherry picked from commit 14f1836f86b165ba1cbfb0208bb1fda854dcbe08)
(cherry picked from commit 80db3cd8a950548b44bee6662b74a92cb9a1e39f)
","['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml']"
openstack%2Fbifrost~893760,openstack/bifrost,stable/ussuri,Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235,Remove Fedora from the CI,MERGED,2023-09-05 16:02:23.000000000,2023-09-06 14:55:58.000000000,6,45,"[{'_account_id': 15519, 'name': 'Iury Gregory Melo Ferreira', 'display_name': 'Iury Gregory', 'email': 'iurygregory@gmail.com', 'username': 'iurygregory'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-09-06 03:36:50.000000000', 'files': ['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml'], 'message': 'Remove Fedora from the CI\n\nIt is currently broken since the only supported version (36) is EOL.\nThe OpenDev infrastructure will stop supporting Fedora:\nhttps://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/\n\nWhile master branch had a new CI job added to cover netboot,\nthis change is not being carried back on stable branches in\norder to minimize change complexity while focusing on remvoal\nof Fedora from CI.\n\nWhen backporting to Zed, dropped docs changes.\n\nAnd disable CI jobs since the vast majority of bifrost jobs no\nlonger work on the ussuri stable branch.\n\nChange-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235\n(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)\n(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)\n(cherry picked from commit 9de69557f2428e2cfc82cef737b5a540fc91c017)\n(cherry picked from commit 14f1836f86b165ba1cbfb0208bb1fda854dcbe08)\n(cherry picked from commit 80db3cd8a950548b44bee6662b74a92cb9a1e39f)\n(cherry picked from commit 3c47c2d5befaea1ba8f845d371b36dff0b830a02)\n'}]",893760,06a8945fbd0c3a92faa1557e5ec6708fd68195f4,11655,Julia Kreger,jkreger,0,"Remove Fedora from the CI

It is currently broken since the only supported version (36) is EOL.
The OpenDev infrastructure will stop supporting Fedora:
https://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/

While master branch had a new CI job added to cover netboot,
this change is not being carried back on stable branches in
order to minimize change complexity while focusing on remvoal
of Fedora from CI.

When backporting to Zed, dropped docs changes.

And disable CI jobs since the vast majority of bifrost jobs no
longer work on the ussuri stable branch.

Change-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235
(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)
(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)
(cherry picked from commit 9de69557f2428e2cfc82cef737b5a540fc91c017)
(cherry picked from commit 14f1836f86b165ba1cbfb0208bb1fda854dcbe08)
(cherry picked from commit 80db3cd8a950548b44bee6662b74a92cb9a1e39f)
(cherry picked from commit 3c47c2d5befaea1ba8f845d371b36dff0b830a02)
","['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml']"
openstack%2Fproject-config~893588,openstack/project-config,master,Ibba7f864b15e478fda59c998843c3b2ace0022d8,Reduce frequency of image rebuilds,MERGED,2023-09-02 11:22:29.000000000,2023-09-06 14:26:40.000000000,10,0,"[{'_account_id': 5263, 'name': 'Jeremy Stanley', 'display_name': 'fungi', 'email': 'fungi@yuggoth.org', 'username': 'fungi', 'status': 'missing, presumed fed'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-02 11:22:29.000000000', 'files': ['nodepool/nb04.opendev.org.yaml', 'nodepool/nodepool.yaml'], 'message': ""Reduce frequency of image rebuilds\n\nIn order to reduce the load on our builder nodes and reduce the strain\non our providers' image stores, build most images only once per week.\n\nExceptions are ubuntu-jammy, our most often used distro image, which we\nkeep rebuilding daily, and some other more frequently used images built\nevery 2 days.\n\nChange-Id: Ibba7f864b15e478fda59c998843c3b2ace0022d8\n""}]",893588,d0c0ddb977b5beb99b0ba90b0f2a18dce82ba14a,13252,Dr. Jens Harbott,jrosenboom,0,"Reduce frequency of image rebuilds

In order to reduce the load on our builder nodes and reduce the strain
on our providers' image stores, build most images only once per week.

Exceptions are ubuntu-jammy, our most often used distro image, which we
keep rebuilding daily, and some other more frequently used images built
every 2 days.

Change-Id: Ibba7f864b15e478fda59c998843c3b2ace0022d8
","['nodepool/nb04.opendev.org.yaml', 'nodepool/nodepool.yaml']"
openstack%2Fneutron~893807,openstack/neutron,stable/zed,I86c89ddf2a4a1c47a1c0936901624abb24a664b8,DNM: Testing Zed gate,ABANDONED,2023-09-05 22:00:11.000000000,2023-09-06 13:55:41.000000000,1,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-05 22:00:11.000000000', 'files': ['neutron/worker.py'], 'message': ""DNM: Testing Zed gate\n\ntest_add_tc_filter_policy() seems to be failing in Zed\nand earlier with:\n\npyroute2.netlink.exceptions.NetlinkError: (95, 'Operation not supported')\n\nChange-Id: I86c89ddf2a4a1c47a1c0936901624abb24a664b8\n""}]",893807,722486d9993b7577fbecf0b33c0b2c127d8db9dd,1131,Brian Haley,brian-haley,0,"DNM: Testing Zed gate

test_add_tc_filter_policy() seems to be failing in Zed
and earlier with:

pyroute2.netlink.exceptions.NetlinkError: (95, 'Operation not supported')

Change-Id: I86c89ddf2a4a1c47a1c0936901624abb24a664b8
",['neutron/worker.py']
openstack%2Fovn-octavia-provider~893860,openstack/ovn-octavia-provider,master,Ia546671f0d7be3e893eb2c7de67c82287bc53f52,[CI] Bump OVS_BRANCH in ovs/ovn source deploy jobs,MERGED,2023-09-06 10:44:29.000000000,2023-09-06 13:38:39.000000000,4,6,"[{'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 23567, 'name': 'Luis Tomas Bolivar', 'email': 'ltomasbo@redhat.com', 'username': 'ltomasbo'}]",,0,"[{'number': 1, 'created': '2023-09-06 10:44:29.000000000', 'files': ['zuul.d/base.yaml'], 'message': '[CI] Bump OVS_BRANCH in ovs/ovn source deploy jobs\n\nSince [1] OVN/OVS source deploy jobs running with\nOVN_BRANCH=main fails to compile ovn as this now\nrequires newer ovs commits from branch-3.2.\n\n[1] https://github.com/ovn-org/ovn/commit/558da0cd\n\nChange-Id: Ia546671f0d7be3e893eb2c7de67c82287bc53f52\n'}]",893860,70fb6b345c2d172a9db8959c923384d5ff60b3d6,34451,Fernando Royo,froyo,0,"[CI] Bump OVS_BRANCH in ovs/ovn source deploy jobs

Since [1] OVN/OVS source deploy jobs running with
OVN_BRANCH=main fails to compile ovn as this now
requires newer ovs commits from branch-3.2.

[1] https://github.com/ovn-org/ovn/commit/558da0cd

Change-Id: Ia546671f0d7be3e893eb2c7de67c82287bc53f52
",['zuul.d/base.yaml']
openstack%2Fopenstack-ansible~893768,openstack/openstack-ansible,stable/zed,I3ac3bfce67bc614c72dec0a6a57a7df7717e0e8e,Fix container bridge name for octavia,MERGED,2023-09-06 07:45:56.000000000,2023-09-06 13:10:25.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28619, 'name': 'Dmitriy Rabotyagov', 'email': 'noonedeadpunk@gmail.com', 'username': 'noonedeadpunk'}, {'_account_id': 32666, 'name': 'Damian Dąbrowski', 'email': 'damian@dabrowski.cloud', 'username': 'ddabrowski'}]",,0,"[{'number': 1, 'created': '2023-09-06 07:45:56.000000000', 'files': ['etc/openstack_deploy/openstack_user_config.yml.aio.j2'], 'message': 'Fix container bridge name for octavia\n\nThis should be br-lbaas not br-octavia. There is no coverage for\nthis in CI tests as the role tests run without containers.\n\nChange-Id: I3ac3bfce67bc614c72dec0a6a57a7df7717e0e8e\n(cherry picked from commit 7a32e9a359bc8f251827999dc7387cca8b925d92)\n'}]",893768,e1c11ea52415a7f6ffd99c0483a858cf51de2ae8,28619,Dmitriy Rabotyagov,noonedeadpunk,0,"Fix container bridge name for octavia

This should be br-lbaas not br-octavia. There is no coverage for
this in CI tests as the role tests run without containers.

Change-Id: I3ac3bfce67bc614c72dec0a6a57a7df7717e0e8e
(cherry picked from commit 7a32e9a359bc8f251827999dc7387cca8b925d92)
",['etc/openstack_deploy/openstack_user_config.yml.aio.j2']
openstack%2Fopenstack-ansible~893767,openstack/openstack-ansible,stable/2023.1,I3ac3bfce67bc614c72dec0a6a57a7df7717e0e8e,Fix container bridge name for octavia,MERGED,2023-09-06 07:45:48.000000000,2023-09-06 12:42:34.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28619, 'name': 'Dmitriy Rabotyagov', 'email': 'noonedeadpunk@gmail.com', 'username': 'noonedeadpunk'}, {'_account_id': 32666, 'name': 'Damian Dąbrowski', 'email': 'damian@dabrowski.cloud', 'username': 'ddabrowski'}]",,0,"[{'number': 1, 'created': '2023-09-06 07:45:48.000000000', 'files': ['etc/openstack_deploy/openstack_user_config.yml.aio.j2'], 'message': 'Fix container bridge name for octavia\n\nThis should be br-lbaas not br-octavia. There is no coverage for\nthis in CI tests as the role tests run without containers.\n\nChange-Id: I3ac3bfce67bc614c72dec0a6a57a7df7717e0e8e\n(cherry picked from commit 7a32e9a359bc8f251827999dc7387cca8b925d92)\n'}]",893767,9bd51ce10ceb53f9965887f73877f521ce49eddb,28619,Dmitriy Rabotyagov,noonedeadpunk,0,"Fix container bridge name for octavia

This should be br-lbaas not br-octavia. There is no coverage for
this in CI tests as the role tests run without containers.

Change-Id: I3ac3bfce67bc614c72dec0a6a57a7df7717e0e8e
(cherry picked from commit 7a32e9a359bc8f251827999dc7387cca8b925d92)
",['etc/openstack_deploy/openstack_user_config.yml.aio.j2']
openstack%2Fskyline-console~893850,openstack/skyline-console,master,I07ba1e7b3ef7c7ef998aacf54bd5329d01737d0e,feat: update ActionButton component,MERGED,2023-09-06 09:28:00.000000000,2023-09-06 12:42:15.000000000,69,36,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28706, 'name': 'Boxiang Zhu', 'email': 'zhu.boxiang@99cloud.net', 'username': 'ZhuBoxiang'}]",,0,"[{'number': 1, 'created': '2023-09-06 09:28:00.000000000', 'files': ['src/components/Tables/Base/ActionButton/index.jsx'], 'message': 'feat: update ActionButton component\n\n1. refactor ActionButton\n2. support ok/cancel button props for confirm/modal action\n\nChange-Id: I07ba1e7b3ef7c7ef998aacf54bd5329d01737d0e\n'}]",893850,74ffcc6215475c4e612463efd0968d591d48159a,30434,Jingwei.Zhang,jwzhang,0,"feat: update ActionButton component

1. refactor ActionButton
2. support ok/cancel button props for confirm/modal action

Change-Id: I07ba1e7b3ef7c7ef998aacf54bd5329d01737d0e
",['src/components/Tables/Base/ActionButton/index.jsx']
openstack%2Fskyline-console~893844,openstack/skyline-console,master,I75c71666a32e4aee28a4d12c94e5e3eec629a98d,feat: update Confirm component,MERGED,2023-09-06 09:01:19.000000000,2023-09-06 12:41:26.000000000,6,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28706, 'name': 'Boxiang Zhu', 'email': 'zhu.boxiang@99cloud.net', 'username': 'ZhuBoxiang'}]",,0,"[{'number': 1, 'created': '2023-09-06 09:01:19.000000000', 'files': ['src/components/Confirm/index.jsx'], 'message': 'feat: update Confirm component\n\nupdate Confirm component to support ok/cancel button props\n\nChange-Id: I75c71666a32e4aee28a4d12c94e5e3eec629a98d\n'}]",893844,19e1de7760ea7bb25c839dec1dbfba6f8e0accd2,30434,Jingwei.Zhang,jwzhang,0,"feat: update Confirm component

update Confirm component to support ok/cancel button props

Change-Id: I75c71666a32e4aee28a4d12c94e5e3eec629a98d
",['src/components/Confirm/index.jsx']
openstack%2Fopenstack-ansible-os_neutron~893667,openstack/openstack-ansible-os_neutron,master,I286169ca9ec493ef9ff1923249336cdc168619d0,Retry applying OVN connection settings,MERGED,2023-09-04 15:16:07.000000000,2023-09-06 12:35:13.000000000,4,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28619, 'name': 'Dmitriy Rabotyagov', 'email': 'noonedeadpunk@gmail.com', 'username': 'noonedeadpunk'}, {'_account_id': 31542, 'name': 'Andrew Bonney', 'email': 'andrew.bonney@bbc.co.uk', 'username': 'andrewbonney'}]",,1,"[{'number': 1, 'created': '2023-09-04 15:16:07.000000000', 'files': ['tasks/providers/ovn_cluster_setup.yml'], 'message': 'Retry applying OVN connection settings\n\nThis task runs immediately after one which may start the OVN\nservices and the unix socket files may not yet be present\nwhen the command is run to configure the connection settings.\n\nIntroduce retires to the task to give time for the services to\nstart and the sockets to exist.\n\nSee https://paste.opendev.org/show/bPgVSIHyVPY5MwC373Zj/\n\nChange-Id: I286169ca9ec493ef9ff1923249336cdc168619d0\n'}]",893667,ab19186dad2ce66505103a4a94742071e3984382,25023,Jonathan Rosser,jrosser,0,"Retry applying OVN connection settings

This task runs immediately after one which may start the OVN
services and the unix socket files may not yet be present
when the command is run to configure the connection settings.

Introduce retires to the task to give time for the services to
start and the sockets to exist.

See https://paste.opendev.org/show/bPgVSIHyVPY5MwC373Zj/

Change-Id: I286169ca9ec493ef9ff1923249336cdc168619d0
",['tasks/providers/ovn_cluster_setup.yml']
openstack%2Fcharm-openstack-hypervisor~893488,openstack/charm-openstack-hypervisor,main,I168348aba340db3ec2f63b69acef439906542e63,Add support for ceilometer-service relation,MERGED,2023-09-01 10:44:22.000000000,2023-09-06 12:33:37.000000000,329,1,"[{'_account_id': 12549, 'name': 'gnuoy', 'email': 'liam.young@canonical.com', 'username': 'gnuoy'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 5, 'created': '2023-09-06 11:55:26.000000000', 'files': ['lib/charms/ceilometer_k8s/v0/ceilometer_service.py', 'src/charm.py', 'metadata.yaml', 'tests/unit/test_charm.py'], 'message': 'Add support for ceilometer-service relation\n\nImplement ceilometer-service requires part of the relation.\nConfigure snap-openstack-hypervsor config parameters\ntelemetry.enable and telemetry.publisher-secret when the\nrelation is joined/changed.\nConfigure telemetry.enable to False when ceilometer-service\nrelation is removed.\n\nChange-Id: I168348aba340db3ec2f63b69acef439906542e63\n'}]",893488,ddaabbb0b3a2827ca7b5a2872a23279695c9572c,10366,Hemanth N,Hemanth,0,"Add support for ceilometer-service relation

Implement ceilometer-service requires part of the relation.
Configure snap-openstack-hypervsor config parameters
telemetry.enable and telemetry.publisher-secret when the
relation is joined/changed.
Configure telemetry.enable to False when ceilometer-service
relation is removed.

Change-Id: I168348aba340db3ec2f63b69acef439906542e63
","['lib/charms/ceilometer_k8s/v0/ceilometer_service.py', 'src/charm.py', 'metadata.yaml', 'tests/unit/test_charm.py']"
openstack%2Fblazar~893846,openstack/blazar,stable/pike,Ic9e27482cd7436a818bbd4065b7cb513494b01fb,Drop zuul configuration for stable/pike branch,MERGED,2023-09-06 09:18:19.000000000,2023-09-06 12:31:19.000000000,2,40,"[{'_account_id': 15197, 'name': 'Pierre Riteau', 'email': 'pierre@stackhpc.com', 'username': 'priteau', 'status': 'StackHPC'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 3, 'created': '2023-09-06 12:11:05.000000000', 'files': ['.zuul.yaml'], 'message': 'Drop zuul configuration for stable/pike branch\n\nThe current .zuul.yaml references a template that is going to be\ndeleted. All other CI jobs are failing, too, so drop the config\ncompletely in order to unblock things and just have a noop job.\n\nChange-Id: Ic9e27482cd7436a818bbd4065b7cb513494b01fb\n'}]",893846,1379dfdd386dbeda42dd2d0cb061a20fadca6606,13252,Dr. Jens Harbott,jrosenboom,0,"Drop zuul configuration for stable/pike branch

The current .zuul.yaml references a template that is going to be
deleted. All other CI jobs are failing, too, so drop the config
completely in order to unblock things and just have a noop job.

Change-Id: Ic9e27482cd7436a818bbd4065b7cb513494b01fb
",['.zuul.yaml']
openstack%2Fos-brick~874689,openstack/os-brick,master,If32d054e8f944f162bdc8700d842134a80049877,SCSI: Support non SAM LUN addressing,MERGED,2023-02-21 19:23:05.000000000,2023-09-06 11:32:31.000000000,237,11,"[{'_account_id': 5997, 'name': 'Walt', 'display_name': 'Hemna', 'email': 'waboring@hemna.com', 'username': 'walter-boring', 'status': 'SAP'}, {'_account_id': 13425, 'name': 'Simon Dodsley', 'email': 'simon@purestorage.com', 'username': 'sdodsley'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27615, 'name': 'Rajat Dhasmana', 'email': 'rajatdhasmana@gmail.com', 'username': 'whoami-rajat'}, {'_account_id': 32029, 'name': 'likui', 'email': 'likui@yovole.com', 'username': 'likui'}]","[{'rev_nbr': 1, 'author': '2023-02-21 19:47:55.000000000', 'date': '2023-02-21 19:47:55.000000000'}, {'rev_nbr': 1, 'author': '2023-02-22 00:38:06.000000000', 'date': '2023-02-22 00:38:06.000000000'}, {'rev_nbr': 1, 'author': '2023-02-22 02:06:25.000000000', 'date': '2023-02-22 02:06:25.000000000'}, {'rev_nbr': 1, 'author': '2023-02-22 04:50:47.000000000', 'date': '2023-02-22 04:50:47.000000000'}, {'rev_nbr': 2, 'author': '2023-02-22 10:36:09.000000000', 'date': '2023-02-22 10:36:09.000000000'}, {'rev_nbr': 2, 'author': '2023-02-22 13:20:35.000000000', 'date': '2023-02-22 13:20:35.000000000'}, {'rev_nbr': 2, 'author': '2023-02-22 13:35:32.000000000', 'date': '2023-02-22 13:35:32.000000000'}, {'rev_nbr': 2, 'author': '2023-02-22 16:17:58.000000000', 'date': '2023-02-22 16:17:58.000000000'}, {'rev_nbr': 2, 'author': '2023-02-22 16:46:54.000000000', 'date': '2023-02-22 16:46:54.000000000'}, {'rev_nbr': 2, 'author': '2023-02-22 18:09:27.000000000', 'date': '2023-02-22 18:09:27.000000000'}, {'rev_nbr': 2, 'author': '2023-02-22 22:48:39.000000000', 'date': '2023-02-22 22:48:39.000000000'}, {'rev_nbr': 3, 'author': '2023-02-23 16:02:35.000000000', 'date': '2023-02-23 16:02:35.000000000'}, {'rev_nbr': 3, 'author': '2023-02-23 18:29:29.000000000', 'date': '2023-02-23 18:29:29.000000000'}, {'rev_nbr': 3, 'author': '2023-02-23 19:15:11.000000000', 'date': '2023-02-23 19:15:11.000000000'}, {'rev_nbr': 3, 'author': '2023-02-23 20:42:20.000000000', 'date': '2023-02-23 20:42:20.000000000'}, {'rev_nbr': 3, 'author': '2023-02-23 23:45:06.000000000', 'date': '2023-02-23 23:45:06.000000000'}, {'rev_nbr': 3, 'author': '2023-02-27 04:43:20.000000000', 'date': '2023-02-27 04:43:20.000000000'}, {'rev_nbr': 3, 'author': '2023-02-27 05:05:59.000000000', 'date': '2023-02-27 05:05:59.000000000'}, {'rev_nbr': 4, 'author': '2023-03-06 15:41:42.000000000', 'date': '2023-03-06 15:41:42.000000000'}, {'rev_nbr': 4, 'author': '2023-03-06 15:42:22.000000000', 'date': '2023-03-06 15:42:22.000000000'}, {'rev_nbr': 4, 'author': '2023-03-06 17:43:25.000000000', 'date': '2023-03-06 17:43:25.000000000'}, {'rev_nbr': 4, 'author': '2023-03-06 18:44:07.000000000', 'date': '2023-03-06 18:44:07.000000000'}, {'rev_nbr': 4, 'author': '2023-03-06 19:05:05.000000000', 'date': '2023-03-06 19:05:05.000000000'}, {'rev_nbr': 4, 'author': '2023-03-06 21:21:05.000000000', 'date': '2023-03-06 21:21:05.000000000'}, {'rev_nbr': 4, 'author': '2023-03-07 06:16:21.000000000', 'date': '2023-03-07 06:16:21.000000000'}, {'rev_nbr': 4, 'author': '2023-03-07 12:00:45.000000000', 'date': '2023-03-07 12:00:45.000000000'}, {'rev_nbr': 4, 'author': '2023-03-31 17:39:03.000000000', 'date': '2023-03-31 17:39:03.000000000'}, {'rev_nbr': 5, 'author': '2023-08-23 11:22:05.000000000', 'date': '2023-08-23 11:22:05.000000000'}, {'rev_nbr': 5, 'author': '2023-08-23 12:43:56.000000000', 'date': '2023-08-23 12:43:56.000000000'}, {'rev_nbr': 5, 'author': '2023-08-23 13:28:29.000000000', 'date': '2023-08-23 13:28:29.000000000'}, {'rev_nbr': 5, 'author': '2023-08-23 13:43:04.000000000', 'date': '2023-08-23 13:43:04.000000000'}, {'rev_nbr': 5, 'author': '2023-08-23 13:55:34.000000000', 'date': '2023-08-23 13:55:34.000000000'}, {'rev_nbr': 5, 'author': '2023-08-23 15:03:58.000000000', 'date': '2023-08-23 15:03:58.000000000'}, {'rev_nbr': 5, 'author': '2023-08-23 19:13:03.000000000', 'date': '2023-08-23 19:13:03.000000000'}, {'rev_nbr': 5, 'author': '2023-08-23 19:41:17.000000000', 'date': '2023-08-23 19:41:17.000000000'}, {'rev_nbr': 5, 'author': '2023-08-23 21:16:40.000000000', 'date': '2023-08-23 21:16:40.000000000'}, {'rev_nbr': 5, 'author': '2023-08-23 21:17:24.000000000', 'date': '2023-08-23 21:17:24.000000000'}, {'rev_nbr': 5, 'author': '2023-09-06 11:32:31.000000000', 'date': '2023-09-06 11:32:31.000000000'}]",7,"[{'number': 5, 'created': '2023-08-23 10:31:49.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/tests/initiator/connectors/test_fibre_channel_s390x.py', 'os_brick/tests/initiator/test_linuxfc.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxfc.py', 'os_brick/constants.py', 'os_brick/initiator/connectors/fibre_channel_s390x.py', 'releasenotes/notes/scsi-addressing-modes-7674ea30d4ff4c49.yaml'], 'message': ""SCSI: Support non SAM LUN addressing\n\nThis patch adds non SAM addressing modes for LUNs, specifically for\nSAM-2 and SAM-3 flat addressing.\n\nCode has been manually verified on Pure storage systems that uses SAM-2\naddressing mode, because it's unusual for CI jobs to have more than\n256 LUNs on a single target.\n\nCloses-Bug: #2006960\nChange-Id: If32d054e8f944f162bdc8700d842134a80049877\n""}]",874689,59961647d3c313d4014787f43f9c638313116e88,9535,Gorka Eguileor,Gorka,0,"SCSI: Support non SAM LUN addressing

This patch adds non SAM addressing modes for LUNs, specifically for
SAM-2 and SAM-3 flat addressing.

Code has been manually verified on Pure storage systems that uses SAM-2
addressing mode, because it's unusual for CI jobs to have more than
256 LUNs on a single target.

Closes-Bug: #2006960
Change-Id: If32d054e8f944f162bdc8700d842134a80049877
","['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/tests/initiator/connectors/test_fibre_channel_s390x.py', 'os_brick/tests/initiator/test_linuxfc.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxfc.py', 'os_brick/constants.py', 'os_brick/initiator/connectors/fibre_channel_s390x.py', 'releasenotes/notes/scsi-addressing-modes-7674ea30d4ff4c49.yaml']"
openstack%2Fopenstack-ansible~893547,openstack/openstack-ansible,stable/2023.1,If99ddc47d32acf41cdb542b4e56d90b6e3589a56,Do not add all computes as OVN gateways,MERGED,2023-09-04 06:08:06.000000000,2023-09-06 11:26:27.000000000,5,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28619, 'name': 'Dmitriy Rabotyagov', 'email': 'noonedeadpunk@gmail.com', 'username': 'noonedeadpunk'}, {'_account_id': 31542, 'name': 'Andrew Bonney', 'email': 'andrew.bonney@bbc.co.uk', 'username': 'andrewbonney'}, {'_account_id': 32666, 'name': 'Damian Dąbrowski', 'email': 'damian@dabrowski.cloud', 'username': 'ddabrowski'}]",,5,"[{'number': 1, 'created': '2023-09-04 06:08:06.000000000', 'files': ['inventory/env.d/nova.yml', 'releasenotes/notes/ovn_gateway_computes-a9509fd25e8d25db.yaml'], 'message': 'Do not add all computes as OVN gateways\n\nAt the moment all compute nodes are explicitly added as\nOVN gateway nodes. At the same time one of recommended setups\nare to not pass public networks to compute hosts and have\nstandalone network nodes that are running ovn gateways which is\nnot possible to configure with current setup.\n\nChange-Id: If99ddc47d32acf41cdb542b4e56d90b6e3589a56\n(cherry picked from commit cc9e72b7f07e8ad48cf8a121857854c23b37c7c3)\n'}]",893547,954b49ef595eef6a0c3b9bc8a118d0c13e7c1945,28619,Dmitriy Rabotyagov,noonedeadpunk,0,"Do not add all computes as OVN gateways

At the moment all compute nodes are explicitly added as
OVN gateway nodes. At the same time one of recommended setups
are to not pass public networks to compute hosts and have
standalone network nodes that are running ovn gateways which is
not possible to configure with current setup.

Change-Id: If99ddc47d32acf41cdb542b4e56d90b6e3589a56
(cherry picked from commit cc9e72b7f07e8ad48cf8a121857854c23b37c7c3)
","['inventory/env.d/nova.yml', 'releasenotes/notes/ovn_gateway_computes-a9509fd25e8d25db.yaml']"
openstack%2Fkolla-ansible~893796,openstack/kolla-ansible,stable/xena,If76c31642fad5567a3a0d36b6177a8b6da5d59b8,CI: Completely drop upgrade jobs from EOL Wallaby,MERGED,2023-09-05 17:43:51.000000000,2023-09-06 10:20:53.000000000,0,92,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 23084, 'name': 'Bartosz Bezak', 'email': 'bartosz@stackhpc.com', 'username': 'b.bezak'}, {'_account_id': 24072, 'name': 'Marcin Juszkiewicz', 'email': 'mjuszkiewicz@redhat.com', 'username': 'hrw'}]",,6,"[{'number': 3, 'created': '2023-09-06 08:28:15.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'message': 'CI: Completely drop upgrade jobs from EOL Wallaby\n\nChange-Id: If76c31642fad5567a3a0d36b6177a8b6da5d59b8\n'}]",893796,d4510e19cbb8173030571943a06b4b0c3960396a,14200,Maksim Malchuk,mmalchuk,0,"CI: Completely drop upgrade jobs from EOL Wallaby

Change-Id: If76c31642fad5567a3a0d36b6177a8b6da5d59b8
","['zuul.d/project.yaml', 'zuul.d/jobs.yaml']"
openstack%2Fkolla-ansible~878063,openstack/kolla-ansible,master,Ib5f43a83d2267cd824f5215964d4ea1fea697e12,Fix improper designate-manage command usage.,MERGED,2023-03-21 11:10:21.000000000,2023-09-06 10:07:07.000000000,8,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 27339, 'name': 'Michal Arbet', 'email': 'michal.arbet@ultimum.io', 'username': 'michalarbet'}, {'_account_id': 32398, 'name': 'Gaël THEROND', 'display_name': 'Fl1nt', 'email': 'gael.therond@bitswalk.com', 'username': 'Fl1nt'}, {'_account_id': 32761, 'name': 'panhongyin', 'display_name': 'panhongyin', 'email': 'panhongyin@yovole.com', 'username': 'panhongyin'}]",,4,"[{'number': 2, 'created': '2023-03-21 13:36:32.000000000', 'files': ['releasenotes/notes/bug-2012292-fix-designate-pools-update-a367caf1d85c7326e.yaml', 'ansible/roles/designate/tasks/update_pools.yml'], 'message': 'Fix improper designate-manage command usage.\n\n  * Implicit use of default pools file path.\n  * Use non-destructive update operation.\n\nChange-Id: Ib5f43a83d2267cd824f5215964d4ea1fea697e12\nCloses-Bug: #2012292\n'}]",878063,65ec728f5f4f4feed65f3f3353d7a6dae17bc2da,32398,Gaël THEROND,Fl1nt,0,"Fix improper designate-manage command usage.

  * Implicit use of default pools file path.
  * Use non-destructive update operation.

Change-Id: Ib5f43a83d2267cd824f5215964d4ea1fea697e12
Closes-Bug: #2012292
","['releasenotes/notes/bug-2012292-fix-designate-pools-update-a367caf1d85c7326e.yaml', 'ansible/roles/designate/tasks/update_pools.yml']"
openstack%2Fhorizon~893606,openstack/horizon,master,I2650a00e13e2e9e07bceb078a9ce356af53f9de4,pytest-based selenium tests add image delete test,MERGED,2023-09-04 09:04:49.000000000,2023-09-06 10:01:53.000000000,37,6,"[{'_account_id': 6914, 'name': 'Tatiana Ovchinnikova', 'email': 't.v.ovtchinnikova@gmail.com', 'username': 'tmazur'}, {'_account_id': 8648, 'name': 'Radomir Dopieralski', 'email': 'openstack@dopieralski.pl', 'username': 'thesheep'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29313, 'name': 'Vishal Manchanda', 'email': 'manchandavishal143@gmail.com', 'username': 'vishalmanchanda'}, {'_account_id': 35153, 'name': 'Ashish Gupta', 'email': 'ashigupt@redhat.com', 'username': 'ashigupt', 'status': 'Redhat'}]",,8,"[{'number': 1, 'created': '2023-09-04 09:04:49.000000000', 'files': ['openstack_dashboard/test/selenium/integration/test_volumes.py', 'openstack_dashboard/test/selenium/widgets.py', 'openstack_dashboard/test/selenium/integration/test_images.py', 'openstack_dashboard/test/selenium/integration/test_instances.py'], 'message': 'pytest-based selenium tests add image delete test\n\ntest_image_delete_demo\n\n+ edited select_from_dropdown, confirm_modal\nto work for Angular and also not-Angular pages\n\nChange-Id: I2650a00e13e2e9e07bceb078a9ce356af53f9de4\n'}]",893606,db1859f74e0cc1278f81174d2e8793a47dec5d4b,35133,Jan Jasek,janjasek,0,"pytest-based selenium tests add image delete test

test_image_delete_demo

+ edited select_from_dropdown, confirm_modal
to work for Angular and also not-Angular pages

Change-Id: I2650a00e13e2e9e07bceb078a9ce356af53f9de4
","['openstack_dashboard/test/selenium/integration/test_volumes.py', 'openstack_dashboard/test/selenium/widgets.py', 'openstack_dashboard/test/selenium/integration/test_images.py', 'openstack_dashboard/test/selenium/integration/test_instances.py']"
openstack%2Fcharm-cinder-ceph-k8s~885294,openstack/charm-cinder-ceph-k8s,main,I41eb77ce71b9fd8b0a55a978df0cc3766238ebdb,Provide ceph-access relation,MERGED,2023-06-05 16:25:06.000000000,2023-09-06 09:37:15.000000000,458,9,"[{'_account_id': 10366, 'name': 'Hemanth N', 'email': 'hemanth.nakkina@canonical.com', 'username': 'Hemanth'}, {'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,12,"[{'number': 3, 'created': '2023-09-06 08:21:46.000000000', 'files': ['lib/charms/cinder_ceph_k8s/v0/ceph_access.py', 'src/charm.py', 'tests/unit/test_cinder_ceph_charm.py'], 'message': 'Provide ceph-access relation\n\nChange-Id: I41eb77ce71b9fd8b0a55a978df0cc3766238ebdb\n'}]",885294,083a1483b758d1cefd92f13338bca82184c5f661,12549,gnuoy,gnuoy,0,"Provide ceph-access relation

Change-Id: I41eb77ce71b9fd8b0a55a978df0cc3766238ebdb
","['lib/charms/cinder_ceph_k8s/v0/ceph_access.py', 'src/charm.py', 'tests/unit/test_cinder_ceph_charm.py']"
openstack%2Fkolla~850761,openstack/kolla,master,Ibc88fa962e37f6313300f2c7b19d0c42948c4376,Add additional grafana plugins install support:,ABANDONED,2022-07-22 14:51:20.000000000,2023-09-06 09:36:47.000000000,13,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 4, 'created': '2022-07-22 15:09:44.000000000', 'files': ['docker/grafana/Dockerfile.j2'], 'message': 'Add additional grafana plugins install support:\n\n  - Add a way to install additional grafana plugins.\n  - Add a way to install them offline.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/850760\nChange-Id: Ibc88fa962e37f6313300f2c7b19d0c42948c4376\nCloses-Bug: #1982588\n'}]",850761,955ef1f8f68f3c3cd6120414170dc4ddad215a0f,32398,Gaël THEROND,Fl1nt,0,"Add additional grafana plugins install support:

  - Add a way to install additional grafana plugins.
  - Add a way to install them offline.

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/850760
Change-Id: Ibc88fa962e37f6313300f2c7b19d0c42948c4376
Closes-Bug: #1982588
",['docker/grafana/Dockerfile.j2']
openstack%2Fpython-venusclient~893843,openstack/python-venusclient,master,I41e5cacc9b4e07d004dc776e04558543d7d4b225,Adding get-instance-callchain subcommand to venusclient,MERGED,2023-09-06 08:55:35.000000000,2023-09-06 09:25:48.000000000,30,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27565, 'name': 'inspurericzhang', 'email': 'zhanglf01@inspur.com', 'username': 'inspurericzhang'}, {'_account_id': 30455, 'name': 'jiasirui', 'email': 'jiasirui@inspur.com', 'username': 'JiaSiRui'}]",,1,"[{'number': 2, 'created': '2023-09-06 09:07:26.000000000', 'files': ['venusclient/v1/search_shell.py', 'venusclient/v1/search.py'], 'message': 'Adding get-instance-callchain subcommand to venusclient\n\nChange-Id: I41e5cacc9b4e07d004dc776e04558543d7d4b225\n'}]",893843,243f33518eb6bbdf3725d59533ecfc2063a6a47b,23303,howardlee,howardlee,0,"Adding get-instance-callchain subcommand to venusclient

Change-Id: I41e5cacc9b4e07d004dc776e04558543d7d4b225
","['venusclient/v1/search_shell.py', 'venusclient/v1/search.py']"
openstack%2Fkolla~893608,openstack/kolla,master,I0d627487973311de8b23dd1519d41a0cab622fac,openstack-base: add block for overriding global upper constraints,MERGED,2023-09-04 09:43:23.000000000,2023-09-06 09:01:00.000000000,14,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 24072, 'name': 'Marcin Juszkiewicz', 'email': 'mjuszkiewicz@redhat.com', 'username': 'hrw'}, {'_account_id': 32553, 'name': 'Sven Kieske', 'email': 'sven_oss@posteo.de', 'username': 'skieske'}]",,1,"[{'number': 2, 'created': '2023-09-04 10:06:58.000000000', 'files': ['docker/openstack-base/Dockerfile.j2', 'releasenotes/notes/overriding-global-upper-constraint-ca48a759c8f8d7b9.yaml'], 'message': 'openstack-base: add block for overriding global upper constraints\n\nIntroduces a new block `openstack_base_override_upper_constraints` to\nprovide users with the capability to globally override version\nconstraints for services.\n\nThis enables more flexible dependency management across all services.\n\nChange-Id: I0d627487973311de8b23dd1519d41a0cab622fac\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\n'}]",893608,8243df271a33b0c1b5ea0d093545355528d6f40d,7730,Sahid Orentino Ferdjaoui,sahid,0,"openstack-base: add block for overriding global upper constraints

Introduces a new block `openstack_base_override_upper_constraints` to
provide users with the capability to globally override version
constraints for services.

This enables more flexible dependency management across all services.

Change-Id: I0d627487973311de8b23dd1519d41a0cab622fac
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
","['docker/openstack-base/Dockerfile.j2', 'releasenotes/notes/overriding-global-upper-constraint-ca48a759c8f8d7b9.yaml']"
openstack%2Fkolla~893838,openstack/kolla,master,Idae1f66f980ed5d0562568d0f21d6a23a5ebb13e,Updated links in documentation to be safe links,ABANDONED,2023-09-06 07:58:03.000000000,2023-09-06 08:22:36.000000000,2,2,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2023-09-06 07:58:03.000000000', 'files': ['specs/ansible-multi.rst'], 'message': 'Updated links in documentation to be safe links\n\nChange-Id: Idae1f66f980ed5d0562568d0f21d6a23a5ebb13e\n'}]",893838,998030447057f8c27baba0307142b60ad23a3b28,36229,Natz cheng,Natzcheng,0,"Updated links in documentation to be safe links

Change-Id: Idae1f66f980ed5d0562568d0f21d6a23a5ebb13e
",['specs/ansible-multi.rst']
openstack%2Fansible-config_template~893711,openstack/ansible-config_template,master,If9ff06c3c808189ad351295fceed9cba25c15d5f,DNM Just testing some EDPM ansible issue in ovn role,ABANDONED,2023-09-05 08:48:34.000000000,2023-09-06 08:11:46.000000000,2,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-05 08:48:34.000000000', 'files': ['plugins/action/config_template.py'], 'message': 'DNM Just testing some EDPM ansible issue in ovn role\n\nChange-Id: If9ff06c3c808189ad351295fceed9cba25c15d5f\n'}]",893711,142c334a3163ce0f4ffeaeeb35b5874586043020,11975,Slawek Kaplonski,slaweq,0,"DNM Just testing some EDPM ansible issue in ovn role

Change-Id: If9ff06c3c808189ad351295fceed9cba25c15d5f
",['plugins/action/config_template.py']
openstack%2Fceilometer-powervm~850985,openstack/ceilometer-powervm,master,I5bb5bd3337e1b14de2c5cc6b3095eaf2e527d624,Use TOX_CONSTRAINTS_FILE,NEW,2022-07-27 01:33:53.000000000,2023-09-06 07:10:21.000000000,2,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2022-07-27 01:33:53.000000000', 'files': ['tox.ini'], 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I5bb5bd3337e1b14de2c5cc6b3095eaf2e527d624\n'}]",850985,9e9b082296012ad4700f688c21cec0ab4bb83110,35058,Ke Niu,niuke,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I5bb5bd3337e1b14de2c5cc6b3095eaf2e527d624
",['tox.ini']
openstack%2Fkolla~893484,openstack/kolla,master,I0e9d482b1b26d3e4deddbf6d4a6c83bd8e021269,Document KOLLA_UPGRADE_CHECK environment variable,MERGED,2023-09-01 09:22:40.000000000,2023-09-06 06:26:28.000000000,4,0,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 32553, 'name': 'Sven Kieske', 'email': 'sven_oss@posteo.de', 'username': 'skieske'}]",,3,"[{'number': 2, 'created': '2023-09-01 09:28:33.000000000', 'files': ['doc/source/admin/kolla_api.rst'], 'message': 'Document KOLLA_UPGRADE_CHECK environment variable\n\nAdds docs for the KOLLA_UPGRADE_CHECK variable, introduced here:\nhttps://review.opendev.org/c/openstack/kolla/+/878744\n\nThis feature currently hard-codes the Nova upgrade check, but should be\nextended in the future to support the other services that have upgrade\nchecks. (Placement, for example:\nhttps://docs.openstack.org/placement/latest/cli/placement-status.html)\nThe docs reflect this intention.\n\nChange-Id: I0e9d482b1b26d3e4deddbf6d4a6c83bd8e021269\n'}]",893484,ec40b9de283deecb845f4a519809144f8b19de4c,35263,Matt Crees,mattcrees,0,"Document KOLLA_UPGRADE_CHECK environment variable

Adds docs for the KOLLA_UPGRADE_CHECK variable, introduced here:
https://review.opendev.org/c/openstack/kolla/+/878744

This feature currently hard-codes the Nova upgrade check, but should be
extended in the future to support the other services that have upgrade
checks. (Placement, for example:
https://docs.openstack.org/placement/latest/cli/placement-status.html)
The docs reflect this intention.

Change-Id: I0e9d482b1b26d3e4deddbf6d4a6c83bd8e021269
",['doc/source/admin/kolla_api.rst']
openstack%2Fpython-saharaclient~893328,openstack/python-saharaclient,master,I32607b90cba11c2be32b6e807d0e4a42da45cb9c,"Remove redundant ""="" to imporve doc format",ABANDONED,2023-09-06 04:24:40.000000000,2023-09-06 05:43:51.000000000,15,15,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2023-09-06 04:24:40.000000000', 'files': ['releasenotes/source/ocata.rst', 'releasenotes/source/pike.rst', 'releasenotes/source/index.rst', 'releasenotes/source/rocky.rst', 'releasenotes/source/stein.rst'], 'message': 'Remove redundant ""="" to imporve doc format\n\nChange-Id: I32607b90cba11c2be32b6e807d0e4a42da45cb9c\n'}]",893328,f1c23edaaa4e7218b3574e07487a7b2100ad399b,29423,zhouxinyong,zhouxinyong,0,"Remove redundant ""="" to imporve doc format

Change-Id: I32607b90cba11c2be32b6e807d0e4a42da45cb9c
","['releasenotes/source/ocata.rst', 'releasenotes/source/pike.rst', 'releasenotes/source/index.rst', 'releasenotes/source/rocky.rst', 'releasenotes/source/stein.rst']"
openstack%2Fsahara~893825,openstack/sahara,master,Ie22a98532953c88de7f4937397b5982281c657fc,"Modify the URL field in the document, uniform case",MERGED,2023-09-06 04:43:04.000000000,2023-09-06 05:15:18.000000000,2,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29423, 'name': 'zhouxinyong', 'email': 'zhouxinyong@inspur.com', 'username': 'zhouxinyong'}]",,0,"[{'number': 1, 'created': '2023-09-06 04:43:04.000000000', 'files': ['doc/source/user/dashboard-user-guide.rst'], 'message': 'Modify the URL field in the document, uniform case\n\nChange-Id: Ie22a98532953c88de7f4937397b5982281c657fc\n'}]",893825,f061c30f2bae19a135585fead245554579b062b7,36096,guolimin,guolimin.lc,0,"Modify the URL field in the document, uniform case

Change-Id: Ie22a98532953c88de7f4937397b5982281c657fc
",['doc/source/user/dashboard-user-guide.rst']
openstack%2Fbifrost~893784,openstack/bifrost,bugfix/11.0,Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235,Remove Fedora from the CI,MERGED,2023-09-05 16:14:23.000000000,2023-09-06 03:24:29.000000000,7,80,"[{'_account_id': 11655, 'name': 'Julia Kreger', 'email': 'juliaashleykreger@gmail.com', 'username': 'jkreger', 'status': 'Flying to the moon with a Jetpack!'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-09-06 03:18:29.000000000', 'files': ['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml'], 'message': 'Remove Fedora from the CI\n\nIt is currently broken since the only supported version (36) is EOL.\nThe OpenDev infrastructure will stop supporting Fedora:\nhttps://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/\n\nWhile master branch had a new CI job added to cover netboot,\nthis change is not being carried back on stable branches in\norder to minimize change complexity while focusing on remvoal\nof Fedora from CI.\n\nWhen backporting to Zed, dropped docs changes.\n\n... And noop out the CI jobs for this old branch since they are\nin a state which cannot be repaired at this point in time.\n\nChange-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235\n(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)\n(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)\n(cherry picked from commit 0e85320231e6e72398880eaf4b2c7744431d67ec)\n(cherry picked from commit 16feed0f54f4bba79dafdd2efd9b98da3cb8675e)\n(cherry picked from commit 5279b33d4064baef5b7de889a2b0f8af8c737fc6)\n(cherry picked from commit ce75d779afb3e383efc7c9ce6d043e6293c8b755)\n'}]",893784,9d7e0f703cdced0c364c03c130cd1c0cbe577b15,11655,Julia Kreger,jkreger,0,"Remove Fedora from the CI

It is currently broken since the only supported version (36) is EOL.
The OpenDev infrastructure will stop supporting Fedora:
https://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/

While master branch had a new CI job added to cover netboot,
this change is not being carried back on stable branches in
order to minimize change complexity while focusing on remvoal
of Fedora from CI.

When backporting to Zed, dropped docs changes.

... And noop out the CI jobs for this old branch since they are
in a state which cannot be repaired at this point in time.

Change-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235
(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)
(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)
(cherry picked from commit 0e85320231e6e72398880eaf4b2c7744431d67ec)
(cherry picked from commit 16feed0f54f4bba79dafdd2efd9b98da3cb8675e)
(cherry picked from commit 5279b33d4064baef5b7de889a2b0f8af8c737fc6)
(cherry picked from commit ce75d779afb3e383efc7c9ce6d043e6293c8b755)
","['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml']"
openstack%2Fbifrost~893783,openstack/bifrost,bugfix/11.1,Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235,Remove Fedora from the CI,MERGED,2023-09-05 16:13:36.000000000,2023-09-06 03:24:28.000000000,7,80,"[{'_account_id': 11655, 'name': 'Julia Kreger', 'email': 'juliaashleykreger@gmail.com', 'username': 'jkreger', 'status': 'Flying to the moon with a Jetpack!'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-09-06 03:19:53.000000000', 'files': ['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml'], 'message': 'Remove Fedora from the CI\n\nIt is currently broken since the only supported version (36) is EOL.\nThe OpenDev infrastructure will stop supporting Fedora:\nhttps://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/\n\nWhile master branch had a new CI job added to cover netboot,\nthis change is not being carried back on stable branches in\norder to minimize change complexity while focusing on remvoal\nof Fedora from CI.\n\nWhen backporting to Zed, dropped docs changes.\n\n... And noop out the CI jobs for this old branch since they are\nin a state which cannot be repaired at this point in time.\n\nChange-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235\n(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)\n(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)\n(cherry picked from commit 0e85320231e6e72398880eaf4b2c7744431d67ec)\n(cherry picked from commit 16feed0f54f4bba79dafdd2efd9b98da3cb8675e)\n(cherry picked from commit 5279b33d4064baef5b7de889a2b0f8af8c737fc6)\n'}]",893783,d513713bd8cc34b16dbee6eb8864643498a8548a,11655,Julia Kreger,jkreger,0,"Remove Fedora from the CI

It is currently broken since the only supported version (36) is EOL.
The OpenDev infrastructure will stop supporting Fedora:
https://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/

While master branch had a new CI job added to cover netboot,
this change is not being carried back on stable branches in
order to minimize change complexity while focusing on remvoal
of Fedora from CI.

When backporting to Zed, dropped docs changes.

... And noop out the CI jobs for this old branch since they are
in a state which cannot be repaired at this point in time.

Change-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235
(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)
(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)
(cherry picked from commit 0e85320231e6e72398880eaf4b2c7744431d67ec)
(cherry picked from commit 16feed0f54f4bba79dafdd2efd9b98da3cb8675e)
(cherry picked from commit 5279b33d4064baef5b7de889a2b0f8af8c737fc6)
","['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml']"
openstack%2Fbifrost~893781,openstack/bifrost,bugfix/12.0,Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235,Remove Fedora from the CI,MERGED,2023-09-05 16:12:13.000000000,2023-09-06 03:22:53.000000000,7,84,"[{'_account_id': 11655, 'name': 'Julia Kreger', 'email': 'juliaashleykreger@gmail.com', 'username': 'jkreger', 'status': 'Flying to the moon with a Jetpack!'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-09-06 03:22:04.000000000', 'files': ['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml'], 'message': 'Remove Fedora from the CI\n\nIt is currently broken since the only supported version (36) is EOL.\nThe OpenDev infrastructure will stop supporting Fedora:\nhttps://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/\n\nWhile master branch had a new CI job added to cover netboot,\nthis change is not being carried back on stable branches in\norder to minimize change complexity while focusing on remvoal\nof Fedora from CI.\n\nWhen backporting to Zed, dropped docs changes.\n\n... And noop out the CI jobs for this old branch since they are\nin a state which cannot be repaired at this point in time.\n\nChange-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235\n(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)\n(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)\n(cherry picked from commit 0e85320231e6e72398880eaf4b2c7744431d67ec)\n(cherry picked from commit 16feed0f54f4bba79dafdd2efd9b98da3cb8675e)\n'}]",893781,0003b142e8e0f12f5dff595c275a085af52cab93,11655,Julia Kreger,jkreger,0,"Remove Fedora from the CI

It is currently broken since the only supported version (36) is EOL.
The OpenDev infrastructure will stop supporting Fedora:
https://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/

While master branch had a new CI job added to cover netboot,
this change is not being carried back on stable branches in
order to minimize change complexity while focusing on remvoal
of Fedora from CI.

When backporting to Zed, dropped docs changes.

... And noop out the CI jobs for this old branch since they are
in a state which cannot be repaired at this point in time.

Change-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235
(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)
(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)
(cherry picked from commit 0e85320231e6e72398880eaf4b2c7744431d67ec)
(cherry picked from commit 16feed0f54f4bba79dafdd2efd9b98da3cb8675e)
","['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml']"
openstack%2Fbifrost~893787,openstack/bifrost,bugfix/8.3,Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235,Remove Fedora from the CI,MERGED,2023-09-05 16:18:25.000000000,2023-09-06 03:18:36.000000000,6,45,"[{'_account_id': 11655, 'name': 'Julia Kreger', 'email': 'juliaashleykreger@gmail.com', 'username': 'jkreger', 'status': 'Flying to the moon with a Jetpack!'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-09-06 03:16:23.000000000', 'files': ['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml'], 'message': 'Remove Fedora from the CI\n\nIt is currently broken since the only supported version (36) is EOL.\nThe OpenDev infrastructure will stop supporting Fedora:\nhttps://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/\n\nWhile master branch had a new CI job added to cover netboot,\nthis change is not being carried back on stable branches in\norder to minimize change complexity while focusing on remvoal\nof Fedora from CI.\n\nWhen backporting to Zed, dropped docs changes.\n\n... And noop out the CI jobs for this old branch since they are\nin a state which cannot be repaired at this point in time.\n\nChange-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235\n(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)\n(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)\n(cherry picked from commit 0e85320231e6e72398880eaf4b2c7744431d67ec)\n(cherry picked from commit 16feed0f54f4bba79dafdd2efd9b98da3cb8675e)\n(cherry picked from commit 5279b33d4064baef5b7de889a2b0f8af8c737fc6)\n(cherry picked from commit ce75d779afb3e383efc7c9ce6d043e6293c8b755)\n(cherry picked from commit 74ab40da5c8ffae90e6194c7a1e1cea509b4d27b)\n(cherry picked from commit 2452c1fb95838d76e02d64d0ccaf8be97b0e0db7)\n'}]",893787,3518c785d0e5a8e9652106609a6faf9995945aab,11655,Julia Kreger,jkreger,0,"Remove Fedora from the CI

It is currently broken since the only supported version (36) is EOL.
The OpenDev infrastructure will stop supporting Fedora:
https://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/

While master branch had a new CI job added to cover netboot,
this change is not being carried back on stable branches in
order to minimize change complexity while focusing on remvoal
of Fedora from CI.

When backporting to Zed, dropped docs changes.

... And noop out the CI jobs for this old branch since they are
in a state which cannot be repaired at this point in time.

Change-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235
(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)
(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)
(cherry picked from commit 0e85320231e6e72398880eaf4b2c7744431d67ec)
(cherry picked from commit 16feed0f54f4bba79dafdd2efd9b98da3cb8675e)
(cherry picked from commit 5279b33d4064baef5b7de889a2b0f8af8c737fc6)
(cherry picked from commit ce75d779afb3e383efc7c9ce6d043e6293c8b755)
(cherry picked from commit 74ab40da5c8ffae90e6194c7a1e1cea509b4d27b)
(cherry picked from commit 2452c1fb95838d76e02d64d0ccaf8be97b0e0db7)
","['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml']"
openstack%2Fbifrost~893788,openstack/bifrost,bugfix/8.2,Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235,Remove Fedora from the CI,MERGED,2023-09-05 16:18:49.000000000,2023-09-06 03:16:22.000000000,6,41,"[{'_account_id': 11655, 'name': 'Julia Kreger', 'email': 'juliaashleykreger@gmail.com', 'username': 'jkreger', 'status': 'Flying to the moon with a Jetpack!'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-09-06 03:14:57.000000000', 'files': ['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml'], 'message': 'Remove Fedora from the CI\n\nIt is currently broken since the only supported version (36) is EOL.\nThe OpenDev infrastructure will stop supporting Fedora:\nhttps://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/\n\nWhile master branch had a new CI job added to cover netboot,\nthis change is not being carried back on stable branches in\norder to minimize change complexity while focusing on remvoal\nof Fedora from CI.\n\nWhen backporting to Zed, dropped docs changes.\n\n... And noop out the CI jobs for this old branch since they are\nin a state which cannot be repaired at this point in time.\n\nChange-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235\n(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)\n(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)\n(cherry picked from commit 0e85320231e6e72398880eaf4b2c7744431d67ec)\n(cherry picked from commit 16feed0f54f4bba79dafdd2efd9b98da3cb8675e)\n(cherry picked from commit 5279b33d4064baef5b7de889a2b0f8af8c737fc6)\n(cherry picked from commit ce75d779afb3e383efc7c9ce6d043e6293c8b755)\n(cherry picked from commit 74ab40da5c8ffae90e6194c7a1e1cea509b4d27b)\n(cherry picked from commit 2452c1fb95838d76e02d64d0ccaf8be97b0e0db7)\n(cherry picked from commit 3a27d32499ee116385bdc22c13904d773ea135da)\n'}]",893788,0e76cf7da85d6bb19815b68b4cfe06ff54f18dc1,11655,Julia Kreger,jkreger,0,"Remove Fedora from the CI

It is currently broken since the only supported version (36) is EOL.
The OpenDev infrastructure will stop supporting Fedora:
https://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/

While master branch had a new CI job added to cover netboot,
this change is not being carried back on stable branches in
order to minimize change complexity while focusing on remvoal
of Fedora from CI.

When backporting to Zed, dropped docs changes.

... And noop out the CI jobs for this old branch since they are
in a state which cannot be repaired at this point in time.

Change-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235
(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)
(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)
(cherry picked from commit 0e85320231e6e72398880eaf4b2c7744431d67ec)
(cherry picked from commit 16feed0f54f4bba79dafdd2efd9b98da3cb8675e)
(cherry picked from commit 5279b33d4064baef5b7de889a2b0f8af8c737fc6)
(cherry picked from commit ce75d779afb3e383efc7c9ce6d043e6293c8b755)
(cherry picked from commit 74ab40da5c8ffae90e6194c7a1e1cea509b4d27b)
(cherry picked from commit 2452c1fb95838d76e02d64d0ccaf8be97b0e0db7)
(cherry picked from commit 3a27d32499ee116385bdc22c13904d773ea135da)
","['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml']"
openstack%2Frequirements~893665,openstack/requirements,master,I9697bf8722f7fe24d928f627c6080f48aacf97a0,"Revert ""Add Spinx RTD theme""",MERGED,2023-09-04 14:59:46.000000000,2023-09-06 02:45:51.000000000,0,2,"[{'_account_id': 11904, 'name': 'Sean McGinnis', 'email': 'sean.mcginnis@gmail.com', 'username': 'SeanM'}, {'_account_id': 14288, 'name': 'Matthew Thode', 'display_name': 'prometheanfire', 'email': 'mthode@mthode.org', 'username': 'prometheanfire'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2023-09-04 14:59:46.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'message': 'Revert ""Add Spinx RTD theme""\n\nThis reverts commit 45eeb10dd45d282109cd8f34e251a0449c3534ab. OpenStack\nprojects should be using openstackdocstheme. In addition, the current\nrelease is not compatible with Sphinx 7.x.\n\nChange-Id: I9697bf8722f7fe24d928f627c6080f48aacf97a0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",893665,237d49d5ba63b817eece6376a284e990654f4ea5,15334,Stephen Finucane,sfinucan,0,"Revert ""Add Spinx RTD theme""

This reverts commit 45eeb10dd45d282109cd8f34e251a0449c3534ab. OpenStack
projects should be using openstackdocstheme. In addition, the current
release is not compatible with Sphinx 7.x.

Change-Id: I9697bf8722f7fe24d928f627c6080f48aacf97a0
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
","['global-requirements.txt', 'upper-constraints.txt']"
openstack%2Fpuppet-openstack-integration~893695,openstack/puppet-openstack-integration,master,I6f40c18b716e12cbe7e0eacd18eff42528c80d2f,Updated from Puppet OpenStack modules constraints,MERGED,2023-09-05 02:35:09.000000000,2023-09-06 02:21:08.000000000,1,1,"[{'_account_id': 9816, 'name': 'Takashi Kajinami', 'email': 'kajinamit@oss.nttdata.com', 'username': 'kajinamit'}, {'_account_id': 14985, 'name': 'Alex Schultz', 'email': 'aschultz@next-development.com', 'username': 'mwhahaha'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-05 02:35:09.000000000', 'files': ['Puppetfile'], 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I6f40c18b716e12cbe7e0eacd18eff42528c80d2f\n'}]",893695,40b2dc148ea717e24acd267014dabb07bfd548a0,11131,OpenStack Proposal Bot,proposal-bot,1,"Updated from Puppet OpenStack modules constraints

Change-Id: I6f40c18b716e12cbe7e0eacd18eff42528c80d2f
",['Puppetfile']
openstack%2Fpython-tripleoclient~893684,openstack/python-tripleoclient,stable/wallaby,If35ff8a1b3d9b4e93e6151c9c28d8e9c707bc64a,Fix node extract when no network-isolation,MERGED,2023-09-04 18:02:25.000000000,2023-09-06 01:23:25.000000000,142,7,"[{'_account_id': 4571, 'name': 'Steve Baker', 'email': 'sbaker@redhat.com', 'username': 'steve-stevebaker'}, {'_account_id': 11166, 'name': 'Lukas Bezdicka', 'email': 'social@v3.sk', 'username': 'xbezdick'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22954, 'name': 'Juan Badia Payno', 'email': 'jbadiapa@redhat.com', 'username': 'jbadiapa'}, {'_account_id': 31245, 'name': 'Daniel Bengtsson', 'email': 'dbengt@redhat.com', 'username': 'damani42'}]",,0,"[{'number': 1, 'created': '2023-09-04 18:02:25.000000000', 'files': ['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py'], 'message': 'Fix node extract when no network-isolation\n\nWhen network isolation is not enabled by\nenvironments/network-isolation.yaml the networks in the default\nnetworks file is not created. But the RoleNetIpMap still have\nentries for each network all with the ctlplane IP address.\n\nThis change re-factors the code to ignore RoleNetIpMap entries\nwhen the network is not found/does not exist.\n\nChange-Id: If35ff8a1b3d9b4e93e6151c9c28d8e9c707bc64a\nCloses-Bug: #2027580\n'}]",893684,b6fb1e58b1930484a850b20e75b508b106dab429,24245,Harald Jensås,harald.jensas,0,"Fix node extract when no network-isolation

When network isolation is not enabled by
environments/network-isolation.yaml the networks in the default
networks file is not created. But the RoleNetIpMap still have
entries for each network all with the ctlplane IP address.

This change re-factors the code to ignore RoleNetIpMap entries
when the network is not found/does not exist.

Change-Id: If35ff8a1b3d9b4e93e6151c9c28d8e9c707bc64a
Closes-Bug: #2027580
","['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py']"
openstack%2Fopenstack-ansible-os_nova~893797,openstack/openstack-ansible-os_nova,master,Id2da29464359b4845c7d05e3bec53759341f4bad,Config has changed for pci passthrough.,MERGED,2023-09-05 17:53:41.000000000,2023-09-06 00:11:16.000000000,11,6,"[{'_account_id': 13095, 'name': 'Marc Gariépy', 'email': 'gariepy.marc@gmail.com', 'username': 'mgariepy'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 25023, 'name': 'Jonathan Rosser', 'email': 'jonathan.rosser@rd.bbc.co.uk', 'username': 'jrosser'}, {'_account_id': 28619, 'name': 'Dmitriy Rabotyagov', 'email': 'noonedeadpunk@gmail.com', 'username': 'noonedeadpunk'}]",,6,"[{'number': 6, 'created': '2023-09-05 18:29:00.000000000', 'files': ['templates/nova.conf.j2', 'releasenotes/notes/nova_device_spec-0175a30b2295b768.yaml', 'defaults/main.yml'], 'message': 'Config has changed for pci passthrough.\n\nupdating the config for pci devices since the old config is deprecated.\nhttps://docs.openstack.org/nova/latest/configuration/config.html#pci.device_spec\n\nChange-Id: Id2da29464359b4845c7d05e3bec53759341f4bad\n'}]",893797,9d2924fa80a9c71b6ed0f6cd7bb8f6b9ad9450fe,13095,Marc Gariépy,mgariepy,0,"Config has changed for pci passthrough.

updating the config for pci devices since the old config is deprecated.
https://docs.openstack.org/nova/latest/configuration/config.html#pci.device_spec

Change-Id: Id2da29464359b4845c7d05e3bec53759341f4bad
","['templates/nova.conf.j2', 'releasenotes/notes/nova_device_spec-0175a30b2295b768.yaml', 'defaults/main.yml']"
openstack%2Fkolla-ansible~893453,openstack/kolla-ansible,stable/zed,I2efe7ef72c053a98f37cc7c2369ef68b4cd8a824,Added precheck for OpenSearch migration,MERGED,2023-09-01 13:39:04.000000000,2023-09-05 23:23:31.000000000,44,0,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 14826, 'name': 'Mark Goddard', 'email': 'markgoddard86@gmail.com', 'username': 'mgoddard'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 23084, 'name': 'Bartosz Bezak', 'email': 'bartosz@stackhpc.com', 'username': 'b.bezak'}, {'_account_id': 24072, 'name': 'Marcin Juszkiewicz', 'email': 'mjuszkiewicz@redhat.com', 'username': 'hrw'}, {'_account_id': 27339, 'name': 'Michal Arbet', 'email': 'michal.arbet@ultimum.io', 'username': 'michalarbet'}, {'_account_id': 32553, 'name': 'Sven Kieske', 'email': 'sven_oss@posteo.de', 'username': 'skieske'}, {'_account_id': 36201, 'name': 'Shanjiayi', 'email': 'shanjiayi@yovole.com', 'username': 'Shanjiayi'}, {'_account_id': 36216, 'name': 'WangYun', 'email': 'wangyun@yovole.com', 'username': 'wangyun'}]",,5,"[{'number': 6, 'created': '2023-09-04 08:59:12.000000000', 'files': ['ansible/roles/opensearch/tasks/upgrade.yml', 'doc/source/reference/logging-and-monitoring/central-logging-guide.rst', 'releasenotes/notes/fix-opensearch-migration-old-indexes-e329d741f02be437.yaml'], 'message': 'Added precheck for OpenSearch migration\n\nMigration to OpenSearch 2.x on upgrade will fail when indexes created\nin Elasticsearch 6.x will be present. Added pre-migration check for this case.\nIndexes should be re-indexed in OpenSearch 1.x (or Elasticsearch 7.x)\nbefore upgrading to OpenSearch 2.x. [1][2]\n\n[1] https://opensearch.org/docs/2.9/install-and-configure/upgrade-opensearch/index/#compatibility\n[2] https://www.elastic.co/guide/en/elasticsearch/reference/7.10/docs-reindex.html\n\nCloses-Bug: #2017900\nChange-Id: I2efe7ef72c053a98f37cc7c2369ef68b4cd8a824\n'}]",893453,139c872aff9802717e91baa5db56cbf1061f32ab,23084,Bartosz Bezak,b.bezak,0,"Added precheck for OpenSearch migration

Migration to OpenSearch 2.x on upgrade will fail when indexes created
in Elasticsearch 6.x will be present. Added pre-migration check for this case.
Indexes should be re-indexed in OpenSearch 1.x (or Elasticsearch 7.x)
before upgrading to OpenSearch 2.x. [1][2]

[1] https://opensearch.org/docs/2.9/install-and-configure/upgrade-opensearch/index/#compatibility
[2] https://www.elastic.co/guide/en/elasticsearch/reference/7.10/docs-reindex.html

Closes-Bug: #2017900
Change-Id: I2efe7ef72c053a98f37cc7c2369ef68b4cd8a824
","['ansible/roles/opensearch/tasks/upgrade.yml', 'doc/source/reference/logging-and-monitoring/central-logging-guide.rst', 'releasenotes/notes/fix-opensearch-migration-old-indexes-e329d741f02be437.yaml']"
openstack%2Fswift~887235,openstack/swift,master,I31f622f6ebfa255d4c52089ca182cbf665c40a30,proxy: Pop ignore-range backend header on resume,MERGED,2023-06-28 23:07:40.000000000,2023-09-05 22:58:17.000000000,13,0,"[{'_account_id': 7233, 'name': 'Matthew Oliver', 'email': 'matt@oliver.net.au', 'username': 'mattoliverau'}, {'_account_id': 7847, 'name': 'Alistair Coles', 'email': 'alistairncoles@gmail.com', 'username': 'acoles'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34892, 'name': 'ASHWIN A NAIR', 'display_name': 'indianwhocodes', 'email': 'nairashwin952013@gmail.com', 'username': 'indianwhocodes', 'status': 'Nvidia'}]",,7,"[{'number': 1, 'created': '2023-06-28 23:07:40.000000000', 'files': ['test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/base.py'], 'message': 'proxy: Pop ignore-range backend header on resume\n\nThe proxy has a class of ""recoverable"" timeouts; when they trip, it\ntries to resume from another node, with a range offset that accounts\nfor the bytes already served.\n\nIf we set the X-Backend-Ignore-Range-If-Metadata-Present header (like\nwe do in SLO), it may cause the object servers to return the *whole*\nobject. When that happens on the initial GET, the proxy is smart enough\nto still track the appropriate range to fetch when resuming -- but then\nit would send the ignore-range header so the new object-server would\nsend the whole object.\n\nThis would cause problems in one of two ways:\n\n    For replicated policies, too many bytes would be yielded out of\n    the proxy app. proxy-logging would notice, truncate the response,\n    and log a warning about it.\n\n    For EC policies, at least one frag iter would have the wrong\n    length, causing a decode error from pyeclib.\n\nNow, pop off that header, if present.\n\nChange-Id: I31f622f6ebfa255d4c52089ca182cbf665c40a30\n'}]",887235,20757612c309631fcdd729a03e14ca71d1c55790,15343,Tim Burke,tburke,0,"proxy: Pop ignore-range backend header on resume

The proxy has a class of ""recoverable"" timeouts; when they trip, it
tries to resume from another node, with a range offset that accounts
for the bytes already served.

If we set the X-Backend-Ignore-Range-If-Metadata-Present header (like
we do in SLO), it may cause the object servers to return the *whole*
object. When that happens on the initial GET, the proxy is smart enough
to still track the appropriate range to fetch when resuming -- but then
it would send the ignore-range header so the new object-server would
send the whole object.

This would cause problems in one of two ways:

    For replicated policies, too many bytes would be yielded out of
    the proxy app. proxy-logging would notice, truncate the response,
    and log a warning about it.

    For EC policies, at least one frag iter would have the wrong
    length, causing a decode error from pyeclib.

Now, pop off that header, if present.

Change-Id: I31f622f6ebfa255d4c52089ca182cbf665c40a30
","['test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/base.py']"
openstack%2Fopenstack-ansible-os_keystone~893701,openstack/openstack-ansible-os_keystone,master,I4deeacd9d953e3bf1bde208a4011455f8dd6fbe0,Fix docs jobs after sphinx update,MERGED,2023-09-05 06:26:33.000000000,2023-09-05 22:32:14.000000000,1,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 25023, 'name': 'Jonathan Rosser', 'email': 'jonathan.rosser@rd.bbc.co.uk', 'username': 'jrosser'}, {'_account_id': 31542, 'name': 'Andrew Bonney', 'email': 'andrew.bonney@bbc.co.uk', 'username': 'andrewbonney'}]",,0,"[{'number': 1, 'created': '2023-09-05 06:26:33.000000000', 'files': ['doc/source/configure-federation-sp.rst'], 'message': 'Fix docs jobs after sphinx update\n\nDoc jobs for the role are failing now with line being too long. Adding\nnew line fix the issue as link is treated properly afterwards.\n\nChange-Id: I4deeacd9d953e3bf1bde208a4011455f8dd6fbe0\n'}]",893701,f66934de35c60692279c2731cb40e2a4de2d319e,28619,Dmitriy Rabotyagov,noonedeadpunk,0,"Fix docs jobs after sphinx update

Doc jobs for the role are failing now with line being too long. Adding
new line fix the issue as link is treated properly afterwards.

Change-Id: I4deeacd9d953e3bf1bde208a4011455f8dd6fbe0
",['doc/source/configure-federation-sp.rst']
openstack%2Fpython-cinderclient~893573,openstack/python-cinderclient,master,I1144ed99b98e91035c88bc4cc8a065ab0249a012,Use generic testing template,MERGED,2023-09-01 21:59:47.000000000,2023-09-05 19:33:24.000000000,1,1,"[{'_account_id': 9236, 'name': 'Jon Bernard', 'email': 'jobernar@redhat.com', 'username': 'jbernard'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27615, 'name': 'Rajat Dhasmana', 'email': 'rajatdhasmana@gmail.com', 'username': 'whoami-rajat'}]",,2,"[{'number': 1, 'created': '2023-09-01 21:59:47.000000000', 'files': ['.zuul.yaml'], 'message': ""Use generic testing template\n\nChange If402f9ae0ca06fec0 replaced cycle-specific testing templates\nthat had to be changed in each project's zuul config file with a\ngeneric template that only needs to be updated in one place, namely,\nin the openstack-zuul-jobs repo.\n\nApparently cinderclient didn't get the memo, so we fix that now.\n\nChange-Id: I1144ed99b98e91035c88bc4cc8a065ab0249a012\n""}]",893573,1c3fb4f0683656349f5eabf07651527f9dee6d36,5314,Brian Rosmaita,brian-rosmaita,0,"Use generic testing template

Change If402f9ae0ca06fec0 replaced cycle-specific testing templates
that had to be changed in each project's zuul config file with a
generic template that only needs to be updated in one place, namely,
in the openstack-zuul-jobs repo.

Apparently cinderclient didn't get the memo, so we fix that now.

Change-Id: I1144ed99b98e91035c88bc4cc8a065ab0249a012
",['.zuul.yaml']
openstack%2Fswift~893735,openstack/swift,master,I2945ae725f97ee56e9c7ad580168ec8091f2049a,debug_logger: ensure NOTICE level is registered,MERGED,2023-09-05 13:54:24.000000000,2023-09-05 18:36:22.000000000,3,0,"[{'_account_id': 1179, 'name': 'Clay Gerrard', 'email': 'clay.gerrard@gmail.com', 'username': 'clay-gerrard'}, {'_account_id': 15343, 'name': 'Tim Burke', 'email': 'tburke@nvidia.com', 'username': 'tburke'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,3,"[{'number': 3, 'created': '2023-09-05 15:22:10.000000000', 'files': ['test/debug_logger.py'], 'message': ""debug_logger: ensure NOTICE level is registered\n\nThe NOTICE log level (25) is added to logging when utils.monkey_patch\nis executed. Depending on test execution order, this may not have\nhappened when some unit tests run, so LogRecords at NOTICE level may\nhave the default level name of 'Level 25'. FakeLogger doesn't have a\nkey in its lines dict for 'Level 25', so those tests would blow up.\n\nCloses-Bug: #2034254\nRelated-Change: I6f35ad41414898fb7dc5da422f524eb52ff2940f\nChange-Id: I2945ae725f97ee56e9c7ad580168ec8091f2049a\n""}]",893735,4a80963b409a5da73bc18185b4754977d1837130,7847,Alistair Coles,acoles,0,"debug_logger: ensure NOTICE level is registered

The NOTICE log level (25) is added to logging when utils.monkey_patch
is executed. Depending on test execution order, this may not have
happened when some unit tests run, so LogRecords at NOTICE level may
have the default level name of 'Level 25'. FakeLogger doesn't have a
key in its lines dict for 'Level 25', so those tests would blow up.

Closes-Bug: #2034254
Related-Change: I6f35ad41414898fb7dc5da422f524eb52ff2940f
Change-Id: I2945ae725f97ee56e9c7ad580168ec8091f2049a
",['test/debug_logger.py']
openstack%2Fpython-brick-cinderclient-ext~893574,openstack/python-brick-cinderclient-ext,master,Ie9addb528f9509f66d649eee19a529ba5523e389,Use generic testing template,MERGED,2023-09-01 21:59:53.000000000,2023-09-05 18:18:10.000000000,1,1,"[{'_account_id': 9236, 'name': 'Jon Bernard', 'email': 'jobernar@redhat.com', 'username': 'jbernard'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27615, 'name': 'Rajat Dhasmana', 'email': 'rajatdhasmana@gmail.com', 'username': 'whoami-rajat'}]",,2,"[{'number': 1, 'created': '2023-09-01 21:59:53.000000000', 'files': ['.zuul.yaml'], 'message': ""Use generic testing template\n\nChange If402f9ae0ca06fec0 replaced cycle-specific testing templates\nthat had to be changed in each project's zuul config file with a\ngeneric template that only needs to be updated in one place, namely,\nin the openstack-zuul-jobs repo.\n\nApparently brick-cinderclient-ext didn't get the memo, so we fix\nthat now.\n\nChange-Id: Ie9addb528f9509f66d649eee19a529ba5523e389\n""}]",893574,46202b41cf2c0f929ab575a483983aaa19da0828,5314,Brian Rosmaita,brian-rosmaita,0,"Use generic testing template

Change If402f9ae0ca06fec0 replaced cycle-specific testing templates
that had to be changed in each project's zuul config file with a
generic template that only needs to be updated in one place, namely,
in the openstack-zuul-jobs repo.

Apparently brick-cinderclient-ext didn't get the memo, so we fix
that now.

Change-Id: Ie9addb528f9509f66d649eee19a529ba5523e389
",['.zuul.yaml']
openstack%2Fos-brick~893572,openstack/os-brick,master,I8202283d5bd5ecede3414fe3e92e95e743df2f67,Use generic testing template,MERGED,2023-09-01 21:59:39.000000000,2023-09-05 18:10:16.000000000,1,1,"[{'_account_id': 4523, 'name': 'Eric Harney', 'email': 'eharney@redhat.com', 'username': 'eharney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27615, 'name': 'Rajat Dhasmana', 'email': 'rajatdhasmana@gmail.com', 'username': 'whoami-rajat'}]","[{'rev_nbr': 1, 'author': '2023-09-01 22:27:30.000000000', 'date': '2023-09-01 22:27:30.000000000'}, {'rev_nbr': 1, 'author': '2023-09-01 22:29:53.000000000', 'date': '2023-09-01 22:29:53.000000000'}, {'rev_nbr': 1, 'author': '2023-09-01 22:55:14.000000000', 'date': '2023-09-01 22:55:14.000000000'}, {'rev_nbr': 1, 'author': '2023-09-02 00:00:30.000000000', 'date': '2023-09-02 00:00:30.000000000'}, {'rev_nbr': 1, 'author': '2023-09-02 00:28:53.000000000', 'date': '2023-09-02 00:28:53.000000000'}, {'rev_nbr': 1, 'author': '2023-09-02 00:40:49.000000000', 'date': '2023-09-02 00:40:49.000000000'}, {'rev_nbr': 1, 'author': '2023-09-02 00:51:01.000000000', 'date': '2023-09-02 00:51:01.000000000'}, {'rev_nbr': 1, 'author': '2023-09-02 00:56:34.000000000', 'date': '2023-09-02 00:56:34.000000000'}, {'rev_nbr': 1, 'author': '2023-09-02 16:31:44.000000000', 'date': '2023-09-02 16:31:44.000000000'}, {'rev_nbr': 1, 'author': '2023-09-04 05:59:17.000000000', 'date': '2023-09-04 05:59:17.000000000'}, {'rev_nbr': 1, 'author': '2023-09-05 18:10:16.000000000', 'date': '2023-09-05 18:10:16.000000000'}]",2,"[{'number': 1, 'created': '2023-09-01 21:59:39.000000000', 'files': ['.zuul.yaml'], 'message': ""Use generic testing template\n\nChange If402f9ae0ca06fec0 replaced cycle-specific testing templates\nthat had to be changed in each project's zuul config file with a\ngeneric template that only needs to be updated in one place, namely,\nin the openstack-zuul-jobs repo.\n\nApparently os-brick didn't get the memo, so we fix that now.\n\nChange-Id: I8202283d5bd5ecede3414fe3e92e95e743df2f67\n""}]",893572,eea10dea212a3df5e4c9b2e16ca6af54914ea36a,5314,Brian Rosmaita,brian-rosmaita,0,"Use generic testing template

Change If402f9ae0ca06fec0 replaced cycle-specific testing templates
that had to be changed in each project's zuul config file with a
generic template that only needs to be updated in one place, namely,
in the openstack-zuul-jobs repo.

Apparently os-brick didn't get the memo, so we fix that now.

Change-Id: I8202283d5bd5ecede3414fe3e92e95e743df2f67
",['.zuul.yaml']
openstack%2Fcinder~868646,openstack/cinder,master,Ia34091d4db9b919eca3de4a2c08d26d453a15791,Improved validation.,ABANDONED,2022-12-27 01:33:10.000000000,2023-09-05 18:00:10.000000000,20,2,"[{'_account_id': 9236, 'name': 'Jon Bernard', 'email': 'jobernar@redhat.com', 'username': 'jbernard'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-12-27 02:43:18.000000000', 'date': '2022-12-27 02:43:18.000000000'}, {'rev_nbr': 1, 'author': '2022-12-27 02:52:18.000000000', 'date': '2022-12-27 02:52:18.000000000'}, {'rev_nbr': 1, 'author': '2022-12-27 03:03:00.000000000', 'date': '2022-12-27 03:03:00.000000000'}, {'rev_nbr': 1, 'author': '2022-12-27 03:15:34.000000000', 'date': '2022-12-27 03:15:34.000000000'}, {'rev_nbr': 1, 'author': '2022-12-27 04:06:45.000000000', 'date': '2022-12-27 04:06:45.000000000'}, {'rev_nbr': 1, 'author': '2022-12-27 05:29:53.000000000', 'date': '2022-12-27 05:29:53.000000000'}, {'rev_nbr': 1, 'author': '2023-01-05 07:43:53.000000000', 'date': '2023-01-05 07:43:53.000000000'}, {'rev_nbr': 1, 'author': '2023-05-08 07:45:54.000000000', 'date': '2023-05-08 07:45:54.000000000'}]",3,"[{'number': 1, 'created': '2022-12-27 01:33:10.000000000', 'files': ['cinder/volume/flows/api/create_volume.py'], 'message': 'Improved validation.\n\nChange-Id: Ia34091d4db9b919eca3de4a2c08d26d453a15791\n'}]",868646,c8c674dbca5c08422d4cea04dcf6e1073d78008f,35648,Alan Baghumian,alanbach,0,"Improved validation.

Change-Id: Ia34091d4db9b919eca3de4a2c08d26d453a15791
",['cinder/volume/flows/api/create_volume.py']
openstack%2Fcinder~868525,openstack/cinder,master,I14c8705b5f1bbf1dd2bc6bf2585847f8c7e069ae,Fixed a bad indent.,ABANDONED,2022-12-24 23:36:16.000000000,2023-09-05 18:00:06.000000000,17,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 33473, 'name': 'Atsushi Kawai', 'display_name': 'akawai', 'email': 'atsushi.kawai.bu@hitachi.com', 'username': 'akawai'}]","[{'rev_nbr': 1, 'author': '2022-12-25 00:44:09.000000000', 'date': '2022-12-25 00:44:09.000000000'}, {'rev_nbr': 1, 'author': '2022-12-25 01:07:42.000000000', 'date': '2022-12-25 01:07:42.000000000'}, {'rev_nbr': 1, 'author': '2022-12-25 01:10:20.000000000', 'date': '2022-12-25 01:10:20.000000000'}, {'rev_nbr': 1, 'author': '2022-12-25 01:49:37.000000000', 'date': '2022-12-25 01:49:37.000000000'}, {'rev_nbr': 1, 'author': '2022-12-25 03:04:06.000000000', 'date': '2022-12-25 03:04:06.000000000'}, {'rev_nbr': 1, 'author': '2022-12-25 06:00:19.000000000', 'date': '2022-12-25 06:00:19.000000000'}, {'rev_nbr': 1, 'author': '2022-12-25 10:14:23.000000000', 'date': '2022-12-25 10:14:23.000000000'}]",3,"[{'number': 1, 'created': '2022-12-24 23:36:16.000000000', 'files': ['cinder/volume/flows/api/create_volume.py'], 'message': 'Fixed a bad indent.\n\nChange-Id: I14c8705b5f1bbf1dd2bc6bf2585847f8c7e069ae\n'}]",868525,e01313d8c5d151fba9d6f61c5b54cbd8c0181d63,35648,Alan Baghumian,alanbach,0,"Fixed a bad indent.

Change-Id: I14c8705b5f1bbf1dd2bc6bf2585847f8c7e069ae
",['cinder/volume/flows/api/create_volume.py']
openstack%2Ftripleo-quickstart~893551,openstack/tripleo-quickstart,master,Ie8c462e4a89c435a876da92eae8310c5512bdb81,"Revert ""Install tomcat-9.0.62-16.el9 norach rpms""",MERGED,2023-09-04 14:21:04.000000000,2023-09-05 17:38:35.000000000,0,4,"[{'_account_id': 8367, 'name': 'Arx Cruz', 'email': 'arxcruz@redhat.com', 'username': 'arxcruz'}, {'_account_id': 9976, 'name': 'Ronelle Landy', 'email': 'rlandy@redhat.com', 'username': 'rlandy'}, {'_account_id': 20182, 'name': 'Bhagyashri Shewale', 'email': 'bshewale@redhat.com', 'username': 'bhagyashris'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2023-09-04 14:21:04.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml'], 'message': 'Revert ""Install tomcat-9.0.62-16.el9 norach rpms""\n\nThis reverts commit 3737173794033d641b00f44bc7c7cf488838748f.\n\nReason for revert: tomcat-9.0.62-16 is available on CS9 mirrors\n\nChange-Id: Ie8c462e4a89c435a876da92eae8310c5512bdb81\n'}]",893551,1dc8119475dc9598ffca8f064ac8fb63a3f1c8be,30002,Douglas Viroel,dviroel,0,"Revert ""Install tomcat-9.0.62-16.el9 norach rpms""

This reverts commit 3737173794033d641b00f44bc7c7cf488838748f.

Reason for revert: tomcat-9.0.62-16 is available on CS9 mirrors

Change-Id: Ie8c462e4a89c435a876da92eae8310c5512bdb81
","['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml']"
openstack%2Fbifrost~893785,openstack/bifrost,bugfix/10.1,Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235,Remove Fedora from the CI,MERGED,2023-09-05 16:16:14.000000000,2023-09-05 17:05:40.000000000,6,14,"[{'_account_id': 11655, 'name': 'Julia Kreger', 'email': 'juliaashleykreger@gmail.com', 'username': 'jkreger', 'status': 'Flying to the moon with a Jetpack!'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-05 16:16:14.000000000', 'files': ['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/bifrost-jobs.yaml'], 'message': 'Remove Fedora from the CI\n\nIt is currently broken since the only supported version (36) is EOL.\nThe OpenDev infrastructure will stop supporting Fedora:\nhttps://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/\n\nWhile master branch had a new CI job added to cover netboot,\nthis change is not being carried back on stable branches in\norder to minimize change complexity while focusing on remvoal\nof Fedora from CI.\n\nWhen backporting to Zed, dropped docs changes.\n\nChange-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235\n(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)\n(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)\n(cherry picked from commit 0e85320231e6e72398880eaf4b2c7744431d67ec)\n(cherry picked from commit 16feed0f54f4bba79dafdd2efd9b98da3cb8675e)\n(cherry picked from commit 5279b33d4064baef5b7de889a2b0f8af8c737fc6)\n(cherry picked from commit ce75d779afb3e383efc7c9ce6d043e6293c8b755)\n(cherry picked from commit 74ab40da5c8ffae90e6194c7a1e1cea509b4d27b)\n'}]",893785,2452c1fb95838d76e02d64d0ccaf8be97b0e0db7,11655,Julia Kreger,jkreger,0,"Remove Fedora from the CI

It is currently broken since the only supported version (36) is EOL.
The OpenDev infrastructure will stop supporting Fedora:
https://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/

While master branch had a new CI job added to cover netboot,
this change is not being carried back on stable branches in
order to minimize change complexity while focusing on remvoal
of Fedora from CI.

When backporting to Zed, dropped docs changes.

Change-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235
(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)
(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)
(cherry picked from commit 0e85320231e6e72398880eaf4b2c7744431d67ec)
(cherry picked from commit 16feed0f54f4bba79dafdd2efd9b98da3cb8675e)
(cherry picked from commit 5279b33d4064baef5b7de889a2b0f8af8c737fc6)
(cherry picked from commit ce75d779afb3e383efc7c9ce6d043e6293c8b755)
(cherry picked from commit 74ab40da5c8ffae90e6194c7a1e1cea509b4d27b)
","['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/bifrost-jobs.yaml']"
openstack%2Fbifrost~893786,openstack/bifrost,bugfix/10.0,Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235,Remove Fedora from the CI,MERGED,2023-09-05 16:17:29.000000000,2023-09-05 17:05:39.000000000,5,12,"[{'_account_id': 11655, 'name': 'Julia Kreger', 'email': 'juliaashleykreger@gmail.com', 'username': 'jkreger', 'status': 'Flying to the moon with a Jetpack!'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-05 16:17:29.000000000', 'files': ['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'zuul.d/bifrost-jobs.yaml'], 'message': 'Remove Fedora from the CI\n\nIt is currently broken since the only supported version (36) is EOL.\nThe OpenDev infrastructure will stop supporting Fedora:\nhttps://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/\n\nWhile master branch had a new CI job added to cover netboot,\nthis change is not being carried back on stable branches in\norder to minimize change complexity while focusing on remvoal\nof Fedora from CI.\n\nWhen backporting to Zed, dropped docs changes.\n\nChange-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235\n(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)\n(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)\n(cherry picked from commit 0e85320231e6e72398880eaf4b2c7744431d67ec)\n(cherry picked from commit 16feed0f54f4bba79dafdd2efd9b98da3cb8675e)\n(cherry picked from commit 5279b33d4064baef5b7de889a2b0f8af8c737fc6)\n(cherry picked from commit ce75d779afb3e383efc7c9ce6d043e6293c8b755)\n(cherry picked from commit 74ab40da5c8ffae90e6194c7a1e1cea509b4d27b)\n(cherry picked from commit 2452c1fb95838d76e02d64d0ccaf8be97b0e0db7)\n'}]",893786,bd6ae6ce2bfd585bb2af348ce47a1889c216c207,11655,Julia Kreger,jkreger,0,"Remove Fedora from the CI

It is currently broken since the only supported version (36) is EOL.
The OpenDev infrastructure will stop supporting Fedora:
https://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/

While master branch had a new CI job added to cover netboot,
this change is not being carried back on stable branches in
order to minimize change complexity while focusing on remvoal
of Fedora from CI.

When backporting to Zed, dropped docs changes.

Change-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235
(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)
(cherry picked from commit c5f6c07476e82208f8f7017e5c8709227064204b)
(cherry picked from commit 0e85320231e6e72398880eaf4b2c7744431d67ec)
(cherry picked from commit 16feed0f54f4bba79dafdd2efd9b98da3cb8675e)
(cherry picked from commit 5279b33d4064baef5b7de889a2b0f8af8c737fc6)
(cherry picked from commit ce75d779afb3e383efc7c9ce6d043e6293c8b755)
(cherry picked from commit 74ab40da5c8ffae90e6194c7a1e1cea509b4d27b)
(cherry picked from commit 2452c1fb95838d76e02d64d0ccaf8be97b0e0db7)
","['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'zuul.d/bifrost-jobs.yaml']"
openstack%2Fneutron~893700,openstack/neutron,master,I5247ce2b1a8606bde807a1744ed37daff04438f1,[CI] Bump OVS_BRANCH in ovs/ovn source deploy jobs,MERGED,2023-09-05 05:01:48.000000000,2023-09-05 16:52:59.000000000,8,12,"[{'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 11975, 'name': 'Slawek Kaplonski', 'email': 'skaplons@redhat.com', 'username': 'slaweq'}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34451, 'name': 'Fernando Royo', 'email': 'froyo@redhat.com', 'username': 'froyo'}]",,2,"[{'number': 1, 'created': '2023-09-05 05:01:48.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml'], 'message': '[CI] Bump OVS_BRANCH in ovs/ovn source deploy jobs\n\nSince [1] OVN/OVS source deploy jobs running with\nOVN_BRANCH=main fails to compile ovn as this now\nrequires newer ovs commits from branch-3.2.\n\n[1] https://github.com/ovn-org/ovn/commit/558da0cd\n\nCloses-Bug: #2034096\nChange-Id: I5247ce2b1a8606bde807a1744ed37daff04438f1\n'}]",893700,c930196dd84d9d1525014c57e18fa3d9a36c6234,13861,yatin,yatinkarel,0,"[CI] Bump OVS_BRANCH in ovs/ovn source deploy jobs

Since [1] OVN/OVS source deploy jobs running with
OVN_BRANCH=main fails to compile ovn as this now
requires newer ovs commits from branch-3.2.

[1] https://github.com/ovn-org/ovn/commit/558da0cd

Closes-Bug: #2034096
Change-Id: I5247ce2b1a8606bde807a1744ed37daff04438f1
","['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml']"
openstack%2Fneutron~893545,openstack/neutron,stable/wallaby,I1c8c6850faa7741afabe31889cdad0228a366310,Update dns_assignment attribute documentation,MERGED,2023-09-01 21:15:51.000000000,2023-09-05 16:52:44.000000000,88,0,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 32029, 'name': 'likui', 'email': 'likui@yovole.com', 'username': 'likui'}]",,0,"[{'number': 1, 'created': '2023-09-01 21:15:51.000000000', 'files': ['doc/source/admin/config-dns-int.rst', 'doc/source/admin/config-dns-int-ext-serv.rst'], 'message': ""Update dns_assignment attribute documentation\n\nAfter the implementation of [1], the calculation of the port's\ndns_assignment attribute changed for some use cases of the Neutron\nintegration with an external DNS service. This change updates the\ndocumentation accordingly\n\n[1] https://specs.openstack.org/openstack/neutron-specs/specs/victoria/port_dns_assignment.html\n\nPartial-Bug: #1956632\nChange-Id: I1c8c6850faa7741afabe31889cdad0228a366310\n(cherry picked from commit 94b961f179039af84ada3366220d9c9b861e88b4)\n""}]",893545,d350db3087d19b1f54b2cbb34cc31d6537e72217,4694,Miguel Lavalle,minsel,0,"Update dns_assignment attribute documentation

After the implementation of [1], the calculation of the port's
dns_assignment attribute changed for some use cases of the Neutron
integration with an external DNS service. This change updates the
documentation accordingly

[1] https://specs.openstack.org/openstack/neutron-specs/specs/victoria/port_dns_assignment.html

Partial-Bug: #1956632
Change-Id: I1c8c6850faa7741afabe31889cdad0228a366310
(cherry picked from commit 94b961f179039af84ada3366220d9c9b861e88b4)
","['doc/source/admin/config-dns-int.rst', 'doc/source/admin/config-dns-int-ext-serv.rst']"
openstack%2Fneutron~893544,openstack/neutron,stable/xena,I1c8c6850faa7741afabe31889cdad0228a366310,Update dns_assignment attribute documentation,MERGED,2023-09-01 21:14:35.000000000,2023-09-05 16:52:41.000000000,88,0,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 32029, 'name': 'likui', 'email': 'likui@yovole.com', 'username': 'likui'}]",,1,"[{'number': 1, 'created': '2023-09-01 21:14:35.000000000', 'files': ['doc/source/admin/config-dns-int.rst', 'doc/source/admin/config-dns-int-ext-serv.rst'], 'message': ""Update dns_assignment attribute documentation\n\nAfter the implementation of [1], the calculation of the port's\ndns_assignment attribute changed for some use cases of the Neutron\nintegration with an external DNS service. This change updates the\ndocumentation accordingly\n\n[1] https://specs.openstack.org/openstack/neutron-specs/specs/victoria/port_dns_assignment.html\n\nPartial-Bug: #1956632\nChange-Id: I1c8c6850faa7741afabe31889cdad0228a366310\n(cherry picked from commit 94b961f179039af84ada3366220d9c9b861e88b4)\n""}]",893544,1727d0c26c9bb9e57756b4aa256000914904cb88,4694,Miguel Lavalle,minsel,0,"Update dns_assignment attribute documentation

After the implementation of [1], the calculation of the port's
dns_assignment attribute changed for some use cases of the Neutron
integration with an external DNS service. This change updates the
documentation accordingly

[1] https://specs.openstack.org/openstack/neutron-specs/specs/victoria/port_dns_assignment.html

Partial-Bug: #1956632
Change-Id: I1c8c6850faa7741afabe31889cdad0228a366310
(cherry picked from commit 94b961f179039af84ada3366220d9c9b861e88b4)
","['doc/source/admin/config-dns-int.rst', 'doc/source/admin/config-dns-int-ext-serv.rst']"
openstack%2Fpuppet-openstack-integration~893597,openstack/puppet-openstack-integration,master,Ibefea70bc41198a99512dc6534a37e5d037be684,Stop installing nova/neutron client package,MERGED,2023-09-04 06:22:04.000000000,2023-09-05 16:13:25.000000000,0,2,"[{'_account_id': 14985, 'name': 'Alex Schultz', 'email': 'aschultz@next-development.com', 'username': 'mwhahaha'}, {'_account_id': 16137, 'name': 'Tobias Urdin', 'email': 'tobias.urdin@binero.com', 'username': 'tobasco'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-04 06:22:04.000000000', 'files': ['manifests/neutron.pp', 'manifests/nova.pp'], 'message': ""Stop installing nova/neutron client package\n\nThe nova CLI and the neutron CLI are both deprecated and will be\nremoved in a future release. Because we no longer use these CLI in our\nimplementations, we don't have to install these client packages\nexplicitly.\n\nChange-Id: Ibefea70bc41198a99512dc6534a37e5d037be684\n""}]",893597,15fd60f297e9623e521bf31ceb022c57ef41ad15,9816,Takashi Kajinami,kajinamit,0,"Stop installing nova/neutron client package

The nova CLI and the neutron CLI are both deprecated and will be
removed in a future release. Because we no longer use these CLI in our
implementations, we don't have to install these client packages
explicitly.

Change-Id: Ibefea70bc41198a99512dc6534a37e5d037be684
","['manifests/neutron.pp', 'manifests/nova.pp']"
openstack%2Fcharm-mysql-innodb-cluster~885504,openstack/charm-mysql-innodb-cluster,master,I2b9cd71241345831fda126e558f724bfaa74ffb3,Fix focal-full-ha CI hacluster error by forcing series,ABANDONED,2023-06-07 15:17:48.000000000,2023-09-05 16:10:29.000000000,2,0,"[{'_account_id': 2424, 'name': 'Felipe Reyes', 'email': 'felipe.reyes@canonical.com', 'username': 'freyes'}, {'_account_id': 19298, 'name': 'Nicolas Bock', 'email': 'nicolas.bock@canonical.com', 'username': 'nicolasbock'}, {'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,8,"[{'number': 1, 'created': '2023-06-07 15:17:48.000000000', 'files': ['src/tests/bundles/overlays/focal-full-ha.yaml.j2'], 'message': ""Fix focal-full-ha CI hacluster error by forcing series\n\nSome strange issue in charmhub. It doesn't work unless forced.\nAlternatively using 2.0.3/stable also works, but why should\nwe use the non-edge channel on master?\n\nRelated-bug: #2020899\nChange-Id: I2b9cd71241345831fda126e558f724bfaa74ffb3\n""}]",885504,938a87c2ef43c2dbfc6c8c6f395230aaf024126a,14567,Rodrigo Barbieri,ganso,0,"Fix focal-full-ha CI hacluster error by forcing series

Some strange issue in charmhub. It doesn't work unless forced.
Alternatively using 2.0.3/stable also works, but why should
we use the non-edge channel on master?

Related-bug: #2020899
Change-Id: I2b9cd71241345831fda126e558f724bfaa74ffb3
",['src/tests/bundles/overlays/focal-full-ha.yaml.j2']
openstack%2Fpuppet-nova~893596,openstack/puppet-nova,master,Iffe2cc8daf28d088c098443986925c18a8412318,Deprecate client class,MERGED,2023-09-04 06:19:59.000000000,2023-09-05 16:08:29.000000000,10,0,"[{'_account_id': 14985, 'name': 'Alex Schultz', 'email': 'aschultz@next-development.com', 'username': 'mwhahaha'}, {'_account_id': 16137, 'name': 'Tobias Urdin', 'email': 'tobias.urdin@binero.com', 'username': 'tobasco'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-04 06:19:59.000000000', 'files': ['releasenotes/notes/deprecate-client-cad4cec8032c789b.yaml', 'manifests/client.pp'], 'message': 'Deprecate client class\n\nThe nova CLI has been deprecated[1] and will be removed in a future\nrelease. This deprecates the class to install the novaclient package\nbecause this class aims to help installing the package for CLI usage.\nIt should be installed by package dependencies in case it is used as\na library.\n\n[1] 0fb7190c062a08a3969a71955c014e3a572cdc9e\n\nChange-Id: Iffe2cc8daf28d088c098443986925c18a8412318\n'}]",893596,a5b68f73199460503a8c0db4c79165d1549d708b,9816,Takashi Kajinami,kajinamit,0,"Deprecate client class

The nova CLI has been deprecated[1] and will be removed in a future
release. This deprecates the class to install the novaclient package
because this class aims to help installing the package for CLI usage.
It should be installed by package dependencies in case it is used as
a library.

[1] 0fb7190c062a08a3969a71955c014e3a572cdc9e

Change-Id: Iffe2cc8daf28d088c098443986925c18a8412318
","['releasenotes/notes/deprecate-client-cad4cec8032c789b.yaml', 'manifests/client.pp']"
openstack%2Fpuppet-neutron~893595,openstack/puppet-neutron,master,I6ae441ea74c9e51e61a944583092bc0e0bc687f4,Deprecate client class,MERGED,2023-09-04 06:16:46.000000000,2023-09-05 16:02:33.000000000,10,0,"[{'_account_id': 14985, 'name': 'Alex Schultz', 'email': 'aschultz@next-development.com', 'username': 'mwhahaha'}, {'_account_id': 16137, 'name': 'Tobias Urdin', 'email': 'tobias.urdin@binero.com', 'username': 'tobasco'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-09-04 06:20:49.000000000', 'files': ['releasenotes/notes/deprecate-client-16a7053b3f07735d.yaml', 'manifests/client.pp'], 'message': 'Deprecate client class\n\nThe neutron CLI has been deprecated[1] and will be removed in a future\nrelease. This deprecates the class to install the neutronclient package\nbecause this class aims to help installing the package for CLI usage.\nIt should be installed by package dependencies in case it is used as\na library.\n\n[1] 3a64a7a166be25d40436fd40c8351a79267bd3c4\n\nChange-Id: I6ae441ea74c9e51e61a944583092bc0e0bc687f4\n'}]",893595,7d36b5f86bb392a86965616942f021a793c818ae,9816,Takashi Kajinami,kajinamit,0,"Deprecate client class

The neutron CLI has been deprecated[1] and will be removed in a future
release. This deprecates the class to install the neutronclient package
because this class aims to help installing the package for CLI usage.
It should be installed by package dependencies in case it is used as
a library.

[1] 3a64a7a166be25d40436fd40c8351a79267bd3c4

Change-Id: I6ae441ea74c9e51e61a944583092bc0e0bc687f4
","['releasenotes/notes/deprecate-client-16a7053b3f07735d.yaml', 'manifests/client.pp']"
openstack%2Fheat~893714,openstack/heat,stable/2023.1,I09805aa4e2d1b43528f70fb29c8981c01deff955,Skip loading auth plugin in case the property is set,MERGED,2023-09-05 09:24:14.000000000,2023-09-05 15:33:43.000000000,9,6,"[{'_account_id': 8833, 'name': 'Rabi Mishra', 'email': 'ramishra@redhat.com', 'username': 'rabi'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-05 09:24:14.000000000', 'files': ['heat/common/context.py'], 'message': 'Skip loading auth plugin in case the property is set\n\nCurrently StoredContext object tries to load auth plugin even when\na specific property(eg. user_domain_id) is already set. However this\nis redundant and we can use the value loaded from stack instead.\n\nBackport note:\nThis change omits the change about GLOBAL_VENV parameter in devstack\nbecause the parameter was added after 2023.1 release.\n\nStory: 2010905\nTask: 48723\nChange-Id: I09805aa4e2d1b43528f70fb29c8981c01deff955\n(cherry picked from commit 7197bd028ba3981d4e6df28885278823015bd5b5)\n'}]",893714,afe3e4aa5164064ff328167341d9b0cf15c2587d,9816,Takashi Kajinami,kajinamit,0,"Skip loading auth plugin in case the property is set

Currently StoredContext object tries to load auth plugin even when
a specific property(eg. user_domain_id) is already set. However this
is redundant and we can use the value loaded from stack instead.

Backport note:
This change omits the change about GLOBAL_VENV parameter in devstack
because the parameter was added after 2023.1 release.

Story: 2010905
Task: 48723
Change-Id: I09805aa4e2d1b43528f70fb29c8981c01deff955
(cherry picked from commit 7197bd028ba3981d4e6df28885278823015bd5b5)
",['heat/common/context.py']
openstack%2Fcharm-ceph-iscsi~852671,openstack/charm-ceph-iscsi,master,I140a076a89384adf0916e62059a49b035a8b0fbd,Partially revert previous change to re-enable Focal as a gating target,MERGED,2022-08-09 20:23:18.000000000,2023-09-05 15:25:50.000000000,212,0,"[{'_account_id': 15382, 'name': 'Peter Sabaini', 'email': 'peter.sabaini@canonical.com', 'username': 'peter-sabaini'}, {'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,17,"[{'number': 13, 'created': '2023-09-04 16:54:42.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'tests/bundles/focal-ec.yaml', 'tests/bundles/focal.yaml', 'charmcraft.yaml', 'metadata.yaml'], 'message': 'Partially revert previous change to re-enable Focal as a gating target\n\nChange-Id: I140a076a89384adf0916e62059a49b035a8b0fbd\n'}]",852671,571f8470c5e05c6662dcbaef89cf50c32646f7e2,20634,Chris MacNaughton,Chris.MacNaughton,0,"Partially revert previous change to re-enable Focal as a gating target

Change-Id: I140a076a89384adf0916e62059a49b035a8b0fbd
","['tests/tests.yaml', 'osci.yaml', 'tests/bundles/focal-ec.yaml', 'tests/bundles/focal.yaml', 'charmcraft.yaml', 'metadata.yaml']"
openstack%2Fbifrost~893674,openstack/bifrost,stable/2023.1,Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235,Remove Fedora from the CI,MERGED,2023-09-04 15:32:24.000000000,2023-09-05 15:25:06.000000000,6,19,"[{'_account_id': 15519, 'name': 'Iury Gregory Melo Ferreira', 'display_name': 'Iury Gregory', 'email': 'iurygregory@gmail.com', 'username': 'iurygregory'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 35099, 'name': 'Jakub Jelinek', 'email': 'jakub.jelinek@cern.ch', 'username': 'kubajj'}]",,0,"[{'number': 1, 'created': '2023-09-04 15:32:24.000000000', 'files': ['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml'], 'message': 'Remove Fedora from the CI\n\nIt is currently broken since the only supported version (36) is EOL.\nThe OpenDev infrastructure will stop supporting Fedora:\nhttps://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/\n\nWhile master branch had a new CI job added to cover netboot,\nthis change is not being carried back on stable branches in\norder to minimize change complexity while focusing on remvoal\nof Fedora from CI.\n\nChange-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235\n(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)\n'}]",893674,c5f6c07476e82208f8f7017e5c8709227064204b,11655,Julia Kreger,jkreger,0,"Remove Fedora from the CI

It is currently broken since the only supported version (36) is EOL.
The OpenDev infrastructure will stop supporting Fedora:
https://lists.opendev.org/archives/list/service-discuss@lists.opendev.org/thread/IOYIYWGTZW3TM4TR2N47XY6X7EB2W2A6/

While master branch had a new CI job added to cover netboot,
this change is not being carried back on stable branches in
order to minimize change complexity while focusing on remvoal
of Fedora from CI.

Change-Id: Ie4e67491a62a4c6cb4ca9d6e700cfc226a121235
(cherry picked from commit 16b34f378d013b118fa0bfa2c9aa77c517ebc4e3)
","['releasenotes/notes/no-fedora-b316bb3147f01166.yaml', 'doc/source/install/index.rst', 'zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml']"
openstack%2Fproject-config~893702,openstack/project-config,master,Ie8a1dd151021e6e6c45c04b87f9a03f0a348b8e7,Update regexes in zuul config to the new style,MERGED,2023-09-05 06:51:17.000000000,2023-09-05 14:53:17.000000000,30,10,"[{'_account_id': 1, 'name': 'James E. Blair', 'email': 'jim@acmegating.com', 'username': 'corvus'}, {'_account_id': 5263, 'name': 'Jeremy Stanley', 'display_name': 'fungi', 'email': 'fungi@yuggoth.org', 'username': 'fungi', 'status': 'missing, presumed fed'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,4,"[{'number': 1, 'created': '2023-09-05 06:51:17.000000000', 'files': ['zuul.d/pipelines.yaml', 'zuul.d/projects.yaml'], 'message': 'Update regexes in zuul config to the new style\n\nZuul deprecated using negative lookahead, so convert our uses to using\nthe negate attribute instead.\n\nChange-Id: Ie8a1dd151021e6e6c45c04b87f9a03f0a348b8e7\n'}]",893702,7ee4aab6c653a93c828e009a65d77abd6675495d,13252,Dr. Jens Harbott,jrosenboom,0,"Update regexes in zuul config to the new style

Zuul deprecated using negative lookahead, so convert our uses to using
the negate attribute instead.

Change-Id: Ie8a1dd151021e6e6c45c04b87f9a03f0a348b8e7
","['zuul.d/pipelines.yaml', 'zuul.d/projects.yaml']"
openstack%2Fnova~893462,openstack/nova,master,Ifdb1691d7b25d28216d26479418ea323476fee1a,Follow up for unified limits: PCPU and documentation,MERGED,2023-09-01 06:01:30.000000000,2023-09-05 14:37:33.000000000,173,18,"[{'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,5,"[{'number': 3, 'created': '2023-09-01 06:20:00.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'doc/source/cli/nova-manage.rst', 'doc/source/admin/unified-limits.rst', 'doc/source/user/unified-limits.rst', 'nova/cmd/manage.py'], 'message': 'Follow up for unified limits: PCPU and documentation\n\nThis addresses comments from code review to add handling of PCPU during\nthe migration/copy of limits from the Nova database to Keystone. In\nlegacy quotas, there is no settable quota limit for PCPU, so the limit\nfor VCPU is used for PCPU. With unified limits, PCPU will have its own\nquota limit, so for the automated migration command, we will simply\ncreate a dedicated limit for PCPU that is the same value as the limit\nfor VCPU.\n\nOn the docs side, this adds more detail about the token authorization\nsettings needed to use the nova-manage limits migrate_to_unified_limits\nCLI command and documents more OSC limit commands like show and delete.\n\nRelated to blueprint unified-limits-nova-tool-and-docs\n\nChange-Id: Ifdb1691d7b25d28216d26479418ea323476fee1a\n'}]",893462,d42fe462bebed6d0d8a692440ccb329ad1f2a009,4690,melanie witt,melwitt,0,"Follow up for unified limits: PCPU and documentation

This addresses comments from code review to add handling of PCPU during
the migration/copy of limits from the Nova database to Keystone. In
legacy quotas, there is no settable quota limit for PCPU, so the limit
for VCPU is used for PCPU. With unified limits, PCPU will have its own
quota limit, so for the automated migration command, we will simply
create a dedicated limit for PCPU that is the same value as the limit
for VCPU.

On the docs side, this adds more detail about the token authorization
settings needed to use the nova-manage limits migrate_to_unified_limits
CLI command and documents more OSC limit commands like show and delete.

Related to blueprint unified-limits-nova-tool-and-docs

Change-Id: Ifdb1691d7b25d28216d26479418ea323476fee1a
","['nova/tests/functional/test_nova_manage.py', 'doc/source/cli/nova-manage.rst', 'doc/source/admin/unified-limits.rst', 'doc/source/user/unified-limits.rst', 'nova/cmd/manage.py']"
openstack%2Fopenstack-zuul-jobs~856903,openstack/openstack-zuul-jobs,master,If402f9ae0ca06fec058fbc79911dd862977034ee,Make python version testing template unversioned,MERGED,2022-09-10 16:37:48.000000000,2023-09-05 14:14:42.000000000,217,23,"[{'_account_id': 5263, 'name': 'Jeremy Stanley', 'display_name': 'fungi', 'email': 'fungi@yuggoth.org', 'username': 'fungi', 'status': 'missing, presumed fed'}, {'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,8,"[{'number': 3, 'created': '2022-09-14 14:32:57.000000000', 'files': ['zuul.d/project-templates.yaml'], 'message': 'Make python version testing template unversioned\n\nIn Zed cycle PTG, TC agreed[1] to make python version\ntesting template to be unversioned. This way we can avoid\nbot patches to each repo zuul yaml file to update the\ntemplate name which was missed on many repo which end up\nusing the old version template for many cycle. With this\nunversioned template we can handle it at central place in\nopenstack-zuul-jobs repo.\n\nFor stable branch, we will use the branch variant to keep\nsame name template to continue testing the python version\napplicable for that branch.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L355\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/854375\nChange-Id: If402f9ae0ca06fec058fbc79911dd862977034ee\n'}]",856903,644929721d1885b8c0d000a6c790663ca282f7e0,8556,Ghanshyam,ghanshyam,0,"Make python version testing template unversioned

In Zed cycle PTG, TC agreed[1] to make python version
testing template to be unversioned. This way we can avoid
bot patches to each repo zuul yaml file to update the
template name which was missed on many repo which end up
using the old version template for many cycle. With this
unversioned template we can handle it at central place in
openstack-zuul-jobs repo.

For stable branch, we will use the branch variant to keep
same name template to continue testing the python version
applicable for that branch.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L355

Depends-On: https://review.opendev.org/c/openstack/governance/+/854375
Change-Id: If402f9ae0ca06fec058fbc79911dd862977034ee
",['zuul.d/project-templates.yaml']
openstack%2Fironic-python-agent~888794,openstack/ironic-python-agent,master,I336acb8e8eb5a02dde2f5e24c258e23797d200ee,preserve/handle config drives on 4k block devices,MERGED,2023-07-18 18:03:03.000000000,2023-09-05 14:01:36.000000000,340,4,"[{'_account_id': 4571, 'name': 'Steve Baker', 'email': 'sbaker@redhat.com', 'username': 'steve-stevebaker'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 23851, 'name': 'Riccardo Pittau', 'email': 'elfosardo@gmail.com', 'username': 'elfosardo'}]",,20,"[{'number': 7, 'created': '2023-08-24 15:10:31.000000000', 'files': ['releasenotes/notes/4k-block-size-config-drives-4470828dd06d2600.yaml', 'ironic_python_agent/config.py', 'ironic_python_agent/tests/unit/test_partition_utils.py', 'ironic_python_agent/partition_utils.py'], 'message': 'preserve/handle config drives on 4k block devices\n\nWhen an underlying block device (or driver) only supports 4KB IO,\nthis can cause some issues with aspects like using an ISO9660 filesystem\nwhich can only support a maximum of 2KB IO.\n\nThe agent will now attempt to mount the filesystem *before* deleting the\nsupplied file, and should that fail it will mount the configuration drive\nfile from the ramdisk utilizing a loopback, and then extract the contents\nof the ramdisk into a newly created VFAT filesystem which supports 4KB\nblock IO.\n\nCloses-Bug: #2028002\nChange-Id: I336acb8e8eb5a02dde2f5e24c258e23797d200ee\n'}]",888794,b6c263a5dc34c10b50a480e3fdcf22784f2aa77c,11655,Julia Kreger,jkreger,0,"preserve/handle config drives on 4k block devices

When an underlying block device (or driver) only supports 4KB IO,
this can cause some issues with aspects like using an ISO9660 filesystem
which can only support a maximum of 2KB IO.

The agent will now attempt to mount the filesystem *before* deleting the
supplied file, and should that fail it will mount the configuration drive
file from the ramdisk utilizing a loopback, and then extract the contents
of the ramdisk into a newly created VFAT filesystem which supports 4KB
block IO.

Closes-Bug: #2028002
Change-Id: I336acb8e8eb5a02dde2f5e24c258e23797d200ee
","['releasenotes/notes/4k-block-size-config-drives-4470828dd06d2600.yaml', 'ironic_python_agent/config.py', 'ironic_python_agent/tests/unit/test_partition_utils.py', 'ironic_python_agent/partition_utils.py']"
openstack%2Fpython-heatclient~850100,openstack/python-heatclient,master,I7de3cd0dfef8d7aeb0c9ad3e8cc167c1a40cb65d,Remove leftover of Python <= 2.6 support,MERGED,2022-07-16 15:39:18.000000000,2023-09-05 13:18:34.000000000,0,10,"[{'_account_id': 4257, 'name': 'Zane Bitter', 'email': 'zbitter@redhat.com', 'username': 'zaneb'}, {'_account_id': 8833, 'name': 'Rabi Mishra', 'email': 'ramishra@redhat.com', 'username': 'rabi'}, {'_account_id': 9816, 'name': 'Takashi Kajinami', 'email': 'kajinamit@oss.nttdata.com', 'username': 'kajinamit'}, {'_account_id': 12404, 'name': 'Rico Lin', 'email': 'ricolin@ricolky.com', 'username': 'rico.lin'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 30073, 'name': 'Brendan Shephard', 'email': 'bshephar@redhat.com', 'username': 'bshephar'}]",,1,"[{'number': 1, 'created': '2022-07-16 15:39:18.000000000', 'files': ['heatclient/tests/unit/osc/utils.py'], 'message': 'Remove leftover of Python <= 2.6 support\n\nChange-Id: I7de3cd0dfef8d7aeb0c9ad3e8cc167c1a40cb65d\n'}]",850100,d2bc013a89da45aa80ed8de34d79cf1cd9c243c3,9816,Takashi Kajinami,kajinamit,0,"Remove leftover of Python <= 2.6 support

Change-Id: I7de3cd0dfef8d7aeb0c9ad3e8cc167c1a40cb65d
",['heatclient/tests/unit/osc/utils.py']
openstack%2Fpython-heatclient~886022,openstack/python-heatclient,master,Id5c3bcdaaf31cc7de0a69500ed7a18d0d6680c38,Remove some notes no longer valid,MERGED,2023-06-13 19:11:37.000000000,2023-09-05 13:17:49.000000000,0,5,"[{'_account_id': 9816, 'name': 'Takashi Kajinami', 'email': 'kajinamit@oss.nttdata.com', 'username': 'kajinamit'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2023-06-13 19:11:37.000000000', 'files': ['requirements.txt', 'setup.py'], 'message': 'Remove some notes no longer valid\n\nsetup.py is no longer maintained by the global sync. Also the note\nin requirements.txt does not apply since pip 20.3.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-June/034073.html\n\nChange-Id: Id5c3bcdaaf31cc7de0a69500ed7a18d0d6680c38\n'}]",886022,c1938fbe8281beedf8f8d4ea81d8cb7898210767,9816,Takashi Kajinami,kajinamit,0,"Remove some notes no longer valid

setup.py is no longer maintained by the global sync. Also the note
in requirements.txt does not apply since pip 20.3.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-June/034073.html

Change-Id: Id5c3bcdaaf31cc7de0a69500ed7a18d0d6680c38
","['requirements.txt', 'setup.py']"
openstack%2Fcharm-ceph-iscsi~889658,openstack/charm-ceph-iscsi,master,Ia414ab7d30db9443cf0d9d26071ca48b772f8d1e,Add docs key and point at Discourse,MERGED,2023-07-25 20:48:52.000000000,2023-09-05 13:12:21.000000000,1,0,"[{'_account_id': 15382, 'name': 'Peter Sabaini', 'email': 'peter.sabaini@canonical.com', 'username': 'peter-sabaini'}, {'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 31203, 'name': 'Jadon Naas', 'display_name': 'Jadon Naas', 'email': 'jadon.naas@canonical.com', 'username': 'jadonn'}]",,2,"[{'number': 1, 'created': '2023-07-25 20:48:52.000000000', 'files': ['metadata.yaml'], 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: Ia414ab7d30db9443cf0d9d26071ca48b772f8d1e\n""}]",889658,41e3db8134c944fef0c83e5c26880157bcb8f453,30561,Peter Matulis,pmatulis,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: Ia414ab7d30db9443cf0d9d26071ca48b772f8d1e
",['metadata.yaml']
openstack%2Fkolla-ansible~893708,openstack/kolla-ansible,master,I2865fb8bb24994db8687a15fd8106bfa7a55d4da,Add forgotten release note for 892427,MERGED,2023-09-05 08:03:01.000000000,2023-09-05 11:13:40.000000000,6,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 23084, 'name': 'Bartosz Bezak', 'email': 'bartosz@stackhpc.com', 'username': 'b.bezak'}, {'_account_id': 24072, 'name': 'Marcin Juszkiewicz', 'email': 'mjuszkiewicz@redhat.com', 'username': 'hrw'}, {'_account_id': 32553, 'name': 'Sven Kieske', 'email': 'sven_oss@posteo.de', 'username': 'skieske'}]",,4,"[{'number': 2, 'created': '2023-09-05 08:14:29.000000000', 'files': ['releasenotes/notes/bug-designate-producers-not-running-properly-3568f9167a9547f6.yaml'], 'message': 'Add forgotten release note for 892427\n\nFollowup on Ief8dca4e27197c9576e215cbd960da75f6fdc20c\n\nRelated-Bug: #1879557\nChange-Id: I2865fb8bb24994db8687a15fd8106bfa7a55d4da\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",893708,c278c8cbd953f4e68a6a7ca8ecd79cc68283629e,14200,Maksim Malchuk,mmalchuk,0,"Add forgotten release note for 892427

Followup on Ief8dca4e27197c9576e215cbd960da75f6fdc20c

Related-Bug: #1879557
Change-Id: I2865fb8bb24994db8687a15fd8106bfa7a55d4da
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",['releasenotes/notes/bug-designate-producers-not-running-properly-3568f9167a9547f6.yaml']
openstack%2Fneutron~892888,openstack/neutron,stable/yoga,I2370ea2f96e2e31dbd43bf232a63394388e6945f,[OVN][Trunk] Set the subports correct host during live migration,MERGED,2023-08-28 08:54:43.000000000,2023-09-05 10:52:42.000000000,41,9,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-08-28 08:54:43.000000000', 'files': ['neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py'], 'message': '[OVN][Trunk] Set the subports correct host during live migration\n\nDuring the trunk migration, the parent port multiple port binding\nwill contain the destination host. Because this update is done\nbefore the migration is done (in other words, the parent port\nstill has two port binding registers), the method setting the\nbinding profile of the subport will use the destination host\nin advance. At the end of the live migration, the subports\nhost will point to the correct hostname.\n\nRelated-Bug: #2027605\nChange-Id: I2370ea2f96e2e31dbd43bf232a63394388e6945f\n(cherry picked from commit 7ed79c1f7890456488a4b44769ed84fea23c9a39)\n'}]",892888,82f06feebe190064c7a37cc30c144de71052f920,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,0,"[OVN][Trunk] Set the subports correct host during live migration

During the trunk migration, the parent port multiple port binding
will contain the destination host. Because this update is done
before the migration is done (in other words, the parent port
still has two port binding registers), the method setting the
binding profile of the subport will use the destination host
in advance. At the end of the live migration, the subports
host will point to the correct hostname.

Related-Bug: #2027605
Change-Id: I2370ea2f96e2e31dbd43bf232a63394388e6945f
(cherry picked from commit 7ed79c1f7890456488a4b44769ed84fea23c9a39)
","['neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py']"
openstack%2Fneutron~892886,openstack/neutron,stable/xena,I2370ea2f96e2e31dbd43bf232a63394388e6945f,[OVN][Trunk] Set the subports correct host during live migration,MERGED,2023-08-28 08:54:10.000000000,2023-09-05 10:52:35.000000000,41,9,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-08-29 08:12:50.000000000', 'files': ['neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py'], 'message': '[OVN][Trunk] Set the subports correct host during live migration\n\nDuring the trunk migration, the parent port multiple port binding\nwill contain the destination host. Because this update is done\nbefore the migration is done (in other words, the parent port\nstill has two port binding registers), the method setting the\nbinding profile of the subport will use the destination host\nin advance. At the end of the live migration, the subports\nhost will point to the correct hostname.\n\nRelated-Bug: #2027605\nChange-Id: I2370ea2f96e2e31dbd43bf232a63394388e6945f\n(cherry picked from commit 7ed79c1f7890456488a4b44769ed84fea23c9a39)\n'}]",892886,6d3c29723e5d48eefd6ba73dc152ed6c99f70ffa,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,0,"[OVN][Trunk] Set the subports correct host during live migration

During the trunk migration, the parent port multiple port binding
will contain the destination host. Because this update is done
before the migration is done (in other words, the parent port
still has two port binding registers), the method setting the
binding profile of the subport will use the destination host
in advance. At the end of the live migration, the subports
host will point to the correct hostname.

Related-Bug: #2027605
Change-Id: I2370ea2f96e2e31dbd43bf232a63394388e6945f
(cherry picked from commit 7ed79c1f7890456488a4b44769ed84fea23c9a39)
","['neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py']"
openstack%2Fneutron~892884,openstack/neutron,stable/zed,I2370ea2f96e2e31dbd43bf232a63394388e6945f,[OVN][Trunk] Set the subports correct host during live migration,MERGED,2023-08-28 08:53:26.000000000,2023-09-05 10:52:26.000000000,41,9,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-08-28 08:53:26.000000000', 'files': ['neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py'], 'message': '[OVN][Trunk] Set the subports correct host during live migration\n\nDuring the trunk migration, the parent port multiple port binding\nwill contain the destination host. Because this update is done\nbefore the migration is done (in other words, the parent port\nstill has two port binding registers), the method setting the\nbinding profile of the subport will use the destination host\nin advance. At the end of the live migration, the subports\nhost will point to the correct hostname.\n\nRelated-Bug: #2027605\nChange-Id: I2370ea2f96e2e31dbd43bf232a63394388e6945f\n(cherry picked from commit 7ed79c1f7890456488a4b44769ed84fea23c9a39)\n'}]",892884,1ce5ef7f83776512487980e3d1b0fd1364ffb0f1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,0,"[OVN][Trunk] Set the subports correct host during live migration

During the trunk migration, the parent port multiple port binding
will contain the destination host. Because this update is done
before the migration is done (in other words, the parent port
still has two port binding registers), the method setting the
binding profile of the subport will use the destination host
in advance. At the end of the live migration, the subports
host will point to the correct hostname.

Related-Bug: #2027605
Change-Id: I2370ea2f96e2e31dbd43bf232a63394388e6945f
(cherry picked from commit 7ed79c1f7890456488a4b44769ed84fea23c9a39)
","['neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py']"
openstack%2Fneutron~892856,openstack/neutron,stable/2023.1,I2370ea2f96e2e31dbd43bf232a63394388e6945f,[OVN][Trunk] Set the subports correct host during live migration,MERGED,2023-08-28 08:04:25.000000000,2023-09-05 10:52:06.000000000,41,9,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-08-28 08:04:25.000000000', 'files': ['neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py'], 'message': '[OVN][Trunk] Set the subports correct host during live migration\n\nDuring the trunk migration, the parent port multiple port binding\nwill contain the destination host. Because this update is done\nbefore the migration is done (in other words, the parent port\nstill has two port binding registers), the method setting the\nbinding profile of the subport will use the destination host\nin advance. At the end of the live migration, the subports\nhost will point to the correct hostname.\n\nRelated-Bug: #2027605\nChange-Id: I2370ea2f96e2e31dbd43bf232a63394388e6945f\n(cherry picked from commit 7ed79c1f7890456488a4b44769ed84fea23c9a39)\n'}]",892856,6dc93c5072f586ffbf245e4740f314d3de1e95f1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,0,"[OVN][Trunk] Set the subports correct host during live migration

During the trunk migration, the parent port multiple port binding
will contain the destination host. Because this update is done
before the migration is done (in other words, the parent port
still has two port binding registers), the method setting the
binding profile of the subport will use the destination host
in advance. At the end of the live migration, the subports
host will point to the correct hostname.

Related-Bug: #2027605
Change-Id: I2370ea2f96e2e31dbd43bf232a63394388e6945f
(cherry picked from commit 7ed79c1f7890456488a4b44769ed84fea23c9a39)
","['neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py']"
openstack%2Fneutron~888776,openstack/neutron,master,I2370ea2f96e2e31dbd43bf232a63394388e6945f,[OVN][Trunk] Set the subports correct host during live migration,MERGED,2023-07-18 15:00:01.000000000,2023-09-05 10:50:35.000000000,41,9,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 6773, 'name': 'Lucas Alvares Gomes', 'email': 'lucasagomes@gmail.com', 'username': 'lucasagomes'}, {'_account_id': 9845, 'name': 'Arista CI', 'email': 'arista-openstack-test@aristanetworks.com', 'username': 'arista-test', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 32586, 'name': 'Elvira García Ruiz', 'display_name': 'Elvira', 'email': 'egarciar@redhat.com', 'username': 'elvira'}, {'_account_id': 34118, 'name': 'Arnau Verdaguer', 'email': 'averdagu@redhat.com', 'username': 'averdaguer'}, {'_account_id': 34271, 'name': 'Miro Tomaska', 'display_name': 'Miro Tomaska', 'email': 'mtomaska@redhat.com', 'username': 'mtomaska'}]",,5,"[{'number': 6, 'created': '2023-08-24 09:11:34.000000000', 'files': ['neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py'], 'message': '[OVN][Trunk] Set the subports correct host during live migration\n\nDuring the trunk migration, the parent port multiple port binding\nwill contain the destination host. Because this update is done\nbefore the migration is done (in other words, the parent port\nstill has two port binding registers), the method setting the\nbinding profile of the subport will use the destination host\nin advance. At the end of the live migration, the subports\nhost will point to the correct hostname.\n\nRelated-Bug: #2027605\nChange-Id: I2370ea2f96e2e31dbd43bf232a63394388e6945f\n'}]",888776,7ed79c1f7890456488a4b44769ed84fea23c9a39,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,0,"[OVN][Trunk] Set the subports correct host during live migration

During the trunk migration, the parent port multiple port binding
will contain the destination host. Because this update is done
before the migration is done (in other words, the parent port
still has two port binding registers), the method setting the
binding profile of the subport will use the destination host
in advance. At the end of the live migration, the subports
host will point to the correct hostname.

Related-Bug: #2027605
Change-Id: I2370ea2f96e2e31dbd43bf232a63394388e6945f
","['neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py']"
openstack%2Foctavia~893649,openstack/octavia,master,Id84265df1415e82915ce9850b93daf390904d63c,WIP Move octavia grenade job on jammy,ABANDONED,2023-09-04 12:58:29.000000000,2023-09-05 10:44:59.000000000,91,89,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,11,"[{'number': 11, 'created': '2023-09-05 07:00:51.000000000', 'files': ['octavia/api/root_controller.py', 'octavia/opts.py', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'message': 'WIP Move octavia grenade job on jammy\n\nThe current master (2023.2) grenade job is from 2023.1 to\nmaster testing, and tested distro version in 2023.1 is Ubuntu\nJammy. Updating the same in octavia-grenade job.\n\nChange-Id: Id84265df1415e82915ce9850b93daf390904d63c\n'}]",893649,434b5fdac43e1fc25d17f83fefcbec82de792ef3,29244,Gregory Thiemonge,gthiemonge,0,"WIP Move octavia grenade job on jammy

The current master (2023.2) grenade job is from 2023.1 to
master testing, and tested distro version in 2023.1 is Ubuntu
Jammy. Updating the same in octavia-grenade job.

Change-Id: Id84265df1415e82915ce9850b93daf390904d63c
","['octavia/api/root_controller.py', 'octavia/opts.py', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml']"
openstack%2Fopenstacksdk~797551,openstack/openstacksdk,master,Ief29ab9794590b7c996e23cac38464888fba2865,Add os-instance-actions API,ABANDONED,2021-06-23 00:33:49.000000000,2023-09-05 10:36:41.000000000,127,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27900, 'name': 'Artem Goncharov', 'email': 'artem.goncharov@gmail.com', 'username': 'gtema'}]",,3,"[{'number': 3, 'created': '2021-09-24 16:07:57.000000000', 'files': ['releasenotes/notes/add-instance-actions-30aafe12e8ad31b1.yaml', 'openstack/compute/v2/server_actions.py', 'openstack/tests/unit/compute/v2/test_server_actions.py', 'openstack/compute/v2/_proxy.py'], 'message': 'Add os-instance-actions API\n\nThe os-instance-actions API [1] from the Compute API was missing.\n\n[1] https://docs.openstack.org/api-ref/compute/?expanded=#list-actions-for-server\n\nChange-Id: Ief29ab9794590b7c996e23cac38464888fba2865\n'}]",797551,21575d938d384e2a4bd155e21ee24f8d957e9724,33012,Ryan Zimmerman,zimmerry,0,"Add os-instance-actions API

The os-instance-actions API [1] from the Compute API was missing.

[1] https://docs.openstack.org/api-ref/compute/?expanded=#list-actions-for-server

Change-Id: Ief29ab9794590b7c996e23cac38464888fba2865
","['releasenotes/notes/add-instance-actions-30aafe12e8ad31b1.yaml', 'openstack/compute/v2/server_actions.py', 'openstack/tests/unit/compute/v2/test_server_actions.py', 'openstack/compute/v2/_proxy.py']"
openstack%2Fopenstacksdk~778055,openstack/openstacksdk,master,I597407fcf9eb6b41e448d4b2d70eba2670deef95,"Add dns_name, dns_domain parameters to create/update port.",ABANDONED,2021-03-01 19:25:05.000000000,2023-09-05 10:35:46.000000000,12,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27900, 'name': 'Artem Goncharov', 'email': 'artem.goncharov@gmail.com', 'username': 'gtema'}]",,1,"[{'number': 1, 'created': '2021-03-01 19:25:05.000000000', 'files': ['releasenotes/notes/add-dns-support-for-port-1d527b2ac03e6ec6.yaml', 'openstack/cloud/_network.py'], 'message': 'Add dns_name, dns_domain parameters to create/update port.\n\nThe Port class supports the dns_name and dns_domain parameters.\nThis commit allows specifying these attributes whe creating/updating ports.\n\nChange-Id: I597407fcf9eb6b41e448d4b2d70eba2670deef95\nSigned-off-by: dariko <git@dariozanzico.com>\n'}]",778055,f0ed4c63a15db6fde5e1ab79e52684e375a1568f,27775,Dario Zanzico,dariko,0,"Add dns_name, dns_domain parameters to create/update port.

The Port class supports the dns_name and dns_domain parameters.
This commit allows specifying these attributes whe creating/updating ports.

Change-Id: I597407fcf9eb6b41e448d4b2d70eba2670deef95
Signed-off-by: dariko <git@dariozanzico.com>
","['releasenotes/notes/add-dns-support-for-port-1d527b2ac03e6ec6.yaml', 'openstack/cloud/_network.py']"
openstack%2Fopenstacksdk~885891,openstack/openstacksdk,stable/wallaby,I77fd48e458dc1f64aac41b50b0a88d1748cc60b7,DNM: check CI health in zuul,ABANDONED,2023-06-12 16:03:48.000000000,2023-09-05 10:31:30.000000000,1,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-06-12 16:03:48.000000000', 'files': ['openstack/__init__.py'], 'message': 'DNM: check CI health in zuul\n\nChange-Id: I77fd48e458dc1f64aac41b50b0a88d1748cc60b7\n'}]",885891,0d2a108f8b526d2585d3a9b913df18e7f41ff169,17685,Elod Illes,elod.illes,0,"DNM: check CI health in zuul

Change-Id: I77fd48e458dc1f64aac41b50b0a88d1748cc60b7
",['openstack/__init__.py']
openstack%2Fopenstacksdk~790464,openstack/openstacksdk,stable/victoria,I93431a36398a49f130c4c5b070e4e150331465c3,Point ipa-builder to stable/wallaby,ABANDONED,2021-05-10 14:15:57.000000000,2023-09-05 10:31:13.000000000,2,1,"[{'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-05-10 14:15:57.000000000', 'files': ['.zuul.yaml'], 'message': ""Point ipa-builder to stable/wallaby\n\nSince ironic-python-agent-bulder has stable branches starting from\nwallaby, we need to point all the older branches to stable/wallaby,\nunless they're already pinned to an older version.\n\nChange-Id: I93431a36398a49f130c4c5b070e4e150331465c3\n""}]",790464,b7cd64ccf526f696458e6a0e5cc996f6b8c5163d,23851,Riccardo Pittau,elfosardo,0,"Point ipa-builder to stable/wallaby

Since ironic-python-agent-bulder has stable branches starting from
wallaby, we need to point all the older branches to stable/wallaby,
unless they're already pinned to an older version.

Change-Id: I93431a36398a49f130c4c5b070e4e150331465c3
",['.zuul.yaml']
openstack%2Fnetworking-sfc~893660,openstack/networking-sfc,master,Id7f79a3f8f49c41210279a965ed65c793a0ad02d,[sqlalchemy-20] Add context wrapper to ppg operations,MERGED,2023-09-04 14:31:28.000000000,2023-09-05 09:54:59.000000000,2,0,"[{'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2023-09-04 14:31:28.000000000', 'files': ['networking_sfc/db/sfc_db.py'], 'message': '[sqlalchemy-20] Add context wrapper to ppg operations\n\nRelated-Bug: #2004265\nRelated-Bug: #1964575\nChange-Id: Id7f79a3f8f49c41210279a965ed65c793a0ad02d\n'}]",893660,7cf81e20041dfbbd54752c3170b94b66aafee3a4,8313,Lajos Katona,elajkat,0,"[sqlalchemy-20] Add context wrapper to ppg operations

Related-Bug: #2004265
Related-Bug: #1964575
Change-Id: Id7f79a3f8f49c41210279a965ed65c793a0ad02d
",['networking_sfc/db/sfc_db.py']
openstack%2Fproject-config~893703,openstack/project-config,master,I68ea25b380eda353f9e0ad0868bdf7f6730a6733,DNM: testing zuul config error,ABANDONED,2023-09-05 06:51:17.000000000,2023-09-05 07:04:28.000000000,1,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,11,"[{'number': 2, 'created': '2023-09-05 07:01:44.000000000', 'files': ['zuul.d/projects.yaml'], 'message': 'DNM: testing zuul config error\n\nChange-Id: I68ea25b380eda353f9e0ad0868bdf7f6730a6733\n'}]",893703,10be3a3deb927546360f0e6688cfda7bea011837,13252,Dr. Jens Harbott,jrosenboom,0,"DNM: testing zuul config error

Change-Id: I68ea25b380eda353f9e0ad0868bdf7f6730a6733
",['zuul.d/projects.yaml']
openstack%2Fcinder~785099,openstack/cinder,master,I8b1b09ecf2ad1e19a557a664516251cae3ddf2ae,Do not ignore availability_zone in backup creation,MERGED,2021-04-07 07:57:45.000000000,2023-09-05 06:51:37.000000000,74,10,"[{'_account_id': 5314, 'name': 'Brian Rosmaita', 'email': 'rosmaita.fossdev@gmail.com', 'username': 'brian-rosmaita'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27615, 'name': 'Rajat Dhasmana', 'email': 'rajatdhasmana@gmail.com', 'username': 'whoami-rajat'}, {'_account_id': 30615, 'name': 'Tushar Trambak Gite', 'email': 'tushargite96@gmail.com', 'username': 'tushargite96'}, {'_account_id': 32245, 'name': 'fudunwei', 'display_name': 'devfu', 'email': 'dunweifu1997@163.com', 'username': 'fudunwei'}]","[{'rev_nbr': 1, 'author': '2021-04-07 08:01:42.000000000', 'date': '2021-04-07 08:01:42.000000000'}, {'rev_nbr': 1, 'author': '2021-04-07 08:35:10.000000000', 'date': '2021-04-07 08:35:10.000000000'}, {'rev_nbr': 1, 'author': '2021-04-07 09:04:45.000000000', 'date': '2021-04-07 09:04:45.000000000'}, {'rev_nbr': 1, 'author': '2021-04-07 09:48:18.000000000', 'date': '2021-04-07 09:48:18.000000000'}, {'rev_nbr': 1, 'author': '2021-04-07 09:48:38.000000000', 'date': '2021-04-07 09:48:38.000000000'}, {'rev_nbr': 1, 'author': '2021-04-07 10:43:44.000000000', 'date': '2021-04-07 10:43:44.000000000'}, {'rev_nbr': 1, 'author': '2021-04-07 10:54:32.000000000', 'date': '2021-04-07 10:54:32.000000000'}, {'rev_nbr': 1, 'author': '2021-04-07 12:46:58.000000000', 'date': '2021-04-07 12:46:58.000000000'}, {'rev_nbr': 1, 'author': '2021-04-07 13:39:41.000000000', 'date': '2021-04-07 13:39:41.000000000'}, {'rev_nbr': 2, 'author': '2021-04-07 13:47:49.000000000', 'date': '2021-04-07 13:47:49.000000000'}, {'rev_nbr': 2, 'author': '2021-04-07 13:56:33.000000000', 'date': '2021-04-07 13:56:33.000000000'}, {'rev_nbr': 2, 'author': '2021-04-07 13:58:31.000000000', 'date': '2021-04-07 13:58:31.000000000'}, {'rev_nbr': 2, 'author': '2021-04-07 14:28:05.000000000', 'date': '2021-04-07 14:28:05.000000000'}, {'rev_nbr': 2, 'author': '2021-04-07 15:09:36.000000000', 'date': '2021-04-07 15:09:36.000000000'}, {'rev_nbr': 2, 'author': '2021-04-07 15:25:30.000000000', 'date': '2021-04-07 15:25:30.000000000'}, {'rev_nbr': 2, 'author': '2021-04-07 16:25:34.000000000', 'date': '2021-04-07 16:25:34.000000000'}, {'rev_nbr': 2, 'author': '2021-04-07 19:12:20.000000000', 'date': '2021-04-07 19:12:20.000000000'}, {'rev_nbr': 2, 'author': '2021-04-07 19:53:10.000000000', 'date': '2021-04-07 19:53:10.000000000'}, {'rev_nbr': 3, 'author': '2021-04-08 00:53:43.000000000', 'date': '2021-04-08 00:53:43.000000000'}, {'rev_nbr': 3, 'author': '2021-04-08 01:27:46.000000000', 'date': '2021-04-08 01:27:46.000000000'}, {'rev_nbr': 3, 'author': '2021-04-08 01:53:47.000000000', 'date': '2021-04-08 01:53:47.000000000'}, {'rev_nbr': 3, 'author': '2021-04-08 02:01:51.000000000', 'date': '2021-04-08 02:01:51.000000000'}, {'rev_nbr': 3, 'author': '2021-04-08 04:17:29.000000000', 'date': '2021-04-08 04:17:29.000000000'}, {'rev_nbr': 3, 'author': '2021-04-08 05:10:02.000000000', 'date': '2021-04-08 05:10:02.000000000'}, {'rev_nbr': 3, 'author': '2021-04-08 05:17:50.000000000', 'date': '2021-04-08 05:17:50.000000000'}, {'rev_nbr': 3, 'author': '2021-04-08 05:40:10.000000000', 'date': '2021-04-08 05:40:10.000000000'}, {'rev_nbr': 3, 'author': '2021-04-08 05:40:23.000000000', 'date': '2021-04-08 05:40:23.000000000'}, {'rev_nbr': 3, 'author': '2021-04-08 16:23:29.000000000', 'date': '2021-04-08 16:23:29.000000000'}, {'rev_nbr': 4, 'author': '2023-08-08 13:31:58.000000000', 'date': '2023-08-08 13:31:58.000000000'}, {'rev_nbr': 4, 'author': '2023-08-08 14:02:04.000000000', 'date': '2023-08-08 14:02:04.000000000'}, {'rev_nbr': 4, 'author': '2023-08-08 14:03:17.000000000', 'date': '2023-08-08 14:03:17.000000000'}, {'rev_nbr': 4, 'author': '2023-08-08 14:19:36.000000000', 'date': '2023-08-08 14:19:36.000000000'}, {'rev_nbr': 4, 'author': '2023-08-08 14:44:57.000000000', 'date': '2023-08-08 14:44:57.000000000'}, {'rev_nbr': 4, 'author': '2023-08-08 15:28:43.000000000', 'date': '2023-08-08 15:28:43.000000000'}, {'rev_nbr': 4, 'author': '2023-08-08 16:35:35.000000000', 'date': '2023-08-08 16:35:35.000000000'}, {'rev_nbr': 5, 'author': '2023-08-08 16:43:48.000000000', 'date': '2023-08-08 16:43:48.000000000'}, {'rev_nbr': 5, 'author': '2023-08-08 16:48:45.000000000', 'date': '2023-08-08 16:48:45.000000000'}, {'rev_nbr': 5, 'author': '2023-08-08 16:58:52.000000000', 'date': '2023-08-08 16:58:52.000000000'}, {'rev_nbr': 4, 'author': '2023-08-08 17:08:52.000000000', 'date': '2023-08-08 17:08:52.000000000'}, {'rev_nbr': 5, 'author': '2023-08-08 17:24:07.000000000', 'date': '2023-08-08 17:24:07.000000000'}, {'rev_nbr': 5, 'author': '2023-08-08 17:43:50.000000000', 'date': '2023-08-08 17:43:50.000000000'}, {'rev_nbr': 5, 'author': '2023-08-08 18:46:00.000000000', 'date': '2023-08-08 18:46:00.000000000'}, {'rev_nbr': 5, 'author': '2023-08-08 19:07:20.000000000', 'date': '2023-08-08 19:07:20.000000000'}, {'rev_nbr': 5, 'author': '2023-08-09 00:20:33.000000000', 'date': '2023-08-09 00:20:33.000000000'}, {'rev_nbr': 5, 'author': '2023-08-09 02:36:02.000000000', 'date': '2023-08-09 02:36:02.000000000'}, {'rev_nbr': 5, 'author': '2023-08-09 10:37:58.000000000', 'date': '2023-08-09 10:37:58.000000000'}, {'rev_nbr': 5, 'author': '2023-08-14 20:24:58.000000000', 'date': '2023-08-14 20:24:58.000000000'}, {'rev_nbr': 5, 'author': '2023-08-14 22:58:59.000000000', 'date': '2023-08-14 22:58:59.000000000'}, {'rev_nbr': 6, 'author': '2023-08-17 16:18:45.000000000', 'date': '2023-08-17 16:18:45.000000000'}, {'rev_nbr': 6, 'author': '2023-08-17 17:37:13.000000000', 'date': '2023-08-17 17:37:13.000000000'}, {'rev_nbr': 6, 'author': '2023-08-17 17:42:39.000000000', 'date': '2023-08-17 17:42:39.000000000'}, {'rev_nbr': 6, 'author': '2023-08-17 18:50:48.000000000', 'date': '2023-08-17 18:50:48.000000000'}, {'rev_nbr': 6, 'author': '2023-08-17 19:44:27.000000000', 'date': '2023-08-17 19:44:27.000000000'}, {'rev_nbr': 6, 'author': '2023-08-17 21:49:06.000000000', 'date': '2023-08-17 21:49:06.000000000'}, {'rev_nbr': 6, 'author': '2023-08-18 04:04:22.000000000', 'date': '2023-08-18 04:04:22.000000000'}, {'rev_nbr': 6, 'author': '2023-08-18 04:47:25.000000000', 'date': '2023-08-18 04:47:25.000000000'}, {'rev_nbr': 6, 'author': '2023-08-18 05:00:59.000000000', 'date': '2023-08-18 05:00:59.000000000'}, {'rev_nbr': 6, 'author': '2023-08-18 05:13:24.000000000', 'date': '2023-08-18 05:13:24.000000000'}, {'rev_nbr': 6, 'author': '2023-08-18 06:04:04.000000000', 'date': '2023-08-18 06:04:04.000000000'}, {'rev_nbr': 6, 'author': '2023-08-18 06:46:52.000000000', 'date': '2023-08-18 06:46:52.000000000'}, {'rev_nbr': 6, 'author': '2023-08-18 16:13:57.000000000', 'date': '2023-08-18 16:13:57.000000000'}, {'rev_nbr': 7, 'author': '2023-08-18 19:53:43.000000000', 'date': '2023-08-18 19:53:43.000000000'}, {'rev_nbr': 7, 'author': '2023-08-18 20:40:01.000000000', 'date': '2023-08-18 20:40:01.000000000'}, {'rev_nbr': 7, 'author': '2023-08-18 21:23:25.000000000', 'date': '2023-08-18 21:23:25.000000000'}, {'rev_nbr': 7, 'author': '2023-08-18 22:18:12.000000000', 'date': '2023-08-18 22:18:12.000000000'}, {'rev_nbr': 7, 'author': '2023-08-18 23:26:30.000000000', 'date': '2023-08-18 23:26:30.000000000'}, {'rev_nbr': 7, 'author': '2023-08-19 00:15:42.000000000', 'date': '2023-08-19 00:15:42.000000000'}, {'rev_nbr': 7, 'author': '2023-08-19 01:20:07.000000000', 'date': '2023-08-19 01:20:07.000000000'}, {'rev_nbr': 7, 'author': '2023-08-19 01:34:44.000000000', 'date': '2023-08-19 01:34:44.000000000'}, {'rev_nbr': 7, 'author': '2023-08-19 01:54:41.000000000', 'date': '2023-08-19 01:54:41.000000000'}, {'rev_nbr': 7, 'author': '2023-08-19 02:27:39.000000000', 'date': '2023-08-19 02:27:39.000000000'}, {'rev_nbr': 7, 'author': '2023-08-19 04:34:17.000000000', 'date': '2023-08-19 04:34:17.000000000'}, {'rev_nbr': 7, 'author': '2023-08-19 09:55:32.000000000', 'date': '2023-08-19 09:55:32.000000000'}, {'rev_nbr': 7, 'author': '2023-08-21 05:17:28.000000000', 'date': '2023-08-21 05:17:28.000000000'}, {'rev_nbr': 7, 'author': '2023-08-21 21:25:18.000000000', 'date': '2023-08-21 21:25:18.000000000'}, {'rev_nbr': 7, 'author': '2023-08-22 11:00:21.000000000', 'date': '2023-08-22 11:00:21.000000000'}, {'rev_nbr': 7, 'author': '2023-08-22 14:02:16.000000000', 'date': '2023-08-22 14:02:16.000000000'}, {'rev_nbr': 7, 'author': '2023-08-22 17:29:00.000000000', 'date': '2023-08-22 17:29:00.000000000'}, {'rev_nbr': 7, 'author': '2023-08-22 19:10:11.000000000', 'date': '2023-08-22 19:10:11.000000000'}, {'rev_nbr': 7, 'author': '2023-08-22 20:14:10.000000000', 'date': '2023-08-22 20:14:10.000000000'}, {'rev_nbr': 7, 'author': '2023-08-22 20:40:56.000000000', 'date': '2023-08-22 20:40:56.000000000'}, {'rev_nbr': 7, 'author': '2023-08-22 21:13:03.000000000', 'date': '2023-08-22 21:13:03.000000000'}, {'rev_nbr': 7, 'author': '2023-08-22 21:26:22.000000000', 'date': '2023-08-22 21:26:22.000000000'}, {'rev_nbr': 7, 'author': '2023-08-22 21:53:44.000000000', 'date': '2023-08-22 21:53:44.000000000'}, {'rev_nbr': 7, 'author': '2023-08-23 00:56:39.000000000', 'date': '2023-08-23 00:56:39.000000000'}, {'rev_nbr': 7, 'author': '2023-08-23 01:04:29.000000000', 'date': '2023-08-23 01:04:29.000000000'}, {'rev_nbr': 7, 'author': '2023-08-23 01:29:54.000000000', 'date': '2023-08-23 01:29:54.000000000'}, {'rev_nbr': 7, 'author': '2023-08-23 02:20:45.000000000', 'date': '2023-08-23 02:20:45.000000000'}, {'rev_nbr': 7, 'author': '2023-08-23 04:01:00.000000000', 'date': '2023-08-23 04:01:00.000000000'}, {'rev_nbr': 7, 'author': '2023-08-23 11:17:34.000000000', 'date': '2023-08-23 11:17:34.000000000'}, {'rev_nbr': 7, 'author': '2023-08-23 15:01:22.000000000', 'date': '2023-08-23 15:01:22.000000000'}, {'rev_nbr': 7, 'author': '2023-08-23 21:24:08.000000000', 'date': '2023-08-23 21:24:08.000000000'}, {'rev_nbr': 7, 'author': '2023-08-27 22:14:36.000000000', 'date': '2023-08-27 22:14:36.000000000'}, {'rev_nbr': 7, 'author': '2023-09-05 06:51:37.000000000', 'date': '2023-09-05 06:51:37.000000000'}]",15,"[{'number': 7, 'created': '2023-08-18 19:14:43.000000000', 'files': ['cinder/scheduler/filter_scheduler.py', 'cinder/backup/api.py', 'releasenotes/notes/bug-1912624-bakup-a-z-regression-452f4bc9dfd41871.yaml', 'cinder/scheduler/driver.py', 'cinder/scheduler/manager.py', 'cinder/tests/unit/scheduler/test_scheduler.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/scheduler/host_manager.py'], 'message': 'Do not ignore availability_zone in backup creation\n\nThis patch corrects a regression introduced by change\nIe2afb57c4861c4.\n\nChange-Id: I8b1b09ecf2ad1e19a557a664516251cae3ddf2ae\nCloses-Bug: #1912624\n'}]",785099,ddcf394ae277692d7cab2e03b4b6ae67ba7f1cc3,30754,FengJiankui,FengJiankui,0,"Do not ignore availability_zone in backup creation

This patch corrects a regression introduced by change
Ie2afb57c4861c4.

Change-Id: I8b1b09ecf2ad1e19a557a664516251cae3ddf2ae
Closes-Bug: #1912624
","['cinder/scheduler/filter_scheduler.py', 'cinder/backup/api.py', 'releasenotes/notes/bug-1912624-bakup-a-z-regression-452f4bc9dfd41871.yaml', 'cinder/scheduler/driver.py', 'cinder/scheduler/manager.py', 'cinder/tests/unit/scheduler/test_scheduler.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/scheduler/host_manager.py']"
openstack%2Fheat~893692,openstack/heat,master,I09805aa4e2d1b43528f70fb29c8981c01deff955,Skip loading auth plugin in case the property is set,MERGED,2023-09-05 01:42:44.000000000,2023-09-05 06:45:36.000000000,10,6,"[{'_account_id': 8833, 'name': 'Rabi Mishra', 'email': 'ramishra@redhat.com', 'username': 'rabi'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 2, 'created': '2023-09-05 03:28:30.000000000', 'files': ['heat/common/context.py', '.zuul.yaml'], 'message': 'Skip loading auth plugin in case the property is set\n\nCurrently StoredContext object tries to load auth plugin even when\na specific property(eg. user_domain_id) is already set. However this\nis redundant and we can use the value loaded from stack instead.\n\nThis also disables GLOBAL_VENV which was added to devstack recently[1].\nThe feature now breaks some functional tests which requires access\nto the heat-manage command.\n\n[1] a40f9cb91fbedddec89f0ffd6c7dd4b3828a232e\n\nStory: 2010905\nTask: 48723\nChange-Id: I09805aa4e2d1b43528f70fb29c8981c01deff955\n'}]",893692,7197bd028ba3981d4e6df28885278823015bd5b5,9816,Takashi Kajinami,kajinamit,0,"Skip loading auth plugin in case the property is set

Currently StoredContext object tries to load auth plugin even when
a specific property(eg. user_domain_id) is already set. However this
is redundant and we can use the value loaded from stack instead.

This also disables GLOBAL_VENV which was added to devstack recently[1].
The feature now breaks some functional tests which requires access
to the heat-manage command.

[1] a40f9cb91fbedddec89f0ffd6c7dd4b3828a232e

Story: 2010905
Task: 48723
Change-Id: I09805aa4e2d1b43528f70fb29c8981c01deff955
","['heat/common/context.py', '.zuul.yaml']"
openstack%2Fskyline-console~893473,openstack/skyline-console,master,I5f57030d65d0d7e17681d0579fc57c7441e1ecfa,fix: fix table height,MERGED,2023-09-01 07:22:03.000000000,2023-09-05 04:22:36.000000000,13,3,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28706, 'name': 'Boxiang Zhu', 'email': 'zhu.boxiang@99cloud.net', 'username': 'ZhuBoxiang'}]",,4,"[{'number': 3, 'created': '2023-09-04 10:09:02.000000000', 'files': ['src/containers/List/index.jsx', 'src/components/MagicInput/index.jsx'], 'message': 'fix: fix table height\n\n1. fix table height when the magicInput has opened search menu\n2. fix table height when the page has sub tab\n\nChange-Id: I5f57030d65d0d7e17681d0579fc57c7441e1ecfa\n'}]",893473,961d6d21e1d94a32ada22939a8777ac96dc95c3d,30434,Jingwei.Zhang,jwzhang,0,"fix: fix table height

1. fix table height when the magicInput has opened search menu
2. fix table height when the page has sub tab

Change-Id: I5f57030d65d0d7e17681d0579fc57c7441e1ecfa
","['src/containers/List/index.jsx', 'src/components/MagicInput/index.jsx']"
openstack%2Fpython-openstackclient~850988,openstack/python-openstackclient,master,I2597adb7064eb85517d0c40a70e11f5a62def163,Use py3 as the default runtime for tox,ABANDONED,2022-07-27 02:11:49.000000000,2023-09-05 03:36:58.000000000,10,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 2, 'created': '2023-09-05 03:36:46.000000000', 'files': ['tox.ini'], 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I2597adb7064eb85517d0c40a70e11f5a62def163\n'}]",850988,339e744e9d14eb57c26dc14d3814a97f62796b12,35058,Ke Niu,niuke,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I2597adb7064eb85517d0c40a70e11f5a62def163
",['tox.ini']
openstack%2Fheat~893604,openstack/heat,master,I6721d6c6d869166c2e9641b7864c16c2ebf0d92a,DNM: Debugging ...,ABANDONED,2023-09-04 08:32:14.000000000,2023-09-05 03:03:00.000000000,7,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-04 08:32:14.000000000', 'files': ['heat/common/context.py'], 'message': 'DNM: Debugging ...\n\nChange-Id: I6721d6c6d869166c2e9641b7864c16c2ebf0d92a\n'}]",893604,0d7b1f24f84b622898a2ce33c79e2da872bcb465,9816,Takashi Kajinami,kajinamit,0,"DNM: Debugging ...

Change-Id: I6721d6c6d869166c2e9641b7864c16c2ebf0d92a
",['heat/common/context.py']
openstack%2Fvenus~893327,openstack/venus,master,I35adb4eca4a6c710fdff75d7dc3c0685882e7c09,Add response sample of API 'add anomaly rule',MERGED,2023-09-05 01:31:12.000000000,2023-09-05 02:13:42.000000000,4,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27565, 'name': 'inspurericzhang', 'email': 'zhanglf01@inspur.com', 'username': 'inspurericzhang'}]",,0,"[{'number': 1, 'created': '2023-09-05 01:31:12.000000000', 'files': ['api-ref/source/v1/samples/anomaly-detect/add-anomaly-rule-show-response.json'], 'message': ""Add response sample of API 'add anomaly rule'\n\nChange-Id: I35adb4eca4a6c710fdff75d7dc3c0685882e7c09\n""}]",893327,4549137b8f90d77e21d8835b61f68ef52b5d5aee,33950,Liangyi Ma,maliangyi,0,"Add response sample of API 'add anomaly rule'

Change-Id: I35adb4eca4a6c710fdff75d7dc3c0685882e7c09
",['api-ref/source/v1/samples/anomaly-detect/add-anomaly-rule-show-response.json']
openstack%2Fpuppet-barbican~893599,openstack/puppet-barbican,master,I645f955354324e1d62f3ce03ccc337d6bc608dd1,Deprecate client class,ABANDONED,2023-09-04 07:25:53.000000000,2023-09-05 02:12:57.000000000,12,3,"[{'_account_id': 16137, 'name': 'Tobias Urdin', 'email': 'tobias.urdin@binero.com', 'username': 'tobasco'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2023-09-04 07:25:53.000000000', 'files': ['spec/acceptance/10_basic_barbican_spec.rb', 'manifests/api.pp', 'releasenotes/notes/deprecate-client-0e5b8e0f31d14271.yaml', 'manifests/client.pp'], 'message': 'Deprecate client class\n\nThe barbican CLI has been deprecated[1] and will be removed in a future\nrelease. This deprecates the class to install the barbicanclient\npackage because this class aims to help installing the package for CLI\nusage. It should be installed by package dependencies in case it is\nused as a library.\n\n[1] 084ce7c0d2f6442b37bac05cb00977891e230128\n\nChange-Id: I645f955354324e1d62f3ce03ccc337d6bc608dd1\n'}]",893599,1d5d8da8e555dd5c4c4aea69e30b3c38156974d9,9816,Takashi Kajinami,kajinamit,0,"Deprecate client class

The barbican CLI has been deprecated[1] and will be removed in a future
release. This deprecates the class to install the barbicanclient
package because this class aims to help installing the package for CLI
usage. It should be installed by package dependencies in case it is
used as a library.

[1] 084ce7c0d2f6442b37bac05cb00977891e230128

Change-Id: I645f955354324e1d62f3ce03ccc337d6bc608dd1
","['spec/acceptance/10_basic_barbican_spec.rb', 'manifests/api.pp', 'releasenotes/notes/deprecate-client-0e5b8e0f31d14271.yaml', 'manifests/client.pp']"
openstack%2Fvenus~893325,openstack/venus,master,I3cf7c380a8b52f30ac29636d1d8d5d450ac75aa2,add api doc: add anomaly rule,MERGED,2023-09-04 07:13:41.000000000,2023-09-05 00:19:13.000000000,40,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27565, 'name': 'inspurericzhang', 'email': 'zhanglf01@inspur.com', 'username': 'inspurericzhang'}]",,0,"[{'number': 1, 'created': '2023-09-04 07:13:41.000000000', 'files': ['api-ref/source/v1/samples/anomaly-detect/add-anomaly-rule-show-response.json', 'api-ref/source/v1/anomaly-detect.inc'], 'message': 'add api doc: add anomaly rule\n\nChange-Id: I3cf7c380a8b52f30ac29636d1d8d5d450ac75aa2\n'}]",893325,79cfc43d5f7a0f0226b4e70f09b764dc9abefc1a,33950,Liangyi Ma,maliangyi,0,"add api doc: add anomaly rule

Change-Id: I3cf7c380a8b52f30ac29636d1d8d5d450ac75aa2
","['api-ref/source/v1/samples/anomaly-detect/add-anomaly-rule-show-response.json', 'api-ref/source/v1/anomaly-detect.inc']"
openstack%2Fvenus~893326,openstack/venus,master,Iac699d4c9fa872cd17cbd8f1d872943416c93538,Add request sample of API 'get anomaly record',MERGED,2023-09-04 08:19:55.000000000,2023-09-05 00:18:15.000000000,20,11,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27565, 'name': 'inspurericzhang', 'email': 'zhanglf01@inspur.com', 'username': 'inspurericzhang'}]",,1,"[{'number': 2, 'created': '2023-09-04 08:28:12.000000000', 'files': ['api-ref/source/v1/samples/anomaly-detect/get-anomaly-record-request-curl.json', 'api-ref/source/v1/anomaly-detect.inc'], 'message': ""Add request sample of API 'get anomaly record'\n\nChange-Id: Iac699d4c9fa872cd17cbd8f1d872943416c93538\n""}]",893326,2607e76226d70b6f946c7ba6f3b1be1be4ebf1e2,33950,Liangyi Ma,maliangyi,0,"Add request sample of API 'get anomaly record'

Change-Id: Iac699d4c9fa872cd17cbd8f1d872943416c93538
","['api-ref/source/v1/samples/anomaly-detect/get-anomaly-record-request-curl.json', 'api-ref/source/v1/anomaly-detect.inc']"
openstack%2Fneutron~893543,openstack/neutron,stable/zed,I34caf7d0212ccb4bd7259c4414e7c3994bd8da4d,Improve the ``PortBindingUpdateVirtualPortsEvent`` match filter,MERGED,2023-09-01 19:01:23.000000000,2023-09-04 19:03:06.000000000,74,26,"[{'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,4,"[{'number': 1, 'created': '2023-09-01 19:01:23.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/plugin.py'], 'message': 'Improve the ``PortBindingUpdateVirtualPortsEvent`` match filter\n\nThis patch improves the ``PortBindingUpdateVirtualPortsEvent``\nmatch filter. These are the new conditions:\n* Event delete: that happens when the port binding has been deleted\n  because the port is no longer bound or the port has been\n  deleted. That will remove the Neutron port host name.\n  NOTE: in case the Neutron port has been deleted, the method\n  ``Ml2Plugin.update_virtual_port_host`` won\'t update (create) a new\n  PortBinding object.\n* If the new register has virtual_parents but not the old one, that\n  means the ovn-controller has received traffic with the VIP from\n  this port. The port host ID must be set.\n* If the virtual parents have changed, the port host ID must be\n  updated.\n* If the virtual parents have been removed, the port host ID must\n  be removed too.\n\nNewer versions of OVN [1] are handling the virtual port binding in\na different way. When the virtual parents are added or removed,\nthe related ""Port_Binding"" register is deleted and the created\nagain. This is why this new version includes the event ""DELETE""\non the match method; when the register is deleted, the event\nclass considers that the port is no longer bound to a host and\nremoves the host name for the Neutron port.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/880890/\n\nChange-Id: I34caf7d0212ccb4bd7259c4414e7c3994bd8da4d\n(cherry picked from commit 2fbfe3855ea59250bba1ff01f0d97ddfb46d2511)\n'}]",893543,810c813adf0ab175a847805adb6a5f20ec586577,1004,Mohammed Naser,mnaser,0,"Improve the ``PortBindingUpdateVirtualPortsEvent`` match filter

This patch improves the ``PortBindingUpdateVirtualPortsEvent``
match filter. These are the new conditions:
* Event delete: that happens when the port binding has been deleted
  because the port is no longer bound or the port has been
  deleted. That will remove the Neutron port host name.
  NOTE: in case the Neutron port has been deleted, the method
  ``Ml2Plugin.update_virtual_port_host`` won't update (create) a new
  PortBinding object.
* If the new register has virtual_parents but not the old one, that
  means the ovn-controller has received traffic with the VIP from
  this port. The port host ID must be set.
* If the virtual parents have changed, the port host ID must be
  updated.
* If the virtual parents have been removed, the port host ID must
  be removed too.

Newer versions of OVN [1] are handling the virtual port binding in
a different way. When the virtual parents are added or removed,
the related ""Port_Binding"" register is deleted and the created
again. This is why this new version includes the event ""DELETE""
on the match method; when the register is deleted, the event
class considers that the port is no longer bound to a host and
removes the host name for the Neutron port.

[1]https://review.opendev.org/c/openstack/neutron/+/880890/

Change-Id: I34caf7d0212ccb4bd7259c4414e7c3994bd8da4d
(cherry picked from commit 2fbfe3855ea59250bba1ff01f0d97ddfb46d2511)
","['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/plugin.py']"
openstack%2Fdevstack~885468,openstack/devstack,master,Iafb5a939a650b763935d8b7ce7069ac4c6d9a95b,Drop focal platform job and support,MERGED,2023-06-07 13:32:00.000000000,2023-09-04 17:12:42.000000000,1,10,"[{'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22873, 'name': 'Martin Kopec', 'email': 'mkopec@redhat.com', 'username': 'mkopec'}]",,12,"[{'number': 3, 'created': '2023-09-03 19:07:49.000000000', 'files': ['.zuul.yaml', 'stack.sh'], 'message': 'Drop focal platform job and support\n\nThis was dropped in tempest, too[0], and we want to focus on getting and\nkeeping the jammy job stable.\n\nStill retaining the nodeset definitions until we are sure they are not\nneeded in other projects.\n\n[0] https://review.opendev.org/c/openstack/tempest/+/884952\n\nChange-Id: Iafb5a939a650b763935d8b7ce7069ac4c6d9a95b\n'}]",885468,427a4e1a9b7f20a8be0ad5091f2229945ce711a8,13252,Dr. Jens Harbott,jrosenboom,0,"Drop focal platform job and support

This was dropped in tempest, too[0], and we want to focus on getting and
keeping the jammy job stable.

Still retaining the nodeset definitions until we are sure they are not
needed in other projects.

[0] https://review.opendev.org/c/openstack/tempest/+/884952

Change-Id: Iafb5a939a650b763935d8b7ce7069ac4c6d9a95b
","['.zuul.yaml', 'stack.sh']"
openstack%2Fos-ken~893664,openstack/os-ken,master,I26fcfc6742a4434eafb12f96a634c71bc0cf72d6,Remove duplicate requirements files,MERGED,2023-09-04 14:52:22.000000000,2023-09-04 16:40:05.000000000,2,14,"[{'_account_id': 11975, 'name': 'Slawek Kaplonski', 'email': 'skaplons@redhat.com', 'username': 'slaweq'}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-04 14:52:22.000000000', 'files': ['tools/pip-requires', 'tools/optional-requires', 'os_ken/tests/integrated/common/docker_base.py'], 'message': 'Remove duplicate requirements files\n\nChange-Id: I26fcfc6742a4434eafb12f96a634c71bc0cf72d6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",893664,c18ac550d546c4dbc5fa550fce89debbb166f092,15334,Stephen Finucane,sfinucan,0,"Remove duplicate requirements files

Change-Id: I26fcfc6742a4434eafb12f96a634c71bc0cf72d6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
","['tools/pip-requires', 'tools/optional-requires', 'os_ken/tests/integrated/common/docker_base.py']"
openstack%2Fneutron~893542,openstack/neutron,stable/2023.1,I34caf7d0212ccb4bd7259c4414e7c3994bd8da4d,Improve the ``PortBindingUpdateVirtualPortsEvent`` match filter,MERGED,2023-09-01 19:01:06.000000000,2023-09-04 16:37:49.000000000,74,26,"[{'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28008, 'name': 'Guilherme', 'display_name': 'Guilherme Steinmüller', 'email': 'gsteinmuller@vexxhost.com', 'username': 'guilhermesp'}]",,2,"[{'number': 1, 'created': '2023-09-01 19:01:06.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/plugin.py'], 'message': 'Improve the ``PortBindingUpdateVirtualPortsEvent`` match filter\n\nThis patch improves the ``PortBindingUpdateVirtualPortsEvent``\nmatch filter. These are the new conditions:\n* Event delete: that happens when the port binding has been deleted\n  because the port is no longer bound or the port has been\n  deleted. That will remove the Neutron port host name.\n  NOTE: in case the Neutron port has been deleted, the method\n  ``Ml2Plugin.update_virtual_port_host`` won\'t update (create) a new\n  PortBinding object.\n* If the new register has virtual_parents but not the old one, that\n  means the ovn-controller has received traffic with the VIP from\n  this port. The port host ID must be set.\n* If the virtual parents have changed, the port host ID must be\n  updated.\n* If the virtual parents have been removed, the port host ID must\n  be removed too.\n\nNewer versions of OVN [1] are handling the virtual port binding in\na different way. When the virtual parents are added or removed,\nthe related ""Port_Binding"" register is deleted and the created\nagain. This is why this new version includes the event ""DELETE""\non the match method; when the register is deleted, the event\nclass considers that the port is no longer bound to a host and\nremoves the host name for the Neutron port.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/880890/\n\nChange-Id: I34caf7d0212ccb4bd7259c4414e7c3994bd8da4d\n(cherry picked from commit 2fbfe3855ea59250bba1ff01f0d97ddfb46d2511)\n'}]",893542,fbda749de7069e9fc0376139ca93e9eae000c5da,1004,Mohammed Naser,mnaser,0,"Improve the ``PortBindingUpdateVirtualPortsEvent`` match filter

This patch improves the ``PortBindingUpdateVirtualPortsEvent``
match filter. These are the new conditions:
* Event delete: that happens when the port binding has been deleted
  because the port is no longer bound or the port has been
  deleted. That will remove the Neutron port host name.
  NOTE: in case the Neutron port has been deleted, the method
  ``Ml2Plugin.update_virtual_port_host`` won't update (create) a new
  PortBinding object.
* If the new register has virtual_parents but not the old one, that
  means the ovn-controller has received traffic with the VIP from
  this port. The port host ID must be set.
* If the virtual parents have changed, the port host ID must be
  updated.
* If the virtual parents have been removed, the port host ID must
  be removed too.

Newer versions of OVN [1] are handling the virtual port binding in
a different way. When the virtual parents are added or removed,
the related ""Port_Binding"" register is deleted and the created
again. This is why this new version includes the event ""DELETE""
on the match method; when the register is deleted, the event
class considers that the port is no longer bound to a host and
removes the host name for the Neutron port.

[1]https://review.opendev.org/c/openstack/neutron/+/880890/

Change-Id: I34caf7d0212ccb4bd7259c4414e7c3994bd8da4d
(cherry picked from commit 2fbfe3855ea59250bba1ff01f0d97ddfb46d2511)
","['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/plugin.py']"
openstack%2Fos-ken~893663,openstack/os-ken,master,I16a6cee70f153d95fc0b723e2ca1a39a2ac4398b,Remove unused requirements file,MERGED,2023-09-04 14:52:22.000000000,2023-09-04 15:42:27.000000000,0,2,"[{'_account_id': 11975, 'name': 'Slawek Kaplonski', 'email': 'skaplons@redhat.com', 'username': 'slaweq'}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-04 14:52:22.000000000', 'files': ['tools/doc-requires'], 'message': 'Remove unused requirements file\n\nMade me think we were using sphinx_rtd_theme here. We are not.\n\nChange-Id: I16a6cee70f153d95fc0b723e2ca1a39a2ac4398b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",893663,3fdfa3b2309d85044b52a64e828866e2a85c6c9e,15334,Stephen Finucane,sfinucan,0,"Remove unused requirements file

Made me think we were using sphinx_rtd_theme here. We are not.

Change-Id: I16a6cee70f153d95fc0b723e2ca1a39a2ac4398b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",['tools/doc-requires']
openstack%2Fskyline-console~893485,openstack/skyline-console,master,I656d853417dd5969fd5c4f226689111f9043b993,feat: update Action component,MERGED,2023-09-01 09:31:20.000000000,2023-09-04 15:12:46.000000000,12,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28706, 'name': 'Boxiang Zhu', 'email': 'zhu.boxiang@99cloud.net', 'username': 'ZhuBoxiang'}]",,0,"[{'number': 5, 'created': '2023-09-04 10:09:15.000000000', 'files': ['src/components/Tables/Base/Action/index.jsx'], 'message': 'feat: update Action component\n\nupdate Action component to check allowed by other func first\n\nChange-Id: I656d853417dd5969fd5c4f226689111f9043b993\n'}]",893485,94b2e8d58ff2ffe5d322eddd77d4d4004d0fc407,30434,Jingwei.Zhang,jwzhang,0,"feat: update Action component

update Action component to check allowed by other func first

Change-Id: I656d853417dd5969fd5c4f226689111f9043b993
",['src/components/Tables/Base/Action/index.jsx']
openstack%2Ftripleo-quickstart~893160,openstack/tripleo-quickstart,master,Id11208678780369db0bde72b60754c82ffe6201f,Install tomcat-9.0.62-16.el9 norach rpms,MERGED,2023-08-30 11:20:29.000000000,2023-09-04 14:21:04.000000000,4,0,"[{'_account_id': 9976, 'name': 'Ronelle Landy', 'email': 'rlandy@redhat.com', 'username': 'rlandy'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 4, 'created': '2023-08-30 14:08:54.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml'], 'message': 'Install tomcat-9.0.62-16.el9 norach rpms\n\nThis is the workaround to fix the Bug: #2033357\nWe will revert this once we have builds updated.\n\nPartial-Bug: #2033357\n\nChange-Id: Id11208678780369db0bde72b60754c82ffe6201f\n'}]",893160,3737173794033d641b00f44bc7c7cf488838748f,20182,Bhagyashri Shewale,bhagyashris,0,"Install tomcat-9.0.62-16.el9 norach rpms

This is the workaround to fix the Bug: #2033357
We will revert this once we have builds updated.

Partial-Bug: #2033357

Change-Id: Id11208678780369db0bde72b60754c82ffe6201f
","['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml']"
openstack%2Fopenstacksdk~887262,openstack/openstacksdk,master,I82f905590bc4341c79d6aed6db0064763fd7cb0a,Add support for default security group rules in SDK,MERGED,2023-06-29 10:04:18.000000000,2023-09-04 14:12:01.000000000,380,0,"[{'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27900, 'name': 'Artem Goncharov', 'email': 'artem.goncharov@gmail.com', 'username': 'gtema'}]",,19,"[{'number': 5, 'created': '2023-07-19 14:16:52.000000000', 'files': ['openstack/network/v2/_proxy.py', 'doc/source/user/proxies/network.rst', 'openstack/tests/unit/network/v2/test_default_security_group_rule.py', 'openstack/tests/functional/network/v2/test_default_security_group_rule.py', 'openstack/network/v2/default_security_group_rule.py'], 'message': 'Add support for default security group rules in SDK\n\nNeutron introduced new API for ""default security group rules"" which are\nkind of template of the SG rules which are next added to each newly\ncreated SG.\nThis patch adds support for that new API in SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/884474\n\nRelated-bug: #1983053\nChange-Id: I82f905590bc4341c79d6aed6db0064763fd7cb0a\n'}]",887262,b02c96974edc3bdf91b4b11afc689569562b6c78,11975,Slawek Kaplonski,slaweq,0,"Add support for default security group rules in SDK

Neutron introduced new API for ""default security group rules"" which are
kind of template of the SG rules which are next added to each newly
created SG.
This patch adds support for that new API in SDK.

Depends-On: https://review.opendev.org/c/openstack/neutron/+/884474

Related-bug: #1983053
Change-Id: I82f905590bc4341c79d6aed6db0064763fd7cb0a
","['openstack/network/v2/_proxy.py', 'doc/source/user/proxies/network.rst', 'openstack/tests/unit/network/v2/test_default_security_group_rule.py', 'openstack/tests/functional/network/v2/test_default_security_group_rule.py', 'openstack/network/v2/default_security_group_rule.py']"
openstack%2Fcharm-nova-cloud-controller~794699,openstack/charm-nova-cloud-controller,master,Ib6f07fb116ef6b14d560d9a8f332b5458536f432,added limit_tenants_to_placement_aggregate config option,ABANDONED,2021-06-04 02:27:59.000000000,2023-09-04 13:32:27.000000000,24,0,"[{'_account_id': 8992, 'name': 'Billy Olsen', 'email': 'billy.olsen@canonical.com', 'username': 'billy-olsen'}, {'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,4,"[{'number': 2, 'created': '2021-06-04 02:29:30.000000000', 'files': ['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py'], 'message': 'added limit_tenants_to_placement_aggregate config option\n\nCloses-Bug: 1920982\nChange-Id: Ib6f07fb116ef6b14d560d9a8f332b5458536f432\n'}]",794699,7d52c5eb325ad84602b36448ea84428cb74222f7,33340,Hernan Garcia,hernandanielg,0,"added limit_tenants_to_placement_aggregate config option

Closes-Bug: 1920982
Change-Id: Ib6f07fb116ef6b14d560d9a8f332b5458536f432
","['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py']"
openstack%2Ftripleo-upgrade~866332,openstack/tripleo-upgrade,stable/train,I88d90288bcf4095e602ee8c704f7ea3f35c60e71,Do not rename nic interfaces,ABANDONED,2022-12-01 12:39:24.000000000,2023-09-04 11:45:52.000000000,0,226,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2022-12-01 12:39:24.000000000', 'files': ['files/rename-nics.yaml', 'tasks/common/undercloud_os_upgrade.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/create-undercloud-ffu-scripts.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml'], 'message': 'Do not rename nic interfaces\n\nPreviously we implemented nic renaming to fully comply LEAPP. However,\nthis should be outside of our CI. Instead we should block network\nrelated leapp actors to allow to run on our CI.\n\nChange-Id: I88d90288bcf4095e602ee8c704f7ea3f35c60e71\n'}]",866332,3b4a842922e8a31a3eb54e6308ca407117d101d5,11090,Sergii Golovatiuk,holser,0,"Do not rename nic interfaces

Previously we implemented nic renaming to fully comply LEAPP. However,
this should be outside of our CI. Instead we should block network
related leapp actors to allow to run on our CI.

Change-Id: I88d90288bcf4095e602ee8c704f7ea3f35c60e71
","['files/rename-nics.yaml', 'tasks/common/undercloud_os_upgrade.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/create-undercloud-ffu-scripts.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml']"
openstack%2Ftripleo-heat-templates~871992,openstack/tripleo-heat-templates,stable/wallaby,Ib4de49adc50ee4c806882754c5657c7dbd1f8993,Bug#1998501 fixed ansible conditional evaluation,ABANDONED,2023-01-27 15:09:38.000000000,2023-09-04 11:42:29.000000000,43,15,"[{'_account_id': 6816, 'name': 'Jesse Pretorius', 'email': 'jesse@odyssey4.me', 'username': 'jesse-pretorius'}, {'_account_id': 8297, 'name': 'Sofer Athlan-Guyot', 'email': 'sathlang@redhat.com', 'username': 'chem'}, {'_account_id': 8449, 'name': 'Marios Andreou', 'email': 'marios.andreou@gmail.com', 'username': 'marios'}, {'_account_id': 11090, 'name': 'Sergii Golovatiuk', 'email': 'sgolovat@redhat.com', 'username': 'holser'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28223, 'name': 'Cedric Jeanneret', 'display_name': 'cjeanner (Tengu)', 'email': 'cjeanner@redhat.com', 'username': 'cjeanner'}, {'_account_id': 33080, 'name': 'Mikolaj Ciecierski', 'display_name': 'Mikolaj Ciecierski', 'email': 'mciecier@redhat.com', 'username': 'mciecierski'}]",,12,"[{'number': 2, 'created': '2023-01-27 15:17:20.000000000', 'files': ['common/deploy-steps-tasks-step-0.yaml', 'common/deploy-steps.j2'], 'message': 'Bug#1998501 fixed ansible conditional evaluation\n\nNot sure why but it seems to me that the parallel execution\nis affecting this conditional evaluation.\n\nAs this conditional way was used in several places, this\npatch aims also to change those places to look alike.\n\nCloses-Bug: #1998501\nChange-Id: Ib4de49adc50ee4c806882754c5657c7dbd1f8993\n(cherry picked from commit 88f527e35308d4e34ffeb26f1f70f460c5870a73)\n(cherry picked from commit f7251ad83ea565adcd42f7026382e93b5f336c2a)\n'}]",871992,9cd073e3247a8a909db1f7624db24e25f3af33c4,22954,Juan Badia Payno,jbadiapa,0,"Bug#1998501 fixed ansible conditional evaluation

Not sure why but it seems to me that the parallel execution
is affecting this conditional evaluation.

As this conditional way was used in several places, this
patch aims also to change those places to look alike.

Closes-Bug: #1998501
Change-Id: Ib4de49adc50ee4c806882754c5657c7dbd1f8993
(cherry picked from commit 88f527e35308d4e34ffeb26f1f70f460c5870a73)
(cherry picked from commit f7251ad83ea565adcd42f7026382e93b5f336c2a)
","['common/deploy-steps-tasks-step-0.yaml', 'common/deploy-steps.j2']"
openstack%2Fkolla-ansible~881799,openstack/kolla-ansible,master,I9fca3d4336375b72d09633b51c8596e0c08abbf9,CI: retry smoke tests and instance creation,MERGED,2023-04-28 07:34:42.000000000,2023-09-04 11:39:21.000000000,64,11,"[{'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 23084, 'name': 'Bartosz Bezak', 'email': 'bartosz@stackhpc.com', 'username': 'b.bezak'}]",,3,"[{'number': 3, 'created': '2023-05-08 10:05:49.000000000', 'files': ['tests/test-core-openstack.sh'], 'message': ""CI: retry smoke tests and instance creation\n\nSometimes services have problems connecting to the database\nor rmq on upgrade jobs, and we're not retrying the test.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-collection-kolla/+/882344\n\nChange-Id: I9fca3d4336375b72d09633b51c8596e0c08abbf9\n""}]",881799,2524ec422d2f8ff74a27282067f7a99fecc676f2,22629,Michal Nasiadka,mnasiadka,0,"CI: retry smoke tests and instance creation

Sometimes services have problems connecting to the database
or rmq on upgrade jobs, and we're not retrying the test.

Depends-On: https://review.opendev.org/c/openstack/ansible-collection-kolla/+/882344

Change-Id: I9fca3d4336375b72d09633b51c8596e0c08abbf9
",['tests/test-core-openstack.sh']
openstack%2Ftripleo-ansible~893486,openstack/tripleo-ansible,stable/wallaby,Ieab0d1d3492c9c7e724738131077c7f1a4e2b79f,Remove unwanted extra newline,MERGED,2023-09-01 10:26:30.000000000,2023-09-04 11:02:23.000000000,0,1,"[{'_account_id': 9816, 'name': 'Takashi Kajinami', 'email': 'kajinamit@oss.nttdata.com', 'username': 'kajinamit'}, {'_account_id': 20778, 'name': 'Damien Ciabrini', 'email': 'dciabrin@redhat.com', 'username': 'dciabrin'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 32029, 'name': 'likui', 'email': 'likui@yovole.com', 'username': 'likui'}]",,0,"[{'number': 1, 'created': '2023-09-01 10:26:30.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2'], 'message': 'Remove unwanted extra newline\n\nWith Iefbfd2b2bdfa4851417a311baf6be189e480e25d we accidentally\nintroduced a newline that could result in unwanted frr restarts\nduring updates b/c the config file would change.\n\nChange-Id: Ieab0d1d3492c9c7e724738131077c7f1a4e2b79f\n'}]",893486,05e8c8a35190339e8cd5108d3151631774b9ed72,30126,Luca Miccini,lmiccini2,0,"Remove unwanted extra newline

With Iefbfd2b2bdfa4851417a311baf6be189e480e25d we accidentally
introduced a newline that could result in unwanted frr restarts
during updates b/c the config file would change.

Change-Id: Ieab0d1d3492c9c7e724738131077c7f1a4e2b79f
",['tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2']
openstack%2Fcharm-glance~886376,openstack/charm-glance,master,I3004dc16092ea506211be553bf236d6eb40018f1,Support disabling apache wsgi socket rotation,ABANDONED,2023-06-19 07:49:27.000000000,2023-09-04 10:56:24.000000000,80,22,"[{'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-09-04 10:40:04.000000000', 'files': ['charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/core/unitdata.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/openstack/context.py', 'config.yaml', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf'], 'message': 'Support disabling apache wsgi socket rotation\n\nBug LP 1863232 introduced a new Apache configuration option called\nWSGISocketRotation which allows users to disable wsgi socket\nrotation. This patch makes this configurable with a new\nwsgi-socket-rotation config option that defaults to the Apache\ndefault and can optionally be set to False.\n\nCloses-Bug: #2021550\nChange-Id: I3004dc16092ea506211be553bf236d6eb40018f1\n'}]",886376,f72a31293268b5a495045aa01b4d5d8ae7201f04,2711,Zhang Hua,zhhuabj,0,"Support disabling apache wsgi socket rotation

Bug LP 1863232 introduced a new Apache configuration option called
WSGISocketRotation which allows users to disable wsgi socket
rotation. This patch makes this configurable with a new
wsgi-socket-rotation config option that defaults to the Apache
default and can optionally be set to False.

Closes-Bug: #2021550
Change-Id: I3004dc16092ea506211be553bf236d6eb40018f1
","['charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/core/unitdata.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/openstack/context.py', 'config.yaml', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf']"
openstack%2Fglance_store~893459,openstack/glance_store,stable/2023.1,I5e70824e9abc5277ea25ba95704b358fe3686037,Cinder: Add support to extend attached volumes,ABANDONED,2023-09-01 14:43:06.000000000,2023-09-04 09:36:26.000000000,9,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2023-09-01 14:43:06.000000000', 'files': ['glance_store/tests/unit/cinder/test_base.py', 'glance_store/_drivers/cinder/base.py'], 'message': 'Cinder: Add support to extend attached volumes\n\nWhile creating an image, if we want to extend the volume\n(to accomodate the image), we need to first detach the volume,\nperform the extend and attach it again. This is inefficient\nfor backends that support extending attached volumes since we\nare performing 3 cinder operations (the attachment call\nincludes 3 API calls which sum to a total of 5 API calls for 3\noperations) instead of directly extending it which requires only\n1 API call to cinder.\nThe support for extending attached volumes was added in cinder\nmicroversion 3.42.\n\nThis patch adds a new boolean config option\n``cinder_do_extend_attached`` which allows operators to specify\nif the cinder backend they are using supports extending\nattached (in-use) volumes. By default this will be ``false``.\nBased on the parameter, we will perform the extend operation,\nonline (if cinder_do_extend_attached is true) and offline otherwise.\n\nSpec: https://review.opendev.org/c/openstack/glance-specs/+/868901\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/869021\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/869051\n\nChange-Id: I5e70824e9abc5277ea25ba95704b358fe3686037\n(cherry picked from commit a7edc87b0e97d537c1b26ca521e18605a352cdfa)\n'}]",893459,5469edf584395d2e9fcc506eb9aeedfe7e7a245c,26922,Steven Relf,srelf,0,"Cinder: Add support to extend attached volumes

While creating an image, if we want to extend the volume
(to accomodate the image), we need to first detach the volume,
perform the extend and attach it again. This is inefficient
for backends that support extending attached volumes since we
are performing 3 cinder operations (the attachment call
includes 3 API calls which sum to a total of 5 API calls for 3
operations) instead of directly extending it which requires only
1 API call to cinder.
The support for extending attached volumes was added in cinder
microversion 3.42.

This patch adds a new boolean config option
``cinder_do_extend_attached`` which allows operators to specify
if the cinder backend they are using supports extending
attached (in-use) volumes. By default this will be ``false``.
Based on the parameter, we will perform the extend operation,
online (if cinder_do_extend_attached is true) and offline otherwise.

Spec: https://review.opendev.org/c/openstack/glance-specs/+/868901

Depends-On: https://review.opendev.org/c/openstack/glance/+/869021
Depends-On: https://review.opendev.org/c/openstack/cinder/+/869051

Change-Id: I5e70824e9abc5277ea25ba95704b358fe3686037
(cherry picked from commit a7edc87b0e97d537c1b26ca521e18605a352cdfa)
","['glance_store/tests/unit/cinder/test_base.py', 'glance_store/_drivers/cinder/base.py']"
openstack%2Fskyline-console~893594,openstack/skyline-console,master,I046cb196688c245cd7a3a4071e9bf2905c923ad3,fix: remove reboot e2e case,MERGED,2023-09-04 04:49:51.000000000,2023-09-04 09:26:49.000000000,13,13,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28706, 'name': 'Boxiang Zhu', 'email': 'zhu.boxiang@99cloud.net', 'username': 'ZhuBoxiang'}]",,0,"[{'number': 2, 'created': '2023-09-04 06:24:57.000000000', 'files': ['test/e2e/integration/pages/compute/instance.spec.js'], 'message': 'fix: remove reboot e2e case\n\nremove reboot and soft reboot e2e cases, for the devstack reboot instance always get error instance\n\nChange-Id: I046cb196688c245cd7a3a4071e9bf2905c923ad3\n'}]",893594,e1893756d68c606d1ba014593ee90335c1df2509,30434,Jingwei.Zhang,jwzhang,0,"fix: remove reboot e2e case

remove reboot and soft reboot e2e cases, for the devstack reboot instance always get error instance

Change-Id: I046cb196688c245cd7a3a4071e9bf2905c923ad3
",['test/e2e/integration/pages/compute/instance.spec.js']
openstack%2Fpuppet-openstack-integration~893600,openstack/puppet-openstack-integration,master,I0f337825fa01d67a90d8a61e94a425b64ca7cc7e,RabbitMQ: Simplify management of ssl certificate,ABANDONED,2023-09-04 07:41:08.000000000,2023-09-04 09:20:21.000000000,2,10,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-04 07:41:08.000000000', 'files': ['manifests/rabbitmq.pp'], 'message': 'RabbitMQ: Simplify management of ssl certificate\n\nChange-Id: I0f337825fa01d67a90d8a61e94a425b64ca7cc7e\n'}]",893600,8f32ee3defc8f506bdd500517076a9c82df08655,9816,Takashi Kajinami,kajinamit,0,"RabbitMQ: Simplify management of ssl certificate

Change-Id: I0f337825fa01d67a90d8a61e94a425b64ca7cc7e
",['manifests/rabbitmq.pp']
openstack%2Fkolla-ansible~893482,openstack/kolla-ansible,master,I97914485f4392a4f303f32056d0b471948dbc84c,Add forgotten release note for 886747,MERGED,2023-09-01 09:05:15.000000000,2023-09-04 09:02:07.000000000,14,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 23084, 'name': 'Bartosz Bezak', 'email': 'bartosz@stackhpc.com', 'username': 'b.bezak'}, {'_account_id': 32553, 'name': 'Sven Kieske', 'email': 'sven_oss@posteo.de', 'username': 'skieske'}, {'_account_id': 35263, 'name': 'Matt Crees', 'email': 'mattc@stackhpc.com', 'username': 'mattcrees'}, {'_account_id': 36201, 'name': 'Shanjiayi', 'email': 'shanjiayi@yovole.com', 'username': 'Shanjiayi'}]",,7,"[{'number': 3, 'created': '2023-09-04 08:24:47.000000000', 'files': ['releasenotes/notes/default-tftp-bind-address-602acf76136d1732.yaml'], 'message': 'Add forgotten release note for 886747\n\nFollowup on I0401bfc03cd31d72c5a2ae0a111889d5c29a8aa2\n\nRelated-Bug: #2024664\nChange-Id: I97914485f4392a4f303f32056d0b471948dbc84c\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",893482,28c8fab601d454052420d01da12165013ddf7ebd,14200,Maksim Malchuk,mmalchuk,0,"Add forgotten release note for 886747

Followup on I0401bfc03cd31d72c5a2ae0a111889d5c29a8aa2

Related-Bug: #2024664
Change-Id: I97914485f4392a4f303f32056d0b471948dbc84c
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",['releasenotes/notes/default-tftp-bind-address-602acf76136d1732.yaml']
openstack%2Fneutron~893603,openstack/neutron,master,I2ef87679d00fed1800b4169cc1df3d97b6004b87,[UT] Adjust autogen_process_directives for alembic-1.12.0+,ABANDONED,2023-09-04 08:23:58.000000000,2023-09-04 08:43:19.000000000,5,2,[],,0,"[{'number': 1, 'created': '2023-09-04 08:23:58.000000000', 'files': ['neutron/tests/unit/db/test_migration.py'], 'message': ""[UT] Adjust autogen_process_directives for alembic-1.12.0+\n\nWith [1] included in alembic-1.12.0 the unit test\ntest_autogen_process_directives fails as it was\nexpecting 'type_' param in Autogenerated output.\nBut this is not included with 1.12.0 by default,\nthis patch enhances the regex to care only for relevant\nparameters.\n\n[1] https://github.com/sqlalchemy/alembic/commit/733197e\nCloses-Bug: #2034016\nChange-Id: I088cc4b260cccf6be2963d23a76a05f11cfccf2c\n\nChange-Id: I2ef87679d00fed1800b4169cc1df3d97b6004b87\n""}]",893603,38742e586ec9b5c182766d4fd049b75994a98576,13861,yatin,yatinkarel,0,"[UT] Adjust autogen_process_directives for alembic-1.12.0+

With [1] included in alembic-1.12.0 the unit test
test_autogen_process_directives fails as it was
expecting 'type_' param in Autogenerated output.
But this is not included with 1.12.0 by default,
this patch enhances the regex to care only for relevant
parameters.

[1] https://github.com/sqlalchemy/alembic/commit/733197e
Closes-Bug: #2034016
Change-Id: I088cc4b260cccf6be2963d23a76a05f11cfccf2c

Change-Id: I2ef87679d00fed1800b4169cc1df3d97b6004b87
",['neutron/tests/unit/db/test_migration.py']
openstack%2Fopenstack-ansible-os_neutron~893450,openstack/openstack-ansible-os_neutron,stable/2023.1,I122a7e2df0d546c18e4ec607abeb36cb0cec196f,Stop haproxy on ovn-controller nodes,MERGED,2023-09-01 12:34:35.000000000,2023-09-04 08:25:48.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 25023, 'name': 'Jonathan Rosser', 'email': 'jonathan.rosser@rd.bbc.co.uk', 'username': 'jrosser'}, {'_account_id': 28619, 'name': 'Dmitriy Rabotyagov', 'email': 'noonedeadpunk@gmail.com', 'username': 'noonedeadpunk'}]",,0,"[{'number': 1, 'created': '2023-09-01 12:34:35.000000000', 'files': ['tasks/neutron_post_install.yml'], 'message': 'Stop haproxy on ovn-controller nodes\n\ninclude ovn-controller nodes.\n\nChange-Id: I122a7e2df0d546c18e4ec607abeb36cb0cec196f\n(cherry picked from commit a3c09f159bf4dc545db18d16be32488e8ff85fb7)\n'}]",893450,e2468e6a77868482922892961de6288b8cac11c9,13095,Marc Gariépy,mgariepy,0,"Stop haproxy on ovn-controller nodes

include ovn-controller nodes.

Change-Id: I122a7e2df0d546c18e4ec607abeb36cb0cec196f
(cherry picked from commit a3c09f159bf4dc545db18d16be32488e8ff85fb7)
",['tasks/neutron_post_install.yml']
openstack%2Fnova~889947,openstack/nova,master,Ieb76b00600acc9c7610546f5a1afab5b65903825,Reproducer for dangling bdms,MERGED,2023-07-28 11:20:36.000000000,2023-09-04 07:40:59.000000000,185,0,"[{'_account_id': 4393, 'name': 'Dan Smith', 'email': 'dms@danplanet.com', 'username': 'danms'}, {'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,45,"[{'number': 7, 'created': '2023-08-31 06:11:36.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/compute/test_attached_volumes.py'], 'message': 'Reproducer for dangling bdms\n\n- Added reproducer test for dangling BDMs\n\nRelated-Bug: 2019078\nChange-Id: Ieb76b00600acc9c7610546f5a1afab5b65903825\n'}]",889947,c33a9ccf4c2c996f5bb2e43fb6107072a9d2c66e,34860,Amit Uniyal,auniyal,0,"Reproducer for dangling bdms

- Added reproducer test for dangling BDMs

Related-Bug: 2019078
Change-Id: Ieb76b00600acc9c7610546f5a1afab5b65903825
","['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/compute/test_attached_volumes.py']"
openstack%2Fnova~893586,openstack/nova,master,I88463be969d42ef6f2afc92877eeb7061ebb3d4d,Refactored test_cross_cell_migrate,ABANDONED,2023-09-02 10:02:23.000000000,2023-09-04 07:17:23.000000000,6,7,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-02 10:02:23.000000000', 'files': ['nova/tests/functional/test_cross_cell_migrate.py'], 'message': 'Refactored test_cross_cell_migrate\n\nChange-Id: I88463be969d42ef6f2afc92877eeb7061ebb3d4d\n'}]",893586,1e3b06fbbff75325b2945fba36769f0c9775b472,34860,Amit Uniyal,auniyal,0,"Refactored test_cross_cell_migrate

Change-Id: I88463be969d42ef6f2afc92877eeb7061ebb3d4d
",['nova/tests/functional/test_cross_cell_migrate.py']
openstack%2Fneutron~893538,openstack/neutron,master,I98fb230fbeedead41a7c1e0bc9750a3f0f729229,DNM Test nova-cinder fix,ABANDONED,2023-09-01 16:26:32.000000000,2023-09-04 04:46:50.000000000,1,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-01 16:26:32.000000000', 'files': ['neutron/__init__.py'], 'message': 'DNM Test nova-cinder fix\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/893502\nChange-Id: I98fb230fbeedead41a7c1e0bc9750a3f0f729229\n'}]",893538,d001ee23fb9f254973cede8d76df05eaf73454a5,4393,Dan Smith,danms,0,"DNM Test nova-cinder fix

Depends-On: https://review.opendev.org/c/openstack/nova/+/893502
Change-Id: I98fb230fbeedead41a7c1e0bc9750a3f0f729229
",['neutron/__init__.py']
openstack%2Ftacker~893520,openstack/tacker,master,I9d498d2e0df271d9f9ae89187a90369d161ad7e9,Drop Ubuntu 20.04 focal job,MERGED,2023-09-01 14:00:37.000000000,2023-09-04 04:23:35.000000000,0,48,"[{'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 17255, 'name': 'Toshiaki Takahashi', 'email': 'ts-takahashi@nec.com', 'username': 'takahashi_ts'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 25701, 'name': 'Yasufumi Ogawa', 'email': 'yasufum.o@gmail.com', 'username': 'yasufum'}]",,5,"[{'number': 3, 'created': '2023-09-02 04:20:57.000000000', 'files': ['.zuul.yaml'], 'message': 'Drop Ubuntu 20.04 focal job\n\nAccording to 2023.2 Test Runtimes [1], Ubuntu 20.04 (focal) testing is\nno longer required. So this patch drops the job on Ubuntu 20.04 (focal)\nthat is added in 2023.1.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/2023.2.html#additional-testing-for-smooth-upgrade\n\nChange-Id: I9d498d2e0df271d9f9ae89187a90369d161ad7e9\n'}]",893520,9129640de8011ea19a20a8f244ef7ea14112acf7,31857,Ayumu Ueha,ueha,0,"Drop Ubuntu 20.04 focal job

According to 2023.2 Test Runtimes [1], Ubuntu 20.04 (focal) testing is
no longer required. So this patch drops the job on Ubuntu 20.04 (focal)
that is added in 2023.1.

[1] https://governance.openstack.org/tc/reference/runtimes/2023.2.html#additional-testing-for-smooth-upgrade

Change-Id: I9d498d2e0df271d9f9ae89187a90369d161ad7e9
",['.zuul.yaml']
openstack%2Frequirements~874160,openstack/requirements,master,I99c3fdf3481cb67b19815e86ac9f9ddd6d37fde0,WIP: Fix compatibility with latest setuptools releases,ABANDONED,2023-02-16 19:56:36.000000000,2023-09-03 16:31:35.000000000,0,3,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 2, 'created': '2023-04-05 14:15:06.000000000', 'files': ['upper-constraints.txt'], 'message': 'WIP: Fix compatibility with latest setuptools releases\n\nWith latest setuptools releases py3*-check-uc jobs started to fail\nwith error:\n\nTraceback (most recent call last):\n  File ""/build-focal/.tox/py38-check-uc/lib/python3.8/site-packages/pkg_resources/__init__.py"", line 3030, in _dep_map\n    return self.__dep_map\n  File ""/build-focal/.tox/py38-check-uc/lib/python3.8/site-packages/pkg_resources/__init__.py"", line 2826, in __getattr__\n    raise AttributeError(attr)\nAttributeError: _DistInfoDistribution__dep_map\n\nThe deliverables that produces the above errors are:\n- virtualbmc\n- salt\n- pyzmq\n\nA very old anyjson (latest release from 2012) has another compatibility\nproblem as it uses use_2to3 which is also not compatible with latest\nsetuptools.\n\nChange-Id: I99c3fdf3481cb67b19815e86ac9f9ddd6d37fde0\n'}]",874160,864637a36b33adc7231168fd511eb6aaa8dbe2bf,17685,Elod Illes,elod.illes,0,"WIP: Fix compatibility with latest setuptools releases

With latest setuptools releases py3*-check-uc jobs started to fail
with error:

Traceback (most recent call last):
  File ""/build-focal/.tox/py38-check-uc/lib/python3.8/site-packages/pkg_resources/__init__.py"", line 3030, in _dep_map
    return self.__dep_map
  File ""/build-focal/.tox/py38-check-uc/lib/python3.8/site-packages/pkg_resources/__init__.py"", line 2826, in __getattr__
    raise AttributeError(attr)
AttributeError: _DistInfoDistribution__dep_map

The deliverables that produces the above errors are:
- virtualbmc
- salt
- pyzmq

A very old anyjson (latest release from 2012) has another compatibility
problem as it uses use_2to3 which is also not compatible with latest
setuptools.

Change-Id: I99c3fdf3481cb67b19815e86ac9f9ddd6d37fde0
",['upper-constraints.txt']
openstack%2Frequirements~874161,openstack/requirements,master,I7c7f32b1196d10a627fc78848a554c6d03bc93b9,"WIP: Revert ""Cap virtualenv (<20.18.0) to unblock gate""",ABANDONED,2023-02-16 19:56:40.000000000,2023-09-03 16:30:55.000000000,0,4,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-02-16 19:56:40.000000000', 'files': ['tox.ini'], 'message': 'WIP: Revert ""Cap virtualenv (<20.18.0) to unblock gate""\n\nThis reverts commit 7c3cb297573b5dbec634e53829ec183ed7ba3068.\n\nChange-Id: I7c7f32b1196d10a627fc78848a554c6d03bc93b9\n'}]",874161,35d4d6a04234cfa4c0899f9c9d1152b7b502b900,17685,Elod Illes,elod.illes,0,"WIP: Revert ""Cap virtualenv (<20.18.0) to unblock gate""

This reverts commit 7c3cb297573b5dbec634e53829ec183ed7ba3068.

Change-Id: I7c7f32b1196d10a627fc78848a554c6d03bc93b9
",['tox.ini']
openstack%2Fcinder~891307,openstack/cinder,master,Iecd149c424d147b15a0808bb53494013b4a907dc,Automate generation of group types api-ref samples,ABANDONED,2023-08-16 07:37:08.000000000,2023-09-03 13:00:06.000000000,13,12,[],"[{'rev_nbr': 1, 'author': '2023-08-16 12:38:22.000000000', 'date': '2023-08-16 12:38:22.000000000'}, {'rev_nbr': 1, 'author': '2023-08-16 12:46:35.000000000', 'date': '2023-08-16 12:46:35.000000000'}, {'rev_nbr': 1, 'author': '2023-09-03 10:44:03.000000000', 'date': '2023-09-03 10:44:03.000000000'}]",0,"[{'number': 1, 'created': '2023-08-16 07:37:08.000000000', 'files': ['cinder/tests/functional/api_sample_tests/test_group_types.py', 'api-ref/source/v3/group-types.inc'], 'message': 'Automate generation of group types api-ref samples\n\nThis patch adds the following tests:\n\n1) Group Types API\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Iecd149c424d147b15a0808bb53494013b4a907dc\nSigned-off-by: Desire Barine <desirebarine16@gmail.com>\n'}]",891307,2faa86e2ea95129a9616991264fd3a46ec7bad91,35851,Desire Barine,dessira,0,"Automate generation of group types api-ref samples

This patch adds the following tests:

1) Group Types API

Partially-Implements: blueprint generating-sample-files

Change-Id: Iecd149c424d147b15a0808bb53494013b4a907dc
Signed-off-by: Desire Barine <desirebarine16@gmail.com>
","['cinder/tests/functional/api_sample_tests/test_group_types.py', 'api-ref/source/v3/group-types.inc']"
openstack%2Ftripleo-quickstart~893512,openstack/tripleo-quickstart,master,I7d22932ab32bea52b302a1d0274e11b4d86525c3,Block iptables updates on Centos-8 train,MERGED,2023-09-01 13:16:03.000000000,2023-09-03 10:20:16.000000000,16,0,"[{'_account_id': 9976, 'name': 'Ronelle Landy', 'email': 'rlandy@redhat.com', 'username': 'rlandy'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 5, 'created': '2023-09-01 19:01:46.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml'], 'message': 'Block iptables updates on Centos-8 train\n\nThis patch excludes newer versions of iptables that might me breaking\nsome CS-8 stable/train jobs. It also pins the rpm to the latest\nknwon good version.\n\nRelated-Bug: #2033644\n\nChange-Id: I7d22932ab32bea52b302a1d0274e11b4d86525c3\n'}]",893512,e08e44b88f387fd23471dca5c05283029374ae79,30002,Douglas Viroel,dviroel,0,"Block iptables updates on Centos-8 train

This patch excludes newer versions of iptables that might me breaking
some CS-8 stable/train jobs. It also pins the rpm to the latest
knwon good version.

Related-Bug: #2033644

Change-Id: I7d22932ab32bea52b302a1d0274e11b4d86525c3
","['config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml']"
openstack%2Frequirements~887964,openstack/requirements,master,Ic6d777ee150a649eaee90465e60d7e8927ea4edf,update constraint for keystonemiddleware to new release 10.4.0,ABANDONED,2023-07-07 14:46:32.000000000,2023-09-03 01:17:26.000000000,1,1,"[{'_account_id': 11904, 'name': 'Sean McGinnis', 'email': 'sean.mcginnis@gmail.com', 'username': 'SeanM'}, {'_account_id': 14288, 'name': 'Matthew Thode', 'display_name': 'prometheanfire', 'email': 'mthode@mthode.org', 'username': 'prometheanfire'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2023-07-07 14:46:32.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for keystonemiddleware to new release 10.4.0\n\nmeta: version: 10.4.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I0bee8a1e7285d971dc7c6ca5d09f25271848d993\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: Ic6d777ee150a649eaee90465e60d7e8927ea4edf\n'}]",887964,76a64b4b0d1a8745b81c45df714f0c0c1a53279d,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for keystonemiddleware to new release 10.4.0

meta: version: 10.4.0
meta: diff-start: -
meta: series: bobcat
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I0bee8a1e7285d971dc7c6ca5d09f25271848d993
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: Ic6d777ee150a649eaee90465e60d7e8927ea4edf
",['upper-constraints.txt']
openstack%2Fkolla-ansible~880856,openstack/kolla-ansible,stable/yoga,Ic90029f444c7d12fcf03b9ee1e35fb91d29d8038,opensearch: Drop container_engine from kolla_toolbox arguments during upgrade,ABANDONED,2023-04-19 15:05:37.000000000,2023-09-02 15:00:30.000000000,0,2,"[{'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 35263, 'name': 'Matt Crees', 'email': 'mattc@stackhpc.com', 'username': 'mattcrees'}]",,2,"[{'number': 1, 'created': '2023-04-19 15:05:37.000000000', 'files': ['ansible/roles/opensearch/tasks/upgrade.yml'], 'message': 'opensearch: Drop container_engine from kolla_toolbox arguments during upgrade\n\ncontainer_engine is valid in Zed onwards.\n\nChange-Id: Ic90029f444c7d12fcf03b9ee1e35fb91d29d8038\n'}]",880856,9e0d077de01b350c580c76d21fcf135480a6219e,14826,Mark Goddard,mgoddard,0,"opensearch: Drop container_engine from kolla_toolbox arguments during upgrade

container_engine is valid in Zed onwards.

Change-Id: Ic90029f444c7d12fcf03b9ee1e35fb91d29d8038
",['ansible/roles/opensearch/tasks/upgrade.yml']
openstack%2Frequirements~893531,openstack/requirements,master,I4e2f997f763ed3251a7a4ac5fd1a70fa4bbf3d11,update constraint for python-manilaclient to new release 4.6.0,MERGED,2023-09-01 14:50:41.000000000,2023-09-02 04:42:44.000000000,1,1,"[{'_account_id': 14288, 'name': 'Matthew Thode', 'display_name': 'prometheanfire', 'email': 'mthode@mthode.org', 'username': 'prometheanfire'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-01 14:50:41.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for python-manilaclient to new release 4.6.0\n\nmeta: version: 4.6.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Carlos Eduardo <ces.eduardo98@gmail.com>\nmeta: release:Change-Id: I67e146bd5a72dc529fb19297b592a636807e812f\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: I4e2f997f763ed3251a7a4ac5fd1a70fa4bbf3d11\n'}]",893531,8c639d5fc4c8dce4f0fba130bd9603f0fb7fff12,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for python-manilaclient to new release 4.6.0

meta: version: 4.6.0
meta: diff-start: -
meta: series: bobcat
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Carlos Eduardo <ces.eduardo98@gmail.com>
meta: release:Change-Id: I67e146bd5a72dc529fb19297b592a636807e812f
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: I4e2f997f763ed3251a7a4ac5fd1a70fa4bbf3d11
",['upper-constraints.txt']
openstack%2Fi18n~893582,openstack/i18n,master,Iadf19908c1abede349b2379d355601570376d59d,Sync translation_team.yaml with Zanata,ABANDONED,2023-09-02 02:48:27.000000000,2023-09-02 02:51:36.000000000,91,6,[],,0,"[{'number': 1, 'created': '2023-09-02 02:48:27.000000000', 'files': ['tools/zanata/translation_team.yaml'], 'message': 'Sync translation_team.yaml with Zanata\n\nThis list is generated by running ""tox -e zanata-users-sync""\ncommand to sync translation members up-to-date similar as\nI5a309564fae7229fdc097715bdbb1ce85d109753\n\nChange-Id: Iadf19908c1abede349b2379d355601570376d59d\n'}]",893582,7d278a6c746fd564a22a4ffb0532f00ec4de5ac0,14482,Ian Y. Choi,ianychoi,0,"Sync translation_team.yaml with Zanata

This list is generated by running ""tox -e zanata-users-sync""
command to sync translation members up-to-date similar as
I5a309564fae7229fdc097715bdbb1ce85d109753

Change-Id: Iadf19908c1abede349b2379d355601570376d59d
",['tools/zanata/translation_team.yaml']
openstack%2Frequirements~893530,openstack/requirements,master,I2e5228d9eb90f78a34eee1acf22fd2d5af30bb94,update constraint for python-tackerclient to new release 1.14.0,MERGED,2023-09-01 14:50:06.000000000,2023-09-02 01:56:20.000000000,1,1,"[{'_account_id': 14288, 'name': 'Matthew Thode', 'display_name': 'prometheanfire', 'email': 'mthode@mthode.org', 'username': 'prometheanfire'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-01 14:50:06.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for python-tackerclient to new release 1.14.0\n\nmeta: version: 1.14.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I03126ffc673ca8639837261fb4e38658d411958d\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nChange-Id: I2e5228d9eb90f78a34eee1acf22fd2d5af30bb94\n'}]",893530,9c701d43c78d9099e01b54e6ac7a4a2ce6e1c325,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for python-tackerclient to new release 1.14.0

meta: version: 1.14.0
meta: diff-start: -
meta: series: bobcat
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I03126ffc673ca8639837261fb4e38658d411958d
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
Change-Id: I2e5228d9eb90f78a34eee1acf22fd2d5af30bb94
",['upper-constraints.txt']
openstack%2Frequirements~893529,openstack/requirements,master,I2bb68fc1cbf96ad7c5f50ad75eca6cf9c6113754,update constraint for python-masakariclient to new release 8.2.0,MERGED,2023-09-01 14:47:27.000000000,2023-09-02 01:51:55.000000000,1,1,"[{'_account_id': 14288, 'name': 'Matthew Thode', 'display_name': 'prometheanfire', 'email': 'mthode@mthode.org', 'username': 'prometheanfire'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-01 14:47:27.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for python-masakariclient to new release 8.2.0\n\nmeta: version: 8.2.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Iae90d77ad8dd3baf0a53d14350c036dfbe8ca1f4\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I2bb68fc1cbf96ad7c5f50ad75eca6cf9c6113754\n'}]",893529,d96365041e36b7095c104f2073153887ed8c7316,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for python-masakariclient to new release 8.2.0

meta: version: 8.2.0
meta: diff-start: -
meta: series: bobcat
meta: branch: master
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Iae90d77ad8dd3baf0a53d14350c036dfbe8ca1f4
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I2bb68fc1cbf96ad7c5f50ad75eca6cf9c6113754
",['upper-constraints.txt']
openstack%2Frequirements~893528,openstack/requirements,master,I324af74ca7c6bcd211f26314ee495c60eb293afd,update constraint for python-cyborgclient to new release 2.2.1,MERGED,2023-09-01 14:47:19.000000000,2023-09-02 01:30:50.000000000,1,1,"[{'_account_id': 14288, 'name': 'Matthew Thode', 'display_name': 'prometheanfire', 'email': 'mthode@mthode.org', 'username': 'prometheanfire'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-01 14:47:19.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for python-cyborgclient to new release 2.2.1\n\nmeta: version: 2.2.1\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I9c480456d3cf3891319cad859adb618ce9d5b6d9\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I324af74ca7c6bcd211f26314ee495c60eb293afd\n'}]",893528,4cac7b4ec50b3aec72d27698c4fbd5dc73730893,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for python-cyborgclient to new release 2.2.1

meta: version: 2.2.1
meta: diff-start: -
meta: series: bobcat
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I9c480456d3cf3891319cad859adb618ce9d5b6d9
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I324af74ca7c6bcd211f26314ee495c60eb293afd
",['upper-constraints.txt']
openstack%2Frequirements~893525,openstack/requirements,master,I52d604af7afeae141b7edc122b737151d558c3bf,update constraint for python-blazarclient to new release 3.7.0,MERGED,2023-09-01 14:40:00.000000000,2023-09-02 01:11:21.000000000,1,1,"[{'_account_id': 14288, 'name': 'Matthew Thode', 'display_name': 'prometheanfire', 'email': 'mthode@mthode.org', 'username': 'prometheanfire'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-01 14:40:00.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for python-blazarclient to new release 3.7.0\n\nmeta: version: 3.7.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I7c6ebdd55d7c973aee201d47465dbb2f457d0bd6\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Pierre Riteau <pierre@stackhpc.com>\nChange-Id: I52d604af7afeae141b7edc122b737151d558c3bf\n'}]",893525,03df525e8a40c5ba104c8d854cf9351bb60b9e76,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for python-blazarclient to new release 3.7.0

meta: version: 3.7.0
meta: diff-start: -
meta: series: bobcat
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I7c6ebdd55d7c973aee201d47465dbb2f457d0bd6
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Pierre Riteau <pierre@stackhpc.com>
Change-Id: I52d604af7afeae141b7edc122b737151d558c3bf
",['upper-constraints.txt']
openstack%2Ftripleo-quickstart~893443,openstack/tripleo-quickstart,master,I3f2a2ddbc6770cb6a80c9e6c96e67d0bc412ec8a,"Revert ""Exclude affected podman version""",MERGED,2023-09-01 10:51:03.000000000,2023-09-01 21:18:09.000000000,0,4,"[{'_account_id': 8449, 'name': 'Marios Andreou', 'email': 'marios.andreou@gmail.com', 'username': 'marios'}, {'_account_id': 9816, 'name': 'Takashi Kajinami', 'email': 'kajinamit@oss.nttdata.com', 'username': 'kajinamit'}, {'_account_id': 9976, 'name': 'Ronelle Landy', 'email': 'rlandy@redhat.com', 'username': 'rlandy'}, {'_account_id': 12393, 'name': 'chandan kumar', 'display_name': 'Chandan Kumar', 'email': 'chkumar@redhat.com', 'username': 'chkumar246'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 30002, 'name': 'Douglas Viroel', 'email': 'viroel@gmail.com', 'username': 'dviroel'}]",,2,"[{'number': 1, 'created': '2023-09-01 10:51:03.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml'], 'message': 'Revert ""Exclude affected podman version""\n\nThis reverts commit 2aa133c2aecb379ae6234a8879edb9f46bbeb166.\n\nReason for revert: Podman new version fixed\n\nChange-Id: I3f2a2ddbc6770cb6a80c9e6c96e67d0bc412ec8a\n'}]",893443,eec2ccef3626669d66dfedd3174d347c135ec10d,8367,Arx Cruz,arxcruz,0,"Revert ""Exclude affected podman version""

This reverts commit 2aa133c2aecb379ae6234a8879edb9f46bbeb166.

Reason for revert: Podman new version fixed

Change-Id: I3f2a2ddbc6770cb6a80c9e6c96e67d0bc412ec8a
","['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml']"
openstack%2Fnova~893502,openstack/nova,master,I0ada59d8901f8620fd1f3dc20d6be303aa7dabca,only attempt to clean up dangling bdm if cinder is installed,MERGED,2023-09-01 11:48:24.000000000,2023-09-01 21:10:43.000000000,56,5,"[{'_account_id': 4393, 'name': 'Dan Smith', 'email': 'dms@danplanet.com', 'username': 'danms'}, {'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34860, 'name': 'Amit Uniyal', 'email': 'auniyal@redhat.com', 'username': 'auniyal'}]",,34,"[{'number': 8, 'created': '2023-09-01 17:03:56.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'message': 'only attempt to clean up dangling bdm if cinder is installed\n\nThis change ensure we only try to clean up dangling bdms if\ncinder is installed and reachable.\n\nCloses-Bug: #2033752\nChange-Id: I0ada59d8901f8620fd1f3dc20d6be303aa7dabca\n'}]",893502,68b2131d811c935af60eb6f563f4552d7287e3a8,11604,sean mooney,sean-k-mooney,0,"only attempt to clean up dangling bdm if cinder is installed

This change ensure we only try to clean up dangling bdms if
cinder is installed and reachable.

Closes-Bug: #2033752
Change-Id: I0ada59d8901f8620fd1f3dc20d6be303aa7dabca
","['nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']"
openstack%2Fpython-swiftclient~893513,openstack/python-swiftclient,stable/2023.2,I96b53d5e761c15d29689c60981b2614443872ea6,Update .gitreview for stable/2023.2,MERGED,2023-09-01 13:36:07.000000000,2023-09-01 19:08:30.000000000,1,0,"[{'_account_id': 15343, 'name': 'Tim Burke', 'email': 'tburke@nvidia.com', 'username': 'tburke'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-01 13:36:07.000000000', 'files': ['.gitreview'], 'message': 'Update .gitreview for stable/2023.2\n\nChange-Id: I96b53d5e761c15d29689c60981b2614443872ea6\n'}]",893513,7b5163a02f3abba1563f71cbe4015df0e8cf1d02,22816,OpenStack Release Bot,release,1,"Update .gitreview for stable/2023.2

Change-Id: I96b53d5e761c15d29689c60981b2614443872ea6
",['.gitreview']
openstack%2Fswift~893516,openstack/swift,stable/2023.2,I7b04e128e93b8674141ec9f29b5176e07c9b5262,Update .gitreview for stable/2023.2,MERGED,2023-09-01 13:36:51.000000000,2023-09-01 19:08:21.000000000,1,0,"[{'_account_id': 15343, 'name': 'Tim Burke', 'email': 'tburke@nvidia.com', 'username': 'tburke'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-01 13:36:51.000000000', 'files': ['.gitreview'], 'message': 'Update .gitreview for stable/2023.2\n\nChange-Id: I7b04e128e93b8674141ec9f29b5176e07c9b5262\n'}]",893516,468306d4f8fb12bd69cb9597f8c3b2c7b86b2942,22816,OpenStack Release Bot,release,1,"Update .gitreview for stable/2023.2

Change-Id: I7b04e128e93b8674141ec9f29b5176e07c9b5262
",['.gitreview']
openstack%2Fkayobe~802865,openstack/kayobe,master,I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72,Kayobe environment dependencies,MERGED,2021-07-29 11:23:57.000000000,2023-09-01 18:14:08.000000000,494,89,"[{'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 14826, 'name': 'Mark Goddard', 'email': 'markgoddard86@gmail.com', 'username': 'mgoddard'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28048, 'name': 'Will Szumski', 'email': 'will@stackhpc.com', 'username': 'jovial'}]",,59,"[{'number': 14, 'created': '2023-05-30 19:20:55.000000000', 'files': ['ansible/inventory/group_vars/all/globals', 'kayobe/kolla_ansible.py', 'kayobe/tests/unit/test_utils.py', 'releasenotes/notes/environment-dependencies-22df2a38a653425b.yaml', 'ansible/kolla-ansible.yml', 'ansible/kolla-openstack.yml', 'doc/source/multiple-environments.rst', 'ansible/kolla-bifrost.yml', 'ansible/kolla-build.yml', 'requirements.txt', 'kayobe/ansible.py', 'kayobe/plugins/lookup/environments.py', 'kayobe/tests/unit/test_ansible.py', 'ansible/lookup_plugins/kayobe_environments.py', 'kayobe/utils.py'], 'message': 'Kayobe environment dependencies\n\nAllows you to combine multiple environments by declaring any dependencies.\n\nStory: 2002009\nTask: 42911\nChange-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72\n'}]",802865,0ae9e8d4892c5e7a0fd3477452b1a134f5dc11d0,28048,Will Szumski,jovial,0,"Kayobe environment dependencies

Allows you to combine multiple environments by declaring any dependencies.

Story: 2002009
Task: 42911
Change-Id: I4d9f96ec4cf3c6cd0d28dfe5ddb239d863498a72
","['ansible/inventory/group_vars/all/globals', 'kayobe/kolla_ansible.py', 'kayobe/tests/unit/test_utils.py', 'releasenotes/notes/environment-dependencies-22df2a38a653425b.yaml', 'ansible/kolla-ansible.yml', 'ansible/kolla-openstack.yml', 'doc/source/multiple-environments.rst', 'ansible/kolla-bifrost.yml', 'ansible/kolla-build.yml', 'requirements.txt', 'kayobe/ansible.py', 'kayobe/plugins/lookup/environments.py', 'kayobe/tests/unit/test_ansible.py', 'ansible/lookup_plugins/kayobe_environments.py', 'kayobe/utils.py']"
openstack%2Fkayobe~803064,openstack/kayobe,master,I0748f7bd3e6f7f91e35b2178acb6973e99710f88,Add cached plugin,MERGED,2021-07-30 18:06:49.000000000,2023-09-01 18:12:23.000000000,2,0,"[{'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 14826, 'name': 'Mark Goddard', 'email': 'markgoddard86@gmail.com', 'username': 'mgoddard'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}]",,3,"[{'number': 9, 'created': '2023-05-30 19:18:26.000000000', 'files': ['requirements.txt', 'ansible/lookup_plugins/cached.py'], 'message': 'Add cached plugin\n\nThis is useful to cache expensive lookups.\n\nChange-Id: I0748f7bd3e6f7f91e35b2178acb6973e99710f88\n'}]",803064,a46b3ebc8e5ffbc4f175fa23cd103d595ea1ffed,28048,Will Szumski,jovial,0,"Add cached plugin

This is useful to cache expensive lookups.

Change-Id: I0748f7bd3e6f7f91e35b2178acb6973e99710f88
","['requirements.txt', 'ansible/lookup_plugins/cached.py']"
openstack%2Frequirements~893526,openstack/requirements,master,I24de9a6c78e4aa48915082a298cb6d3cebb424e6,update constraint for python-troveclient to new release 8.2.1,MERGED,2023-09-01 14:43:40.000000000,2023-09-01 18:01:10.000000000,1,1,"[{'_account_id': 14288, 'name': 'Matthew Thode', 'display_name': 'prometheanfire', 'email': 'mthode@mthode.org', 'username': 'prometheanfire'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-01 14:43:40.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for python-troveclient to new release 8.2.1\n\nmeta: version: 8.2.1\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I5364282e22c3b1f4267664e525248f2256db7a96\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I24de9a6c78e4aa48915082a298cb6d3cebb424e6\n'}]",893526,9cce428bf71b07bddf724f0929f02e3a7efe62af,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for python-troveclient to new release 8.2.1

meta: version: 8.2.1
meta: diff-start: -
meta: series: bobcat
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I5364282e22c3b1f4267664e525248f2256db7a96
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I24de9a6c78e4aa48915082a298cb6d3cebb424e6
",['upper-constraints.txt']
openstack%2Frequirements~893524,openstack/requirements,master,Id6b6f86de23c221fe31bac59173a63e79e47c68d,update constraint for python-cloudkittyclient to new release 4.8.0,MERGED,2023-09-01 14:38:32.000000000,2023-09-01 17:58:45.000000000,1,1,"[{'_account_id': 14288, 'name': 'Matthew Thode', 'display_name': 'prometheanfire', 'email': 'mthode@mthode.org', 'username': 'prometheanfire'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-01 14:38:32.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for python-cloudkittyclient to new release 4.8.0\n\nmeta: version: 4.8.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Rafael Weingärtner <rafael@apache.org>\nmeta: release:Change-Id: I80a23149c189246141b140ffd52ecf05c7124cbf\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Rafael Weingartner <rafael@apache.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Id6b6f86de23c221fe31bac59173a63e79e47c68d\n'}]",893524,359dca14a27551e362caaa90496ab068ca8e8f75,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for python-cloudkittyclient to new release 4.8.0

meta: version: 4.8.0
meta: diff-start: -
meta: series: bobcat
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Rafael Weingärtner <rafael@apache.org>
meta: release:Change-Id: I80a23149c189246141b140ffd52ecf05c7124cbf
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Rafael Weingartner <rafael@apache.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Id6b6f86de23c221fe31bac59173a63e79e47c68d
",['upper-constraints.txt']
openstack%2Frequirements~893523,openstack/requirements,master,Iad22f9396285a73c8f84e390761e8d844b1cad86,update constraint for ceilometermiddleware to new release 3.2.0,MERGED,2023-09-01 14:32:36.000000000,2023-09-01 17:52:48.000000000,1,1,"[{'_account_id': 14288, 'name': 'Matthew Thode', 'display_name': 'prometheanfire', 'email': 'mthode@mthode.org', 'username': 'prometheanfire'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-01 14:32:36.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for ceilometermiddleware to new release 3.2.0\n\nmeta: version: 3.2.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I752557ff0f6cac6845b87ac207db6a8cba892371\nmeta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nChange-Id: Iad22f9396285a73c8f84e390761e8d844b1cad86\n'}]",893523,5696760acccca5652528d12dcb2d643328d30706,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for ceilometermiddleware to new release 3.2.0

meta: version: 3.2.0
meta: diff-start: -
meta: series: bobcat
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I752557ff0f6cac6845b87ac207db6a8cba892371
meta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
Change-Id: Iad22f9396285a73c8f84e390761e8d844b1cad86
",['upper-constraints.txt']
openstack%2Frequirements~893519,openstack/requirements,master,I7b7a78e54ed6569dd6c26a3e61a23023c0c3123e,update constraint for python-swiftclient to new release 4.4.0,MERGED,2023-09-01 13:47:20.000000000,2023-09-01 17:41:12.000000000,1,1,"[{'_account_id': 14288, 'name': 'Matthew Thode', 'display_name': 'prometheanfire', 'email': 'mthode@mthode.org', 'username': 'prometheanfire'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-09-01 13:47:20.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for python-swiftclient to new release 4.4.0\n\nmeta: version: 4.4.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Tim Burke <tim.burke@gmail.com>\nmeta: release:Commit: Tim Burke <tim.burke@gmail.com>\nmeta: release:Change-Id: I78899b6d11c6b3338a626804335966c224c6e552\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I7b7a78e54ed6569dd6c26a3e61a23023c0c3123e\n'}]",893519,d6cc7d783e9559e2265510321f054967d791f935,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for python-swiftclient to new release 4.4.0

meta: version: 4.4.0
meta: diff-start: -
meta: series: bobcat
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Tim Burke <tim.burke@gmail.com>
meta: release:Commit: Tim Burke <tim.burke@gmail.com>
meta: release:Change-Id: I78899b6d11c6b3338a626804335966c224c6e552
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I7b7a78e54ed6569dd6c26a3e61a23023c0c3123e
",['upper-constraints.txt']
openstack%2Fplacement~840778,openstack/placement,stable/train,If7e6060c867df21360a1f588ca872d65d75eb3c1,Use 'functional-without-sample-db-tests' tox env for placement nova job,ABANDONED,2022-05-05 22:25:46.000000000,2023-09-01 17:08:02.000000000,7,113,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2022-05-05 22:25:46.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'message': ""Use 'functional-without-sample-db-tests' tox env for placement nova job\n\nNOTE(melwitt): This is a combination of 2 commits needed to fix the\ngate, a chicken and egg problem where each fix depends on the other.\n\nNova defines (depends-on) a new tox env 'functional-without-sample-db-tests'\nto run the nova functional test by exlcuding the api|notification\nsample_tests, and db-related tests.\n\nWe can use that to fix the error  are facing currently for this job\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/840777\n\nDrop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\nConflicts:\n    .zuul.yaml\n    lower-constraints.txt\n\nNOTE(melwitt): conflict is due to branch specific settings (job\ntemplate names, lower constraints changes).\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ieba7daf39fa3323e8c9a7396747449f24189fcd5\n(cherry picked from commit 03d567928e31d3dc85d4dd3f5617785e7380b6b1)\n(cherry picked from commit 4d3df47ee3e394e3178d58c15306620809ad2806)\n(cherry picked from commit f96984abd48f4d938d0fff0bab9b12ed933e320e)\n\nChange-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1\n(cherry picked from commit 6d49b6df1d3f62e2003c55509875380148281a79)\n(cherry picked from commit 7422ed4d7adb26868602a3f4652119ff0392d298)\n(cherry picked from commit 69dcdcb2b7df0a81addec55804ce91c724ca0f54)\n(cherry picked from commit 503b1f27cefeadf127d3f9f274901eba52f67c01)\n(cherry picked from commit 445a7b544b5fce45a2e79046df1fdc2548e6db9e)\n""}]",840778,42b153a52ca4e279d7b0e45ef42df442622fce0e,4690,melanie witt,melwitt,0,"Use 'functional-without-sample-db-tests' tox env for placement nova job

NOTE(melwitt): This is a combination of 2 commits needed to fix the
gate, a chicken and egg problem where each fix depends on the other.

Nova defines (depends-on) a new tox env 'functional-without-sample-db-tests'
to run the nova functional test by exlcuding the api|notification
sample_tests, and db-related tests.

We can use that to fix the error  are facing currently for this job
- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4

Depends-On: https://review.opendev.org/c/openstack/nova/+/840777

Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

Conflicts:
    .zuul.yaml
    lower-constraints.txt

NOTE(melwitt): conflict is due to branch specific settings (job
template names, lower constraints changes).

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ieba7daf39fa3323e8c9a7396747449f24189fcd5
(cherry picked from commit 03d567928e31d3dc85d4dd3f5617785e7380b6b1)
(cherry picked from commit 4d3df47ee3e394e3178d58c15306620809ad2806)
(cherry picked from commit f96984abd48f4d938d0fff0bab9b12ed933e320e)

Change-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1
(cherry picked from commit 6d49b6df1d3f62e2003c55509875380148281a79)
(cherry picked from commit 7422ed4d7adb26868602a3f4652119ff0392d298)
(cherry picked from commit 69dcdcb2b7df0a81addec55804ce91c724ca0f54)
(cherry picked from commit 503b1f27cefeadf127d3f9f274901eba52f67c01)
(cherry picked from commit 445a7b544b5fce45a2e79046df1fdc2548e6db9e)
","['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']"
openstack%2Fplacement~840704,openstack/placement,stable/train,I569043dd9f1c964faf7d4fcbb901a93f9569bf3d,placement-status: check only consumers in allocation table,ABANDONED,2022-05-05 16:30:44.000000000,2023-09-01 17:07:55.000000000,19,6,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 2, 'created': '2022-05-05 22:25:46.000000000', 'files': ['placement/tests/functional/db/test_consumer.py', 'placement/cmd/status.py'], 'message': ""placement-status: check only consumers in allocation table\n\nInitially, _check_incomplete_consumers was intended to find the case\nwhen consumers are mentioned in allocation but do not exist in the\nconsumer table. Due to a bug it's possible to have rows in the\nconsumer table those are not in the allocation table. The second case\nit seems was not expected and it can be tricky to automate a cleanup\nwith zero touch upgrade.\n\nThis patch modifies the check such way it counts only consumers\npresented in the allocation table.\n\nRelated-bug: #1780799\nChange-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d\n(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)\n(cherry picked from commit 69a0fb8bae4bc2538df266d8cbd788ac2ad61094)\n(cherry picked from commit abbec22662a8ea949f252acee4eb5f8f4d2242a4)\n(cherry picked from commit d8bb1b06dd69834523ebec26f418ad08d982aecc)\n""}]",840704,e58d4ab28fa51a2d7eeed99ff898bf1b8171fb48,4690,melanie witt,melwitt,0,"placement-status: check only consumers in allocation table

Initially, _check_incomplete_consumers was intended to find the case
when consumers are mentioned in allocation but do not exist in the
consumer table. Due to a bug it's possible to have rows in the
consumer table those are not in the allocation table. The second case
it seems was not expected and it can be tricky to automate a cleanup
with zero touch upgrade.

This patch modifies the check such way it counts only consumers
presented in the allocation table.

Related-bug: #1780799
Change-Id: I569043dd9f1c964faf7d4fcbb901a93f9569bf3d
(cherry picked from commit 3253e2efc05836b0b5cefafbf2b2656e9e1a50c7)
(cherry picked from commit 69a0fb8bae4bc2538df266d8cbd788ac2ad61094)
(cherry picked from commit abbec22662a8ea949f252acee4eb5f8f4d2242a4)
(cherry picked from commit d8bb1b06dd69834523ebec26f418ad08d982aecc)
","['placement/tests/functional/db/test_consumer.py', 'placement/cmd/status.py']"
openstack%2Fos-vif~841779,openstack/os-vif,stable/train,I984ec62730276f8ee60d71a02a98fbfc4c37f7d8,Use TCP keepalives for ovsdb connections,ABANDONED,2022-05-13 16:14:20.000000000,2023-09-01 17:07:27.000000000,45,0,"[{'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 3, 'created': '2023-07-10 19:08:13.000000000', 'files': ['vif_plug_ovs/ovsdb/impl_idl.py'], 'message': ""Use TCP keepalives for ovsdb connections\n\nUltimately, this is something that should be fixed in python-ovs,\nbut setting the SO_KEEPALIVE socket option benefits the client by\nremoving the need to send 'echo' requests, which can time out on\nan overloaded ovsdb-server, which causes a disconnection which then#\nadds even more load on the ovsdb-server as it has to send the entire\ndb contents over the wire after the connection is restored.\n\nThis patch ports the optimisation form neutron to reduce the likelyhood\nof a reconnection which can cause the nova compute agent to hang\ntemporarily while the connection is reestablished.\n\nNote: explict use of new style classes is reintoduced for py27 pep8\nchecks in vif_plug_ovs/ovsdb/impl_idl.py\nNoProbesMixin: -> NoProbesMixin(object):\n\nChange-Id: I984ec62730276f8ee60d71a02a98fbfc4c37f7d8\nRelated-Bug: #1930926\nPartial-Bug: #1929446\n(cherry picked from commit 09c0629bb728ad342a41d844143d8e7437c925c4)\n(cherry picked from commit 26f073f0969cfd9719375a4edfc16ce4ec139c4f)\n(cherry picked from commit 700b8cc377c6caa79e8d98cd55b34d77f23ff780)\n(cherry picked from commit 9d1279e3289662ba2dffea7db7427ac7d228bb2e)\n(cherry picked from commit 3c46ca71bfc1048c6021b2977fe9eadcd509443d)\n""}]",841779,ef5019e0e959e450069947738897b680ee3040c8,11604,sean mooney,sean-k-mooney,0,"Use TCP keepalives for ovsdb connections

Ultimately, this is something that should be fixed in python-ovs,
but setting the SO_KEEPALIVE socket option benefits the client by
removing the need to send 'echo' requests, which can time out on
an overloaded ovsdb-server, which causes a disconnection which then#
adds even more load on the ovsdb-server as it has to send the entire
db contents over the wire after the connection is restored.

This patch ports the optimisation form neutron to reduce the likelyhood
of a reconnection which can cause the nova compute agent to hang
temporarily while the connection is reestablished.

Note: explict use of new style classes is reintoduced for py27 pep8
checks in vif_plug_ovs/ovsdb/impl_idl.py
NoProbesMixin: -> NoProbesMixin(object):

Change-Id: I984ec62730276f8ee60d71a02a98fbfc4c37f7d8
Related-Bug: #1930926
Partial-Bug: #1929446
(cherry picked from commit 09c0629bb728ad342a41d844143d8e7437c925c4)
(cherry picked from commit 26f073f0969cfd9719375a4edfc16ce4ec139c4f)
(cherry picked from commit 700b8cc377c6caa79e8d98cd55b34d77f23ff780)
(cherry picked from commit 9d1279e3289662ba2dffea7db7427ac7d228bb2e)
(cherry picked from commit 3c46ca71bfc1048c6021b2977fe9eadcd509443d)
",['vif_plug_ovs/ovsdb/impl_idl.py']
openstack%2Fos-vif~841780,openstack/os-vif,stable/train,I635dff2b4fcff905ca8f431eb7e928265200f92a,only register tables used by os-vif,ABANDONED,2022-05-13 16:14:20.000000000,2023-09-01 17:07:19.000000000,4,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 3, 'created': '2023-07-10 19:08:13.000000000', 'files': ['vif_plug_ovs/ovsdb/impl_idl.py'], 'message': 'only register tables used by os-vif\n\nThis change limits the tables registered in the native driver\nto the set actully used by os-vif. This will shorten the inital\nstartup time and reconnection time if the ovs db connection is dropped.\nas a result this will help mitigate bug #1929446 where on reconnection\nthe nova compute agent can stall until reconnection is completed.\n\nChange-Id: I635dff2b4fcff905ca8f431eb7e928265200f92a\nPartial-Bug: #1929446\n(cherry picked from commit e4dc8b5664ccee8bde9e90fc9e618d6b705a0b68)\n(cherry picked from commit e6e791bd0af560ac501e383814fa7a5bce004536)\n(cherry picked from commit bac7f7d9d4337c60bf684d5b518c79f9aff95771)\n(cherry picked from commit 037e83f1b593153547e5c26a0ecb2dc918b90152)\n(cherry picked from commit a2b91e8b42f47e805b8199b3ae9d73a284f72f1f)\n'}]",841780,a8b8766a3e56b3b5d999a2c75b4a3dcc4b6ae0c4,11604,sean mooney,sean-k-mooney,0,"only register tables used by os-vif

This change limits the tables registered in the native driver
to the set actully used by os-vif. This will shorten the inital
startup time and reconnection time if the ovs db connection is dropped.
as a result this will help mitigate bug #1929446 where on reconnection
the nova compute agent can stall until reconnection is completed.

Change-Id: I635dff2b4fcff905ca8f431eb7e928265200f92a
Partial-Bug: #1929446
(cherry picked from commit e4dc8b5664ccee8bde9e90fc9e618d6b705a0b68)
(cherry picked from commit e6e791bd0af560ac501e383814fa7a5bce004536)
(cherry picked from commit bac7f7d9d4337c60bf684d5b518c79f9aff95771)
(cherry picked from commit 037e83f1b593153547e5c26a0ecb2dc918b90152)
(cherry picked from commit a2b91e8b42f47e805b8199b3ae9d73a284f72f1f)
",['vif_plug_ovs/ovsdb/impl_idl.py']
openstack%2Fos-vif~765970,openstack/os-vif,stable/train,I49f6ae3f0e6bfbf555c8284bfd70371ce90da0c7,Fix - os-vif fails to get the correct UpLink Representor,ABANDONED,2020-12-08 11:24:53.000000000,2023-09-01 17:07:13.000000000,74,8,"[{'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 12171, 'name': 'Moshe Levi', 'email': 'moshele@nvidia.com', 'username': 'moshele'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28714, 'name': 'Adrian Chiris', 'email': 'adrianc@nvidia.com', 'username': 'adrianc'}]",,0,"[{'number': 3, 'created': '2021-01-05 07:25:13.000000000', 'files': ['releasenotes/notes/bug-1892132-812e6d5ce0588ebb.yaml', 'vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py'], 'message': 'Fix - os-vif fails to get the correct UpLink Representor\n\nTill kernel 5.7 PF and VF representors are exposed as virtual device.\nThey are not linked to its parent PCI device like how uplink\nrepresentor is linked.\n\nStarting from kernel 5.8 due to new change [1] the PF and VF representors are\nlinked to their parent PCI device, and so ""get_ifname_by_pci_address"" fails\nto get the correct UpLink Representor.\n\nThis patch modifys the behviour of ""get_ifname_by_pci_address"" to\ncheck the physical port name of the netdev in\nvf_pci_addr_path/physfn/net to match the formart for the uplink ""p\\d+"".\n\n[1] https://git.kernel.org/pub/scm/linux/kernel/git/netdev/net.git/commit/?id=123f0f53dd64b67e34142485fe866a8a581f12f1\n\nCloses-Bug: #1892132\nChange-Id: I49f6ae3f0e6bfbf555c8284bfd70371ce90da0c7\n(cherry picked from commit 1226d46cc8bde9531821c68465a05292528142f0)\n'}]",765970,3c63ee065a53649c700121a7947c399f23dca95a,32296,Mamduh,Mamduh,0,"Fix - os-vif fails to get the correct UpLink Representor

Till kernel 5.7 PF and VF representors are exposed as virtual device.
They are not linked to its parent PCI device like how uplink
representor is linked.

Starting from kernel 5.8 due to new change [1] the PF and VF representors are
linked to their parent PCI device, and so ""get_ifname_by_pci_address"" fails
to get the correct UpLink Representor.

This patch modifys the behviour of ""get_ifname_by_pci_address"" to
check the physical port name of the netdev in
vf_pci_addr_path/physfn/net to match the formart for the uplink ""p\d+"".

[1] https://git.kernel.org/pub/scm/linux/kernel/git/netdev/net.git/commit/?id=123f0f53dd64b67e34142485fe866a8a581f12f1

Closes-Bug: #1892132
Change-Id: I49f6ae3f0e6bfbf555c8284bfd70371ce90da0c7
(cherry picked from commit 1226d46cc8bde9531821c68465a05292528142f0)
","['releasenotes/notes/bug-1892132-812e6d5ce0588ebb.yaml', 'vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py']"
openstack%2Fos-vif~765912,openstack/os-vif,stable/train,I3fdbea4f48cb79ebfd03a4da21e2232ccafb7a76,Refactor code of linux_net to more cleaner and increase performace,ABANDONED,2020-12-08 07:37:45.000000000,2023-09-01 17:07:07.000000000,139,188,"[{'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 12171, 'name': 'Moshe Levi', 'email': 'moshele@nvidia.com', 'username': 'moshele'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28714, 'name': 'Adrian Chiris', 'email': 'adrianc@nvidia.com', 'username': 'adrianc'}]",,4,"[{'number': 6, 'created': '2021-01-05 07:17:15.000000000', 'files': ['vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py'], 'message': 'Refactor code of linux_net to more cleaner and increase performace\n\nThe patch adds new functions \'_get_phys_port_name\' for reading physical\nport name of the SR-IOV port and \'_get_phys_switch_id\' for reading\nphysical port switch ID of the SR-IOV port, in addition to refactoring\n\'get_representor_port\' to use the new functions and decrease calls for\n""_get_pf_func"" and netdevs associated with the PF will now be processed\nin the loop, however it will not be matching \'phys_port_name\' which\nensures the correct behaviour.\n\nIn addition to updating the unit test for linux_net and remove not\nneeded mocks\n\nRelated-Bug: #1892132\nChange-Id: I3fdbea4f48cb79ebfd03a4da21e2232ccafb7a76\n(cherry picked from commit 3e1d898b752c327165aeca1fec0919d858a87ec4)\n'}]",765912,cda2a020f1ef92ebdd62c592cbad987977f240e6,32296,Mamduh,Mamduh,0,"Refactor code of linux_net to more cleaner and increase performace

The patch adds new functions '_get_phys_port_name' for reading physical
port name of the SR-IOV port and '_get_phys_switch_id' for reading
physical port switch ID of the SR-IOV port, in addition to refactoring
'get_representor_port' to use the new functions and decrease calls for
""_get_pf_func"" and netdevs associated with the PF will now be processed
in the loop, however it will not be matching 'phys_port_name' which
ensures the correct behaviour.

In addition to updating the unit test for linux_net and remove not
needed mocks

Related-Bug: #1892132
Change-Id: I3fdbea4f48cb79ebfd03a4da21e2232ccafb7a76
(cherry picked from commit 3e1d898b752c327165aeca1fec0919d858a87ec4)
","['vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py']"
openstack%2Fos-vif~807839,openstack/os-vif,stable/train,Iba8de3d17c7352138db316b9f842a4702a2648fb,[stable-only] Fix lower-constraints,ABANDONED,2021-09-08 08:55:10.000000000,2023-09-01 17:07:02.000000000,8,8,"[{'_account_id': 7634, 'name': 'Takashi Natsume', 'email': 'takanattie@gmail.com', 'username': 'natsumet'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-09-08 08:55:10.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'message': '[stable-only] Fix lower-constraints\n\nWith the new pip resolver lower-constraints job fails due to\ncontradicting requirements. This patch eliminates all those\ncontradictions.\n\nChange-Id: Iba8de3d17c7352138db316b9f842a4702a2648fb\n'}]",807839,e86ca7df91d9f694fdd191bcde4b88faa768bb98,17685,Elod Illes,elod.illes,0,"[stable-only] Fix lower-constraints

With the new pip resolver lower-constraints job fails due to
contradicting requirements. This patch eliminates all those
contradictions.

Change-Id: Iba8de3d17c7352138db316b9f842a4702a2648fb
","['requirements.txt', 'lower-constraints.txt']"
openstack%2Fos-vif~794211,openstack/os-vif,stable/train,I6d4a52369eda020a997a2d5521af011725f73c72,[Stable Only] Drop lower constraints testing,ABANDONED,2021-06-02 12:41:20.000000000,2023-09-01 17:06:52.000000000,0,104,"[{'_account_id': 7634, 'name': 'Takashi Natsume', 'email': 'takanattie@gmail.com', 'username': 'natsumet'}, {'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-06-02 12:41:20.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'message': '[Stable Only] Drop lower constraints testing\n\nThis is broken with the resolver introduced in pip 20.3. It likely never\nworked as expected. There is limited/no value in resolving these issues\nnow, so simply drop the job.\n\nChange-Id: I6d4a52369eda020a997a2d5521af011725f73c72\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",794211,a66d7408dea01141d3ab4d38f2b6cd4a72991f48,15334,Stephen Finucane,sfinucan,0,"[Stable Only] Drop lower constraints testing

This is broken with the resolver introduced in pip 20.3. It likely never
worked as expected. There is limited/no value in resolving these issues
now, so simply drop the job.

Change-Id: I6d4a52369eda020a997a2d5521af011725f73c72
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
","['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']"
openstack%2Fnova~785583,openstack/nova,stable/train,I212a2db8d71702d330b146dc6f871b402a309e74,compute: Reject requests to commit intermediary snapshot of an inactive instance,ABANDONED,2021-04-09 09:17:06.000000000,2023-09-01 17:03:26.000000000,66,9,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-04-09 11:19:37.000000000', 'date': '2021-04-09 11:19:37.000000000'}, {'rev_nbr': 1, 'author': '2021-04-09 14:12:02.000000000', 'date': '2021-04-09 14:12:02.000000000'}]",0,"[{'number': 1, 'created': '2021-04-09 09:17:06.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'message': ""compute: Reject requests to commit intermediary snapshot of an inactive instance\n\nIntroduced by I76eb2e4da027a13525314bd58264f482374d270d the\nos-assisted-volume-snapshots API is only implemented by the libvirt virt\ndriver and should only be called by c-vol as part of an orchestrated\nremotefs based volume snapshot creation or deletion workflow.\n\nWhile not documented clearly in the current api-ref there are code\ncomments within the compute API suggesting that this API can be called\nagainst a volume attached to an instance that is in *any* vm_state.\n\nThis however is not correct when deleting and in turn committing an\nintermediary volume snapshot of an instance that is not running given\nthe current implementation within the libvirt driver. With a request to\nvirDomainBlockCommit being made that fails if the instance and\nunderlying domain is not running.\n\nAdding support for an offline commit isn't trivial and would be\nconsidered a new feature and not something we could backport on the\nstable branches. As such this change seeks to ensure requests to commit\nan intermediary volume snapshot from an inactive instance are rejected\nquickly and clearly by the compute API to the caller before we cast to\nthe compute.\n\nCloses-Bug: #1919487\nChange-Id: I212a2db8d71702d330b146dc6f871b402a309e74\n(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)\n(cherry picked from commit 200c743400ed3fd5240fd25d0396eb6180b3f26a)\n(cherry picked from commit 8a41605a78173207746a38350d7fb554f2701b7a)\n(cherry picked from commit 57a810c0bddb2d5fb8c8e97bba07a1c4eeb2a11a)\n""}]",785583,97e78d0b66c9246acb077749eea2a79f0709371b,10135,Lee Yarwood,lyarwood,0,"compute: Reject requests to commit intermediary snapshot of an inactive instance

Introduced by I76eb2e4da027a13525314bd58264f482374d270d the
os-assisted-volume-snapshots API is only implemented by the libvirt virt
driver and should only be called by c-vol as part of an orchestrated
remotefs based volume snapshot creation or deletion workflow.

While not documented clearly in the current api-ref there are code
comments within the compute API suggesting that this API can be called
against a volume attached to an instance that is in *any* vm_state.

This however is not correct when deleting and in turn committing an
intermediary volume snapshot of an instance that is not running given
the current implementation within the libvirt driver. With a request to
virDomainBlockCommit being made that fails if the instance and
underlying domain is not running.

Adding support for an offline commit isn't trivial and would be
considered a new feature and not something we could backport on the
stable branches. As such this change seeks to ensure requests to commit
an intermediary volume snapshot from an inactive instance are rejected
quickly and clearly by the compute API to the caller before we cast to
the compute.

Closes-Bug: #1919487
Change-Id: I212a2db8d71702d330b146dc6f871b402a309e74
(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)
(cherry picked from commit 200c743400ed3fd5240fd25d0396eb6180b3f26a)
(cherry picked from commit 8a41605a78173207746a38350d7fb554f2701b7a)
(cherry picked from commit 57a810c0bddb2d5fb8c8e97bba07a1c4eeb2a11a)
","['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']"
openstack%2Fnova~779294,openstack/nova,stable/train,I873b0c1e6e695ae88241bbf75ac9f80ecc6f5664,Add upgrade check about old computes,ABANDONED,2021-03-08 16:42:41.000000000,2023-09-01 17:03:17.000000000,49,0,"[{'_account_id': 10135, 'name': 'Lee Yarwood', 'display_name': 'Lee Yarwood', 'email': 'lyarwood@redhat.com', 'username': 'lyarwood'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-03-08 19:30:29.000000000', 'date': '2021-03-08 19:30:29.000000000'}, {'rev_nbr': 1, 'author': '2021-04-13 12:24:31.000000000', 'date': '2021-04-13 12:24:31.000000000'}, {'rev_nbr': 1, 'author': '2021-04-13 15:05:03.000000000', 'date': '2021-04-13 15:05:03.000000000'}]",0,"[{'number': 1, 'created': '2021-03-08 16:42:41.000000000', 'files': ['nova/tests/unit/cmd/test_status.py', 'doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'doc/source/install/verify.rst'], 'message': 'Add upgrade check about old computes\n\nReport a warning during upgrade checks if there are computes older than\nthe previous major nova release in the system.\n\nSo if code is upgraded to N+1 and the upgrade check was run before\nthe restart of the services with N+1 code then the check warns for N-1\ncomputes in the system.\n\nConflicts:\n  doc/source/cli/nova-status.rst\n  doc/source/install/verify.rst\n  nova/cmd/status.py\n  nova/tests/unit/cmd/test_status.py\n\nNote: Fixed trivial conflicts due to different amount of upgrade\nchecks exists on train than on ussuri due to\nId9cd65877e53577bff22e408ca07bbeec4407f6e\n\nRelated-Bug: #1903545\n\nChange-Id: I873b0c1e6e695ae88241bbf75ac9f80ecc6f5664\n(cherry picked from commit 3b8257cd239d0bb52cb654d709cc579ca9841628)\n(cherry picked from commit 4e5b92545db5f5434bcfeab90bae1a8555a54dd4)\n(cherry picked from commit cff48e2cd4d9b99c673e6597d9871a2fa8a7e748)\n'}]",779294,39d9debc62fdee5099df91981cf9681266a367ba,9708,Balazs Gibizer,gibi,0,"Add upgrade check about old computes

Report a warning during upgrade checks if there are computes older than
the previous major nova release in the system.

So if code is upgraded to N+1 and the upgrade check was run before
the restart of the services with N+1 code then the check warns for N-1
computes in the system.

Conflicts:
  doc/source/cli/nova-status.rst
  doc/source/install/verify.rst
  nova/cmd/status.py
  nova/tests/unit/cmd/test_status.py

Note: Fixed trivial conflicts due to different amount of upgrade
checks exists on train than on ussuri due to
Id9cd65877e53577bff22e408ca07bbeec4407f6e

Related-Bug: #1903545

Change-Id: I873b0c1e6e695ae88241bbf75ac9f80ecc6f5664
(cherry picked from commit 3b8257cd239d0bb52cb654d709cc579ca9841628)
(cherry picked from commit 4e5b92545db5f5434bcfeab90bae1a8555a54dd4)
(cherry picked from commit cff48e2cd4d9b99c673e6597d9871a2fa8a7e748)
","['nova/tests/unit/cmd/test_status.py', 'doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'doc/source/install/verify.rst']"
openstack%2Fnova~765771,openstack/nova,stable/train,Ia2007bc63ef09931ea0197cef29d6a5614ed821a,libvirt: Skip encryption metadata lookups if secret already exists on host,ABANDONED,2020-12-07 09:39:11.000000000,2023-09-01 17:03:09.000000000,42,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2020-12-07 12:14:51.000000000', 'date': '2020-12-07 12:14:51.000000000'}, {'rev_nbr': 11, 'author': '2021-04-09 12:03:53.000000000', 'date': '2021-04-09 12:03:53.000000000'}, {'rev_nbr': 11, 'author': '2021-04-09 15:25:59.000000000', 'date': '2021-04-09 15:25:59.000000000'}]",0,"[{'number': 11, 'created': '2021-04-09 09:32:13.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug_1905701-fdc7402ffe70d104.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': 'libvirt: Skip encryption metadata lookups if secret already exists on host\n\nWhen connecting an encrypted volume to a host the _attach_encryptor\nmethod will be called in order to either call a legacy os-brick\nencryptor *or* configure a libvirt secret used by libvirt and QEMU to\nnatively decrypt LUKSv1 encrypted volumes. To create this libvirt secret\nthe configured key manager will be queried to provide and then decode\nthe associated secret before this is stashed within libvirt.\n\nThis change simply skips the above when an existing libvirt secret\nassociated with the target volume is found on the host already.\n\nWhile this obviously optimises basic instance lifecycle flows such as a\nsimple power off and on it additionally resolves a more convoluted use\ncase when the ``[DEFAULT]/resume_guests_state_on_host_boot``\nconfigurable is enabled. In this case the compute service has no request\ncontext with which to query the key manager when attempting to restart\ninstances with encrypted volumes attached. As a result any attempt by\nthe compute service to restart an instance with an attached encrypted\nvolume would previously fail.\n\nCloses-Bug: #1905701\nChange-Id: Ia2007bc63ef09931ea0197cef29d6a5614ed821a\n(cherry picked from commit a107a5099e86c3da80a6feeca6f840d5a3ad11b9)\n(cherry picked from commit af5b87874254aeb42931e3bb4faab3a2620b6894)\n(cherry picked from commit a1cb246e5d2d9ade01cc26087e361169e3aa624c)\n'}]",765771,95ed4f56a9e24e2dc9b58787ca436fdd9ef0ecd7,10135,Lee Yarwood,lyarwood,0,"libvirt: Skip encryption metadata lookups if secret already exists on host

When connecting an encrypted volume to a host the _attach_encryptor
method will be called in order to either call a legacy os-brick
encryptor *or* configure a libvirt secret used by libvirt and QEMU to
natively decrypt LUKSv1 encrypted volumes. To create this libvirt secret
the configured key manager will be queried to provide and then decode
the associated secret before this is stashed within libvirt.

This change simply skips the above when an existing libvirt secret
associated with the target volume is found on the host already.

While this obviously optimises basic instance lifecycle flows such as a
simple power off and on it additionally resolves a more convoluted use
case when the ``[DEFAULT]/resume_guests_state_on_host_boot``
configurable is enabled. In this case the compute service has no request
context with which to query the key manager when attempting to restart
instances with encrypted volumes attached. As a result any attempt by
the compute service to restart an instance with an attached encrypted
volume would previously fail.

Closes-Bug: #1905701
Change-Id: Ia2007bc63ef09931ea0197cef29d6a5614ed821a
(cherry picked from commit a107a5099e86c3da80a6feeca6f840d5a3ad11b9)
(cherry picked from commit af5b87874254aeb42931e3bb4faab3a2620b6894)
(cherry picked from commit a1cb246e5d2d9ade01cc26087e361169e3aa624c)
","['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug_1905701-fdc7402ffe70d104.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~766210,openstack/nova,stable/train,I41b7c1653c6a887ee4b08e588c5d422409aebfba,libvirt: Remove native LUKS compat code,ABANDONED,2020-12-09 12:13:57.000000000,2023-09-01 17:03:02.000000000,59,110,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 3, 'author': '2021-04-09 12:10:25.000000000', 'date': '2021-04-09 12:10:25.000000000'}, {'rev_nbr': 3, 'author': '2021-04-09 15:12:39.000000000', 'date': '2021-04-09 15:12:39.000000000'}]",0,"[{'number': 3, 'created': '2021-04-09 09:32:13.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades that\nis no longer required as both ends of a migration during an upgrade\nshould now have the required versions of Libvirt and QEMU.\n\nAn _is_luks_v1 utility method is retained to ensure the native approach\nis only used when using LUKS v1 volumes as native LUKS v2 support is not\ncurrently available within QEMU.\n\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n(cherry picked from commit 649236bbb1d1a204a308a9dad55b7a4d5a2a1021)\n'}]",766210,61a477e83abb6c241120759a28e9ccf10771d1a7,10135,Lee Yarwood,lyarwood,0,"libvirt: Remove native LUKS compat code

I408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of
Libvirt and QEMU past the required versions for native LUKS decryption
support during the Stein cycle.

As a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we
can now remove various bits of compatibility code introduced to support
the use of native LUKS decryption in environments with mixed versions of
Libvirt and QEMU. This includes code used during N to N+1 upgrades that
is no longer required as both ends of a migration during an upgrade
should now have the required versions of Libvirt and QEMU.

An _is_luks_v1 utility method is retained to ensure the native approach
is only used when using LUKS v1 volumes as native LUKS v2 support is not
currently available within QEMU.

Change-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba
(cherry picked from commit 649236bbb1d1a204a308a9dad55b7a4d5a2a1021)
","['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~785075,openstack/nova,stable/train,Ie653e5ec69d16ae469f1f8171fee85aea754edff,Dynamically archive FK related records in archive_deleted_rows,ABANDONED,2021-04-06 23:10:05.000000000,2023-09-01 17:02:54.000000000,164,89,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-04-07 01:06:19.000000000', 'date': '2021-04-07 01:06:19.000000000'}, {'rev_nbr': 1, 'author': '2021-04-07 04:16:41.000000000', 'date': '2021-04-07 04:16:41.000000000'}, {'rev_nbr': 2, 'author': '2021-04-07 18:18:11.000000000', 'date': '2021-04-07 18:18:11.000000000'}, {'rev_nbr': 2, 'author': '2021-04-07 18:45:48.000000000', 'date': '2021-04-07 18:45:48.000000000'}]",3,"[{'number': 2, 'created': '2021-04-07 16:02:04.000000000', 'files': ['nova/tests/functional/db/test_archive.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'message': 'Dynamically archive FK related records in archive_deleted_rows\n\nCurrently, it is possible to ""partially archive"" the database by\nrunning \'nova-manage db archive_deleted_rows\' with --max_rows or by\ninterrupting the archive process in any way. When this happens, it is\npossible to have archived a record with a foreign key relationship to a\nparent record (example: \'instance_extra\' table record is archived while\nthe \'instances\' table record remains).\n\nWhen an instance\'s records become ""split"" in this way, any API request\nthat can (1) access the deleted instance and (2) tries to access data\nthat should be in a child table (example: the embedded flavor for an\ninstance) will fail with an OrphanedObjectError and HTTP 500 to the\nuser. Examples of APIs that are affected by this are the tenant usage\nAPIs and listing of deleted instances as admin.\n\nIn the tenant usage example, the API looks at deleted instances to\ncalculate usage over a time period. It pulls deleted and non-deleted\ninstances and does instance.get_flavor() to calculate their usage. The\nflavor data is expected to be present because\nexpecteds_attrs=[\'flavor\'] is used to do a join with the\n\'instance_extra\' table and populate the instance object\'s flavor data.\nWhen get_flavor() is called, it tries to access the instance.flavor\nattribute (which hasn\'t been populated because the \'instance_extra\'\nrecord is gone). That triggers a lazy-load of the flavor which loads\nthe instance from the database again with expected_attrs=[\'flavor\']\nagain which doesn\'t populate instance.flavor (again) because the\n\'instance_extra\' record is gone. Then the Instance._load_flavor code\nintentionally orphans the instance record to avoid triggering\nlazy-loads while it attempts to populate instance.flavor,\ninstance.new_flavor, and instance.old_flavor. Finally, another\nlazy-load is triggered (because instance.flavor is still not populated)\nand fails with OrphanedObjectError.\n\nOne way to solve this problem is to make it impossible for\narchive_deleted_records to orphan records that are related by foreign\nkey relationships. The approach is to process parent tables first\n(opposite of today where we process child tables first) and find all of\nthe tables that refer to it by foreign keys, create and collect\ninsert/delete statements for those child records, and then put them all\ntogether in a single database transaction to archive all related\nrecords ""atomically"". The idea is that if anything were to interrupt\nthe transaction (errors or other) it would roll back and keep all the\nrelated records together. Either all or archived or none are archived.\n\nThis changes the logic of the per table archive to discover tables that\nrefer to the table by foreign keys and generates insert/delete query\nstatements to execute in the same database transaction as the table\narchive itself. The extra records archived along with the table are\nadded to the rows_archived result. The existing code for ""archiving\nrecords if instance is deleted"" also has to be removed along with this\nbecause the new logic does the same thing dynamically and makes it\nobsolete. Finally, some assertions in the unit tests need to be changed\nor removed because they were assuming certain types of archiving\nfailures due to foreign key constraint violations that can no longer\noccur with the new dynamic logic for archiving child records.\n\nCloses-Bug: #1837995\n\nChange-Id: Ie653e5ec69d16ae469f1f8171fee85aea754edff\n(cherry picked from commit becb94ae643ab4863daa564783646921b4a2b372)\n(cherry picked from commit 7b4f4796478941eafa9c0997f7ef03293c442d94)\n(cherry picked from commit 8a858eca55544f25427c3762f14523b1507261ee)\n'}]",785075,0743eb227cf6114f00ba2be94dabff6e24ca1f24,4690,melanie witt,melwitt,0,"Dynamically archive FK related records in archive_deleted_rows

Currently, it is possible to ""partially archive"" the database by
running 'nova-manage db archive_deleted_rows' with --max_rows or by
interrupting the archive process in any way. When this happens, it is
possible to have archived a record with a foreign key relationship to a
parent record (example: 'instance_extra' table record is archived while
the 'instances' table record remains).

When an instance's records become ""split"" in this way, any API request
that can (1) access the deleted instance and (2) tries to access data
that should be in a child table (example: the embedded flavor for an
instance) will fail with an OrphanedObjectError and HTTP 500 to the
user. Examples of APIs that are affected by this are the tenant usage
APIs and listing of deleted instances as admin.

In the tenant usage example, the API looks at deleted instances to
calculate usage over a time period. It pulls deleted and non-deleted
instances and does instance.get_flavor() to calculate their usage. The
flavor data is expected to be present because
expecteds_attrs=['flavor'] is used to do a join with the
'instance_extra' table and populate the instance object's flavor data.
When get_flavor() is called, it tries to access the instance.flavor
attribute (which hasn't been populated because the 'instance_extra'
record is gone). That triggers a lazy-load of the flavor which loads
the instance from the database again with expected_attrs=['flavor']
again which doesn't populate instance.flavor (again) because the
'instance_extra' record is gone. Then the Instance._load_flavor code
intentionally orphans the instance record to avoid triggering
lazy-loads while it attempts to populate instance.flavor,
instance.new_flavor, and instance.old_flavor. Finally, another
lazy-load is triggered (because instance.flavor is still not populated)
and fails with OrphanedObjectError.

One way to solve this problem is to make it impossible for
archive_deleted_records to orphan records that are related by foreign
key relationships. The approach is to process parent tables first
(opposite of today where we process child tables first) and find all of
the tables that refer to it by foreign keys, create and collect
insert/delete statements for those child records, and then put them all
together in a single database transaction to archive all related
records ""atomically"". The idea is that if anything were to interrupt
the transaction (errors or other) it would roll back and keep all the
related records together. Either all or archived or none are archived.

This changes the logic of the per table archive to discover tables that
refer to the table by foreign keys and generates insert/delete query
statements to execute in the same database transaction as the table
archive itself. The extra records archived along with the table are
added to the rows_archived result. The existing code for ""archiving
records if instance is deleted"" also has to be removed along with this
because the new logic does the same thing dynamically and makes it
obsolete. Finally, some assertions in the unit tests need to be changed
or removed because they were assuming certain types of archiving
failures due to foreign key constraint violations that can no longer
occur with the new dynamic logic for archiving child records.

Closes-Bug: #1837995

Change-Id: Ie653e5ec69d16ae469f1f8171fee85aea754edff
(cherry picked from commit becb94ae643ab4863daa564783646921b4a2b372)
(cherry picked from commit 7b4f4796478941eafa9c0997f7ef03293c442d94)
(cherry picked from commit 8a858eca55544f25427c3762f14523b1507261ee)
","['nova/tests/functional/db/test_archive.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']"
openstack%2Fnova~785074,openstack/nova,stable/train,Ia225ee86536248d2540de0d7a1cd012333e708a2,Add functional test for bug 1837995,ABANDONED,2021-04-06 23:10:05.000000000,2023-09-01 17:02:48.000000000,47,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-04-07 04:35:13.000000000', 'date': '2021-04-07 04:35:13.000000000'}]",0,"[{'number': 1, 'created': '2021-04-06 23:10:05.000000000', 'files': ['nova/tests/functional/db/test_archive.py'], 'message': ""Add functional test for bug 1837995\n\nThis adds a functional test to reproduce the bug where when calling an\nAPI that will examine a deleted instance record (examples: GET /servers/detail\nand GET /os-simple-tenant-usage), if that instance's related records\nhave only been partially archived (example: 'instance_extra' record was\narchived but 'instances' record has not been archived yet) then the API\ncall fails with the following error:\n\n  Unexpected API Error ... <class 'nova.exception.OrphanedObjectError'>\n  (HTTP 500)\n\nRelated-Bug: #1837995\n\nChange-Id: Ia225ee86536248d2540de0d7a1cd012333e708a2\n(cherry picked from commit 3d4e53f832792cc49001f1588164e28b84c16d7a)\n(cherry picked from commit 21241b38dd4bc2c74a69aed489ada5c611395920)\n(cherry picked from commit 37cff3c74d54bf0d19abe9502e5979b81e24f918)\n""}]",785074,6cda0f5e31df7ef802c087cacf60974b374b852c,4690,melanie witt,melwitt,0,"Add functional test for bug 1837995

This adds a functional test to reproduce the bug where when calling an
API that will examine a deleted instance record (examples: GET /servers/detail
and GET /os-simple-tenant-usage), if that instance's related records
have only been partially archived (example: 'instance_extra' record was
archived but 'instances' record has not been archived yet) then the API
call fails with the following error:

  Unexpected API Error ... <class 'nova.exception.OrphanedObjectError'>
  (HTTP 500)

Related-Bug: #1837995

Change-Id: Ia225ee86536248d2540de0d7a1cd012333e708a2
(cherry picked from commit 3d4e53f832792cc49001f1588164e28b84c16d7a)
(cherry picked from commit 21241b38dd4bc2c74a69aed489ada5c611395920)
(cherry picked from commit 37cff3c74d54bf0d19abe9502e5979b81e24f918)
",['nova/tests/functional/db/test_archive.py']
openstack%2Fnova~785073,openstack/nova,stable/train,Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f,Centralize sqlite FK constraint enforcement,ABANDONED,2021-04-06 23:10:05.000000000,2023-09-01 17:02:42.000000000,26,30,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-04-07 01:07:20.000000000', 'date': '2021-04-07 01:07:20.000000000'}, {'rev_nbr': 1, 'author': '2021-04-07 03:53:10.000000000', 'date': '2021-04-07 03:53:10.000000000'}]",0,"[{'number': 1, 'created': '2021-04-06 23:10:05.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/db/test_archive.py', 'nova/test.py', 'nova/tests/unit/db/test_db_api.py'], 'message': ""Centralize sqlite FK constraint enforcement\n\nThere's a TODO in the code to centralize foreign key constraint\nenforcement for sqlite for unit and functional tests and we're missing\nenforcement of FK constraints in a couple of test classes that should\nhave it.\n\nThis resolves the TODO and turns on FK constraint enforcement where it\nis missing. Do this to enhance testing in preparation for a proposed\nchange to the database archiving logic later in this patch series.\n\nConflicts:\n    nova/test.py\n\nNOTE(melwitt): The conflicts are because the following changes are\nnot in Train:\n\n  * Ia33ec2604b2fc2d3b6830b596cac669cc3ad6c96 (nova-net: Kill it)\n  * I33d8ac0a1cae0b2d275a21287d5e44c008a68122 (func tests: move\n    _run_periodics() into base class)\n\nChange-Id: Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f\n(cherry picked from commit 172024db7174bdac05a3d3172c645b0db83ae41e)\n(cherry picked from commit 382d64ea36e5cf3b47929fee0b93539d2f126975)\n(cherry picked from commit a8624cdaa292591db616b9ab17d27f2cd0bb00a7)\n""}]",785073,261f4f614e4b0e7ea7dcb3dddbe2a34bd0deea4b,4690,melanie witt,melwitt,0,"Centralize sqlite FK constraint enforcement

There's a TODO in the code to centralize foreign key constraint
enforcement for sqlite for unit and functional tests and we're missing
enforcement of FK constraints in a couple of test classes that should
have it.

This resolves the TODO and turns on FK constraint enforcement where it
is missing. Do this to enhance testing in preparation for a proposed
change to the database archiving logic later in this patch series.

Conflicts:
    nova/test.py

NOTE(melwitt): The conflicts are because the following changes are
not in Train:

  * Ia33ec2604b2fc2d3b6830b596cac669cc3ad6c96 (nova-net: Kill it)
  * I33d8ac0a1cae0b2d275a21287d5e44c008a68122 (func tests: move
    _run_periodics() into base class)

Change-Id: Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f
(cherry picked from commit 172024db7174bdac05a3d3172c645b0db83ae41e)
(cherry picked from commit 382d64ea36e5cf3b47929fee0b93539d2f126975)
(cherry picked from commit a8624cdaa292591db616b9ab17d27f2cd0bb00a7)
","['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/db/test_archive.py', 'nova/test.py', 'nova/tests/unit/db/test_db_api.py']"
openstack%2Fnova~784071,openstack/nova,stable/train,I6c585a34d6e774f890f992be647214e7e1073edb,WIP: live migration: Pass limits onto scheduler-chosen destination,ABANDONED,2021-03-31 10:55:31.000000000,2023-09-01 17:02:35.000000000,4,4,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-03-31 15:43:50.000000000', 'date': '2021-03-31 15:43:50.000000000'}]",0,"[{'number': 1, 'created': '2021-03-31 10:55:31.000000000', 'files': ['nova/conductor/tasks/live_migrate.py'], 'message': ""WIP: live migration: Pass limits onto scheduler-chosen destination\n\nIf a live migration without a specific destination has been requested,\nthe conductor will get a list of potential destinations from the\nscheduler. The conductor will then proceed to check if the destination\ncan accommodate the instance by calling check_can_live_migrate_destination.\n\nHowever, this call is made in _find_destination by calling\n_call_livem_checks_on_host, which will then remotely call the method\nmentioned above, and passing it self.limits, which at that point is still None.\n\nOn the nova-compute side, check_can_live_migrate_destination will also create\nthe resource claim, which also includes the soon-to-used NUMA topology that\nwill be used by the live-migrated instance. For this, the function\nnuma_fit_instance_to_host is called, which will return the first match that\nwill fit the instance NUMA topology. This function will also receive those\nlimits from the conductor, and because it's always None, CPU and memory\nallocation ratios are never respected for the NUMA node 0, so NUMA node 0\nis always a valid candidate for Live Migrations, which means that with\nevery Live Migration the NUMA node 0 will get more and more overcommited,\neventually causing VMs to get into OOM as well.\n\nThis commit simply passes those limits received from the scheduler onto\nnova-compute, so they can be used to make sure we don't overcommit NUMA nodes.\nThose limits are created by the NUMATopologyFilter.\n\nChange-Id: I6c585a34d6e774f890f992be647214e7e1073edb\n""}]",784071,ac00833545669b2efb80f6b18fb1e751e845375b,8213,Claudiu Belu,claudiub,0,"WIP: live migration: Pass limits onto scheduler-chosen destination

If a live migration without a specific destination has been requested,
the conductor will get a list of potential destinations from the
scheduler. The conductor will then proceed to check if the destination
can accommodate the instance by calling check_can_live_migrate_destination.

However, this call is made in _find_destination by calling
_call_livem_checks_on_host, which will then remotely call the method
mentioned above, and passing it self.limits, which at that point is still None.

On the nova-compute side, check_can_live_migrate_destination will also create
the resource claim, which also includes the soon-to-used NUMA topology that
will be used by the live-migrated instance. For this, the function
numa_fit_instance_to_host is called, which will return the first match that
will fit the instance NUMA topology. This function will also receive those
limits from the conductor, and because it's always None, CPU and memory
allocation ratios are never respected for the NUMA node 0, so NUMA node 0
is always a valid candidate for Live Migrations, which means that with
every Live Migration the NUMA node 0 will get more and more overcommited,
eventually causing VMs to get into OOM as well.

This commit simply passes those limits received from the scheduler onto
nova-compute, so they can be used to make sure we don't overcommit NUMA nodes.
Those limits are created by the NUMATopologyFilter.

Change-Id: I6c585a34d6e774f890f992be647214e7e1073edb
",['nova/conductor/tasks/live_migrate.py']
openstack%2Fnova~752489,openstack/nova,stable/train,Ic92cab7362fa25050e5bbef5c3e360108365b5c7,compute: Skip cinder_encryption_key_id check when booting from volume,ABANDONED,2020-09-17 15:01:00.000000000,2023-09-01 17:02:29.000000000,14,20,"[{'_account_id': 7634, 'name': 'Takashi Natsume', 'email': 'takanattie@gmail.com', 'username': 'natsumet'}, {'_account_id': 10118, 'name': 'IBM PowerKVM CI', 'email': 'kvmpower@linux.vnet.ibm.com', 'username': 'powerkvm', 'tags': ['SERVICE_USER']}, {'_account_id': 10135, 'name': 'Lee Yarwood', 'display_name': 'Lee Yarwood', 'email': 'lyarwood@redhat.com', 'username': 'lyarwood'}, {'_account_id': 14595, 'name': 'z Systems KVM', 'email': 'zkvm-ci@linux.vnet.ibm.com', 'username': 'ibm-zkvm-ci', 'tags': ['SERVICE_USER']}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 26515, 'name': 'Cloudbase Nova Hyper-V CI', 'email': 'nova_hyperv_ci@cloudbasesolutions.com', 'username': 'nova_hyperv_ci'}, {'_account_id': 29963, 'name': 'Intel_Zuul', 'display_name': 'Intel Corporation CI', 'email': 'intel-openstack-ci@intel.com', 'username': 'Intel_Zuul'}]","[{'rev_nbr': 1, 'author': '2020-09-17 15:21:24.000000000', 'date': '2020-09-17 15:21:24.000000000'}, {'rev_nbr': 2, 'author': '2020-09-17 16:00:59.000000000', 'date': '2020-09-17 16:00:59.000000000'}, {'rev_nbr': 2, 'author': '2020-09-17 20:28:08.000000000', 'date': '2020-09-17 20:28:08.000000000'}, {'rev_nbr': 2, 'author': '2020-11-23 21:01:24.000000000', 'date': '2020-11-23 21:01:24.000000000'}, {'rev_nbr': 2, 'author': '2020-11-30 15:00:46.000000000', 'date': '2020-11-30 15:00:46.000000000'}, {'rev_nbr': 3, 'author': '2021-03-23 12:20:33.000000000', 'date': '2021-03-23 12:20:33.000000000'}, {'rev_nbr': 3, 'author': '2021-03-28 10:30:02.000000000', 'date': '2021-03-28 10:30:02.000000000'}, {'rev_nbr': 3, 'author': '2021-03-29 10:42:08.000000000', 'date': '2021-03-29 10:42:08.000000000'}]",3,"[{'number': 3, 'created': '2021-03-23 08:45:23.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1895696.py', 'nova/compute/api.py'], 'message': ""compute: Skip cinder_encryption_key_id check when booting from volume\n\nIdf84ccff254d26fa13473fe9741ddac21cbcf321 added this check in order for\nNova to avoid booting encrypted images created by Cinder as there is\ncurrently no support for using such images (rotating keys etc).\n\nThe check however missed the slightly convoluted use case where this\nimage property is found against a volume after the volume in question is\ncreated using an encrypted image created by cinder from an encrypted\nvolume. In other words:\n\n- Cinder creates an encrypted volume A\n- Glance creates an encrypted image A from volume A\n- Cinder creates an encrypted volume B from image A\n- Nova attempts to boot an instance using volume B\n\nNote that Nova may request the creation of volume B or a user could also\ndo this directly through Cinder.\n\nAs such this change simply ensures that the instance isn't booting from\na volume when preforming the check as it is only valid when booting from\nan image.\n\nNOTE(lyarwood): Changes required for stable/train include the use of\nInstanceHelperMixin to provide _wait_for_state_change and the passing of\nself.api to these methods.\n\nCloses-Bug: #1895696\nChange-Id: Ic92cab7362fa25050e5bbef5c3e360108365b5c7\n(cherry picked from commit f9b67893acf94c06fd41be36b80b99788dc77e48)\n(cherry picked from commit 297435ad9ed8b8cfed98617f5ec6774a17cb28ef)\n""}]",752489,2424397e9b68c7137337a94784f651e462810d3f,10135,Lee Yarwood,lyarwood,0,"compute: Skip cinder_encryption_key_id check when booting from volume

Idf84ccff254d26fa13473fe9741ddac21cbcf321 added this check in order for
Nova to avoid booting encrypted images created by Cinder as there is
currently no support for using such images (rotating keys etc).

The check however missed the slightly convoluted use case where this
image property is found against a volume after the volume in question is
created using an encrypted image created by cinder from an encrypted
volume. In other words:

- Cinder creates an encrypted volume A
- Glance creates an encrypted image A from volume A
- Cinder creates an encrypted volume B from image A
- Nova attempts to boot an instance using volume B

Note that Nova may request the creation of volume B or a user could also
do this directly through Cinder.

As such this change simply ensures that the instance isn't booting from
a volume when preforming the check as it is only valid when booting from
an image.

NOTE(lyarwood): Changes required for stable/train include the use of
InstanceHelperMixin to provide _wait_for_state_change and the passing of
self.api to these methods.

Closes-Bug: #1895696
Change-Id: Ic92cab7362fa25050e5bbef5c3e360108365b5c7
(cherry picked from commit f9b67893acf94c06fd41be36b80b99788dc77e48)
(cherry picked from commit 297435ad9ed8b8cfed98617f5ec6774a17cb28ef)
","['nova/tests/functional/regressions/test_bug_1895696.py', 'nova/compute/api.py']"
openstack%2Fnova~751753,openstack/nova,stable/train,Id094dd90efde09b9a835d4492f4a92b8f8ad296e,Fix invalid assert_has_calls,ABANDONED,2020-09-14 10:31:34.000000000,2023-09-01 17:01:33.000000000,4,4,"[{'_account_id': 7634, 'name': 'Takashi Natsume', 'email': 'takanattie@gmail.com', 'username': 'natsumet'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 20190, 'name': 'zhufl', 'email': 'zhu.fanglei@zte.com.cn', 'username': 'zhufl'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 26515, 'name': 'Cloudbase Nova Hyper-V CI', 'email': 'nova_hyperv_ci@cloudbasesolutions.com', 'username': 'nova_hyperv_ci'}, {'_account_id': 29963, 'name': 'Intel_Zuul', 'display_name': 'Intel Corporation CI', 'email': 'intel-openstack-ci@intel.com', 'username': 'Intel_Zuul'}]","[{'rev_nbr': 1, 'author': '2020-09-14 11:22:05.000000000', 'date': '2020-09-14 11:22:05.000000000'}, {'rev_nbr': 1, 'author': '2020-10-26 14:39:02.000000000', 'date': '2020-10-26 14:39:02.000000000'}]",0,"[{'number': 1, 'created': '2020-09-14 10:31:34.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py'], 'message': 'Fix invalid assert_has_calls\n\nThis is to fix the invalid assert_has_calls usage,\n""assert_has_calls = "" should be ""assert_has_calls("".\n\nChange-Id: Id094dd90efde09b9a835d4492f4a92b8f8ad296e\n(cherry picked from commit 8cb9b84f283e58841a58d5d79b15268ca5da504d)\n(cherry picked from commit 674d1cbabcf5ab2a84718cd1fc7eccaabbb59839)\n'}]",751753,c02a60265319281c2bf385360102c69fdccf3676,10135,Lee Yarwood,lyarwood,0,"Fix invalid assert_has_calls

This is to fix the invalid assert_has_calls usage,
""assert_has_calls = "" should be ""assert_has_calls("".

Change-Id: Id094dd90efde09b9a835d4492f4a92b8f8ad296e
(cherry picked from commit 8cb9b84f283e58841a58d5d79b15268ca5da504d)
(cherry picked from commit 674d1cbabcf5ab2a84718cd1fc7eccaabbb59839)
",['nova/tests/unit/compute/test_compute_mgr.py']
openstack%2Fnova~758242,openstack/nova,stable/train,Ie8bb5e5622bd37dfe8073cca12f77174e8e7d98c,libvirt: Log exception when unable to import rbd or rados,ABANDONED,2020-10-14 20:25:05.000000000,2023-09-01 17:01:24.000000000,20,7,"[{'_account_id': 9732, 'name': 'Mellanox CI', 'email': 'mlnx-openstack-ci@dev.mellanox.co.il', 'username': 'mellanox', 'tags': ['SERVICE_USER']}, {'_account_id': 10118, 'name': 'IBM PowerKVM CI', 'email': 'kvmpower@linux.vnet.ibm.com', 'username': 'powerkvm', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 26515, 'name': 'Cloudbase Nova Hyper-V CI', 'email': 'nova_hyperv_ci@cloudbasesolutions.com', 'username': 'nova_hyperv_ci'}, {'_account_id': 29963, 'name': 'Intel_Zuul', 'display_name': 'Intel Corporation CI', 'email': 'intel-openstack-ci@intel.com', 'username': 'Intel_Zuul'}]","[{'rev_nbr': 1, 'author': '2020-10-14 21:26:03.000000000', 'date': '2020-10-14 21:26:03.000000000'}, {'rev_nbr': 1, 'author': '2020-10-14 23:42:04.000000000', 'date': '2020-10-14 23:42:04.000000000'}]",0,"[{'number': 1, 'created': '2020-10-14 20:25:05.000000000', 'files': ['nova/virt/libvirt/storage/rbd_utils.py'], 'message': ""libvirt: Log exception when unable to import rbd or rados\n\nThis should help provide some context when the RbdDriver later raises a\nRuntimeError if rbd or rados hasn't been imported correctly.\n\nChange-Id: Ie8bb5e5622bd37dfe8073cca12f77174e8e7d98c\n(cherry picked from commit aa16dd09ebeb21d0b81682b0b6026de0fe4f23b7)\n(cherry picked from commit 961a355fb314975ee169cbe9ef88eb8537294253)\n(cherry picked from commit 22c86f92ce7ef86675ee8265d43b21997e0df4bc)\n""}]",758242,9c58a663b7999260e1683bae6a828d118aa44fd5,10135,Lee Yarwood,lyarwood,0,"libvirt: Log exception when unable to import rbd or rados

This should help provide some context when the RbdDriver later raises a
RuntimeError if rbd or rados hasn't been imported correctly.

Change-Id: Ie8bb5e5622bd37dfe8073cca12f77174e8e7d98c
(cherry picked from commit aa16dd09ebeb21d0b81682b0b6026de0fe4f23b7)
(cherry picked from commit 961a355fb314975ee169cbe9ef88eb8537294253)
(cherry picked from commit 22c86f92ce7ef86675ee8265d43b21997e0df4bc)
",['nova/virt/libvirt/storage/rbd_utils.py']
openstack%2Fnova~701756,openstack/nova,stable/train,I93e27d907a237ae16b6b4c7202ad157b067aa30e,Add recreate test for bug 1855927,ABANDONED,2020-01-09 15:53:57.000000000,2023-09-01 17:01:18.000000000,66,0,"[{'_account_id': 6873, 'name': 'Matt Riedemann', 'email': 'mriedem.os@gmail.com', 'username': 'mriedem'}, {'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 26515, 'name': 'Cloudbase Nova Hyper-V CI', 'email': 'nova_hyperv_ci@cloudbasesolutions.com', 'username': 'nova_hyperv_ci'}, {'_account_id': 29963, 'name': 'Intel_Zuul', 'display_name': 'Intel Corporation CI', 'email': 'intel-openstack-ci@intel.com', 'username': 'Intel_Zuul'}]",,0,"[{'number': 2, 'created': '2020-01-09 20:14:33.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'message': 'Add recreate test for bug 1855927\n\nWhen _poll_unconfirmed_resizes runs, if the actual resize\nconfirm fails on the source host the migration status may\nbe stuck in ""confirming"" status if it never reached the\nsource compute. Subsequent runs of _poll_unconfirmed_resizes\nwill not be able to auto-confirm the resize nor will the user\nbe able to manually confirm the resize. An admin could reset\nthe status on the server to ACTIVE or ERROR but that means\nthe source compute never gets cleaned up since you can only\nconfirm or revert a resize on a server with VERIFY_RESIZE status.\n\nThis adds a functional recreate test for the bug.\n\nNote that if the request does get to the source compute and fails,\nthe _error_out_instance_on_exception context manager should set\nthe instance to ERROR status and the errors_out_migration decorator\nshould set the migration status to ""error"". The problem is if we\nnever get that far we can\'t recover automatically or via the API\nwithout operator intervention.\n\nConflicts:\n    nova/tests/functional/test_servers.py\n\nNOTE(lyarwood): Conflicts as I8c96b337f32148f8f5899c9b87af331b1fa41424\nis not present on stable/train.\n\nChange-Id: I93e27d907a237ae16b6b4c7202ad157b067aa30e\nRelated-Bug: #1855927\n(cherry picked from commit 95c9d710dd6a06b8d2fcd941343075872cdf95d5)\n'}]",701756,d86ea479e81c98c98c0c405e0032243cbcd7a39f,10135,Lee Yarwood,lyarwood,0,"Add recreate test for bug 1855927

When _poll_unconfirmed_resizes runs, if the actual resize
confirm fails on the source host the migration status may
be stuck in ""confirming"" status if it never reached the
source compute. Subsequent runs of _poll_unconfirmed_resizes
will not be able to auto-confirm the resize nor will the user
be able to manually confirm the resize. An admin could reset
the status on the server to ACTIVE or ERROR but that means
the source compute never gets cleaned up since you can only
confirm or revert a resize on a server with VERIFY_RESIZE status.

This adds a functional recreate test for the bug.

Note that if the request does get to the source compute and fails,
the _error_out_instance_on_exception context manager should set
the instance to ERROR status and the errors_out_migration decorator
should set the migration status to ""error"". The problem is if we
never get that far we can't recover automatically or via the API
without operator intervention.

Conflicts:
    nova/tests/functional/test_servers.py

NOTE(lyarwood): Conflicts as I8c96b337f32148f8f5899c9b87af331b1fa41424
is not present on stable/train.

Change-Id: I93e27d907a237ae16b6b4c7202ad157b067aa30e
Related-Bug: #1855927
(cherry picked from commit 95c9d710dd6a06b8d2fcd941343075872cdf95d5)
",['nova/tests/functional/test_servers.py']
openstack%2Fnova~829507,openstack/nova,stable/train,I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527,Gracefull recovery when attaching volume fails,ABANDONED,2022-02-16 09:25:55.000000000,2023-09-01 17:00:34.000000000,59,5,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-02-16 11:59:47.000000000', 'date': '2022-02-16 11:59:47.000000000'}, {'rev_nbr': 2, 'author': '2022-02-18 09:58:44.000000000', 'date': '2022-02-18 09:58:44.000000000'}, {'rev_nbr': 3, 'author': '2022-02-18 15:53:31.000000000', 'date': '2022-02-18 15:53:31.000000000'}, {'rev_nbr': 3, 'author': '2022-02-21 09:18:06.000000000', 'date': '2022-02-21 09:18:06.000000000'}]",1,"[{'number': 3, 'created': '2022-02-18 14:06:37.000000000', 'files': ['releasenotes/notes/bug-1960401-504eb255253d966a.yaml', 'nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'message': 'Gracefull recovery when attaching volume fails\n\nWhen trying to attach a volume to an already running instance the nova-api\nrequests the nova-compute service to create a BlockDeviceMapping. If the\nnova-api does not receive a response within `rpc_response_timeout` it will\ntreat the request as failed and raise an exception.\n\nThere are multiple cases where nova-compute actually already processed the\nrequest and just the reply did not reach the nova-api in time (see bug report).\nAfter the failed request the database will contain a BlockDeviceMapping entry\nfor the volume + instance combination that will never be cleaned up again.\nThis entry also causes the nova-api to reject all future attachments of this\nvolume to this instance (as it assumes it is already attached).\n\nTo work around this we check if a BlockDeviceMapping has already been created\nwhen we see a messaging timeout. If this is the case we can safely delete it\nas the compute node has already finished processing and we will no longer pick\nit up.\nThis allows users to try the request again.\n\nA previous fix was abandoned but without a clear reason ([1]).\n\n[1]: https://review.opendev.org/c/openstack/nova/+/731804\n\nCloses-Bug: 1960401\nChange-Id: I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527\n(cherry picked from commit 9eb116b99ce32bc69c4abf8ec3b0179ef89a8860)\n'}]",829507,3fd5fea19f84e3847a499c1d353cdc497598031a,29074,Felix Huettner,felix.huettner,0,"Gracefull recovery when attaching volume fails

When trying to attach a volume to an already running instance the nova-api
requests the nova-compute service to create a BlockDeviceMapping. If the
nova-api does not receive a response within `rpc_response_timeout` it will
treat the request as failed and raise an exception.

There are multiple cases where nova-compute actually already processed the
request and just the reply did not reach the nova-api in time (see bug report).
After the failed request the database will contain a BlockDeviceMapping entry
for the volume + instance combination that will never be cleaned up again.
This entry also causes the nova-api to reject all future attachments of this
volume to this instance (as it assumes it is already attached).

To work around this we check if a BlockDeviceMapping has already been created
when we see a messaging timeout. If this is the case we can safely delete it
as the compute node has already finished processing and we will no longer pick
it up.
This allows users to try the request again.

A previous fix was abandoned but without a clear reason ([1]).

[1]: https://review.opendev.org/c/openstack/nova/+/731804

Closes-Bug: 1960401
Change-Id: I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527
(cherry picked from commit 9eb116b99ce32bc69c4abf8ec3b0179ef89a8860)
","['releasenotes/notes/bug-1960401-504eb255253d966a.yaml', 'nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']"
openstack%2Fnova~805631,openstack/nova,stable/train,I2da867f2734b590a884b1fe1200c402cbf7e9e1c,workarounds: Add libvirt_disable_apic,ABANDONED,2021-08-23 13:00:59.000000000,2023-09-01 17:00:27.000000000,52,1,"[{'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-08-23 13:27:24.000000000', 'date': '2021-08-23 13:27:24.000000000'}, {'rev_nbr': 2, 'author': '2021-08-23 14:56:36.000000000', 'date': '2021-08-23 14:56:36.000000000'}]",0,"[{'number': 2, 'created': '2021-08-23 14:33:35.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt-disable-apic-39599bdc2d110a1f.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': 'workarounds: Add libvirt_disable_apic\n\nThis change adds a new workaround config option to allow disabling the\nguest apic.\n\nNOTE(lyarwood): Conflicts caused by\nIf874f018ea996587e178219569c2903c2ee923cf,\nIed3732042738a6194b635c55e0304d71a6fb66e3 and\nIa500eb614cf575ab846f64f4b69c9068274c8c1f not being present in\nstable/train.\n\nConflicts:\n    nova/conf/workarounds.py\n\nCo-authored-by: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1939108\nChange-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c\n(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)\n(cherry picked from commit caeecdec5f32e4c63f3edf6442734e44cfb06f14)\n(cherry picked from commit 0c5d9d1d257b6afa88f3e5d1bd2c0f6b42e161a2)\n(cherry picked from commit 3240f9c28411e5e7efe04a3fcbe1465ec016c65b)\n'}]",805631,c50e6a501e6340efb1af98135c3b3ce4b826930c,10135,Lee Yarwood,lyarwood,0,"workarounds: Add libvirt_disable_apic

This change adds a new workaround config option to allow disabling the
guest apic.

NOTE(lyarwood): Conflicts caused by
If874f018ea996587e178219569c2903c2ee923cf,
Ied3732042738a6194b635c55e0304d71a6fb66e3 and
Ia500eb614cf575ab846f64f4b69c9068274c8c1f not being present in
stable/train.

Conflicts:
    nova/conf/workarounds.py

Co-authored-by: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1939108
Change-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c
(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)
(cherry picked from commit caeecdec5f32e4c63f3edf6442734e44cfb06f14)
(cherry picked from commit 0c5d9d1d257b6afa88f3e5d1bd2c0f6b42e161a2)
(cherry picked from commit 3240f9c28411e5e7efe04a3fcbe1465ec016c65b)
","['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt-disable-apic-39599bdc2d110a1f.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~827126,openstack/nova,stable/train,Ie90fb83662dd06e7188f042fc6340596f93c5ef9,api: Reject duplicate port IDs in server create,ABANDONED,2022-01-31 15:15:40.000000000,2023-09-01 17:00:21.000000000,58,16,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-01-31 17:35:34.000000000', 'date': '2022-01-31 17:35:34.000000000'}, {'rev_nbr': 1, 'author': '2022-02-02 15:39:40.000000000', 'date': '2022-02-02 15:39:40.000000000'}]",1,"[{'number': 1, 'created': '2022-01-31 15:15:40.000000000', 'files': ['releasenotes/notes/bug-1821088-reject-duplicate-port-ids-a38739d67d5d7c5d.yaml', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py'], 'message': 'api: Reject duplicate port IDs in server create\n\nSpecifying a duplicate port ID is currently ""allowed"" but results in an\nintegrity error when nova attempts to create a duplicate\n\'VirtualInterface\' entry. Start rejecting these requests by checking for\nduplicate IDs and rejecting offending requests. This is arguably an API\nchange because there isn\'t a HTTP 5xx error (server create is an async\noperation), however, users shouldn\'t have to opt in to non-broken\nbehavior and the underlying instance was never actually created\npreviously, meaning automation that relied on this ""feature"" was always\ngoing to fail in a later step. We\'re also silently failing to do what\nthe user asked (per flow chart at [1]).\n\n[1] https://docs.openstack.org/nova/latest/contributor/microversions.html#when-do-i-need-a-new-microversion\n\nConflicts:\n  nova/api/openstack/compute/servers.py\n  nova/tests/unit/api/openstack/compute/test_serversV21.py\n\nNOTE(stephenfin): Conflicts are due to change\nIfa9c5c468400261a5e1f66b72c575845173a4f8f (""nova-net: Remove final\nreferences to nova-network"") and change\nIbd97a0be22e0a894f3b1fdea052ee6359753457c (""nova-net: Remove unnecessary\n\'neutronv2\' prefixes""), neither of which are backportable.\n\nChange-Id: Ie90fb83662dd06e7188f042fc6340596f93c5ef9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1821088\n(cherry picked from commit 9fe465427310f8215890d26bf169617653605e23)\n(cherry picked from commit d4c92bc2314c6402c4e3464a5aa61a94293eaf91)\n(cherry picked from commit fcbe6eecd7358dfa22b2dca8eca2afaa11f882f3)\n(cherry picked from commit 3731d1f5afe28b1cb6d36e88c407b65d1653a6df)\n(cherry picked from commit 23e7e6011b9087e25ca14f0da42ebafb0bef653a)\n'}]",827126,3243420b0f8010d779a73ff6160eb50655f940d0,15334,Stephen Finucane,sfinucan,0,"api: Reject duplicate port IDs in server create

Specifying a duplicate port ID is currently ""allowed"" but results in an
integrity error when nova attempts to create a duplicate
'VirtualInterface' entry. Start rejecting these requests by checking for
duplicate IDs and rejecting offending requests. This is arguably an API
change because there isn't a HTTP 5xx error (server create is an async
operation), however, users shouldn't have to opt in to non-broken
behavior and the underlying instance was never actually created
previously, meaning automation that relied on this ""feature"" was always
going to fail in a later step. We're also silently failing to do what
the user asked (per flow chart at [1]).

[1] https://docs.openstack.org/nova/latest/contributor/microversions.html#when-do-i-need-a-new-microversion

Conflicts:
  nova/api/openstack/compute/servers.py
  nova/tests/unit/api/openstack/compute/test_serversV21.py

NOTE(stephenfin): Conflicts are due to change
Ifa9c5c468400261a5e1f66b72c575845173a4f8f (""nova-net: Remove final
references to nova-network"") and change
Ibd97a0be22e0a894f3b1fdea052ee6359753457c (""nova-net: Remove unnecessary
'neutronv2' prefixes""), neither of which are backportable.

Change-Id: Ie90fb83662dd06e7188f042fc6340596f93c5ef9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1821088
(cherry picked from commit 9fe465427310f8215890d26bf169617653605e23)
(cherry picked from commit d4c92bc2314c6402c4e3464a5aa61a94293eaf91)
(cherry picked from commit fcbe6eecd7358dfa22b2dca8eca2afaa11f882f3)
(cherry picked from commit 3731d1f5afe28b1cb6d36e88c407b65d1653a6df)
(cherry picked from commit 23e7e6011b9087e25ca14f0da42ebafb0bef653a)
","['releasenotes/notes/bug-1821088-reject-duplicate-port-ids-a38739d67d5d7c5d.yaml', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py']"
openstack%2Fnova~818598,openstack/nova,stable/train,Ie904d1513b5cf76d6d5f6877545e8eb378dd5499,Add a WA flag waiting for vif-plugged event during reboot,ABANDONED,2021-11-19 16:42:05.000000000,2023-09-01 17:00:09.000000000,145,9,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-11-19 20:33:16.000000000', 'date': '2021-11-19 20:33:16.000000000'}]",0,"[{'number': 1, 'created': '2021-11-19 16:42:05.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1946729-wait-for-vif-plugged-event-during-hard-reboot-fb491f6a68370bab.yaml', '.zuul.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': 'Add a WA flag waiting for vif-plugged event during reboot\n\nThe libvirt driver power on and hard reboot destroys the domain first\nand unplugs the vifs then recreate the domain and replug the vifs.\nHowever nova does not wait for the network-vif-plugged event before\nunpause the domain. This can cause that the domain starts running and\nrequesting IP via DHCP before the networking backend finished plugging\nthe vifs.\n\nSo this patch adds a workaround config option to nova to wait for\nnetwork-vif-plugged events during hard reboot the same way as nova waits\nfor this event during new instance spawn.\n\nThis logic cannot be enabled unconditionally as not all neutron\nnetworking backend sending plug time events to wait for. Also the logic\nneeds to be vnic_type dependent as ml2/ovs and the in tree sriov backend\noften deployed together on the same compute. While ml2/ovs sends plug\ntime event the sriov backend does not send it reliably. So the\nconfiguration is not just a boolean flag but a list of vnic_types\ninstead. This way the waiting for the plug time event for a vif that is\nhandled by ml2/ovs is possible while the instance has other vifs handled\nby the sriov backend where no event can be expected.\n\nConflicts:\n      nova/conf/workarounds.py due to\n      Ia500eb614cf575ab846f64f4b69c9068274c8c1f and\n      Ied3732042738a6194b635c55e0304d71a6fb66e3 are not in stable/train\n\nChange-Id: Ie904d1513b5cf76d6d5f6877545e8eb378dd5499\nCloses-Bug: #1946729\n(cherry picked from commit 68c970ea9915a95f9828239006559b84e4ba2581)\n(cherry picked from commit 0c41bfb8c5c60f1cc930ae432e6be460ee2e97ac)\n(cherry picked from commit 89c4ff5f7b45f1a5bed8b6b9b4586fceaa391bfb)\n(cherry picked from commit c531fdcc192afb5af628ac567cb0ff8aa3eab052)\n(cherry picked from commit 35e071470e2c5597444a7b85211a01e7fbc7c68b)\n'}]",818598,870d8148ef1fc0c72554f24a20aec091e69a5656,9708,Balazs Gibizer,gibi,0,"Add a WA flag waiting for vif-plugged event during reboot

The libvirt driver power on and hard reboot destroys the domain first
and unplugs the vifs then recreate the domain and replug the vifs.
However nova does not wait for the network-vif-plugged event before
unpause the domain. This can cause that the domain starts running and
requesting IP via DHCP before the networking backend finished plugging
the vifs.

So this patch adds a workaround config option to nova to wait for
network-vif-plugged events during hard reboot the same way as nova waits
for this event during new instance spawn.

This logic cannot be enabled unconditionally as not all neutron
networking backend sending plug time events to wait for. Also the logic
needs to be vnic_type dependent as ml2/ovs and the in tree sriov backend
often deployed together on the same compute. While ml2/ovs sends plug
time event the sriov backend does not send it reliably. So the
configuration is not just a boolean flag but a list of vnic_types
instead. This way the waiting for the plug time event for a vif that is
handled by ml2/ovs is possible while the instance has other vifs handled
by the sriov backend where no event can be expected.

Conflicts:
      nova/conf/workarounds.py due to
      Ia500eb614cf575ab846f64f4b69c9068274c8c1f and
      Ied3732042738a6194b635c55e0304d71a6fb66e3 are not in stable/train

Change-Id: Ie904d1513b5cf76d6d5f6877545e8eb378dd5499
Closes-Bug: #1946729
(cherry picked from commit 68c970ea9915a95f9828239006559b84e4ba2581)
(cherry picked from commit 0c41bfb8c5c60f1cc930ae432e6be460ee2e97ac)
(cherry picked from commit 89c4ff5f7b45f1a5bed8b6b9b4586fceaa391bfb)
(cherry picked from commit c531fdcc192afb5af628ac567cb0ff8aa3eab052)
(cherry picked from commit 35e071470e2c5597444a7b85211a01e7fbc7c68b)
","['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1946729-wait-for-vif-plugged-event-during-hard-reboot-fb491f6a68370bab.yaml', '.zuul.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~792117,openstack/nova,stable/train,I59a0746b864610b6a314078cf5661d3d2b84b1d4,Ignore PCI devices with 32bit domain,ABANDONED,2021-05-19 09:52:46.000000000,2023-09-01 17:00:02.000000000,78,16,"[{'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-05-19 12:38:50.000000000', 'date': '2021-05-19 12:38:50.000000000'}, {'rev_nbr': 1, 'author': '2021-05-19 14:15:26.000000000', 'date': '2021-05-19 14:15:26.000000000'}, {'rev_nbr': 2, 'author': '2021-06-16 18:49:15.000000000', 'date': '2021-06-16 18:49:15.000000000'}, {'rev_nbr': 2, 'author': '2021-06-16 18:50:20.000000000', 'date': '2021-06-16 18:50:20.000000000'}, {'rev_nbr': 3, 'author': '2021-06-17 13:46:40.000000000', 'date': '2021-06-17 13:46:40.000000000'}, {'rev_nbr': 3, 'author': '2021-06-17 14:06:08.000000000', 'date': '2021-06-17 14:06:08.000000000'}, {'rev_nbr': 4, 'author': '2021-11-05 09:10:20.000000000', 'date': '2021-11-05 09:10:20.000000000'}]",1,"[{'number': 4, 'created': '2021-11-04 12:24:51.000000000', 'files': ['nova/pci/manager.py', 'doc/source/admin/networking.rst', 'nova/conf/pci.py', 'nova/tests/unit/pci/test_manager.py', 'doc/source/admin/pci-passthrough.rst'], 'message': 'Ignore PCI devices with 32bit domain\n\nNova and QEMU[1] supports PCI devices with a PCI address that has 16 bit\ndomain. However there are hypervisors that reports PCI addresses with\n32 bit domain. While today we cannot assign these to guests this should\nnot prevent the nova-compute service to start.\n\nThis patch changes the PCI manager to ignore such PCI devices.\n\nPlease note that this patch does not change fact that nova does not\nallow specifying PCI addresses with 32bit domain in the\n[pci]/passthrough_whitelist configuration. Such configuration is still\nrejected at nova-compute service startup.\n\nCloses-Bug: #1897528\n\n[1] https://github.com/qemu/qemu/blob/f2a1cf9180f63e88bb38ff21c169da97c3f2bad5/hw/core/qdev-properties.c#L993\n\nChange-Id: I59a0746b864610b6a314078cf5661d3d2b84b1d4\n(cherry picked from commit 8c9d6fc8f073cde78b79ae259c9915216f5d59b0)\n(cherry picked from commit 90ffc553d7f4152a6a4a8708787150d3c3c40b03)\n(cherry picked from commit 22daca3e7f33e89b937f03a89db63cf25489e3c9)\n'}]",792117,f03f46ee8846571be44e6995eafcb400a0f492e5,15334,Stephen Finucane,sfinucan,0,"Ignore PCI devices with 32bit domain

Nova and QEMU[1] supports PCI devices with a PCI address that has 16 bit
domain. However there are hypervisors that reports PCI addresses with
32 bit domain. While today we cannot assign these to guests this should
not prevent the nova-compute service to start.

This patch changes the PCI manager to ignore such PCI devices.

Please note that this patch does not change fact that nova does not
allow specifying PCI addresses with 32bit domain in the
[pci]/passthrough_whitelist configuration. Such configuration is still
rejected at nova-compute service startup.

Closes-Bug: #1897528

[1] https://github.com/qemu/qemu/blob/f2a1cf9180f63e88bb38ff21c169da97c3f2bad5/hw/core/qdev-properties.c#L993

Change-Id: I59a0746b864610b6a314078cf5661d3d2b84b1d4
(cherry picked from commit 8c9d6fc8f073cde78b79ae259c9915216f5d59b0)
(cherry picked from commit 90ffc553d7f4152a6a4a8708787150d3c3c40b03)
(cherry picked from commit 22daca3e7f33e89b937f03a89db63cf25489e3c9)
","['nova/pci/manager.py', 'doc/source/admin/networking.rst', 'nova/conf/pci.py', 'nova/tests/unit/pci/test_manager.py', 'doc/source/admin/pci-passthrough.rst']"
openstack%2Fnova~792116,openstack/nova,stable/train,I48dcb7faa17fe9f8346445a1746cff5845baf358,Reproduce bug 1897528,ABANDONED,2021-05-19 09:52:46.000000000,2023-09-01 16:59:52.000000000,37,0,"[{'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-05-19 12:29:35.000000000', 'date': '2021-05-19 12:29:35.000000000'}, {'rev_nbr': 2, 'author': '2021-06-16 17:57:55.000000000', 'date': '2021-06-16 17:57:55.000000000'}, {'rev_nbr': 3, 'author': '2021-06-17 12:48:29.000000000', 'date': '2021-06-17 12:48:29.000000000'}]",0,"[{'number': 4, 'created': '2021-11-04 12:24:28.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'message': 'Reproduce bug 1897528\n\nThe nova-compute fails to start if the hypervisor has PCI addresses\n32bit domain.\n\nChange-Id: I48dcb7faa17fe9f8346445a1746cff5845baf358\nRelated-Bug: #1897528\n(cherry picked from commit 976ac722d36439d16ea4ec1bf5037c482c89ef55)\n(cherry picked from commit 0354d4d9f47354e2b4fc0b2343c27e734fe2e494)\n(cherry picked from commit 8e9859b95c537738d97ade41a8d09670de27ef8d)\n'}]",792116,a0d3e6846c8e03ff141343c9bab9d4cbd2066dfc,15334,Stephen Finucane,sfinucan,0,"Reproduce bug 1897528

The nova-compute fails to start if the hypervisor has PCI addresses
32bit domain.

Change-Id: I48dcb7faa17fe9f8346445a1746cff5845baf358
Related-Bug: #1897528
(cherry picked from commit 976ac722d36439d16ea4ec1bf5037c482c89ef55)
(cherry picked from commit 0354d4d9f47354e2b4fc0b2343c27e734fe2e494)
(cherry picked from commit 8e9859b95c537738d97ade41a8d09670de27ef8d)
",['nova/tests/unit/pci/test_manager.py']
openstack%2Fnova~811823,openstack/nova,stable/train,Ia53ff43e6964963cdf295604ba0fb7171389606e,Invalidate provider tree when compute node disappears,ABANDONED,2021-09-30 01:58:04.000000000,2023-09-01 16:59:45.000000000,25,20,"[{'_account_id': 14826, 'name': 'Mark Goddard', 'email': 'markgoddard86@gmail.com', 'username': 'mgoddard'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-10-29 01:03:11.000000000', 'date': '2021-10-29 01:03:11.000000000'}, {'rev_nbr': 2, 'author': '2021-10-29 04:26:13.000000000', 'date': '2021-10-29 04:26:13.000000000'}, {'rev_nbr': 2, 'author': '2021-10-29 08:44:32.000000000', 'date': '2021-10-29 08:44:32.000000000'}]",2,"[{'number': 2, 'created': '2021-10-29 01:48:21.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/scheduler/client/report.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'message': 'Invalidate provider tree when compute node disappears\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n(cherry picked from commit 2bb4527228c8e6fa4a1fa6cfbe80e8790e4e0789)\n(cherry picked from commit 0fc104eeea065579f7fa9b52794d5151baefc84c)\n(cherry picked from commit 456bcc784340a5674d25fbe6e707c36c583b504f)\n(cherry picked from commit 8fa5b881c9b8fb78ceca7ae02d808f1fe64d72e4)\n'}]",811823,accb4fe445eaede719ad70502647365738c4d362,4690,melanie witt,melwitt,0,"Invalidate provider tree when compute node disappears

There is a race condition in nova-compute with the ironic virt driver
as nodes get rebalanced. It can lead to compute nodes being removed in
the DB and not repopulated. Ultimately this prevents these nodes from
being scheduled to.

The issue being addressed here is that if a compute node is deleted by a
host which thinks it is an orphan, then the resource provider for that
node might also be deleted. The compute host that owns the node might
not recreate the resource provider if it exists in the provider tree
cache.

This change fixes the issue by clearing resource providers from the
provider tree cache for which a compute node entry does not exist. Then,
when the available resource for the node is updated, the resource
providers are not found in the cache and get recreated in placement.

Change-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e
Related-Bug: #1853009
Related-Bug: #1841481
(cherry picked from commit 2bb4527228c8e6fa4a1fa6cfbe80e8790e4e0789)
(cherry picked from commit 0fc104eeea065579f7fa9b52794d5151baefc84c)
(cherry picked from commit 456bcc784340a5674d25fbe6e707c36c583b504f)
(cherry picked from commit 8fa5b881c9b8fb78ceca7ae02d808f1fe64d72e4)
","['nova/tests/unit/compute/test_resource_tracker.py', 'nova/scheduler/client/report.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py']"
openstack%2Fnova~811822,openstack/nova,stable/train,I39241223b447fcc671161c370dbf16e1773b684a,Clear rebalanced compute nodes from resource tracker,ABANDONED,2021-09-30 01:58:04.000000000,2023-09-01 16:59:38.000000000,66,18,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-10-29 01:23:23.000000000', 'date': '2021-10-29 01:23:23.000000000'}, {'rev_nbr': 2, 'author': '2021-10-29 06:27:39.000000000', 'date': '2021-10-29 06:27:39.000000000'}]",4,"[{'number': 2, 'created': '2021-10-29 01:48:21.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'message': 'Clear rebalanced compute nodes from resource tracker\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nConflicts:\n    nova/compute/resource_tracker.py\n    nova/tests/unit/compute/test_compute_mgr.py\n    nova/tests/unit/compute/test_resource_tracker.py\n\nNOTE(melwitt): The conflicts and difference from the cherry picked\nchange are because the following changes are not in Train:\n\n  * Ica180165184b319651d22fe77e076af036228860 (Set instance host and\n    drop migration under lock)\n  * Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9 (Use fair locks in\n    resource tracker)\n  * I739025dacbcaa0f7adbe612c064f979bf6390880 (Ensures that\n    COMPUTE_RESOURCE_SEMAPHORE usage is fair)\n  * I8403a841f21a624a546ae5f26bb9ba19318ece6a (Remove @safe_connect from\n    _delete_provider)\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n(cherry picked from commit 32676a9f45807ea8770dc7bdff1e859673af1b61)\n(cherry picked from commit f950cedf17cc4c3ce9d094dbfde5e4cf013260f7)\n(cherry picked from commit 32887f82c9bd430f285ff4418811dffdd88e398f)\n(cherry picked from commit 4b5d0804749685c8afe182b716b7536045432a7e)\n'}]",811822,53d0851d01097912b1b4c785a124a7320f3c4c3d,4690,melanie witt,melwitt,0,"Clear rebalanced compute nodes from resource tracker

There is a race condition in nova-compute with the ironic virt driver as
nodes get rebalanced. It can lead to compute nodes being removed in the
DB and not repopulated. Ultimately this prevents these nodes from being
scheduled to.

The issue being addressed here is that if a compute node is deleted by a host
which thinks it is an orphan, then the compute host that actually owns the node
might not recreate it if the node is already in its resource tracker cache.

This change fixes the issue by clearing nodes from the resource tracker cache
for which a compute node entry does not exist. Then, when the available
resource for the node is updated, the compute node object is not found in the
cache and gets recreated.

Conflicts:
    nova/compute/resource_tracker.py
    nova/tests/unit/compute/test_compute_mgr.py
    nova/tests/unit/compute/test_resource_tracker.py

NOTE(melwitt): The conflicts and difference from the cherry picked
change are because the following changes are not in Train:

  * Ica180165184b319651d22fe77e076af036228860 (Set instance host and
    drop migration under lock)
  * Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9 (Use fair locks in
    resource tracker)
  * I739025dacbcaa0f7adbe612c064f979bf6390880 (Ensures that
    COMPUTE_RESOURCE_SEMAPHORE usage is fair)
  * I8403a841f21a624a546ae5f26bb9ba19318ece6a (Remove @safe_connect from
    _delete_provider)

Change-Id: I39241223b447fcc671161c370dbf16e1773b684a
Partial-Bug: #1853009
(cherry picked from commit 32676a9f45807ea8770dc7bdff1e859673af1b61)
(cherry picked from commit f950cedf17cc4c3ce9d094dbfde5e4cf013260f7)
(cherry picked from commit 32887f82c9bd430f285ff4418811dffdd88e398f)
(cherry picked from commit 4b5d0804749685c8afe182b716b7536045432a7e)
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py']"
openstack%2Fnova~811824,openstack/nova,stable/train,I260c1fded79a85d4899e94df4d9036a1ee437f02,Prevent deletion of a compute node belonging to another host,ABANDONED,2021-09-30 01:58:04.000000000,2023-09-01 16:59:30.000000000,124,24,"[{'_account_id': 14826, 'name': 'Mark Goddard', 'email': 'markgoddard86@gmail.com', 'username': 'mgoddard'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2021-10-29 01:36:44.000000000', 'date': '2021-10-29 01:36:44.000000000'}, {'rev_nbr': 3, 'author': '2021-10-29 04:43:34.000000000', 'date': '2021-10-29 04:43:34.000000000'}, {'rev_nbr': 3, 'author': '2021-10-29 06:52:54.000000000', 'date': '2021-10-29 06:52:54.000000000'}]",2,"[{'number': 3, 'created': '2021-10-29 01:48:21.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/compute_node.py', 'nova/tests/unit/objects/test_compute_node.py', 'releasenotes/notes/bug-1853009-99414e14d1491b5f.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'message': ""Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nConflicts:\n    nova/compute/manager.py\n\nNOTE(melwitt): The conflict is because change\nI8403a841f21a624a546ae5f26bb9ba19318ece6a (Remove @safe_connect from\n_delete_provider) is not in Train.\n\nNOTE(melwitt): Difference from the cherry picked change: the 'uuid'\nattribute needed to be added to the Mock spec in\nnova/tests/unit/compute/test_compute_mgr.py because change\nI8403a841f21a624a546ae5f26bb9ba19318ece6a (Remove @safe_connect from\n_delete_provider) is not in Train.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\n\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n(cherry picked from commit a8492e88783b40f6dc61888fada232f0d00d6acf)\n(cherry picked from commit cbbca58504275f194ec55eeb89dad4a496d98060)\n(cherry picked from commit 8f825c303355fbd652b87b0720942f57ff1675bb)\n(cherry picked from commit fa91eb2696f5f5866837db20bc0bfeae38312783)\n""}]",811824,e159304647a66800dff9aa9d84af983505aa856b,4690,melanie witt,melwitt,0,"Prevent deletion of a compute node belonging to another host

There is a race condition in nova-compute with the ironic virt driver as
nodes get rebalanced. It can lead to compute nodes being removed in the
DB and not repopulated. Ultimately this prevents these nodes from being
scheduled to.

The main race condition involved is in update_available_resources in
the compute manager. When the list of compute nodes is queried, there is
a compute node belonging to the host that it does not expect to be
managing, i.e. it is an orphan. Between that time and deleting the
orphan, the real owner of the compute node takes ownership of it ( in
the resource tracker). However, the node is still deleted as the first
host is unaware of the ownership change.

This change prevents this from occurring by filtering on the host when
deleting a compute node. If another compute host has taken ownership of
a node, it will have updated the host field and this will prevent
deletion from occurring. The first host sees this has happened via the
ComputeHostNotFound exception, and avoids deleting its resource
provider.

Co-Authored-By: melanie witt <melwittt@gmail.com>

Conflicts:
    nova/compute/manager.py

NOTE(melwitt): The conflict is because change
I8403a841f21a624a546ae5f26bb9ba19318ece6a (Remove @safe_connect from
_delete_provider) is not in Train.

NOTE(melwitt): Difference from the cherry picked change: the 'uuid'
attribute needed to be added to the Mock spec in
nova/tests/unit/compute/test_compute_mgr.py because change
I8403a841f21a624a546ae5f26bb9ba19318ece6a (Remove @safe_connect from
_delete_provider) is not in Train.

Closes-Bug: #1853009
Related-Bug: #1841481

Change-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02
(cherry picked from commit a8492e88783b40f6dc61888fada232f0d00d6acf)
(cherry picked from commit cbbca58504275f194ec55eeb89dad4a496d98060)
(cherry picked from commit 8f825c303355fbd652b87b0720942f57ff1675bb)
(cherry picked from commit fa91eb2696f5f5866837db20bc0bfeae38312783)
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/compute_node.py', 'nova/tests/unit/objects/test_compute_node.py', 'releasenotes/notes/bug-1853009-99414e14d1491b5f.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py']"
openstack%2Fnova~811825,openstack/nova,stable/train,Iae119ea8776bc7f2e5dbe2e502a743217beded73,Fix inactive session error in compute node creation,ABANDONED,2021-09-30 01:58:04.000000000,2023-09-01 16:59:22.000000000,31,35,"[{'_account_id': 14826, 'name': 'Mark Goddard', 'email': 'markgoddard86@gmail.com', 'username': 'mgoddard'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2021-10-29 01:27:54.000000000', 'date': '2021-10-29 01:27:54.000000000'}, {'rev_nbr': 3, 'author': '2021-10-29 05:16:04.000000000', 'date': '2021-10-29 05:16:04.000000000'}]",1,"[{'number': 3, 'created': '2021-10-29 01:48:21.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'message': ""Fix inactive session error in compute node creation\n\nIn the fix for bug 1839560 [1][2], soft-deleted compute nodes may be\nrestored, to ensure we can reuse ironic node UUIDs as compute node\nUUIDs. While this seems to largely work, it results in some nasty errors\nbeing generated [3]:\n\n    InvalidRequestError This session is in 'inactive' state, due to the\n    SQL transaction being rolled back; no further SQL can be emitted\n    within this transaction.\n\nThis happens because compute_node_create is decorated with\npick_context_manager_writer, which begins a transaction. While\n_compute_node_get_and_update_deleted claims that calling a second\npick_context_manager_writer decorated function will begin a new\nsubtransaction, this does not appear to be the case.\n\nThis change removes pick_context_manager_writer from the\ncompute_node_create function, and adds a new _compute_node_create\nfunction which ensures the transaction is finished if\n_compute_node_get_and_update_deleted is called.\n\nThe new unit test added here fails without this change.\n\nThis change marks the removal of the final FIXME from the functional\ntest added in [4].\n\n[1] https://bugs.launchpad.net/nova/+bug/1839560\n[2] https://git.openstack.org/cgit/openstack/nova/commit/?id=89dd74ac7f1028daadf86cb18948e27fe9d1d411\n[3] http://paste.openstack.org/show/786350/\n[4] https://review.opendev.org/#/c/695012/\n\nChange-Id: Iae119ea8776bc7f2e5dbe2e502a743217beded73\nCloses-Bug: #1853159\nRelated-Bug: #1853009\n(cherry picked from commit 2383cbb4a518821d245fce316b3778c8ba8e5246)\n(cherry picked from commit 665c053315439e1345aa131f4839945d662fb3f3)\n(cherry picked from commit ddaa8215d2f2151f5d6d3d2946b87fb93d6f0a98)\n(cherry picked from commit 37d7bf909b4767760531c118fd35f0654b4b86e8)\n""}]",811825,4482f5b1e8d48adf3479ea4192f2998302318fee,4690,melanie witt,melwitt,0,"Fix inactive session error in compute node creation

In the fix for bug 1839560 [1][2], soft-deleted compute nodes may be
restored, to ensure we can reuse ironic node UUIDs as compute node
UUIDs. While this seems to largely work, it results in some nasty errors
being generated [3]:

    InvalidRequestError This session is in 'inactive' state, due to the
    SQL transaction being rolled back; no further SQL can be emitted
    within this transaction.

This happens because compute_node_create is decorated with
pick_context_manager_writer, which begins a transaction. While
_compute_node_get_and_update_deleted claims that calling a second
pick_context_manager_writer decorated function will begin a new
subtransaction, this does not appear to be the case.

This change removes pick_context_manager_writer from the
compute_node_create function, and adds a new _compute_node_create
function which ensures the transaction is finished if
_compute_node_get_and_update_deleted is called.

The new unit test added here fails without this change.

This change marks the removal of the final FIXME from the functional
test added in [4].

[1] https://bugs.launchpad.net/nova/+bug/1839560
[2] https://git.openstack.org/cgit/openstack/nova/commit/?id=89dd74ac7f1028daadf86cb18948e27fe9d1d411
[3] http://paste.openstack.org/show/786350/
[4] https://review.opendev.org/#/c/695012/

Change-Id: Iae119ea8776bc7f2e5dbe2e502a743217beded73
Closes-Bug: #1853159
Related-Bug: #1853009
(cherry picked from commit 2383cbb4a518821d245fce316b3778c8ba8e5246)
(cherry picked from commit 665c053315439e1345aa131f4839945d662fb3f3)
(cherry picked from commit ddaa8215d2f2151f5d6d3d2946b87fb93d6f0a98)
(cherry picked from commit 37d7bf909b4767760531c118fd35f0654b4b86e8)
","['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py']"
openstack%2Fnova~811821,openstack/nova,stable/train,Ice4071722de54e8d20bb8c3795be22f1995940cd,Add functional regression test for bug 1853009,ABANDONED,2021-09-30 01:58:04.000000000,2023-09-01 16:59:15.000000000,190,0,"[{'_account_id': 14826, 'name': 'Mark Goddard', 'email': 'markgoddard86@gmail.com', 'username': 'mgoddard'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2021-09-30 01:58:04.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1853009.py'], 'message': 'Add functional regression test for bug 1853009\n\nBug 1853009 describes a race condition involving multiple nova-compute\nservices with ironic. As the compute services start up, the hash ring\nrebalances, and the compute services have an inconsistent view of which\nis responsible for a compute node.\n\nThe sequence of actions here is adapted from a real world log [1], where\nmultiple nova-compute services were started simultaneously. In some\ncases mocks are used to simulate race conditions.\n\nThere are three main issues with the behaviour:\n\n* host2 deletes the orphan node compute node after host1 has taken\n  ownership of it.\n\n* host1 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned. This prevents host1 from recreating the compute\n  node.\n\n* host1 assumes that another compute service will not delete its\n  resource providers. Once an RP is in the provider tree, it is not\n  removed.\n\nThis functional test documents the current behaviour, with the idea that\nit can be updated as this behaviour is fixed.\n\n[1] http://paste.openstack.org/show/786272/\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd\nRelated-Bug: #1853009\nRelated-Bug: #1853159\n(cherry picked from commit 59d9871e8a0672538f8ffc43ae99b3d1c4b08909)\n(cherry picked from commit c260e75d012cc4fae596d5de185afad6fb24068c)\n(cherry picked from commit 34d5bca6bc612f41ac3fc33447cd2ba83bf446ba)\n(cherry picked from commit f57c4965eef8e25656635897f46dccfe23c3fa5c)\n'}]",811821,bb91677cf7006fc5310bad826dad2570873b6d70,4690,melanie witt,melwitt,0,"Add functional regression test for bug 1853009

Bug 1853009 describes a race condition involving multiple nova-compute
services with ironic. As the compute services start up, the hash ring
rebalances, and the compute services have an inconsistent view of which
is responsible for a compute node.

The sequence of actions here is adapted from a real world log [1], where
multiple nova-compute services were started simultaneously. In some
cases mocks are used to simulate race conditions.

There are three main issues with the behaviour:

* host2 deletes the orphan node compute node after host1 has taken
  ownership of it.

* host1 assumes that another compute service will not delete its nodes.
  Once a node is in rt.compute_nodes, it is not removed again unless the
  node is orphaned. This prevents host1 from recreating the compute
  node.

* host1 assumes that another compute service will not delete its
  resource providers. Once an RP is in the provider tree, it is not
  removed.

This functional test documents the current behaviour, with the idea that
it can be updated as this behaviour is fixed.

[1] http://paste.openstack.org/show/786272/

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Change-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd
Related-Bug: #1853009
Related-Bug: #1853159
(cherry picked from commit 59d9871e8a0672538f8ffc43ae99b3d1c4b08909)
(cherry picked from commit c260e75d012cc4fae596d5de185afad6fb24068c)
(cherry picked from commit 34d5bca6bc612f41ac3fc33447cd2ba83bf446ba)
(cherry picked from commit f57c4965eef8e25656635897f46dccfe23c3fa5c)
",['nova/tests/functional/regressions/test_bug_1853009.py']
openstack%2Fnova~796863,openstack/nova,stable/train,Idf4650f36952331f02d7512580c21451f3ee3b63,Allow X-OpenStack-Nova-API-Version header in CORS,ABANDONED,2021-06-17 14:07:02.000000000,2023-09-01 16:59:07.000000000,6,2,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-06-17 20:23:10.000000000', 'date': '2021-06-17 20:23:10.000000000'}, {'rev_nbr': 2, 'author': '2021-09-08 14:06:24.000000000', 'date': '2021-09-08 14:06:24.000000000'}]",0,"[{'number': 2, 'created': '2021-09-08 13:39:30.000000000', 'files': ['nova/middleware.py'], 'message': ""Allow X-OpenStack-Nova-API-Version header in CORS\n\nBy default, we don't currently allow the Nova microversion\nheader for CORS requests.  It should be something that is\nincluded out of the box because it's part of the core API.\n\nDeployers can workaround this by overriding allow_headers,\nbut we should provide a better experience out of the box.\n\nCloses-Bug: #1931908\nChange-Id: Idf4650f36952331f02d7512580c21451f3ee3b63\n(cherry picked from commit b02a95a18b5da37db6d4f30a5dea07e2a4187245)\n(cherry picked from commit e045d0115dfe3f4a4776c9d82af46cddded83e7c)\n(cherry picked from commit 6305ae491e86ee1a408213da9d89d5cdecbaa869)\n(cherry picked from commit d68a3f3b83964b5bd0152a3fa8f72610df17da91)\n""}]",796863,c5a4ea70ffee3ce0429f77a30bc34a54156ef674,1004,Mohammed Naser,mnaser,0,"Allow X-OpenStack-Nova-API-Version header in CORS

By default, we don't currently allow the Nova microversion
header for CORS requests.  It should be something that is
included out of the box because it's part of the core API.

Deployers can workaround this by overriding allow_headers,
but we should provide a better experience out of the box.

Closes-Bug: #1931908
Change-Id: Idf4650f36952331f02d7512580c21451f3ee3b63
(cherry picked from commit b02a95a18b5da37db6d4f30a5dea07e2a4187245)
(cherry picked from commit e045d0115dfe3f4a4776c9d82af46cddded83e7c)
(cherry picked from commit 6305ae491e86ee1a408213da9d89d5cdecbaa869)
(cherry picked from commit d68a3f3b83964b5bd0152a3fa8f72610df17da91)
",['nova/middleware.py']
openstack%2Fnova~785064,openstack/nova,stable/train,I2bd360dcc6501feea7baf02d4510b282205fc061,Initialize global data separately and run_once in WSGI app init,ABANDONED,2021-04-06 22:28:45.000000000,2023-09-01 16:58:33.000000000,113,2,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28522, 'name': 'Hervé Beraud', 'email': 'herveberaud.pro@gmail.com', 'username': 'hberaud'}]","[{'rev_nbr': 2, 'author': '2021-04-07 00:55:35.000000000', 'date': '2021-04-07 00:55:35.000000000'}, {'rev_nbr': 2, 'author': '2021-04-07 01:51:17.000000000', 'date': '2021-04-07 01:51:17.000000000'}, {'rev_nbr': 3, 'author': '2021-07-08 20:25:54.000000000', 'date': '2021-07-08 20:25:54.000000000'}, {'rev_nbr': 4, 'author': '2021-07-08 21:28:17.000000000', 'date': '2021-07-08 21:28:17.000000000'}, {'rev_nbr': 4, 'author': '2021-07-09 02:22:18.000000000', 'date': '2021-07-09 02:22:18.000000000'}, {'rev_nbr': 4, 'author': '2021-08-20 18:31:27.000000000', 'date': '2021-08-20 18:31:27.000000000'}, {'rev_nbr': 4, 'author': '2021-08-23 17:58:31.000000000', 'date': '2021-08-23 17:58:31.000000000'}]",1,"[{'number': 4, 'created': '2021-07-08 21:01:36.000000000', 'files': ['nova/api/openstack/wsgi_app.py', 'nova/test.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py'], 'message': ""Initialize global data separately and run_once in WSGI app init\n\nNOTE(melwitt): This is a combination of two changes to avoid\nintermittent test failure that was introduced by the original bug fix,\nand was fixed by change I2bd360dcc6501feea7baf02d4510b282205fc061.\n\nWe have discovered that if an exception is raised at any point during\nthe running of the init_application WSGI script in an apache/mod_wsgi\nDaemon Mode environment, it will prompt apache/mod_wsgi to re-run the\nscript without starting a fresh python process. Because we initialize\nglobal data structures during app init, subsequent runs of the script\nblow up as some global data do *not* support re-initialization. It is\nanyway not safe to assume that init of global data is safe to run\nmultiple times.\n\nThis mod_wsgi behavior appears to be a special situation that does not\nbehave the same as a normal reload in Daemon Mode as the script file is\nbeing reloaded upon failure instead of the daemon process being\nshutdown and restarted as described in the documentation [1].\n\nIn order to handle this situation, we can move the initialization of\nglobal data structures to a helper method that is decorated to run only\nonce per python interpreter instance. This way, we will not attempt to\nre-initialize global data that are not safe to init more than once.\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1882094\n\nNOTE(melwitt): The differences from the original change are because\nthe following changes are not in Train:\n\n  * Ie15ec8299ae52ae8f5334d591ed3944e9585cf71 (Prevent starting services\n    with older than N-1 computes)\n  * If5808075d853341bf274f35b7fcf0e0712f8f77a (trivial: Remove\n    'run_once' helper)\n\n[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode\n\nReset global wsgi app state in unit test\n\nSince I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state\nset during the wsgi_app init making our unit test cases\nnon-deterministic based on the order of them. This patch makes sure\nthat the global state is reset for each test case.\n\nCloses-Bug: #1921098\n(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)\n(cherry picked from commit e3085fa6310ddeaafa493c3f718aab0ce64f0994)\n(cherry picked from commit 59249697bf09ca1a560defdd550be7e3c439b5b7)\n""}]",785064,809c60704f983c0e5ebb73d0ff2d4393bda189e2,4690,melanie witt,melwitt,0,"Initialize global data separately and run_once in WSGI app init

NOTE(melwitt): This is a combination of two changes to avoid
intermittent test failure that was introduced by the original bug fix,
and was fixed by change I2bd360dcc6501feea7baf02d4510b282205fc061.

We have discovered that if an exception is raised at any point during
the running of the init_application WSGI script in an apache/mod_wsgi
Daemon Mode environment, it will prompt apache/mod_wsgi to re-run the
script without starting a fresh python process. Because we initialize
global data structures during app init, subsequent runs of the script
blow up as some global data do *not* support re-initialization. It is
anyway not safe to assume that init of global data is safe to run
multiple times.

This mod_wsgi behavior appears to be a special situation that does not
behave the same as a normal reload in Daemon Mode as the script file is
being reloaded upon failure instead of the daemon process being
shutdown and restarted as described in the documentation [1].

In order to handle this situation, we can move the initialization of
global data structures to a helper method that is decorated to run only
once per python interpreter instance. This way, we will not attempt to
re-initialize global data that are not safe to init more than once.

Co-Authored-By: Michele Baldessari <michele@redhat.com>
Co-Authored-By: melanie witt <melwittt@gmail.com>

Closes-Bug: #1882094

NOTE(melwitt): The differences from the original change are because
the following changes are not in Train:

  * Ie15ec8299ae52ae8f5334d591ed3944e9585cf71 (Prevent starting services
    with older than N-1 computes)
  * If5808075d853341bf274f35b7fcf0e0712f8f77a (trivial: Remove
    'run_once' helper)

[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode

Reset global wsgi app state in unit test

Since I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state
set during the wsgi_app init making our unit test cases
non-deterministic based on the order of them. This patch makes sure
that the global state is reset for each test case.

Closes-Bug: #1921098
(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)

Change-Id: I2bd360dcc6501feea7baf02d4510b282205fc061
(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)
(cherry picked from commit e3085fa6310ddeaafa493c3f718aab0ce64f0994)
(cherry picked from commit 59249697bf09ca1a560defdd550be7e3c439b5b7)
","['nova/api/openstack/wsgi_app.py', 'nova/test.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py']"
openstack%2Fnova~795177,openstack/nova,stable/train,I8296e4be9f0706fab043451b856efadbb7bd41f6,Honor [neutron]http_retries in the manual client,ABANDONED,2021-06-07 20:20:53.000000000,2023-09-01 16:58:10.000000000,3,0,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-06-07 23:50:22.000000000', 'date': '2021-06-07 23:50:22.000000000'}, {'rev_nbr': 1, 'author': '2021-08-20 18:49:22.000000000', 'date': '2021-08-20 18:49:22.000000000'}]",0,"[{'number': 1, 'created': '2021-06-07 20:20:53.000000000', 'files': ['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py'], 'message': 'Honor [neutron]http_retries in the manual client\n\nChange Ifb3afb13aff7e103c2e80ade817d0e63b624604a added a nova side\nconfig option for specifying neutron client retries that maps to the\nksa connect_retries config option to provide parity with the cinder and\nglance clients that have nova side config options.\n\nThat change missed passing CONF.neutron.http_retries to the manual\nclient used for calling the port binding API. This sets the\nconnect_retries attribute on the manual ksa client so http_retries\nwill be honored.\n\nCloses-Bug: #1929886\nRelated-Bug: #1866937\n\nChange-Id: I8296e4be9f0706fab043451b856efadbb7bd41f6\n(cherry picked from commit 56eb253e9febccf721df6bca4eb851ad26cb70a6)\n(cherry picked from commit 46aa3f4ec769e948d9eb73604bf9b66f4b0230b0)\n(cherry picked from commit f20346bc00a30c914cbefb48009db776f8e00b09)\n(cherry picked from commit b96f93ed8633d6fd0725c4a11366ffbf38056e65)\n'}]",795177,74e6c821fcb8f686a9b91c093b1db834b59c2856,4690,melanie witt,melwitt,0,"Honor [neutron]http_retries in the manual client

Change Ifb3afb13aff7e103c2e80ade817d0e63b624604a added a nova side
config option for specifying neutron client retries that maps to the
ksa connect_retries config option to provide parity with the cinder and
glance clients that have nova side config options.

That change missed passing CONF.neutron.http_retries to the manual
client used for calling the port binding API. This sets the
connect_retries attribute on the manual ksa client so http_retries
will be honored.

Closes-Bug: #1929886
Related-Bug: #1866937

Change-Id: I8296e4be9f0706fab043451b856efadbb7bd41f6
(cherry picked from commit 56eb253e9febccf721df6bca4eb851ad26cb70a6)
(cherry picked from commit 46aa3f4ec769e948d9eb73604bf9b66f4b0230b0)
(cherry picked from commit f20346bc00a30c914cbefb48009db776f8e00b09)
(cherry picked from commit b96f93ed8633d6fd0725c4a11366ffbf38056e65)
","['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']"
openstack%2Fnova~794042,openstack/nova,stable/train,I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea,image_meta: Provide image_ref as the id when fetching from instance,ABANDONED,2021-06-01 20:50:26.000000000,2023-09-01 16:58:03.000000000,125,91,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-06-01 22:41:20.000000000', 'date': '2021-06-01 22:41:20.000000000'}, {'rev_nbr': 1, 'author': '2021-06-01 23:31:20.000000000', 'date': '2021-06-01 23:31:20.000000000'}]",0,"[{'number': 1, 'created': '2021-06-01 20:50:26.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/virt/test_configdrive.py', 'nova/objects/image_meta.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': 'image_meta: Provide image_ref as the id when fetching from instance\n\nAt present various users of instance.image_meta expect it to be a fully\npopulated ImageMeta object. However when the instance is pulled from the\ndatabase the ImageMeta object is only partially populated via\ninstance.system_metadata with a limited set of attributes such as\nmin_ram, min_disk, disk_format and container_format. This can result in\nNotImplementedErrors being raised by o.vo as seen in bug #1928063 when\nan attempt is made to access common attributes such as id or name.\n\nTo avoid this the id is now provided by instance.image_ref when\navailable.\n\nThe majority of the change is test fallout and ensuring that valid UUIDs\nare provided as instance.image_ref and used by instance.image_meta.\n\nNOTE(lyarwood): Conflicts caused by\nI3eac9ac0a2a698a3c72b4e646cdcaf293ec4b057,\nI25eff0271c856a8d3e83867b448e1dec6f6732ab and\nI0b81282eba8238d8b64a67e38cf9d6392de1f85c not being present on\nstable/train.\n\nConflicts:\n  nova/tests/unit/api/openstack/compute/test_serversV21.py\n  nova/tests/unit/compute/test_compute_api.py\n  nova/tests/unit/virt/libvirt/test_driver.py\n\nRelated-Bug: #1928063\nChange-Id: I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea\n(cherry picked from commit 9d037f7d199443da0f2c6c1755704e589d52e730)\n(cherry picked from commit a2791fb5d2ae30d2861c2f04627eb48df01a30e7)\n(cherry picked from commit bc579db23a259dd0061fbba3f56655eea2b798e7)\n(cherry picked from commit b383f17dfbc2e7ff3fc099a5f276ae646ce0ece3)\n'}]",794042,97ca8a8728250fe612f6fc9ecd29caa0e78e36c7,10135,Lee Yarwood,lyarwood,0,"image_meta: Provide image_ref as the id when fetching from instance

At present various users of instance.image_meta expect it to be a fully
populated ImageMeta object. However when the instance is pulled from the
database the ImageMeta object is only partially populated via
instance.system_metadata with a limited set of attributes such as
min_ram, min_disk, disk_format and container_format. This can result in
NotImplementedErrors being raised by o.vo as seen in bug #1928063 when
an attempt is made to access common attributes such as id or name.

To avoid this the id is now provided by instance.image_ref when
available.

The majority of the change is test fallout and ensuring that valid UUIDs
are provided as instance.image_ref and used by instance.image_meta.

NOTE(lyarwood): Conflicts caused by
I3eac9ac0a2a698a3c72b4e646cdcaf293ec4b057,
I25eff0271c856a8d3e83867b448e1dec6f6732ab and
I0b81282eba8238d8b64a67e38cf9d6392de1f85c not being present on
stable/train.

Conflicts:
  nova/tests/unit/api/openstack/compute/test_serversV21.py
  nova/tests/unit/compute/test_compute_api.py
  nova/tests/unit/virt/libvirt/test_driver.py

Related-Bug: #1928063
Change-Id: I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea
(cherry picked from commit 9d037f7d199443da0f2c6c1755704e589d52e730)
(cherry picked from commit a2791fb5d2ae30d2861c2f04627eb48df01a30e7)
(cherry picked from commit bc579db23a259dd0061fbba3f56655eea2b798e7)
(cherry picked from commit b383f17dfbc2e7ff3fc099a5f276ae646ce0ece3)
","['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/virt/test_configdrive.py', 'nova/objects/image_meta.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~796939,openstack/nova,stable/train,I3d1b21ba6eb3f5eb728693197c24b4b315eef821,libvirt: Do not destroy volume secrets during _hard_reboot,ABANDONED,2021-06-17 18:19:07.000000000,2023-09-01 16:57:58.000000000,124,11,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-06-18 00:19:48.000000000', 'date': '2021-06-18 00:19:48.000000000'}, {'rev_nbr': 1, 'author': '2021-06-18 01:22:49.000000000', 'date': '2021-06-18 01:22:49.000000000'}]",0,"[{'number': 1, 'created': '2021-06-17 18:19:07.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': ""libvirt: Do not destroy volume secrets during _hard_reboot\n\nIa2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that\nresume_state_on_host_boot calls down into _hard_reboot always removing\nvolume secrets rendering that change useless.\n\nThis change seeks to address this by using the destroy_secrets kwarg\nintroduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the\n_hard_reboot method of the libvirt driver to ensure secrets are not\nremoved during a hard reboot.\n\nThis resolves the original issue in bug #1905701 *and* allows admins to\nhard reboot a users instance when that instance has encrypted volumes\nattached with secrets stored in Barbican. This latter use case being\nsomething we can easily test within tempest unlike the compute reboot in\nbug #1905701.\n\nThis change is kept small as it should ideally be backported alongside\nIa2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up\nchanges on master will improve formatting, doc text and introduce\nfunctional tests to further validate this new behaviour of hard reboot\nwithin the libvirt driver.\n\nNOTE(lyarwood): Conflict as I41b7c1653c6a887ee4b08e588c5d422409aebfba\nisn't present on stable/train.\n\nConflicts:\n  nova/tests/unit/virt/libvirt/test_driver.py\n\nCloses-Bug: #1905701\nChange-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821\n(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)\n(cherry picked from commit 9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93)\n(cherry picked from commit ac3fc65f5ee62dd60525fce3e8b881e1389cca43)\n(cherry picked from commit 7a69f9800b97606cd05068d3ad4fc6d0061a7a55)\n""}]",796939,780f5e8b3df203795b73d7fb6d4c5092f596399e,10135,Lee Yarwood,lyarwood,0,"libvirt: Do not destroy volume secrets during _hard_reboot

Ia2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that
resume_state_on_host_boot calls down into _hard_reboot always removing
volume secrets rendering that change useless.

This change seeks to address this by using the destroy_secrets kwarg
introduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the
_hard_reboot method of the libvirt driver to ensure secrets are not
removed during a hard reboot.

This resolves the original issue in bug #1905701 *and* allows admins to
hard reboot a users instance when that instance has encrypted volumes
attached with secrets stored in Barbican. This latter use case being
something we can easily test within tempest unlike the compute reboot in
bug #1905701.

This change is kept small as it should ideally be backported alongside
Ia2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up
changes on master will improve formatting, doc text and introduce
functional tests to further validate this new behaviour of hard reboot
within the libvirt driver.

NOTE(lyarwood): Conflict as I41b7c1653c6a887ee4b08e588c5d422409aebfba
isn't present on stable/train.

Conflicts:
  nova/tests/unit/virt/libvirt/test_driver.py

Closes-Bug: #1905701
Change-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821
(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)
(cherry picked from commit 9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93)
(cherry picked from commit ac3fc65f5ee62dd60525fce3e8b881e1389cca43)
(cherry picked from commit 7a69f9800b97606cd05068d3ad4fc6d0061a7a55)
","['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~796935,openstack/nova,stable/train,I856268b371f7ba712b02189db3c927cd762a4dc3,virt: Add destroy_secrets kwarg to destroy and cleanup,ABANDONED,2021-06-17 18:19:07.000000000,2023-09-01 16:57:50.000000000,26,13,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-06-17 22:56:01.000000000', 'date': '2021-06-17 22:56:01.000000000'}, {'rev_nbr': 1, 'author': '2021-06-17 23:45:54.000000000', 'date': '2021-06-17 23:45:54.000000000'}]",0,"[{'number': 1, 'created': '2021-06-17 18:19:07.000000000', 'files': ['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py'], 'message': ""virt: Add destroy_secrets kwarg to destroy and cleanup\n\nThis change adds a simple optional kwarg to the virt driver signature of\ndestroy and cleanup to allow for callers to control when secrets should\nbe removed.\n\nNOTE(lyarwood): Conflict as Ia5892e1d2cb7c7685e104466f83df7bb00b168c0\nisn't present on stable/train.\n\nConflicts:\n  nova/virt/fake.py\n\nChange-Id: I856268b371f7ba712b02189db3c927cd762a4dc3\n(cherry picked from commit 1cc52fd2f22ec37194519e473c88260bf90a3c8c)\n(cherry picked from commit f2ba67184d3801fdca4a33aa744a3471bcd21de2)\n(cherry picked from commit f805779363b9933386eee4222de15466c547ba38)\n(cherry picked from commit 94dd3679f9a78f45edd11dd3d6bb2b3f4caec41b)\n""}]",796935,2944675d63a796de8c60efdddfe55dfb4912451e,10135,Lee Yarwood,lyarwood,0,"virt: Add destroy_secrets kwarg to destroy and cleanup

This change adds a simple optional kwarg to the virt driver signature of
destroy and cleanup to allow for callers to control when secrets should
be removed.

NOTE(lyarwood): Conflict as Ia5892e1d2cb7c7685e104466f83df7bb00b168c0
isn't present on stable/train.

Conflicts:
  nova/virt/fake.py

Change-Id: I856268b371f7ba712b02189db3c927cd762a4dc3
(cherry picked from commit 1cc52fd2f22ec37194519e473c88260bf90a3c8c)
(cherry picked from commit f2ba67184d3801fdca4a33aa744a3471bcd21de2)
(cherry picked from commit f805779363b9933386eee4222de15466c547ba38)
(cherry picked from commit 94dd3679f9a78f45edd11dd3d6bb2b3f4caec41b)
","['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py']"
openstack%2Fnova~802849,openstack/nova,stable/train,I2f9ad3df25306e070c8c3538bfed1212d6d8682f,Allow deletion of compute service with no compute nodes,ABANDONED,2021-07-29 09:01:01.000000000,2023-09-01 16:57:42.000000000,20,9,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-07-29 09:01:01.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/api/openstack/compute/services.py'], 'message': ""Allow deletion of compute service with no compute nodes\n\nConsider the following situation:\n\n- Using the Ironic virt driver\n- Replacing (so removing and re-adding) all baremetal nodes\n  associated with a single nova-compute service\n\nThe update resources periodic will have destroyed the compute node\nrecords because they're no longer being reported by the virt driver.\nIf we then attempt to manually delete the compute service record, the\ndatbase layer will raise an exception, as there are no longer any\ncompute node records for the host. Previously, this exception would\nget bubbled up as an error 500 in the API. This patch catches it and\nallows service deletion to complete succefully.\n\nCloses bug: 1860312\nChange-Id: I2f9ad3df25306e070c8c3538bfed1212d6d8682f\n(cherry picked from commit 880611df0b6b967adabd3f08886e385d0a100c5c)\n(cherry picked from commit df5158bf3f80fd4362725dc280de67b88ece9952)\n(cherry picked from commit e238cc9cd6ee7ba9d556c0c29f6f69dc3e3a7af9)\n(cherry picked from commit ced6595af4b73f24cfef66623bc3ad9a00091952)\n""}]",802849,e9ba530b5213c5e0992a2900cc03cf5e1e694f34,8864,Artom Lifshitz,artom,0,"Allow deletion of compute service with no compute nodes

Consider the following situation:

- Using the Ironic virt driver
- Replacing (so removing and re-adding) all baremetal nodes
  associated with a single nova-compute service

The update resources periodic will have destroyed the compute node
records because they're no longer being reported by the virt driver.
If we then attempt to manually delete the compute service record, the
datbase layer will raise an exception, as there are no longer any
compute node records for the host. Previously, this exception would
get bubbled up as an error 500 in the API. This patch catches it and
allows service deletion to complete succefully.

Closes bug: 1860312
Change-Id: I2f9ad3df25306e070c8c3538bfed1212d6d8682f
(cherry picked from commit 880611df0b6b967adabd3f08886e385d0a100c5c)
(cherry picked from commit df5158bf3f80fd4362725dc280de67b88ece9952)
(cherry picked from commit e238cc9cd6ee7ba9d556c0c29f6f69dc3e3a7af9)
(cherry picked from commit ced6595af4b73f24cfef66623bc3ad9a00091952)
","['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/api/openstack/compute/services.py']"
openstack%2Fnova~802848,openstack/nova,stable/train,I03eec634b25582ec9643cacf3e5868c101176983,Reproducer unit test for bug 1860312,ABANDONED,2021-07-29 09:01:01.000000000,2023-09-01 16:57:35.000000000,19,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-07-29 09:01:01.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_services.py'], 'message': ""Reproducer unit test for bug 1860312\n\nConsider the following situation:\n\n- Using the Ironic virt driver\n- Replacing (so removing and re-adding) all baremetal nodes\n  associated with a single nova-compute service\n\nThe update resources periodic will have destroyed the compute node\nrecords because they're no longer being reported by the virt driver.\nIf we then attempt to manually delete the compute service record, the\ndatbase layer will raise an exception, as there are no longer any\ncompute node records for the host. This exception gets bubbled up as\nan error 500 in the API. This patch adds a unit test to demonstrate\nthis.\n\nRelated bug: 1860312\nChange-Id: I03eec634b25582ec9643cacf3e5868c101176983\n(cherry picked from commit 32257a2a6d159406577c885a9d7e366cbf0c72b9)\n(cherry picked from commit e6cd23c3b4928b421b8c706f9cc218020779e367)\n(cherry picked from commit 9efdd0b085733a0a4c4192aab8fc870c8aadf316)\n(cherry picked from commit 075817983ae2ab71e6fe0b539da67a768d109478)\n""}]",802848,538aeb98446e2230e44c579ed1f971fa7883826d,8864,Artom Lifshitz,artom,0,"Reproducer unit test for bug 1860312

Consider the following situation:

- Using the Ironic virt driver
- Replacing (so removing and re-adding) all baremetal nodes
  associated with a single nova-compute service

The update resources periodic will have destroyed the compute node
records because they're no longer being reported by the virt driver.
If we then attempt to manually delete the compute service record, the
datbase layer will raise an exception, as there are no longer any
compute node records for the host. This exception gets bubbled up as
an error 500 in the API. This patch adds a unit test to demonstrate
this.

Related bug: 1860312
Change-Id: I03eec634b25582ec9643cacf3e5868c101176983
(cherry picked from commit 32257a2a6d159406577c885a9d7e366cbf0c72b9)
(cherry picked from commit e6cd23c3b4928b421b8c706f9cc218020779e367)
(cherry picked from commit 9efdd0b085733a0a4c4192aab8fc870c8aadf316)
(cherry picked from commit 075817983ae2ab71e6fe0b539da67a768d109478)
",['nova/tests/unit/api/openstack/compute/test_services.py']
openstack%2Fnova~802241,openstack/nova,stable/train,Iac0e634e66cd4e150a50935cf635f626fc11b70e,api: Align availability zone info with forced host,ABANDONED,2021-07-26 08:37:17.000000000,2023-09-01 16:57:28.000000000,214,25,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-07-26 08:37:17.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'message': 'api: Align availability zone info with forced host\n\nUsers can create a server like so:\n\n  $ openstack server create --availability-zone az:host ...\n\nThis is a historical way to request that an instance be scheduled to a\nspecific host and it causes the scheduler to be bypassed. However, no\nvalidation of this availability zone-host combo takes place. The host\ncould in fact belong to a different availability zone. If it does, we\'ll\nend up in a very odd situation whereby the RequestSpec record for the\ninstance will record the availability zone requested by the user at\ncreate time, but the Instance record itself will record the availability\nzone of the host on which the instance was scheduled. This leads to even\nmore confusing behavior when we attempt to do something like live\nmigrate the instance since the RequestSpec record, with its original and\npossibly invalid availability zone information, is used. The\n\'AvailabilityZoneFilter\' will fail an error message like the following:\n\n  Availability Zone \'foo\' requested. ... has AZs: bar\n\nbut the \'openstack server list --long\' command will show a non-foo value\nfor the availability zone column.\n\nThe solution is simple: when given an availability zone-host combo, make\nsure the availability zone requested matches that of the host (or, more\nspecifically, the host is a member of the host aggregates that form the\navailability zone [1]). If not, simply ignore the requested availability\nzone information in favour of using the availability zone of the host,\nlogging a warning just for record keeping purposes. This is deemed\npreferable to failing with HTTP 400 (Bad Request) since what users are\nreally requesting by using this was to schedule to a specific host: the\navailability zone portion of the request is really irrelevant and just\nan artifact of this legacy mechanism to request hosts. If users wish to\ntruly validate a host-availability zone combo, they can use the \'host\'\nfield introduced in microversion 2.74 along with the \'availability_zone\'\nfield:\n\n  $ openstack server create --availability-zone az --host host ...\n\nConflicts:\n  nova/tests/unit/policies/test_servers.py\n\nNOTE(stephenfin): Conflicts are due to the absence of change\nI3fbb5c8a9cfe94b63fcffb8dfc6ee9065be1ba64 (""Add test coverage of\nexisting server policies"") which we don\'t need to backport here.\n\n[1] https://docs.openstack.org/nova/latest/admin/aggregates.html\n\nChange-Id: Iac0e634e66cd4e150a50935cf635f626fc11b70e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1934770\n(cherry picked from commit 8f21ee42bd66b62e75e14acf4e91b786d78b9168)\n(cherry picked from commit 58782403cdaad33856fd59715525cee3c63ee3cf)\n(cherry picked from commit bf235c0ed0a1a867ab1b6e5ff34eaf7a8dee6c55)\n(cherry picked from commit 6ae2be6f6ebb47703159161df34abb57fe875ad2)\n'}]",802241,dac4c22ff519e5fd32202a4392a7e53fe3ed86ad,15334,Stephen Finucane,sfinucan,0,"api: Align availability zone info with forced host

Users can create a server like so:

  $ openstack server create --availability-zone az:host ...

This is a historical way to request that an instance be scheduled to a
specific host and it causes the scheduler to be bypassed. However, no
validation of this availability zone-host combo takes place. The host
could in fact belong to a different availability zone. If it does, we'll
end up in a very odd situation whereby the RequestSpec record for the
instance will record the availability zone requested by the user at
create time, but the Instance record itself will record the availability
zone of the host on which the instance was scheduled. This leads to even
more confusing behavior when we attempt to do something like live
migrate the instance since the RequestSpec record, with its original and
possibly invalid availability zone information, is used. The
'AvailabilityZoneFilter' will fail an error message like the following:

  Availability Zone 'foo' requested. ... has AZs: bar

but the 'openstack server list --long' command will show a non-foo value
for the availability zone column.

The solution is simple: when given an availability zone-host combo, make
sure the availability zone requested matches that of the host (or, more
specifically, the host is a member of the host aggregates that form the
availability zone [1]). If not, simply ignore the requested availability
zone information in favour of using the availability zone of the host,
logging a warning just for record keeping purposes. This is deemed
preferable to failing with HTTP 400 (Bad Request) since what users are
really requesting by using this was to schedule to a specific host: the
availability zone portion of the request is really irrelevant and just
an artifact of this legacy mechanism to request hosts. If users wish to
truly validate a host-availability zone combo, they can use the 'host'
field introduced in microversion 2.74 along with the 'availability_zone'
field:

  $ openstack server create --availability-zone az --host host ...

Conflicts:
  nova/tests/unit/policies/test_servers.py

NOTE(stephenfin): Conflicts are due to the absence of change
I3fbb5c8a9cfe94b63fcffb8dfc6ee9065be1ba64 (""Add test coverage of
existing server policies"") which we don't need to backport here.

[1] https://docs.openstack.org/nova/latest/admin/aggregates.html

Change-Id: Iac0e634e66cd4e150a50935cf635f626fc11b70e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1934770
(cherry picked from commit 8f21ee42bd66b62e75e14acf4e91b786d78b9168)
(cherry picked from commit 58782403cdaad33856fd59715525cee3c63ee3cf)
(cherry picked from commit bf235c0ed0a1a867ab1b6e5ff34eaf7a8dee6c55)
(cherry picked from commit 6ae2be6f6ebb47703159161df34abb57fe875ad2)
","['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']"
openstack%2Fnova~802240,openstack/nova,stable/train,I7a563386bd2f5d1930b5eb2cfc00425a19747e24,Fix error that cannot overwrite policy rule for 'forced_host',ABANDONED,2021-07-26 08:37:17.000000000,2023-09-01 16:57:22.000000000,2,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 23950, 'name': 'Eric Xie', 'email': 'eric_xiett@163.com', 'username': 'ericxie'}]",,0,"[{'number': 1, 'created': '2021-07-26 08:37:17.000000000', 'files': ['nova/api/openstack/compute/servers.py'], 'message': ""Fix error that cannot overwrite policy rule for 'forced_host'\n\nWhen configure 'os_compute_api:servers:create:forced_host' to\n'rule:admin_or_owner', but still doesn't allow.\nIn nova/api/openstack/compute/servers.py#L669, the target is\nset to '{}' that is not equal None, so then it will not be set\nin nova/policy.py#L205.\nThis patch configures the target param.\n\nChange-Id: I7a563386bd2f5d1930b5eb2cfc00425a19747e24\nCloses-Bug: #1894975\n(cherry picked from commit fd99a7ca0f56223d878142a58525d9ed64c84ed1)\n(cherry picked from commit 35ec9357a1f249cc1309c92006a5a1f48a8ff025)\n""}]",802240,ec6db6efde6486b778c9a0477d31554feac38f79,15334,Stephen Finucane,sfinucan,0,"Fix error that cannot overwrite policy rule for 'forced_host'

When configure 'os_compute_api:servers:create:forced_host' to
'rule:admin_or_owner', but still doesn't allow.
In nova/api/openstack/compute/servers.py#L669, the target is
set to '{}' that is not equal None, so then it will not be set
in nova/policy.py#L205.
This patch configures the target param.

Change-Id: I7a563386bd2f5d1930b5eb2cfc00425a19747e24
Closes-Bug: #1894975
(cherry picked from commit fd99a7ca0f56223d878142a58525d9ed64c84ed1)
(cherry picked from commit 35ec9357a1f249cc1309c92006a5a1f48a8ff025)
",['nova/api/openstack/compute/servers.py']
openstack%2Fnova~843959,openstack/nova,stable/train,I3f1073d70e4332737e33f3c9c00cf129d0ef76b4,Add a regression test for bug 1939545,ABANDONED,2022-05-30 20:25:37.000000000,2023-09-01 16:56:06.000000000,156,13,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,14,"[{'number': 9, 'created': '2022-06-17 21:23:13.000000000', 'files': ['nova/tests/fixtures.py', 'nova/tests/functional/regressions/test_bug_1939545.py'], 'message': 'Add a regression test for bug 1939545\n\nAssert the behaviour of the libvirt driver during pre_live_migration\nwith instances that have block based volumes attached.\n\nBug #1939545 covering the case where the returned path from os-brick\nisn\'t being saved into the connection_info of the associated bdm in\nNova.\n\nThe cinder fixture is extended as part of this change to offer\nconnection_info listing the iscsi volume type in order to correctly\nassert the behaviour of the associated libvirt volume driver.\n\nNOTE(artom) Changes to make this work on stable/train\n* Fix super() call to be correct for Python 2\n* Adjust usage of _wait_for_state_change() to match the stable/train\n  variant.\n* Do the live migration ""manually"", as the _live_migrate() does not\n  exist in stable/train.\n\nRelated-Bug: #1939545\nChange-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4\n(cherry picked from commit 268b7169554f871d3813d78e79861934d086484d)\n(cherry picked from commit 9f7b81c4cfe9f6a41fb28ec3b9d20616817ceab5)\n(cherry picked from commit 02854cc4458f1a68deaf840a49f7cab7aed0cb05)\n(cherry picked from commit 15bde1b68d10f940a349e46b4bd5abaafc5899ef)\n'}]",843959,fa69b4c438276ea1f03782b77afce0c8a5814201,8864,Artom Lifshitz,artom,0,"Add a regression test for bug 1939545

Assert the behaviour of the libvirt driver during pre_live_migration
with instances that have block based volumes attached.

Bug #1939545 covering the case where the returned path from os-brick
isn't being saved into the connection_info of the associated bdm in
Nova.

The cinder fixture is extended as part of this change to offer
connection_info listing the iscsi volume type in order to correctly
assert the behaviour of the associated libvirt volume driver.

NOTE(artom) Changes to make this work on stable/train
* Fix super() call to be correct for Python 2
* Adjust usage of _wait_for_state_change() to match the stable/train
  variant.
* Do the live migration ""manually"", as the _live_migrate() does not
  exist in stable/train.

Related-Bug: #1939545
Change-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4
(cherry picked from commit 268b7169554f871d3813d78e79861934d086484d)
(cherry picked from commit 9f7b81c4cfe9f6a41fb28ec3b9d20616817ceab5)
(cherry picked from commit 02854cc4458f1a68deaf840a49f7cab7aed0cb05)
(cherry picked from commit 15bde1b68d10f940a349e46b4bd5abaafc5899ef)
","['nova/tests/fixtures.py', 'nova/tests/functional/regressions/test_bug_1939545.py']"
openstack%2Fnova~843960,openstack/nova,stable/train,Iea8896682fc28e3a5cd25afa45238272bee745e1,compute: Ensure updates to bdms during pre_live_migration are saved,ABANDONED,2022-05-30 20:25:37.000000000,2023-09-01 16:55:58.000000000,19,3,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-05-30 22:03:57.000000000', 'date': '2022-05-30 22:03:57.000000000'}, {'rev_nbr': 2, 'author': '2022-06-05 18:39:08.000000000', 'date': '2022-06-05 18:39:08.000000000'}, {'rev_nbr': 3, 'author': '2022-06-05 21:37:34.000000000', 'date': '2022-06-05 21:37:34.000000000'}, {'rev_nbr': 4, 'author': '2022-06-06 16:17:06.000000000', 'date': '2022-06-06 16:17:06.000000000'}, {'rev_nbr': 5, 'author': '2022-06-08 23:26:49.000000000', 'date': '2022-06-08 23:26:49.000000000'}, {'rev_nbr': 6, 'author': '2022-06-15 19:59:50.000000000', 'date': '2022-06-15 19:59:50.000000000'}, {'rev_nbr': 9, 'author': '2022-06-17 23:06:30.000000000', 'date': '2022-06-17 23:06:30.000000000'}]",6,"[{'number': 9, 'created': '2022-06-17 21:23:13.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1939545.py'], 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nConflicts in nova/compute/manager.py due to\n6af7c36ac737c4a5a5a16f01f91b6fd8f529feb7 removing nova-net firewall\nsupport in ussuri and changing the context around this change.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit 9bccc5a04354b0490fbe7e0f0b98cf55d4b7c9c4)\n(cherry picked from commit 911d1063e06684137952aec6b260cc54738ee5de)\n(cherry picked from commit caa6d8e0a21e9dd0e6de61acf974846f40323d9e)\n'}]",843960,12d9f408b3147c50145c38000e9c26c156eeed12,8864,Artom Lifshitz,artom,0,"compute: Ensure updates to bdms during pre_live_migration are saved

When connecting volumes to the underlying host the virt drivers can
attempt to stash additional metadata returned from os-brick into the
connection_info associated with a bdm. This pretty janky behaviour
relies on someone later calling .save() against the underlying
BlockDeviceMapping object to persist these changes into the database as
happens in the driver block device layer during a standard volume
attach.

However during pre_live_migration no call was made to .save() resulting
in the changes made to the connection_info being lost. This change
simply introduces this call at the end of the pre_live_migration method
on the destination via the driver bdm objects we provide in
block_device_info.

Conflicts in nova/compute/manager.py due to
6af7c36ac737c4a5a5a16f01f91b6fd8f529feb7 removing nova-net firewall
support in ussuri and changing the context around this change.

Closes-Bug: #1939545
Change-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1
(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)
(cherry picked from commit 9bccc5a04354b0490fbe7e0f0b98cf55d4b7c9c4)
(cherry picked from commit 911d1063e06684137952aec6b260cc54738ee5de)
(cherry picked from commit caa6d8e0a21e9dd0e6de61acf974846f40323d9e)
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1939545.py']"
openstack%2Fnova~844745,openstack/nova,stable/train,If1a45886adfc6448a626a54449ff66f400879b83,func: Add live migration rollback volume attachment tests,ABANDONED,2022-06-05 16:59:52.000000000,2023-09-01 16:55:50.000000000,97,0,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 16, 'created': '2022-06-17 21:23:13.000000000', 'files': ['nova/tests/functional/compute/test_live_migration.py'], 'message': ""func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nNOTE(artom) Changes for the cherry-pick:\n* a tiny manual change was needed to fix the way super() is called to\n  match the Python 2 style\n* add self.api_major_version to be compatible with stable/train\n  _setup_services()\n* adjust usage of the _builder_server() helper to be compatible with\n  the stable/train way\n* add self._image_ref_parameter and self._flavor_ref_parameter to the\n  new test class, needed by the stable/train version of the\n  _build_server() helper\n* make the new test class inherit from the InstanceHelperMixin, as\n  that's there the _wait_for_state_change() helper is in stable/train\n* call _wait_for_state_change() in the stable/train fashion, passing\n  self.api in addition to the server and state\n* declare USE_NEUTRON explicitly\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n""}]",844745,13fe11120f4e6bc063587e26ddeec63dd4cb210d,8864,Artom Lifshitz,artom,0,"func: Add live migration rollback volume attachment tests

This test asserts that the original source host volume attachments
remain intact after a failure and rollback during the main live
migration flow on the virt driver.

NOTE(artom) Changes for the cherry-pick:
* a tiny manual change was needed to fix the way super() is called to
  match the Python 2 style
* add self.api_major_version to be compatible with stable/train
  _setup_services()
* adjust usage of the _builder_server() helper to be compatible with
  the stable/train way
* add self._image_ref_parameter and self._flavor_ref_parameter to the
  new test class, needed by the stable/train version of the
  _build_server() helper
* make the new test class inherit from the InstanceHelperMixin, as
  that's there the _wait_for_state_change() helper is in stable/train
* call _wait_for_state_change() in the stable/train fashion, passing
  self.api in addition to the server and state
* declare USE_NEUTRON explicitly

Change-Id: If1a45886adfc6448a626a54449ff66f400879b83
(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)
(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)
",['nova/tests/functional/compute/test_live_migration.py']
openstack%2Fnova~844746,openstack/nova,stable/train,Ib8009f38f20b008d08148f7f591af13b1ca5b420,fup: Assert state of connection_info during LM rollback in func tests,ABANDONED,2022-06-05 16:59:52.000000000,2023-09-01 16:55:44.000000000,72,11,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,4,"[{'number': 18, 'created': '2022-06-17 21:23:13.000000000', 'files': ['nova/tests/functional/compute/test_live_migration.py'], 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nNOTE(artom) Conflicts and changes:\n* Conflicts in nova/tests/functional/compute/test_live_migration.py due\n  to 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\n  migration tests in ussuri and changing the context around this change.\n* Fix how we use the _build_server() helper to match how it works in\n  stable/train.\n* Stop using the _live_migrate() helper as it does not exist in\n  stable/train, and use an explicit self.api.post_server_action()\n  call.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit c248986eeb8e9b9c3586c83b01663d3585132c3f)\n(cherry picked from commit 212ef3e9753a3bc6cd1dbd6aa1bd48fd56fbbf96)\n(cherry picked from commit 58264ad5bb8c3b2e64f7a0d5d02461ec26d802f8)\n'}]",844746,1032302c8e87e84e6a08397fe15625514136797a,8864,Artom Lifshitz,artom,0,"fup: Assert state of connection_info during LM rollback in func tests

This came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as
something we should be asserting in our func tests somewhere. I had
thought it already was but this is as close as we got. Add that coverage
here.

NOTE(artom) Conflicts and changes:
* Conflicts in nova/tests/functional/compute/test_live_migration.py due
  to 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live
  migration tests in ussuri and changing the context around this change.
* Fix how we use the _build_server() helper to match how it works in
  stable/train.
* Stop using the _live_migrate() helper as it does not exist in
  stable/train, and use an explicit self.api.post_server_action()
  call.

Change-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420
(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)
(cherry picked from commit c248986eeb8e9b9c3586c83b01663d3585132c3f)
(cherry picked from commit 212ef3e9753a3bc6cd1dbd6aa1bd48fd56fbbf96)
(cherry picked from commit 58264ad5bb8c3b2e64f7a0d5d02461ec26d802f8)
",['nova/tests/functional/compute/test_live_migration.py']
openstack%2Fnova~844744,openstack/nova,stable/train,Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa,fup: Make connection_info returned by CinderFixture unique per attachment,ABANDONED,2022-06-05 16:59:52.000000000,2023-09-01 16:55:37.000000000,22,12,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 8, 'created': '2022-06-17 21:23:13.000000000', 'files': ['nova/tests/fixtures.py'], 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)\n(cherry picked from commit 8e008925343f27f017b8c3d6d49a2cfa2aea8aeb)\n(cherry picked from commit a26bdac24c1eb2e6503bd2683c935799096d93e9)\n(cherry picked from commit 48b04ccbd42c257c4978ff021ac0bb523ae51eb9)\n'}]",844744,ea8d60f72592d31e7b84de7cc00ed8ad90e8b9d6,8864,Artom Lifshitz,artom,0,"fup: Make connection_info returned by CinderFixture unique per attachment

Change-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa
(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)
(cherry picked from commit 8e008925343f27f017b8c3d6d49a2cfa2aea8aeb)
(cherry picked from commit a26bdac24c1eb2e6503bd2683c935799096d93e9)
(cherry picked from commit 48b04ccbd42c257c4978ff021ac0bb523ae51eb9)
",['nova/tests/fixtures.py']
openstack%2Fnova~843958,openstack/nova,stable/train,I066fb5617bae944a03273049117fc2b5bf329283,fake: Ensure need_legacy_block_device_info returns False,ABANDONED,2022-05-30 20:25:37.000000000,2023-09-01 16:55:29.000000000,31,19,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-05-30 22:48:11.000000000', 'date': '2022-05-30 22:48:11.000000000'}, {'rev_nbr': 4, 'author': '2022-06-17 19:59:08.000000000', 'date': '2022-06-17 19:59:08.000000000'}]",1,"[{'number': 4, 'created': '2022-06-17 17:18:07.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py'], 'message': ""fake: Ensure need_legacy_block_device_info returns False\n\nThe legacy block_device_info format has not been used for a while in the\nvirt drivers and the Fake virt drivers shouldn't be using it anymore.\n\nSome compute tests have been updated as they were previously asserting\nthe legacy format incorrectly. TODOs are also left to remove support for\nthe legacy format in a follow up change.\n\nChange-Id: I066fb5617bae944a03273049117fc2b5bf329283\n(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)\n(cherry picked from commit 74160240526ccc64b7c86b66969b2e22f8a2c683)\n(cherry picked from commit 2ce7dc32d5f58e0be4c464faff00b53fb4671a22)\n(cherry picked from commit 62106532d010808c3609be89ac3c6485eba7bacd)\n""}]",843958,d719add14f3c97e17ee3c385374c476d70e5cc10,8864,Artom Lifshitz,artom,0,"fake: Ensure need_legacy_block_device_info returns False

The legacy block_device_info format has not been used for a while in the
virt drivers and the Fake virt drivers shouldn't be using it anymore.

Some compute tests have been updated as they were previously asserting
the legacy format incorrectly. TODOs are also left to remove support for
the legacy format in a follow up change.

Change-Id: I066fb5617bae944a03273049117fc2b5bf329283
(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)
(cherry picked from commit 74160240526ccc64b7c86b66969b2e22f8a2c683)
(cherry picked from commit 2ce7dc32d5f58e0be4c464faff00b53fb4671a22)
(cherry picked from commit 62106532d010808c3609be89ac3c6485eba7bacd)
","['nova/virt/fake.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py']"
openstack%2Fnova~844743,openstack/nova,stable/train,Ie74fcd689a627c178f80ec60df2dfef40576f182,tests: work around malformed serial XML,ABANDONED,2022-06-05 16:59:52.000000000,2023-09-01 16:55:21.000000000,12,12,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 3, 'created': '2022-06-17 17:18:07.000000000', 'files': ['nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/test_virt_drivers.py'], 'message': ""tests: work around malformed serial XML\n\nThe serial elements in fakelibvirt's XMLDesc() are malformed. They are\nonly enough to pass existing unit tests, but are not future-proof, and\nwould not work with something like migration._update_serial_xml(). In\naddition, two of them (type=file and type=pty) are not actually used by\nanything.\n\nThis patch removes the unused types and starts checking the\nCONF.serial_console.enabled flag before including any serial XML in\nthe fake domain. This allows tests that don't set\nserial_console_enabled (like the subsequent NUMA LM func test) to not\nhave to deal with the broken serial XML, while tests that relied on it\nin the past now just set serial_console_enabled = True.\n\nNOTE(artom) This enables the live migration functional test in the\nsubsequent patch to work.\n\nChange-Id: Ie74fcd689a627c178f80ec60df2dfef40576f182\n(cherry picked from commit 4ba00c803b8707ca40492f493997df058696ca15)\n""}]",844743,a863d808260547e62c8eb09452963b8fe07af713,8864,Artom Lifshitz,artom,0,"tests: work around malformed serial XML

The serial elements in fakelibvirt's XMLDesc() are malformed. They are
only enough to pass existing unit tests, but are not future-proof, and
would not work with something like migration._update_serial_xml(). In
addition, two of them (type=file and type=pty) are not actually used by
anything.

This patch removes the unused types and starts checking the
CONF.serial_console.enabled flag before including any serial XML in
the fake domain. This allows tests that don't set
serial_console_enabled (like the subsequent NUMA LM func test) to not
have to deal with the broken serial XML, while tests that relied on it
in the past now just set serial_console_enabled = True.

NOTE(artom) This enables the live migration functional test in the
subsequent patch to work.

Change-Id: Ie74fcd689a627c178f80ec60df2dfef40576f182
(cherry picked from commit 4ba00c803b8707ca40492f493997df058696ca15)
","['nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/test_virt_drivers.py']"
openstack%2Fnova~844750,openstack/nova,stable/train,Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320,functional: Use tempdir for CONF.instances_path,ABANDONED,2022-06-05 19:58:10.000000000,2023-09-01 16:55:15.000000000,2,5,"[{'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 3, 'created': '2022-06-17 17:18:07.000000000', 'files': ['nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/functional/libvirt/base.py'], 'message': ""functional: Use tempdir for CONF.instances_path\n\nThis was being set in an ad-hoc manner throughout the code, but it's\nnecessary for all kinds of live migration and evacuation operations.\nJust centralize the configuration.\n\nNOTE(artom) This is being backported because a functional test failure\nwas observed when running functional tests that are added by\nsubsequent patches. The specific error was:\n\nNo such file or directory:\n'/home/zuul/src/opendev.org/openstack/nova/instances/tmpif84g_jd\n\nThe failure is not always reproducible, but never happened again with\nthis patch included in the series.\n\nChange-Id: Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 980711f3d3f2db9dfd792a8c6fd15cb45a85f615)\n(cherry picked from commit 05c88a4e21b523ad30ab133093b627a0fae78adf)\n""}]",844750,ef66e1a44ac4544e37a7cdced86444d6e2ddc9a8,8864,Artom Lifshitz,artom,0,"functional: Use tempdir for CONF.instances_path

This was being set in an ad-hoc manner throughout the code, but it's
necessary for all kinds of live migration and evacuation operations.
Just centralize the configuration.

NOTE(artom) This is being backported because a functional test failure
was observed when running functional tests that are added by
subsequent patches. The specific error was:

No such file or directory:
'/home/zuul/src/opendev.org/openstack/nova/instances/tmpif84g_jd

The failure is not always reproducible, but never happened again with
this patch included in the series.

Change-Id: Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 980711f3d3f2db9dfd792a8c6fd15cb45a85f615)
(cherry picked from commit 05c88a4e21b523ad30ab133093b627a0fae78adf)
","['nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/functional/libvirt/base.py']"
openstack%2Fnova~751368,openstack/nova,stable/train,I26b050c402f5721fc490126e9becb643af9279b4,Move confirm resize under semaphore,ABANDONED,2020-09-11 17:20:55.000000000,2023-09-01 16:55:00.000000000,47,43,"[{'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 10118, 'name': 'IBM PowerKVM CI', 'email': 'kvmpower@linux.vnet.ibm.com', 'username': 'powerkvm', 'tags': ['SERVICE_USER']}, {'_account_id': 10135, 'name': 'Lee Yarwood', 'display_name': 'Lee Yarwood', 'email': 'lyarwood@redhat.com', 'username': 'lyarwood'}, {'_account_id': 14595, 'name': 'z Systems KVM', 'email': 'zkvm-ci@linux.vnet.ibm.com', 'username': 'ibm-zkvm-ci', 'tags': ['SERVICE_USER']}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 26515, 'name': 'Cloudbase Nova Hyper-V CI', 'email': 'nova_hyperv_ci@cloudbasesolutions.com', 'username': 'nova_hyperv_ci'}, {'_account_id': 29963, 'name': 'Intel_Zuul', 'display_name': 'Intel Corporation CI', 'email': 'intel-openstack-ci@intel.com', 'username': 'Intel_Zuul'}]","[{'rev_nbr': 1, 'author': '2020-09-12 12:25:19.000000000', 'date': '2020-09-12 12:25:19.000000000'}, {'rev_nbr': 2, 'author': '2020-09-14 12:15:08.000000000', 'date': '2020-09-14 12:15:08.000000000'}, {'rev_nbr': 2, 'author': '2020-09-14 14:18:30.000000000', 'date': '2020-09-14 14:18:30.000000000'}, {'rev_nbr': 2, 'author': '2020-09-18 14:39:47.000000000', 'date': '2020-09-18 14:39:47.000000000'}, {'rev_nbr': 2, 'author': '2020-09-18 21:15:19.000000000', 'date': '2020-09-18 21:15:19.000000000'}]",5,"[{'number': 3, 'created': '2021-02-04 17:13:23.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1879878.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py'], 'message': 'Move confirm resize under semaphore\n\nThe \'ResourceTracker.update_available_resource\' periodic task builds\nusage information for the current host by inspecting instances and\nin-progress migrations, combining the two. Specifically, it finds all\ninstances that are not in the \'DELETED\' or \'SHELVED_OFFLOADED\' state,\ncalculates the usage from these, then finds all in-progress migrations\nfor the host that don\'t have an associated instance (to prevent double\naccounting) and includes the usage for these.\n\nIn addition to the periodic task, the \'ResourceTracker\' class has a\nnumber of helper functions to make or drop claims for the inventory\ngenerated by the \'update_available_resource\' periodic task as part of\nthe various instance operations. These helpers naturally assume that\nwhen making a claim for a particular instance or migration, there\nshouldn\'t already be resources allocated for same. Conversely, when\ndropping claims, the resources should currently be allocated. However,\nthe check for *active* instances and *in-progress* migrations in the\nperiodic task means we have to be careful in how we make changes to a\ngiven instance or migration record. Running the periodic task between\nsuch an operation and an attempt to make or drop a claim can result in\nTOCTOU-like races.\n\nThis generally isn\'t an issue: we use the \'COMPUTE_RESOURCE_SEMAPHORE\'\nsemaphore to prevent the periodic task running while we\'re claiming\nresources in helpers like \'ResourceTracker.instance_claim\' and we make\nour changes to the instances and migrations within this context. There\nis one exception though: the \'drop_move_claim\' helper. This function is\nused when dropping a claim for either a cold migration, a resize or a\nlive migration, and will drop usage from either the source host (based\non the ""old"" flavor) for a resize confirm or the destination host (based\non the ""new"" flavor) for a resize revert or live migration rollback.\nUnfortunately, while the function itself is wrapped in the semaphore, no\nchanges to the state or the instance or migration in question are\nprotected by it.\n\nConsider the confirm resize case, which we\'re addressing here. If we\nmark the migration as \'confirmed\' before running \'drop_move_claim\', then\nthe periodic task running between these steps will not account for the\nusage on the source since the migration is allegedly \'confirmed\'. The\ncall to \'drop_move_claim\' will then result in the tracker dropping usage\nthat we\'re no longer accounting for. This ""set migration status before\ndropping usage"" is the current behaviour for both same-cell and\ncross-cell resize, via the \'ComputeManager.confirm_resize\' and\n\'ComputeManager.confirm_snapshot_based_resize_at_source\' functions,\nrespectively. We could reverse those calls and run \'drop_move_claim\'\nbefore marking the migration as \'confirmed\', but while our usage will be\nmomentarily correct, the periodic task running between these steps will\nre-add the usage we just dropped since the migration isn\'t yet\n\'confirmed\'. The correct solution is to close this gap between setting\nthe migration status and dropping the move claim to zero. We do this by\nputting both operations behind the \'COMPUTE_RESOURCE_SEMAPHORE\', just\nlike the claim operations.\n\nConflicts:\n  nova/compute/manager.py\n  nova/compute/resource_tracker.py\n  nova/conductor/tasks/cross_cell_migrate.py\n  nova/tests/unit/compute/test_compute_mgr.py\n\nNOTE(stephenfin): The bulk of the conflicts are due to the absence of\nvarious cross-cell resize related patches. The only exception is the\nconflict in \'nova/compute/resource_tracker.py\', which is due to the\nabsence of change Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9 (""Use fair\nlocks in resource tracker"") which we can\'t backport since it requires a\nfeature only found in newer versions of \'oslo.concurrency\' and mandates\na lower constraint bump.\n\nChange-Id: I26b050c402f5721fc490126e9becb643af9279b4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nPartial-Bug: #1879878\n(cherry picked from commit a57800d3825ef2fb833d8024c6f7e5c550f55e2f)\n(cherry picked from commit 4fcada57d6c569a3b9c8094cdfb37b77ec2a8cb5)\n'}]",751368,c957bd81bae1f23b566b6a51ae96bdca89897719,15334,Stephen Finucane,sfinucan,0,"Move confirm resize under semaphore

The 'ResourceTracker.update_available_resource' periodic task builds
usage information for the current host by inspecting instances and
in-progress migrations, combining the two. Specifically, it finds all
instances that are not in the 'DELETED' or 'SHELVED_OFFLOADED' state,
calculates the usage from these, then finds all in-progress migrations
for the host that don't have an associated instance (to prevent double
accounting) and includes the usage for these.

In addition to the periodic task, the 'ResourceTracker' class has a
number of helper functions to make or drop claims for the inventory
generated by the 'update_available_resource' periodic task as part of
the various instance operations. These helpers naturally assume that
when making a claim for a particular instance or migration, there
shouldn't already be resources allocated for same. Conversely, when
dropping claims, the resources should currently be allocated. However,
the check for *active* instances and *in-progress* migrations in the
periodic task means we have to be careful in how we make changes to a
given instance or migration record. Running the periodic task between
such an operation and an attempt to make or drop a claim can result in
TOCTOU-like races.

This generally isn't an issue: we use the 'COMPUTE_RESOURCE_SEMAPHORE'
semaphore to prevent the periodic task running while we're claiming
resources in helpers like 'ResourceTracker.instance_claim' and we make
our changes to the instances and migrations within this context. There
is one exception though: the 'drop_move_claim' helper. This function is
used when dropping a claim for either a cold migration, a resize or a
live migration, and will drop usage from either the source host (based
on the ""old"" flavor) for a resize confirm or the destination host (based
on the ""new"" flavor) for a resize revert or live migration rollback.
Unfortunately, while the function itself is wrapped in the semaphore, no
changes to the state or the instance or migration in question are
protected by it.

Consider the confirm resize case, which we're addressing here. If we
mark the migration as 'confirmed' before running 'drop_move_claim', then
the periodic task running between these steps will not account for the
usage on the source since the migration is allegedly 'confirmed'. The
call to 'drop_move_claim' will then result in the tracker dropping usage
that we're no longer accounting for. This ""set migration status before
dropping usage"" is the current behaviour for both same-cell and
cross-cell resize, via the 'ComputeManager.confirm_resize' and
'ComputeManager.confirm_snapshot_based_resize_at_source' functions,
respectively. We could reverse those calls and run 'drop_move_claim'
before marking the migration as 'confirmed', but while our usage will be
momentarily correct, the periodic task running between these steps will
re-add the usage we just dropped since the migration isn't yet
'confirmed'. The correct solution is to close this gap between setting
the migration status and dropping the move claim to zero. We do this by
putting both operations behind the 'COMPUTE_RESOURCE_SEMAPHORE', just
like the claim operations.

Conflicts:
  nova/compute/manager.py
  nova/compute/resource_tracker.py
  nova/conductor/tasks/cross_cell_migrate.py
  nova/tests/unit/compute/test_compute_mgr.py

NOTE(stephenfin): The bulk of the conflicts are due to the absence of
various cross-cell resize related patches. The only exception is the
conflict in 'nova/compute/resource_tracker.py', which is due to the
absence of change Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9 (""Use fair
locks in resource tracker"") which we can't backport since it requires a
feature only found in newer versions of 'oslo.concurrency' and mandates
a lower constraint bump.

Change-Id: I26b050c402f5721fc490126e9becb643af9279b4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Partial-Bug: #1879878
(cherry picked from commit a57800d3825ef2fb833d8024c6f7e5c550f55e2f)
(cherry picked from commit 4fcada57d6c569a3b9c8094cdfb37b77ec2a8cb5)
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1879878.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py']"
openstack%2Fnova~842592,openstack/nova,stable/train,Id04e0df12829df4d8929e03a8b76b5cbe0549059,neutron: Unbind remaining ports after PortNotFound,ABANDONED,2022-05-19 18:03:03.000000000,2023-09-01 16:54:02.000000000,65,23,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-05-19 20:52:58.000000000', 'date': '2022-05-19 20:52:58.000000000'}]",0,"[{'number': 1, 'created': '2022-05-19 18:03:03.000000000', 'files': ['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py'], 'message': 'neutron: Unbind remaining ports after PortNotFound\n\nJust because we encountered a PortNotFound error when unbinding a port\ndoesn\'t mean we should stop unbinding the remaining ports. If this error\nis encountered, simply continue with the other ports.\n\nWhile we\'re here, we clean up some other tests related to \'_unbind_port\'\nsince they\'re clearly duplicates.\n\nConflicts:\n  nova/tests/unit/network/test_neutronv2.py\n\nNOTE(stephenfin): Conflicts are due to the absence of change\nI329f0fd589a4b2e0426485f09f6782f94275cc07 (""nova-net: Remove layer of\nindirection in \'nova.network\'"") which we don\'t want to backport.\n\nChange-Id: Id04e0df12829df4d8929e03a8b76b5cbe0549059\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1974173\n(cherry picked from commit 9e0dcb52ab308a63c6a18e47d1850cc3ade4d807)\n(cherry picked from commit 6f32b118640ee466b58155b5ecd50e041b4a2e7e)\n(cherry picked from commit d322f8e8b5a95fd60dab9c6c543b4c77ea893836)\n(cherry picked from commit a49a0b970a0072bfddc1b403c75c3c4cd6636f83)\n(cherry picked from commit 581cffad7ba0a4f9950943bc029903d40f581207)\n(cherry picked from commit 5ae9813ea92f60d39346b811bbc1c92786b57f06)\n'}]",842592,ed58ebceb8612207e3ebad95f271d17c3bfa3f7d,15334,Stephen Finucane,sfinucan,0,"neutron: Unbind remaining ports after PortNotFound

Just because we encountered a PortNotFound error when unbinding a port
doesn't mean we should stop unbinding the remaining ports. If this error
is encountered, simply continue with the other ports.

While we're here, we clean up some other tests related to '_unbind_port'
since they're clearly duplicates.

Conflicts:
  nova/tests/unit/network/test_neutronv2.py

NOTE(stephenfin): Conflicts are due to the absence of change
I329f0fd589a4b2e0426485f09f6782f94275cc07 (""nova-net: Remove layer of
indirection in 'nova.network'"") which we don't want to backport.

Change-Id: Id04e0df12829df4d8929e03a8b76b5cbe0549059
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1974173
(cherry picked from commit 9e0dcb52ab308a63c6a18e47d1850cc3ade4d807)
(cherry picked from commit 6f32b118640ee466b58155b5ecd50e041b4a2e7e)
(cherry picked from commit d322f8e8b5a95fd60dab9c6c543b4c77ea893836)
(cherry picked from commit a49a0b970a0072bfddc1b403c75c3c4cd6636f83)
(cherry picked from commit 581cffad7ba0a4f9950943bc029903d40f581207)
(cherry picked from commit 5ae9813ea92f60d39346b811bbc1c92786b57f06)
","['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']"
openstack%2Fnova~836607,openstack/nova,stable/train,Id0539d2ee909d86ffef07ae566697db8ae0f83b4,extend_volume of libvirt/volume/iscsi should not use device_path,ABANDONED,2022-04-05 19:17:42.000000000,2023-09-01 16:53:50.000000000,1,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-04-05 21:05:03.000000000', 'date': '2022-04-05 21:05:03.000000000'}]",0,"[{'number': 1, 'created': '2022-04-05 19:17:42.000000000', 'files': ['nova/virt/libvirt/volume/iscsi.py'], 'message': ""extend_volume of libvirt/volume/iscsi should not use device_path\n\nThe connection_info['data']['device_path'] field is not always\navailable. In cases that it was not available, it would cause\nthe debug code to raise a KeyError instead of proceeding.\n\nOther similar debug messages in the same file do not include\ndevice_path. As a simple fix, just drop the device_path from\nthe log.\n\nCloses-Bug: #1936439\n\nChange-Id: Id0539d2ee909d86ffef07ae566697db8ae0f83b4\nSigned-off-by: Mark Mielke <mark.mielke@gmail.com>\n(cherry picked from commit ad60f23be3d562422b350aade04aa92ade39fb32)\n""}]",836607,f6eb03dc22a8556213c555a4d9ba52525a5085d5,8864,Artom Lifshitz,artom,0,"extend_volume of libvirt/volume/iscsi should not use device_path

The connection_info['data']['device_path'] field is not always
available. In cases that it was not available, it would cause
the debug code to raise a KeyError instead of proceeding.

Other similar debug messages in the same file do not include
device_path. As a simple fix, just drop the device_path from
the log.

Closes-Bug: #1936439

Change-Id: Id0539d2ee909d86ffef07ae566697db8ae0f83b4
Signed-off-by: Mark Mielke <mark.mielke@gmail.com>
(cherry picked from commit ad60f23be3d562422b350aade04aa92ade39fb32)
",['nova/virt/libvirt/volume/iscsi.py']
openstack%2Fnova~803727,openstack/nova,stable/train,I332d4f33ea6b9506cc24ac12e5c0994f208a3107,Add functional test for bug 1937375,ABANDONED,2021-08-06 10:43:55.000000000,2023-09-01 16:53:44.000000000,115,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29074, 'name': 'Felix Huettner', 'email': 'felix.huettner@stackit.cloud', 'username': 'felix.huettner'}]",,0,"[{'number': 1, 'created': '2021-08-06 10:43:55.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1937375.py'], 'message': 'Add functional test for bug 1937375\n\n- InstanceHelperMixin pulled in for access to a better\n  _build_minimal_create_server_request method\n- api_major_version defined in test class\n- Fake image service stubbed out directing in test class\n- A simple _create_server method is in-lined within the class\n\nRelated-Bug: #1937375\nChange-Id: I332d4f33ea6b9506cc24ac12e5c0994f208a3107\n(cherry picked from commit 2ffd9738602531e93495a1feca76bbb687c3e72c)\n(cherry picked from commit 7a9e3dcd172f187cf93f406b09f49d2ded9bd90d)\n(cherry picked from commit 68b2d5f797896768229db1cf28feb22a984daf81)\n(cherry picked from commit 2a67e8794f916af07a05c550dca01d7fca625caf)\n'}]",803727,051a14674195e5d37b931d3b59366656801bc8a1,10135,Lee Yarwood,lyarwood,0,"Add functional test for bug 1937375

- InstanceHelperMixin pulled in for access to a better
  _build_minimal_create_server_request method
- api_major_version defined in test class
- Fake image service stubbed out directing in test class
- A simple _create_server method is in-lined within the class

Related-Bug: #1937375
Change-Id: I332d4f33ea6b9506cc24ac12e5c0994f208a3107
(cherry picked from commit 2ffd9738602531e93495a1feca76bbb687c3e72c)
(cherry picked from commit 7a9e3dcd172f187cf93f406b09f49d2ded9bd90d)
(cherry picked from commit 68b2d5f797896768229db1cf28feb22a984daf81)
(cherry picked from commit 2a67e8794f916af07a05c550dca01d7fca625caf)
",['nova/tests/functional/regressions/test_bug_1937375.py']
openstack%2Fnova~803728,openstack/nova,stable/train,I92f35514efddcb071c7094370b79d91d34c5bc72,compute: Avoid duplicate BDMs during reserve_block_device_name,ABANDONED,2021-08-06 10:43:55.000000000,2023-09-01 16:53:38.000000000,41,6,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29074, 'name': 'Felix Huettner', 'email': 'felix.huettner@stackit.cloud', 'username': 'felix.huettner'}]","[{'rev_nbr': 1, 'author': '2021-08-06 11:11:02.000000000', 'date': '2021-08-06 11:11:02.000000000'}, {'rev_nbr': 1, 'author': '2021-08-06 17:16:13.000000000', 'date': '2021-08-06 17:16:13.000000000'}]",0,"[{'number': 1, 'created': '2021-08-06 10:43:55.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1937375.py', 'nova/compute/manager.py'], 'message': 'compute: Avoid duplicate BDMs during reserve_block_device_name\n\nWhen attaching a volume to a running instance the nova-api validates\nthat the volume is not already attached to the instance. However\nnova-compute is responsible for actually creating the BDM entry in the\ndatabase. If sending attach requests fast enough it can be possible\nthat the same ""attach_volume"" request can be sent to nova-compute for\nthe same volume/instance combination.\n\nTo work around this we add a check in nova-compute to validate that\nthe volume has not been attached in the mean time.\n\nCloses-Bug: #1937375\nChange-Id: I92f35514efddcb071c7094370b79d91d34c5bc72\n(cherry picked from commit 2209b0007fe85d7c5439e0bfdfe2120c63898fa2)\n(cherry picked from commit 2bee83b8a980b2bd9e276b75aa74253f8c0d0a70)\n(cherry picked from commit 303c7a7c35044240f1546a5f960c1a4e6482f385)\n(cherry picked from commit deefea82efd87b001acce7cf8d0fc2915062228b)\n'}]",803728,6ef97792387bf010b92da1e06beefc04d22ff5ff,10135,Lee Yarwood,lyarwood,0,"compute: Avoid duplicate BDMs during reserve_block_device_name

When attaching a volume to a running instance the nova-api validates
that the volume is not already attached to the instance. However
nova-compute is responsible for actually creating the BDM entry in the
database. If sending attach requests fast enough it can be possible
that the same ""attach_volume"" request can be sent to nova-compute for
the same volume/instance combination.

To work around this we add a check in nova-compute to validate that
the volume has not been attached in the mean time.

Closes-Bug: #1937375
Change-Id: I92f35514efddcb071c7094370b79d91d34c5bc72
(cherry picked from commit 2209b0007fe85d7c5439e0bfdfe2120c63898fa2)
(cherry picked from commit 2bee83b8a980b2bd9e276b75aa74253f8c0d0a70)
(cherry picked from commit 303c7a7c35044240f1546a5f960c1a4e6482f385)
(cherry picked from commit deefea82efd87b001acce7cf8d0fc2915062228b)
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1937375.py', 'nova/compute/manager.py']"
openstack%2Fnova~888509,openstack/nova,stable/train,I4ab97626c10052c7af9934a80ff8db9ddab82738,Enforce quota usage from placement when unshelving,ABANDONED,2023-07-13 22:40:42.000000000,2023-09-01 16:52:49.000000000,207,25,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 6, 'created': '2023-07-17 22:20:45.000000000', 'files': ['releasenotes/notes/quota-unshelve-offloaded-e4ea2d6a1449f549.yaml', 'nova/api/openstack/compute/shelve.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = true or\n[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota\nusage are counted from placement. When an instance is SHELVED_OFFLOADED,\nit will not have allocations in placement, so its cores and ram should\nnot count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being properly enforced during\nunshelve of a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nNOTE(melwitt): The difference from the cherry picked change is\nbecause change I5d6db24a440397e588ba69f98a9cd2b8a846adc2 (tests: Add\nhelpers for rebuild, cold migrate, and shelve/unshelve) is not in\nUssuri.\n\nConflicts:\n    nova/conductor/manager.py\n    nova/tests/unit/conductor/test_conductor.py\n\nNOTE(melwitt): The conflicts are because the following changes are not\nin Train:\n\n  * I497180fb81fd966d1d3d4b54ac66d2609347583e (Restrict RequestSpec to\n    cell when evacuating)\n  * I52499ff6639c1a5815a8557b22dd33106dcc386b (Use provider mappings\n    from Placement (mostly))\n\nand the difference in test_conductor.py from the cherry picked change\nis because change I3cfb1edc30b0bda4671e0d2cc2a8993055dcc9ff (Default\nuser_id when not specified in check_num_instances_quota) is not in\nTrain. Type hints have also been removed as they are not supported in\nPython 2.7.\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)\n(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)\n(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)\n(cherry picked from commit da4b7d1e70486402635a009724b263981cd22861)\n(cherry picked from commit 746bc7222276a8c6bb4f0f9317802e332d25b756)\n(cherry picked from commit c13c26f88edea2d762aef97013662859496dd3e6)\n(cherry picked from commit da5e34e33d8ad0f85da1dd83c0e020efb6fc3978)\n(cherry picked from commit d5c9b39f6e5ccdefbc3e47645e6fc9e0b1c7e000)\n'}]",888509,64c709ed589f1fb02b4f2b15c29bedcb5558051b,4690,melanie witt,melwitt,0,"Enforce quota usage from placement when unshelving

When [quota]count_usage_from_placement = true or
[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota
usage are counted from placement. When an instance is SHELVED_OFFLOADED,
it will not have allocations in placement, so its cores and ram should
not count against quota during that time.

This means however that when an instance is unshelved, there is a
possibility of going over quota if the cores and ram it needs were
allocated by some other instance(s) while it was SHELVED_OFFLOADED.

This fixes a bug where quota was not being properly enforced during
unshelve of a SHELVED_OFFLOADED instance when quota usage is counted
from placement. Test coverage is also added for the ""recheck"" quota
cases.

NOTE(melwitt): The difference from the cherry picked change is
because change I5d6db24a440397e588ba69f98a9cd2b8a846adc2 (tests: Add
helpers for rebuild, cold migrate, and shelve/unshelve) is not in
Ussuri.

Conflicts:
    nova/conductor/manager.py
    nova/tests/unit/conductor/test_conductor.py

NOTE(melwitt): The conflicts are because the following changes are not
in Train:

  * I497180fb81fd966d1d3d4b54ac66d2609347583e (Restrict RequestSpec to
    cell when evacuating)
  * I52499ff6639c1a5815a8557b22dd33106dcc386b (Use provider mappings
    from Placement (mostly))

and the difference in test_conductor.py from the cherry picked change
is because change I3cfb1edc30b0bda4671e0d2cc2a8993055dcc9ff (Default
user_id when not specified in check_num_instances_quota) is not in
Train. Type hints have also been removed as they are not supported in
Python 2.7.

Closes-Bug: #2003991

Change-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738
(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)
(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)
(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)
(cherry picked from commit da4b7d1e70486402635a009724b263981cd22861)
(cherry picked from commit 746bc7222276a8c6bb4f0f9317802e332d25b756)
(cherry picked from commit c13c26f88edea2d762aef97013662859496dd3e6)
(cherry picked from commit da5e34e33d8ad0f85da1dd83c0e020efb6fc3978)
(cherry picked from commit d5c9b39f6e5ccdefbc3e47645e6fc9e0b1c7e000)
","['releasenotes/notes/quota-unshelve-offloaded-e4ea2d6a1449f549.yaml', 'nova/api/openstack/compute/shelve.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']"
openstack%2Fnova~888508,openstack/nova,stable/train,Icc9b6366aebba2f8468e2127da7b7e099098513a,Reproducer for bug 2003991 unshelving offloaded instance,ABANDONED,2023-07-13 22:40:42.000000000,2023-09-01 16:52:40.000000000,112,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 4, 'created': '2023-07-14 02:02:22.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'message': ""Reproducer for bug 2003991 unshelving offloaded instance\n\nThis adds test coverage for:\n\n  * Shelve/unshelve offloaded with legacy quota usage\n  * Shelve/unshelve offloaded with quota usage from placement\n  * Shelve/unshelve with legacy quota usage\n  * Shelve/unshelve with quota usage from placement\n\nRelated-Bug: #2003991\n\nNOTE(melwitt): The differences from the cherry picked change are\nbecause change I84c58de90dad6d86271767363aef90ddac0f1730 (functional:\nAdd '_create_server' helper) is not in Train.\n\nChange-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a\n(cherry picked from commit 427b2cb4d61cdfaf18b2467eb50b3772dffd3def)\n(cherry picked from commit 004a773a3a286f39889519bb5b2009fb9bf44fb1)\n(cherry picked from commit 710116f4beadb1553c9ad7991ea69b0e286657d6)\n(cherry picked from commit 291c02a7d51585551266fe5b7e7afd9726317671)\n(cherry picked from commit dc2d308118a126e087431d5c7810e1f958cbe895)\n(cherry picked from commit 1d91e71e74b57b0f2f108faeb522244a03540485)\n(cherry picked from commit c0f06628eb883aa6d213cc9b57ffb8f5b3a64372)\n(cherry picked from commit 882f0a038ea6b2f4cd75c8d761fe3effebf67cf9)\n""}]",888508,6e3c72a71d60df4bab2aaaec833dcca3d91b31ab,4690,melanie witt,melwitt,0,"Reproducer for bug 2003991 unshelving offloaded instance

This adds test coverage for:

  * Shelve/unshelve offloaded with legacy quota usage
  * Shelve/unshelve offloaded with quota usage from placement
  * Shelve/unshelve with legacy quota usage
  * Shelve/unshelve with quota usage from placement

Related-Bug: #2003991

NOTE(melwitt): The differences from the cherry picked change are
because change I84c58de90dad6d86271767363aef90ddac0f1730 (functional:
Add '_create_server' helper) is not in Train.

Change-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a
(cherry picked from commit 427b2cb4d61cdfaf18b2467eb50b3772dffd3def)
(cherry picked from commit 004a773a3a286f39889519bb5b2009fb9bf44fb1)
(cherry picked from commit 710116f4beadb1553c9ad7991ea69b0e286657d6)
(cherry picked from commit 291c02a7d51585551266fe5b7e7afd9726317671)
(cherry picked from commit dc2d308118a126e087431d5c7810e1f958cbe895)
(cherry picked from commit 1d91e71e74b57b0f2f108faeb522244a03540485)
(cherry picked from commit c0f06628eb883aa6d213cc9b57ffb8f5b3a64372)
(cherry picked from commit 882f0a038ea6b2f4cd75c8d761fe3effebf67cf9)
",['nova/tests/functional/test_servers.py']
openstack%2Fnova~833438,openstack/nova,stable/train,Ia511879d2f5f50a3f63d180258abccf046a7264e,reenable greendns in nova.,ABANDONED,2022-03-11 16:23:47.000000000,2023-09-01 16:52:33.000000000,16,58,"[{'_account_id': 20733, 'name': 'Rajesh Tailor', 'email': 'ratailor@redhat.com', 'username': 'rajesht'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-03-11 19:16:03.000000000', 'date': '2022-03-11 19:16:03.000000000'}, {'rev_nbr': 4, 'author': '2023-01-28 06:41:43.000000000', 'date': '2023-01-28 06:41:43.000000000'}, {'rev_nbr': 4, 'author': '2023-01-30 19:59:20.000000000', 'date': '2023-01-30 19:59:20.000000000'}, {'rev_nbr': 5, 'author': '2023-02-10 13:13:02.000000000', 'date': '2023-02-10 13:13:02.000000000'}, {'rev_nbr': 5, 'author': '2023-02-16 03:27:49.000000000', 'date': '2023-02-16 03:27:49.000000000'}, {'rev_nbr': 5, 'author': '2023-02-17 13:16:32.000000000', 'date': '2023-02-17 13:16:32.000000000'}, {'rev_nbr': 6, 'author': '2023-03-02 04:15:38.000000000', 'date': '2023-03-02 04:15:38.000000000'}]",8,"[{'number': 6, 'created': '2023-03-01 16:33:06.000000000', 'files': ['nova/monkey_patch.py', 'releasenotes/notes/greendns-34df7f9fba952bcd.yaml', 'nova/tests/functional/test_monkey_patch.py'], 'message': 'reenable greendns in nova.\n\nBack in the days of centos 6 and python 2.6 eventlet\ngreendns monkeypatching broke ipv6. As a result nova\nhas run without greendns monkey patching ever since.\nThis removes that old workaround allowing modern\neventlet to use greendns for non blocking dns lookups.\n\nCloses-Bug: #1964149\nChange-Id: Ia511879d2f5f50a3f63d180258abccf046a7264e\n(cherry picked from commit fe1ebe69f358cbed62434da3f1537a94390324bb)\n(cherry picked from commit a913ab1aabb827771e54ef64b579cebe44ad53d1)\n(cherry picked from commit edb8bcb0294fb1488c49ad76f2422378d0c495eb)\n(cherry picked from commit d2fdd6d86ee315e218a0f4f7b9fd83e8ce2845f8)\n(cherry picked from commit 93bd6b8e48b001d05ff8a0a658b57619dedfe98b)\n'}]",833438,74d087c2ab793cef83812cb02c569347d4c6dc60,11604,sean mooney,sean-k-mooney,0,"reenable greendns in nova.

Back in the days of centos 6 and python 2.6 eventlet
greendns monkeypatching broke ipv6. As a result nova
has run without greendns monkey patching ever since.
This removes that old workaround allowing modern
eventlet to use greendns for non blocking dns lookups.

Closes-Bug: #1964149
Change-Id: Ia511879d2f5f50a3f63d180258abccf046a7264e
(cherry picked from commit fe1ebe69f358cbed62434da3f1537a94390324bb)
(cherry picked from commit a913ab1aabb827771e54ef64b579cebe44ad53d1)
(cherry picked from commit edb8bcb0294fb1488c49ad76f2422378d0c495eb)
(cherry picked from commit d2fdd6d86ee315e218a0f4f7b9fd83e8ce2845f8)
(cherry picked from commit 93bd6b8e48b001d05ff8a0a658b57619dedfe98b)
","['nova/monkey_patch.py', 'releasenotes/notes/greendns-34df7f9fba952bcd.yaml', 'nova/tests/functional/test_monkey_patch.py']"
openstack%2Fnova~837323,openstack/nova,stable/train,Ia593b500425c81e54eb401e38264db5cc5fc1f93,libvirt: Abort live-migration job when monitoring fails,ABANDONED,2022-04-11 19:24:39.000000000,2023-09-01 16:52:24.000000000,33,6,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-04-11 19:51:12.000000000', 'date': '2022-04-11 19:51:12.000000000'}, {'rev_nbr': 1, 'author': '2022-05-20 02:55:14.000000000', 'date': '2022-05-20 02:55:14.000000000'}, {'rev_nbr': 1, 'author': '2022-06-13 19:44:14.000000000', 'date': '2022-06-13 19:44:14.000000000'}]",4,"[{'number': 1, 'created': '2022-04-11 19:24:39.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': 'libvirt: Abort live-migration job when monitoring fails\n\nDuring live migration process, a _live_migration_monitor thread\nchecks progress of migration on source host, if for any reason\nwe hit infrastructure issue involving a DB/RPC/libvirt-timeout\nfailure, an Exception is raised to the nova-compute service and\ninstance/migration is set to ERROR state.\n\nThe issue is that we may let live-migration job running out of nova\ncontrol. At the end of job, guest is resumed on target host while\nnova still reports it on source host, this may lead to a split-brain\nsituation if instance is restarted.\n\nThis change proposes to abort live-migration job if issue occurs\nduring _live_migration_monitor.\n\nChange-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93\nCloses-Bug: #1905944\n(cherry picked from commit 39f0af5d18d6bea34fa15b8f7778115b25432749)\n'}]",837323,00c103adaf4ef3887af3d38c2e6f0fe0614dd905,7130,David Hill,dhill,0,"libvirt: Abort live-migration job when monitoring fails

During live migration process, a _live_migration_monitor thread
checks progress of migration on source host, if for any reason
we hit infrastructure issue involving a DB/RPC/libvirt-timeout
failure, an Exception is raised to the nova-compute service and
instance/migration is set to ERROR state.

The issue is that we may let live-migration job running out of nova
control. At the end of job, guest is resumed on target host while
nova still reports it on source host, this may lead to a split-brain
situation if instance is restarted.

This change proposes to abort live-migration job if issue occurs
during _live_migration_monitor.

Change-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93
Closes-Bug: #1905944
(cherry picked from commit 39f0af5d18d6bea34fa15b8f7778115b25432749)
","['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~883933,openstack/nova,stable/train,I73c9ae27e9c42ee211a53bed3d849650b65f08be,Update RequestSpec.pci_request for resize,ABANDONED,2023-05-23 12:13:34.000000000,2023-09-01 16:52:17.000000000,29,24,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2023-06-01 00:12:22.000000000', 'date': '2023-06-01 00:12:22.000000000'}]",1,"[{'number': 2, 'created': '2023-05-23 16:08:00.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/regressions/test_bug_1983753.py', 'nova/compute/api.py'], 'message': 'Update RequestSpec.pci_request for resize\n\nNova uses the RequestSpec.pci_request in the PciPassthroughFilter to\ndecide if the PCI devicesm, requested via the pci_alias in the flavor\nextra_spec, are available on a potential target host. During resize the\nnew flavor might contain different pci_alias request than the old flavor\nof the instance. In this case Nova should use the pci_alias from the new\nflavor to scheduler the destination host of the resize. However this\nlogic was missing and Nova used the old pci_request value based on the\nold flavor. This patch adds the missing logic.\n\nCloses-Bug: #1983753\nCloses-Bug: #1941005\nChange-Id: I73c9ae27e9c42ee211a53bed3d849650b65f08be\n(cherry picked from commit a93092e0d5c1483f9ad48276708ee35c54ce44fe)\n(cherry picked from commit b6c7ee07ad2a6503b8aad0921cca70e61e60259d)\n(cherry picked from commit 696d27a0e2ccf0916fc6bd3eabf73f2b007e7830)\n(cherry picked from commit 35ad4bbaf8b383436d3b972daa58e05a47e36d82)\n(cherry picked from commit c530350360d1f003156ba0c4820047d336bba4d1)\n(cherry picked from commit 4321efe80e25809ef5eb68152b7b3c7bc1dc52fe)\n'}]",883933,00817a82268e1c7ab292f4e90ea2bcb89032c080,9708,Balazs Gibizer,gibi,0,"Update RequestSpec.pci_request for resize

Nova uses the RequestSpec.pci_request in the PciPassthroughFilter to
decide if the PCI devicesm, requested via the pci_alias in the flavor
extra_spec, are available on a potential target host. During resize the
new flavor might contain different pci_alias request than the old flavor
of the instance. In this case Nova should use the pci_alias from the new
flavor to scheduler the destination host of the resize. However this
logic was missing and Nova used the old pci_request value based on the
old flavor. This patch adds the missing logic.

Closes-Bug: #1983753
Closes-Bug: #1941005
Change-Id: I73c9ae27e9c42ee211a53bed3d849650b65f08be
(cherry picked from commit a93092e0d5c1483f9ad48276708ee35c54ce44fe)
(cherry picked from commit b6c7ee07ad2a6503b8aad0921cca70e61e60259d)
(cherry picked from commit 696d27a0e2ccf0916fc6bd3eabf73f2b007e7830)
(cherry picked from commit 35ad4bbaf8b383436d3b972daa58e05a47e36d82)
(cherry picked from commit c530350360d1f003156ba0c4820047d336bba4d1)
(cherry picked from commit 4321efe80e25809ef5eb68152b7b3c7bc1dc52fe)
","['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/regressions/test_bug_1983753.py', 'nova/compute/api.py']"
openstack%2Fnova~883932,openstack/nova,stable/train,Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe,Reproducer for bug 1983753,ABANDONED,2023-05-23 12:13:34.000000000,2023-09-01 16:52:11.000000000,250,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 2, 'created': '2023-05-23 16:08:00.000000000', 'files': ['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/regressions/test_bug_1983753.py'], 'message': 'Reproducer for bug 1983753\n\nThere is stable/train related changes in test_bug_1983753.py due to\nmany test helpers like _create_server, _resize_server, and\n_confirm_resize is missing in stable/train. Also support for py 2.7 is\nadded back as train needs to support it.\n\nRelated-Bug: #1983753\nChange-Id: Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe\n(cherry picked from commit 6d602c6b734c2e360fa319ba22c2fced02ad3d29)\n(cherry picked from commit bdc32226e2d9ce4a073306f8f6267fbe305e64e4)\n(cherry picked from commit 87a8a7df9800f3c81dba2e2c0520168115ad1b28)\n(cherry picked from commit 81741d7ce8031367ca4055227ecd55014d0aced8)\n(cherry picked from commit 7f97c65b8c56facedc0fe69d150c22d7d9218b52)\n(cherry picked from commit 1d021463d18eba72de75c3eb4b30c154ed913f7b)\n'}]",883932,3877ac52eb10f9423e4e81575b882ce762921002,9708,Balazs Gibizer,gibi,0,"Reproducer for bug 1983753

There is stable/train related changes in test_bug_1983753.py due to
many test helpers like _create_server, _resize_server, and
_confirm_resize is missing in stable/train. Also support for py 2.7 is
added back as train needs to support it.

Related-Bug: #1983753
Change-Id: Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe
(cherry picked from commit 6d602c6b734c2e360fa319ba22c2fced02ad3d29)
(cherry picked from commit bdc32226e2d9ce4a073306f8f6267fbe305e64e4)
(cherry picked from commit 87a8a7df9800f3c81dba2e2c0520168115ad1b28)
(cherry picked from commit 81741d7ce8031367ca4055227ecd55014d0aced8)
(cherry picked from commit 7f97c65b8c56facedc0fe69d150c22d7d9218b52)
(cherry picked from commit 1d021463d18eba72de75c3eb4b30c154ed913f7b)
","['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/regressions/test_bug_1983753.py']"
openstack%2Fnova~883934,openstack/nova,stable/train,I16ed1143ead3779c87698aa29bac005678db2993,Add reno for fixing bug 1941005,ABANDONED,2023-05-23 12:13:34.000000000,2023-09-01 16:52:02.000000000,6,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-05-23 16:08:00.000000000', 'files': ['releasenotes/notes/bug-1983753-update-requestspec-pci_request-for-resize-a3c6b0a979db723f.yaml'], 'message': 'Add reno for fixing bug 1941005\n\nRelated-Bug: #1941005\nRelated-Bug: #1983753\nChange-Id: I16ed1143ead3779c87698aa29bac005678db2993\n(cherry picked from commit 82cdfa23c7a0e269ab038e241bb7428b7f1391aa)\n(cherry picked from commit 19bac6e9c362ee692f4be92041bb3f6c3b9b6c23)\n(cherry picked from commit cbf785709968fffc0a760e28f1cdb5c38b254232)\n(cherry picked from commit 63c21cf68502a6c61727d9080e13a3882b9e7c11)\n(cherry picked from commit 82e1524d07389958098b66a726d71b10bbaaf049)\n(cherry picked from commit 4f5e0b3338e130a629bbc2d3d89ed907c610f7a9)\n'}]",883934,21b9a0732e32fa9301679b94f1f0ab467f1a725a,9708,Balazs Gibizer,gibi,0,"Add reno for fixing bug 1941005

Related-Bug: #1941005
Related-Bug: #1983753
Change-Id: I16ed1143ead3779c87698aa29bac005678db2993
(cherry picked from commit 82cdfa23c7a0e269ab038e241bb7428b7f1391aa)
(cherry picked from commit 19bac6e9c362ee692f4be92041bb3f6c3b9b6c23)
(cherry picked from commit cbf785709968fffc0a760e28f1cdb5c38b254232)
(cherry picked from commit 63c21cf68502a6c61727d9080e13a3882b9e7c11)
(cherry picked from commit 82e1524d07389958098b66a726d71b10bbaaf049)
(cherry picked from commit 4f5e0b3338e130a629bbc2d3d89ed907c610f7a9)
",['releasenotes/notes/bug-1983753-update-requestspec-pci_request-for-resize-a3c6b0a979db723f.yaml']
openstack%2Fnova~879706,openstack/nova,stable/train,Ib775c2210349b72b3dc033554ac6d8b35b8d2d79,Don't provide MTU value in metadata service if DHCP is enabled,ABANDONED,2023-04-06 13:53:59.000000000,2023-09-01 16:51:53.000000000,36,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-04-06 17:34:46.000000000', 'date': '2023-04-06 17:34:46.000000000'}, {'rev_nbr': 1, 'author': '2023-04-07 09:42:23.000000000', 'date': '2023-04-07 09:42:23.000000000'}]",1,"[{'number': 1, 'created': '2023-04-06 13:53:59.000000000', 'files': ['releasenotes/notes/Do-not-send-mtu-value-in-metadata-for-networks-with-enabled-dhcp-641506f2a13b540f.yaml', 'nova/tests/unit/virt/test_netutils.py', 'nova/virt/netutils.py'], 'message': 'Don\'t provide MTU value in metadata service if DHCP is enabled\n\nFor networks with subnets with enabled DHCP service don\'t provide\nmtu value in the metadata. That way cloud-init will not configure it\n""statically"" in e.g. netplan\'s config file and guest OS will use MTU\nvalue provided by the DHCP service.\n\n\nCloses-Bug: #1899487\nChange-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79\n(cherry picked from commit 6bdc79af30151f683c0f462bc6c69da30ebcbcf9)\n'}]",879706,468c1d77e39b8755f483a857ee3267915180f2ad,16207,ribaudr,uggla,0,"Don't provide MTU value in metadata service if DHCP is enabled

For networks with subnets with enabled DHCP service don't provide
mtu value in the metadata. That way cloud-init will not configure it
""statically"" in e.g. netplan's config file and guest OS will use MTU
value provided by the DHCP service.


Closes-Bug: #1899487
Change-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79
(cherry picked from commit 6bdc79af30151f683c0f462bc6c69da30ebcbcf9)
","['releasenotes/notes/Do-not-send-mtu-value-in-metadata-for-networks-with-enabled-dhcp-641506f2a13b540f.yaml', 'nova/tests/unit/virt/test_netutils.py', 'nova/virt/netutils.py']"
openstack%2Fnova~866090,openstack/nova,stable/train,I741cb6b29a67da8c60708c6251c441d778ca74d0,Fix the wrong exception used to retry detach API calls,ABANDONED,2022-11-29 23:19:15.000000000,2023-09-01 16:51:32.000000000,31,22,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 20733, 'name': 'Rajesh Tailor', 'email': 'ratailor@redhat.com', 'username': 'rajesht'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,9,"[{'number': 2, 'created': '2022-12-07 01:09:57.000000000', 'files': ['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py'], 'message': 'Fix the wrong exception used to retry detach API calls\n\nWhen cinderclient receives an error response from API, it raises one\nof the exceptions from the cinderclient.exceptions module instead of\nthe cinderclient.apiclient.exceptions module.\n\nThis change fixes the wrong exception used to detect 500 error from\ncinder API, so that API calls to detach volumes are properly retried.\n\nNOTE(melwitt): The difference from the cherry picked change is due to\none unit test failing under python 2.7 with the following error:\n\n      [...]\n\n      File ""/usr/lib/python2.7/copy.py"", line 257, in _deepcopy_dict\n        y[deepcopy(key, memo)] = deepcopy(value, memo)\n      File ""/usr/lib/python2.7/copy.py"", line 190, in deepcopy\n        y = _reconstruct(x, rv, 1, memo)\n      File ""/usr/lib/python2.7/copy.py"", line 329, in _reconstruct\n        y = callable(*args)\n    TypeError: __init__() takes at least 2 arguments (1 given)\n\nThe error was raised in test_detach_internal_server_error from the\nunmocked nova.volume.cinder.API.get() method. Because the error was\nbeing raised from get() and get() is unrelated to the detach() test and\nshould be mocked anyway, this cherry pick was modified to also mock\nnova.volume.cinder.API.get() to avoid the error.\n\nCloses-Bug: #1944043\nChange-Id: I741cb6b29a67da8c60708c6251c441d778ca74d0\n(cherry picked from commit f6206269b71d9bcaf65aa0313c21cc6b75a54fb3)\n(cherry picked from commit 513241a7e4f3f3246c75e66a910db6c864c3981e)\n(cherry picked from commit 7168314dd125fca8d1cecac035477ea0314ab828)\n(cherry picked from commit ba3a6f385512c352374425972791084cb54ab7ee)\n(cherry picked from commit 7c4ee8097c6a194e0968ef45482045d74a82c43f)\n'}]",866090,56ae96c0f999046cfa9c15c5206ff73989d8f313,4690,melanie witt,melwitt,0,"Fix the wrong exception used to retry detach API calls

When cinderclient receives an error response from API, it raises one
of the exceptions from the cinderclient.exceptions module instead of
the cinderclient.apiclient.exceptions module.

This change fixes the wrong exception used to detect 500 error from
cinder API, so that API calls to detach volumes are properly retried.

NOTE(melwitt): The difference from the cherry picked change is due to
one unit test failing under python 2.7 with the following error:

      [...]

      File ""/usr/lib/python2.7/copy.py"", line 257, in _deepcopy_dict
        y[deepcopy(key, memo)] = deepcopy(value, memo)
      File ""/usr/lib/python2.7/copy.py"", line 190, in deepcopy
        y = _reconstruct(x, rv, 1, memo)
      File ""/usr/lib/python2.7/copy.py"", line 329, in _reconstruct
        y = callable(*args)
    TypeError: __init__() takes at least 2 arguments (1 given)

The error was raised in test_detach_internal_server_error from the
unmocked nova.volume.cinder.API.get() method. Because the error was
being raised from get() and get() is unrelated to the detach() test and
should be mocked anyway, this cherry pick was modified to also mock
nova.volume.cinder.API.get() to avoid the error.

Closes-Bug: #1944043
Change-Id: I741cb6b29a67da8c60708c6251c441d778ca74d0
(cherry picked from commit f6206269b71d9bcaf65aa0313c21cc6b75a54fb3)
(cherry picked from commit 513241a7e4f3f3246c75e66a910db6c864c3981e)
(cherry picked from commit 7168314dd125fca8d1cecac035477ea0314ab828)
(cherry picked from commit ba3a6f385512c352374425972791084cb54ab7ee)
(cherry picked from commit 7c4ee8097c6a194e0968ef45482045d74a82c43f)
","['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py']"
openstack%2Fnova~873722,openstack/nova,stable/train,I8ef9db851b37c5249d2efbe09a15a1ddbae8205d,libvirt: At start-up rework compareCPU() usage with a workaround,ABANDONED,2023-02-14 15:25:27.000000000,2023-09-01 16:51:25.000000000,57,37,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 3, 'author': '2023-02-18 02:26:08.000000000', 'date': '2023-02-18 02:26:08.000000000'}]",4,"[{'number': 3, 'created': '2023-02-15 15:39:29.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': ""libvirt: At start-up rework compareCPU() usage with a workaround\n\nIn this patch:\n\n  - Remove the first compareCPU() call (called via the wrapper\n    _compare_cpu()) in _check_cpu_compatibility(), and let libvirt\n    handle it.  (QEMU >=2.9 and libvirt >= 4.4.0 are the mininum\n    required versions, and upstream Nova satisfies them by a good\n    margin.)\n\n  - Validate the user-configured CPU models from\n    _get_cpu_model_mapping().  And take into account all the CPU flags\n    before calling _compare_cpu().\n\n    (Suggested-by: Sean Mooney -- thanks!)\n\n  - Add a workaround to allow skipping the remaining compareCPU() call\n    in _check_cpu_compatibility() as a potential future-proof (because\n    we cannot test all possible CPU models and hardware).  Unlike the\n    removed first call, this call takes into account the extra CPU flags\n    provided by the user into account when evaluating guest CPU model\n    compatibility.\n\nAs a follow up comes the patch[1] that replaces the older libvirt CPU\nAPI with the newer one.\n\nConflicts (Train):\n  - workarounds.py: Small rearrangement; this stable/train backport\n    hasn't merged yet:\n    https://review.opendev.org/c/openstack/nova/+/851226 -- Add a\n    workaround to skip hypervisor version check on LM\n  - libvirt/driver.py: Readjust the 'if' block in that validates CPU\n    model in _check_cpu_compatibility()\n  - libvirt/test_driver.py: Small adjustments; some tests from Wallaby\n    aren't in Train.\n\n[1] https://review.opendev.org/c/openstack/nova/+/869950 -- libvirt:\n    Replace usage of compareCPU() with compareHypervisorCPU()\n\nChange-Id: I8ef9db851b37c5249d2efbe09a15a1ddbae8205d\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n(cherry picked from commit 9caaaf1f221063a4329c72c8b67a6015648644a2)\n(cherry picked from commit 7c7c8442d3b02f7bb296b79574610e6b6036aefa)\n(cherry picked from commit 023244c83043b3cb1b1c2725e80b2955498e7971)\n(cherry picked from commit b6526563d4718a589f9f5645842cdbd69c759cad)\n""}]",873722,541d64d3a3b22e5ec2b47d93fe5da8360e467d55,6962,Kashyap Chamarthy,kashyapc,0,"libvirt: At start-up rework compareCPU() usage with a workaround

In this patch:

  - Remove the first compareCPU() call (called via the wrapper
    _compare_cpu()) in _check_cpu_compatibility(), and let libvirt
    handle it.  (QEMU >=2.9 and libvirt >= 4.4.0 are the mininum
    required versions, and upstream Nova satisfies them by a good
    margin.)

  - Validate the user-configured CPU models from
    _get_cpu_model_mapping().  And take into account all the CPU flags
    before calling _compare_cpu().

    (Suggested-by: Sean Mooney -- thanks!)

  - Add a workaround to allow skipping the remaining compareCPU() call
    in _check_cpu_compatibility() as a potential future-proof (because
    we cannot test all possible CPU models and hardware).  Unlike the
    removed first call, this call takes into account the extra CPU flags
    provided by the user into account when evaluating guest CPU model
    compatibility.

As a follow up comes the patch[1] that replaces the older libvirt CPU
API with the newer one.

Conflicts (Train):
  - workarounds.py: Small rearrangement; this stable/train backport
    hasn't merged yet:
    https://review.opendev.org/c/openstack/nova/+/851226 -- Add a
    workaround to skip hypervisor version check on LM
  - libvirt/driver.py: Readjust the 'if' block in that validates CPU
    model in _check_cpu_compatibility()
  - libvirt/test_driver.py: Small adjustments; some tests from Wallaby
    aren't in Train.

[1] https://review.opendev.org/c/openstack/nova/+/869950 -- libvirt:
    Replace usage of compareCPU() with compareHypervisorCPU()

Change-Id: I8ef9db851b37c5249d2efbe09a15a1ddbae8205d
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
(cherry picked from commit 9caaaf1f221063a4329c72c8b67a6015648644a2)
(cherry picked from commit 7c7c8442d3b02f7bb296b79574610e6b6036aefa)
(cherry picked from commit 023244c83043b3cb1b1c2725e80b2955498e7971)
(cherry picked from commit b6526563d4718a589f9f5645842cdbd69c759cad)
","['nova/virt/libvirt/driver.py', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~851226,openstack/nova,stable/train,Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1,Add a workaround to skip hypervisor version check on LM,ABANDONED,2022-07-27 13:38:25.000000000,2023-09-01 16:51:16.000000000,53,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-07-27 17:07:31.000000000', 'date': '2022-07-27 17:07:31.000000000'}, {'rev_nbr': 1, 'author': '2022-07-28 13:35:16.000000000', 'date': '2022-07-28 13:35:16.000000000'}, {'rev_nbr': 2, 'author': '2023-02-17 04:33:56.000000000', 'date': '2023-02-17 04:33:56.000000000'}]",3,"[{'number': 2, 'created': '2023-02-14 15:25:27.000000000', 'files': ['releasenotes/notes/skip-hypervisor-version-check-on-lm-a87f2dcb4f8bf0f2.yaml', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/workarounds.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'message': ""Add a workaround to skip hypervisor version check on LM\n\nWhen turned on, this will disable the version-checking of hypervisors\nduring live-migration.  This can be useful for operators in certain\nscenarios when upgrading.  E.g. if you want to relocate all instances\noff a compute node due to an emergency hardware issue, and you only have\nanother old compute node ready at the time.\n\nNote, though: libvirt will do its own internal compatibility checks, and\nmight still reject live migration if the destination is incompatible.\n\nConflicts: nova/conf/workarounds.py,\n           nova/tests/unit/conductor/tasks/test_live_migrate.py\n             - Some of the config options are not present in\n               'stable/victoria'; and the modification to\n               test_check_requested_destination()' is not applicable to\n               'stable/train'\n\nCloses-Bug: #1982853\n\nChange-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n(cherry picked from commit 5032cb62e6458282e1282ac64cf7dd49a2497ac1)\n(cherry picked from commit 0e3b4424b7f587e3e274a5ef81ac35cfd14f0c96)\n(cherry picked from commit 21f92d4b576fc2c309713c369041dd434d605cc6)\n(cherry picked from commit d04e925a029f38c3d38f52e40d5bc5d8db41cf9f)\n(cherry picked from commit 6bb930fee89bdaa0023f0f9ded34ef91e1b099a9)\n""}]",851226,a121db00089e13a9b0b41583ad406f4e21dc60db,6962,Kashyap Chamarthy,kashyapc,0,"Add a workaround to skip hypervisor version check on LM

When turned on, this will disable the version-checking of hypervisors
during live-migration.  This can be useful for operators in certain
scenarios when upgrading.  E.g. if you want to relocate all instances
off a compute node due to an emergency hardware issue, and you only have
another old compute node ready at the time.

Note, though: libvirt will do its own internal compatibility checks, and
might still reject live migration if the destination is incompatible.

Conflicts: nova/conf/workarounds.py,
           nova/tests/unit/conductor/tasks/test_live_migrate.py
             - Some of the config options are not present in
               'stable/victoria'; and the modification to
               test_check_requested_destination()' is not applicable to
               'stable/train'

Closes-Bug: #1982853

Change-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
(cherry picked from commit 5032cb62e6458282e1282ac64cf7dd49a2497ac1)
(cherry picked from commit 0e3b4424b7f587e3e274a5ef81ac35cfd14f0c96)
(cherry picked from commit 21f92d4b576fc2c309713c369041dd434d605cc6)
(cherry picked from commit d04e925a029f38c3d38f52e40d5bc5d8db41cf9f)
(cherry picked from commit 6bb930fee89bdaa0023f0f9ded34ef91e1b099a9)
","['releasenotes/notes/skip-hypervisor-version-check-on-lm-a87f2dcb4f8bf0f2.yaml', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/workarounds.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']"
openstack%2Fnova~869674,openstack/nova,stable/train,I1719f8eda04e8d15a3b01f0612977164c4e55e85,Gracefully ERROR in _init_instance if vnic_type changed,ABANDONED,2023-01-10 10:47:12.000000000,2023-09-01 16:51:07.000000000,252,7,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2023-01-26 11:50:19.000000000', 'date': '2023-01-26 11:50:19.000000000'}, {'rev_nbr': 2, 'author': '2023-02-08 02:37:56.000000000', 'date': '2023-02-08 02:37:56.000000000'}]",2,"[{'number': 2, 'created': '2023-01-25 16:59:20.000000000', 'files': ['nova/network/neutronv2/api.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'releasenotes/notes/bug-1981813-vnic-type-change-9f3e16fae885b57f.yaml', 'nova/compute/manager.py'], 'message': 'Gracefully ERROR in _init_instance if vnic_type changed\n\nIf the vnic_type of a bound port changes from ""direct"" to ""macvtap"" and\nthen the compute service is restarted then during _init_instance nova\ntries to plug the vif of the changed port. However as it now has macvtap\nvnic_type nova tries to look up the netdev of the parent VF. Still that\nVF is consumed by the instance so there is no such netdev on the host\nOS. This error killed the compute service at startup due to unhandled\nexception. This patch adds the exception handler, logs an ERROR and\ncontinue initializing other instances on the host.\n\nAlso this patch adds a detailed ERROR log when nova detects that the\nvnic_type changed during _heal_instance_info_cache periodic.\n\nThe stable/train only change is due to neutron module rename between\nussuri and train.\n\nCloses-Bug: #1981813\nChange-Id: I1719f8eda04e8d15a3b01f0612977164c4e55e85\n(cherry picked from commit e43bf900dc8ca66578603bed333c56b215b1876e)\n(cherry picked from commit a28c82719545d5c8ee7f3ff1361b3a796e05095a)\n(cherry picked from commit 1a98a1a650d065a8ab3e1c474f3b9fd537dc2206)\n(cherry picked from commit e5838298e7189f01a1eb99e90a9b4da6e1925c36)\n(cherry picked from commit 88df0d05e6ba4e2a5a4eb1185ad8cde6a9797c89)\n(cherry picked from commit 7dbb2ac7d8d554b1eed10c084532fd735270f0a8)\n'}]",869674,c86883595d7d3cd719c71805661c617c1fd08268,9708,Balazs Gibizer,gibi,0,"Gracefully ERROR in _init_instance if vnic_type changed

If the vnic_type of a bound port changes from ""direct"" to ""macvtap"" and
then the compute service is restarted then during _init_instance nova
tries to plug the vif of the changed port. However as it now has macvtap
vnic_type nova tries to look up the netdev of the parent VF. Still that
VF is consumed by the instance so there is no such netdev on the host
OS. This error killed the compute service at startup due to unhandled
exception. This patch adds the exception handler, logs an ERROR and
continue initializing other instances on the host.

Also this patch adds a detailed ERROR log when nova detects that the
vnic_type changed during _heal_instance_info_cache periodic.

The stable/train only change is due to neutron module rename between
ussuri and train.

Closes-Bug: #1981813
Change-Id: I1719f8eda04e8d15a3b01f0612977164c4e55e85
(cherry picked from commit e43bf900dc8ca66578603bed333c56b215b1876e)
(cherry picked from commit a28c82719545d5c8ee7f3ff1361b3a796e05095a)
(cherry picked from commit 1a98a1a650d065a8ab3e1c474f3b9fd537dc2206)
(cherry picked from commit e5838298e7189f01a1eb99e90a9b4da6e1925c36)
(cherry picked from commit 88df0d05e6ba4e2a5a4eb1185ad8cde6a9797c89)
(cherry picked from commit 7dbb2ac7d8d554b1eed10c084532fd735270f0a8)
","['nova/network/neutronv2/api.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'releasenotes/notes/bug-1981813-vnic-type-change-9f3e16fae885b57f.yaml', 'nova/compute/manager.py']"
openstack%2Fnova~869673,openstack/nova,stable/train,I9367b7ed475917bdb05eb3f209ce1a4e646534e2,Reproduce bug 1981813 in func env,ABANDONED,2023-01-10 10:47:12.000000000,2023-09-01 16:50:58.000000000,105,3,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-01-25 16:59:20.000000000', 'files': ['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/fixtures.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py'], 'message': 'Reproduce bug 1981813 in func env\n\nThere stable/train only changes:\n* removed type annotation to support py27\n* _create_server not exists here so used a different way to create the\n  server\n* needed to define physnet in the whitelist to allow booting with a\n  neutron port\n* manually created the port in the neutron fixture as create_port does\n  not work here\n* extended the port with vif_type and vif_details to allow booting with\n  the port\n\nRelated-Bug: #1981813\nChange-Id: I9367b7ed475917bdb05eb3f209ce1a4e646534e2\n(cherry picked from commit f8c91eb75fc5504a37fc3b4be1d65d33dbc9b511)\n(cherry picked from commit 4954f993680c75fd9d3d507f2dcd00300c9b3d44)\n(cherry picked from commit 0c87681135cfb3ce61d2a0392928c1dbc1fe5fde)\n(cherry picked from commit cb4c2b6c04232901f4c5adae724697fec3aed4e8)\n(cherry picked from commit 231881b214e36f256bfb95d806557e6a0852f5e3)\n(cherry picked from commit fd4870b8dcfbc35117b967b703aac40ddbba3b35)\n'}]",869673,95c7df9df1543e366d221796a08e3b7ff0c0867a,9708,Balazs Gibizer,gibi,0,"Reproduce bug 1981813 in func env

There stable/train only changes:
* removed type annotation to support py27
* _create_server not exists here so used a different way to create the
  server
* needed to define physnet in the whitelist to allow booting with a
  neutron port
* manually created the port in the neutron fixture as create_port does
  not work here
* extended the port with vif_type and vif_details to allow booting with
  the port

Related-Bug: #1981813
Change-Id: I9367b7ed475917bdb05eb3f209ce1a4e646534e2
(cherry picked from commit f8c91eb75fc5504a37fc3b4be1d65d33dbc9b511)
(cherry picked from commit 4954f993680c75fd9d3d507f2dcd00300c9b3d44)
(cherry picked from commit 0c87681135cfb3ce61d2a0392928c1dbc1fe5fde)
(cherry picked from commit cb4c2b6c04232901f4c5adae724697fec3aed4e8)
(cherry picked from commit 231881b214e36f256bfb95d806557e6a0852f5e3)
(cherry picked from commit fd4870b8dcfbc35117b967b703aac40ddbba3b35)
","['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/fixtures.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py']"
openstack%2Fnova~839355,openstack/nova,stable/train,Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,[rt] Apply migration context for incoming migrations,ABANDONED,2022-04-26 10:30:28.000000000,2023-09-01 16:50:19.000000000,43,25,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-04-26 12:14:17.000000000', 'date': '2022-04-26 12:14:17.000000000'}, {'rev_nbr': 1, 'author': '2022-05-31 15:29:33.000000000', 'date': '2022-05-31 15:29:33.000000000'}, {'rev_nbr': 2, 'author': '2022-06-01 11:17:59.000000000', 'date': '2022-06-01 11:17:59.000000000'}, {'rev_nbr': 2, 'author': '2022-10-12 16:21:20.000000000', 'date': '2022-10-12 16:21:20.000000000'}]",10,"[{'number': 2, 'created': '2022-06-01 09:22:53.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/resource_tracker.py'], 'message': '[rt] Apply migration context for incoming migrations\n\nThere is a race condition between an incoming resize and an\nupdate_available_resource periodic in the resource tracker. The race\nwindow starts when the resize_instance RPC finishes  and ends when the\nfinish_resize compute RPC finally applies the migration context on the\ninstance.\n\nIn the race window, if the update_available_resource periodic is run on\nthe destination node, then it will see the instance as being tracked on\nthis host as the instance.node is already pointing to the dest. But the\ninstance.numa_topology still points to the source host topology as the\nmigration context is not applied yet. This leads to CPU pinning error if\nthe source topology does not fit to the dest topology. Also it stops the\nperiodic task and leaves the tracker in an inconsistent state. The\ninconsistent state only cleanup up after the periodic is run outside of\nthe race window.\n\nThis patch applies the migration context temporarily to the specific\ninstances during the periodic to keep resource accounting correct.\n\nConflicts: vif_plugging_timeout=0 added for the functional test\nto avoid test timeouts this was added in ussuri by\nI63c1109dcdb9132cdbc41010654c5fdb31a4fe31 that is not in stable/train.\n\nChange-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a\nCloses-Bug: #1953359\nCloses-Bug: #1952915\n(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)\n(cherry picked from commit 1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c)\n(cherry picked from commit 5f2f283a75243d2e2629d3c5f7e5ef4b3994972d)\n(cherry picked from commit d54bd316b331d439a26a7318ca68cab5f6280ab2)\n(cherry picked from commit 1d0b7051da430ed00ae49901a32ec6af46c1a64e)\n'}]",839355,98be985e11a2d5cbbd59faed32b0286b0361cc0d,9708,Balazs Gibizer,gibi,0,"[rt] Apply migration context for incoming migrations

There is a race condition between an incoming resize and an
update_available_resource periodic in the resource tracker. The race
window starts when the resize_instance RPC finishes  and ends when the
finish_resize compute RPC finally applies the migration context on the
instance.

In the race window, if the update_available_resource periodic is run on
the destination node, then it will see the instance as being tracked on
this host as the instance.node is already pointing to the dest. But the
instance.numa_topology still points to the source host topology as the
migration context is not applied yet. This leads to CPU pinning error if
the source topology does not fit to the dest topology. Also it stops the
periodic task and leaves the tracker in an inconsistent state. The
inconsistent state only cleanup up after the periodic is run outside of
the race window.

This patch applies the migration context temporarily to the specific
instances during the periodic to keep resource accounting correct.

Conflicts: vif_plugging_timeout=0 added for the functional test
to avoid test timeouts this was added in ussuri by
I63c1109dcdb9132cdbc41010654c5fdb31a4fe31 that is not in stable/train.

Change-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a
Closes-Bug: #1953359
Closes-Bug: #1952915
(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)
(cherry picked from commit 1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c)
(cherry picked from commit 5f2f283a75243d2e2629d3c5f7e5ef4b3994972d)
(cherry picked from commit d54bd316b331d439a26a7318ca68cab5f6280ab2)
(cherry picked from commit 1d0b7051da430ed00ae49901a32ec6af46c1a64e)
","['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/resource_tracker.py']"
openstack%2Fnova~839354,openstack/nova,stable/train,I57982131768d87e067d1413012b96f1baa68052b,Extend the reproducer for 1953359 and 1952915,ABANDONED,2022-04-26 10:30:28.000000000,2023-09-01 16:50:09.000000000,45,17,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,7,"[{'number': 2, 'created': '2022-06-01 09:22:53.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'message': 'Extend the reproducer for 1953359 and 1952915\n\nThis patch extends the original reproduction\nI4be429c56aaa15ee12f448978c38214e741eae63 to cover\nbug 1952915 as well as they have a common root cause.\n\nChange-Id: I57982131768d87e067d1413012b96f1baa68052b\nRelated-Bug: #1953359\nRelated-Bug: #1952915\n(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)\n(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)\n(cherry picked from commit 94f17be190cce060ba8afcafbade4247b27b86f0)\n(cherry picked from commit 8d4487465b60cd165dc76dea5a9fdb3c4dbf5740)\n(cherry picked from commit 9b8e5cec303a621824366e1794665d6b849fefad)\n'}]",839354,42c6707c1e4c03186964586100f99accec52b71d,9708,Balazs Gibizer,gibi,0,"Extend the reproducer for 1953359 and 1952915

This patch extends the original reproduction
I4be429c56aaa15ee12f448978c38214e741eae63 to cover
bug 1952915 as well as they have a common root cause.

Change-Id: I57982131768d87e067d1413012b96f1baa68052b
Related-Bug: #1953359
Related-Bug: #1952915
(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)
(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)
(cherry picked from commit 94f17be190cce060ba8afcafbade4247b27b86f0)
(cherry picked from commit 8d4487465b60cd165dc76dea5a9fdb3c4dbf5740)
(cherry picked from commit 9b8e5cec303a621824366e1794665d6b849fefad)
",['nova/tests/functional/libvirt/test_numa_servers.py']
openstack%2Fnova~839353,openstack/nova,stable/train,I4be429c56aaa15ee12f448978c38214e741eae63,Reproduce bug 1953359,ABANDONED,2022-04-26 10:30:28.000000000,2023-09-01 16:50:00.000000000,99,1,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,6,"[{'number': 1, 'created': '2022-04-26 10:30:28.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/test_servers.py'], 'message': ""Reproduce bug 1953359\n\nThis patch adds a functional test that reproduces a race between\nincoming migration and the update_available_resource periodic\n\nConflicts: The '_create_server' helper\ndon't exist here, so we need to use direct api calls instead.\n\n[1] Later change that bumps API version on parent classes\nhttps://review.opendev.org/c/openstack/nova/+/741282\n\nCo-Authored-By: Gabriel Silva Trevisan <gabriel.silvatrevisan@windriver.com>\n\nChange-Id: I4be429c56aaa15ee12f448978c38214e741eae63\nRelated-Bug: #1953359\n(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)\n(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)\n(cherry picked from commit d8859e4f95f5abb20c844d914f2716cba047630e)\n(cherry picked from commit e549fec76fd2015e6e21ee5138bf06142a71e71a)\n(cherry picked from commit c92e7821e3b97c8469fc2a68621428549d36d755)\n""}]",839353,9b58ea81aa6145140c55841eccc50588ced9aaa1,9708,Balazs Gibizer,gibi,0,"Reproduce bug 1953359

This patch adds a functional test that reproduces a race between
incoming migration and the update_available_resource periodic

Conflicts: The '_create_server' helper
don't exist here, so we need to use direct api calls instead.

[1] Later change that bumps API version on parent classes
https://review.opendev.org/c/openstack/nova/+/741282

Co-Authored-By: Gabriel Silva Trevisan <gabriel.silvatrevisan@windriver.com>

Change-Id: I4be429c56aaa15ee12f448978c38214e741eae63
Related-Bug: #1953359
(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)
(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)
(cherry picked from commit d8859e4f95f5abb20c844d914f2716cba047630e)
(cherry picked from commit e549fec76fd2015e6e21ee5138bf06142a71e71a)
(cherry picked from commit c92e7821e3b97c8469fc2a68621428549d36d755)
","['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/test_servers.py']"
openstack%2Fneutron~893097,openstack/neutron,master,Ia261b4c62db9a99ef6eb161acb4609520e45d101,[Fullstack] Use new DB for each running test,MERGED,2023-08-29 17:54:56.000000000,2023-09-01 16:49:59.000000000,17,13,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 13861, 'name': 'yatin', 'email': 'ykarel@redhat.com', 'username': 'yatinkarel'}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,3,"[{'number': 2, 'created': '2023-08-30 10:18:06.000000000', 'files': ['neutron/tests/fullstack/base.py', 'neutron/tests/unit/testlib_api.py', 'zuul.d/base.yaml', 'neutron/tests/fullstack/test_securitygroup.py'], 'message': ""[Fullstack] Use new DB for each running test\n\nUntil now neutron fullstack tests which were run by the same worker were\nusing same DB but after test content of the DB was cleaned.\nThis could cause problems e.g. for default security group rules which\nweren't created properly in second test run by the same worker.\n\nTo fix that issue patch [1] was proposed and merged some time ago. But\nthis didn't solve the problem so this patch is effectively reverting [1]\nand proposing another solution which will make each fullstack test to\nuse own DB and run db migration script.\n\nAs running DB migration before every test makes this jobs to run a bit\nlonger than it took before, this patch also increases timeout for the\nfullstack job(s) to 3h (10800 seconds).\n\n[1] https://review.opendev.org/c/openstack/neutron/+/891040\n\nRelated-bug: #1983053\nChange-Id: Ia261b4c62db9a99ef6eb161acb4609520e45d101\n""}]",893097,78bc33d300dc268d193fd2a895ed26079d441c3d,11975,Slawek Kaplonski,slaweq,0,"[Fullstack] Use new DB for each running test

Until now neutron fullstack tests which were run by the same worker were
using same DB but after test content of the DB was cleaned.
This could cause problems e.g. for default security group rules which
weren't created properly in second test run by the same worker.

To fix that issue patch [1] was proposed and merged some time ago. But
this didn't solve the problem so this patch is effectively reverting [1]
and proposing another solution which will make each fullstack test to
use own DB and run db migration script.

As running DB migration before every test makes this jobs to run a bit
longer than it took before, this patch also increases timeout for the
fullstack job(s) to 3h (10800 seconds).

[1] https://review.opendev.org/c/openstack/neutron/+/891040

Related-bug: #1983053
Change-Id: Ia261b4c62db9a99ef6eb161acb4609520e45d101
","['neutron/tests/fullstack/base.py', 'neutron/tests/unit/testlib_api.py', 'zuul.d/base.yaml', 'neutron/tests/fullstack/test_securitygroup.py']"
openstack%2Fnova~865302,openstack/nova,stable/train,I83621804da9f70832c8662ba6d2f1122e94ad37b,DNM: test nova-multi-cell job,ABANDONED,2022-11-22 15:46:48.000000000,2023-09-01 16:49:48.000000000,1,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2022-11-22 15:46:48.000000000', 'files': ['nova/utils.py'], 'message': 'DNM: test nova-multi-cell job\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/865300\nChange-Id: I83621804da9f70832c8662ba6d2f1122e94ad37b\n'}]",865302,c3ac06804aab99f73c8527520d6041b3ec74546e,17685,Elod Illes,elod.illes,0,"DNM: test nova-multi-cell job

Depends-On: https://review.opendev.org/c/openstack/tempest/+/865300
Change-Id: I83621804da9f70832c8662ba6d2f1122e94ad37b
",['nova/utils.py']
openstack%2Fnova~864692,openstack/nova,stable/train,I7412b16be310632da59a6139df9f0913281b5d77,Cleanup old resize instances dir before resize,ABANDONED,2022-11-16 13:51:12.000000000,2023-09-01 16:49:37.000000000,25,9,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2022-11-16 13:51:12.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1960230-cleanup-instances-dir-resize-56282e1b436a4908.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': 'Cleanup old resize instances dir before resize\n\nIf there is a failed resize that also failed the cleanup\nprocess performed by _cleanup_remote_migration() the retry\nof the resize will fail because it cannot rename the current\ninstances directory to _resize.\n\nThis renames the _cleanup_failed_migration() that does the\nsame logic we want to _cleanup_failed_instance_base() and\nuses it for both migration and resize cleanup of directory.\n\nIt then simply calls _cleanup_failed_instances_base() with\nthe resize dir path before trying a resize.\n\nCloses-Bug: 1960230\nChange-Id: I7412b16be310632da59a6139df9f0913281b5d77\n(cherry picked from commit 9111b99f739d41c092db8d01712a5aa72388b5fb)\n(cherry picked from commit 31179f62f1c832e0e894d04e9c9dd59978577cc0)\n(cherry picked from commit 88954da0c5670d6c8469b4b91cca1929a5a2a147)\n(cherry picked from commit 3d2219111126873c5797da60088ee924b69acae1)\n'}]",864692,3b92ac85e3a38d37caa8ba0d9d525f58556b6e7d,19234,Alexey Stupnikov,astupnikov,0,"Cleanup old resize instances dir before resize

If there is a failed resize that also failed the cleanup
process performed by _cleanup_remote_migration() the retry
of the resize will fail because it cannot rename the current
instances directory to _resize.

This renames the _cleanup_failed_migration() that does the
same logic we want to _cleanup_failed_instance_base() and
uses it for both migration and resize cleanup of directory.

It then simply calls _cleanup_failed_instances_base() with
the resize dir path before trying a resize.

Closes-Bug: 1960230
Change-Id: I7412b16be310632da59a6139df9f0913281b5d77
(cherry picked from commit 9111b99f739d41c092db8d01712a5aa72388b5fb)
(cherry picked from commit 31179f62f1c832e0e894d04e9c9dd59978577cc0)
(cherry picked from commit 88954da0c5670d6c8469b4b91cca1929a5a2a147)
(cherry picked from commit 3d2219111126873c5797da60088ee924b69acae1)
","['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1960230-cleanup-instances-dir-resize-56282e1b436a4908.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~825177,openstack/nova,stable/train,I7a6a6fe5f5b23e76948b59a85ca9be075a1c2d6d,libvirt: Add announce-self post live-migration workaround,ABANDONED,2022-01-18 21:37:19.000000000,2023-09-01 16:49:29.000000000,52,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2022-01-19 00:03:25.000000000', 'date': '2022-01-19 00:03:25.000000000'}, {'rev_nbr': 4, 'author': '2022-03-04 18:36:24.000000000', 'date': '2022-03-04 18:36:24.000000000'}]",0,"[{'number': 4, 'created': '2022-03-04 16:31:59.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/announce-self-post-live-migration-936721b1ab887514.yaml', 'nova/conf/workarounds.py', 'nova/virt/libvirt/guest.py'], 'message': 'libvirt: Add announce-self post live-migration workaround\n\nNOTE(melwitt): This is the combination of two commits, the workaround\nconfig option and a followup change to add a note that enabling the\nworkaround will cause the guest domain to be considered tainted by\nlibvirt.\n\nThis patch adds a workaround that can be enabled\nto send an announce_self QEMU monitor command\npost live-migration to send out RARP frames\nthat was lost due to port binding or flows not\nbeing installed.\n\nPlease note that this makes marks the domain\nin libvirt as tainted.\n\nSee previous information about this issue in\nthe [1] bug.\n\n[1] https://bugs.launchpad.net/nova/+bug/1815989\n\nRelated-Bug: 1815989\n\nUpdate announce self workaround opt description\n\nThis updates the announce self workaround config opt\ndescription to include info about instance being set\nas tainted by libvirt.\n\nChange-Id: I8140c8fe592dd54fc09a9510723892806db49a56\n(cherry picked from commit 2aa1ed5810b67b9a8f18b2ec5e21004f93831168)\n\nConflicts:\n    nova/conf/workarounds.py\n\nChange-Id: I7a6a6fe5f5b23e76948b59a85ca9be075a1c2d6d\n(cherry picked from commit d44e24efe28e825fbfd2c75a032bf2d10109a439)\n(cherry picked from commit a8981422afdd09f8cfea053e592c15e771fbe969)\n(cherry picked from commit c578b5d094a37719aa8e22e52fdd0c3a525011e0)\n(cherry picked from commit 410cfb07bd08efac6d2073141211c3195808e87a)\n(cherry picked from commit 30592556d30a7e8beccb55f292e44c5a35f7dbb8)\n'}]",825177,373ee810d7bd20f3bc72220fcdb8c8b3ad5e87af,11604,sean mooney,sean-k-mooney,0,"libvirt: Add announce-self post live-migration workaround

NOTE(melwitt): This is the combination of two commits, the workaround
config option and a followup change to add a note that enabling the
workaround will cause the guest domain to be considered tainted by
libvirt.

This patch adds a workaround that can be enabled
to send an announce_self QEMU monitor command
post live-migration to send out RARP frames
that was lost due to port binding or flows not
being installed.

Please note that this makes marks the domain
in libvirt as tainted.

See previous information about this issue in
the [1] bug.

[1] https://bugs.launchpad.net/nova/+bug/1815989

Related-Bug: 1815989

Update announce self workaround opt description

This updates the announce self workaround config opt
description to include info about instance being set
as tainted by libvirt.

Change-Id: I8140c8fe592dd54fc09a9510723892806db49a56
(cherry picked from commit 2aa1ed5810b67b9a8f18b2ec5e21004f93831168)

Conflicts:
    nova/conf/workarounds.py

Change-Id: I7a6a6fe5f5b23e76948b59a85ca9be075a1c2d6d
(cherry picked from commit d44e24efe28e825fbfd2c75a032bf2d10109a439)
(cherry picked from commit a8981422afdd09f8cfea053e592c15e771fbe969)
(cherry picked from commit c578b5d094a37719aa8e22e52fdd0c3a525011e0)
(cherry picked from commit 410cfb07bd08efac6d2073141211c3195808e87a)
(cherry picked from commit 30592556d30a7e8beccb55f292e44c5a35f7dbb8)
","['nova/virt/libvirt/driver.py', 'releasenotes/notes/announce-self-post-live-migration-936721b1ab887514.yaml', 'nova/conf/workarounds.py', 'nova/virt/libvirt/guest.py']"
openstack%2Fnova~885355,openstack/nova,stable/train,I2ba035c09ace20e9835d9d12a5c5bee17d616718,Fix failed count for anti-affinity check,ABANDONED,2023-06-06 10:19:14.000000000,2023-09-01 16:48:33.000000000,252,13,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34951, 'name': 'Yusuke Okada', 'email': 'okada.yusuke@fujitsu.com', 'username': 'yusokada'}]",,3,"[{'number': 1, 'created': '2023-06-06 10:19:14.000000000', 'files': ['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py'], 'message': 'Fix failed count for anti-affinity check\n\nThe late anti-affinity check runs in the compute manager to avoid\nparallel scheduling requests to invalidate the anti-affinity server\ngroup policy. When the check fails the instance is re-scheduled.\nHowever this failure counted as a real instance boot failure of the\ncompute host and can lead to de-prioritization of the compute host\nin the scheduler via BuildFailureWeigher. As the late anti-affinity\ncheck does not indicate any fault of the compute host itself it\nshould not be counted towards the build failure counter.\nThis patch adds new build results to handle this case.\n\nConflicts:\n  nova/tests/unit/compute/test_compute_mgr.py dropped accel_uuid for\n  function signatures\n\nCloses-Bug: #1996732\nChange-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718\nSigned-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>\n(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)\n(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)\n(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)\n(cherry picked from commit cd0403dd3b1099bd13da503500a50249db8e49ea)\n(cherry picked from commit 87488180e5633db5ef8d684684a4355de48ef428)\n(cherry picked from commit e48fb15aaa462813fe9334a83bc76b43eb465fbd)\n(cherry picked from commit 3853ccc5fdf2abaabe9a5810af3343f5c86790e6)\n(cherry picked from commit 97ec3b54302b8d8d45ee0248187f9e79f7f2f80b)\n'}]",885355,3bc08ed29646ddfa71443978a1ae670e33a5c718,9708,Balazs Gibizer,gibi,0,"Fix failed count for anti-affinity check

The late anti-affinity check runs in the compute manager to avoid
parallel scheduling requests to invalidate the anti-affinity server
group policy. When the check fails the instance is re-scheduled.
However this failure counted as a real instance boot failure of the
compute host and can lead to de-prioritization of the compute host
in the scheduler via BuildFailureWeigher. As the late anti-affinity
check does not indicate any fault of the compute host itself it
should not be counted towards the build failure counter.
This patch adds new build results to handle this case.

Conflicts:
  nova/tests/unit/compute/test_compute_mgr.py dropped accel_uuid for
  function signatures

Closes-Bug: #1996732
Change-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718
Signed-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>
(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)
(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)
(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)
(cherry picked from commit cd0403dd3b1099bd13da503500a50249db8e49ea)
(cherry picked from commit 87488180e5633db5ef8d684684a4355de48ef428)
(cherry picked from commit e48fb15aaa462813fe9334a83bc76b43eb465fbd)
(cherry picked from commit 3853ccc5fdf2abaabe9a5810af3343f5c86790e6)
(cherry picked from commit 97ec3b54302b8d8d45ee0248187f9e79f7f2f80b)
","['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py']"
