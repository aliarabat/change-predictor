id,project,branch,change_id,subject,status,created,updated,insertions,deletions,reviewers,messages,total_comment_count,revisions,number,current_revision,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,changed_files
openstack%2Fneutron~909142,openstack/neutron,master,I5b78242c54564361492f58d30f4c546f46f53163,Fix import-outside-toplevel warnings,MERGED,2024-02-15 22:01:15.000000000,2024-03-06 12:27:12.000000000,2,1,"[{'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 9656, 'name': 'Ihar Hrachyshka', 'email': 'ihrachys@redhat.com', 'username': 'ihrachys', 'status': 'Red Hat Networking Systems Engineer'}, {'_account_id': 9845, 'name': 'Arista CI', 'email': 'arista-openstack-test@aristanetworks.com', 'username': 'arista-test', 'tags': ['SERVICE_USER']}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-02-15 22:01:15.000000000', 'files': ['neutron/tests/functional/agent/linux/bin/ipt_binname.py', 'neutron/tests/functional/db/test_models.py'], 'message': 'Fix import-outside-toplevel warnings\n\nMoved one import to the correct location, added a pylint\ndisable directive for another since it is intended.\nNo functional change.\n\nTrivialFix\n\nChange-Id: I5b78242c54564361492f58d30f4c546f46f53163\n'}]",909142,4d6a60b40edc33c08a12f9acca72673632fac498,1131,Brian Haley,brian-haley,0,"Fix import-outside-toplevel warnings

Moved one import to the correct location, added a pylint
disable directive for another since it is intended.
No functional change.

TrivialFix

Change-Id: I5b78242c54564361492f58d30f4c546f46f53163
","['neutron/tests/functional/agent/linux/bin/ipt_binname.py', 'neutron/tests/functional/db/test_models.py']"
openstack%2Fkayobe~911075,openstack/kayobe,stable/2023.1,I028e137dade594f51450e47ba4a97c0435ba6796,Remove default value from sample configuration,MERGED,2024-03-06 07:58:12.000000000,2024-03-06 12:26:45.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28048, 'name': 'Will Szumski', 'email': 'will@stackhpc.com', 'username': 'jovial'}]",,0,"[{'number': 1, 'created': '2024-03-06 07:58:12.000000000', 'files': ['etc/kayobe/compute.yml'], 'message': 'Remove default value from sample configuration\n\nThis was added in change I8129b2a6793ea36bb296ef8337a5461f73d6e557.\n\nChange-Id: I028e137dade594f51450e47ba4a97c0435ba6796\n(cherry picked from commit e460099e1a3e2cc2899942d4fd48b72d8ed5616f)\n'}]",911075,2f4414f8a4fe5184b6d1e09595993e8bfaeebae7,15197,Pierre Riteau,priteau,0,"Remove default value from sample configuration

This was added in change I8129b2a6793ea36bb296ef8337a5461f73d6e557.

Change-Id: I028e137dade594f51450e47ba4a97c0435ba6796
(cherry picked from commit e460099e1a3e2cc2899942d4fd48b72d8ed5616f)
",['etc/kayobe/compute.yml']
openstack%2Fkayobe~911074,openstack/kayobe,stable/2023.2,I028e137dade594f51450e47ba4a97c0435ba6796,Remove default value from sample configuration,MERGED,2024-03-06 07:57:49.000000000,2024-03-06 12:26:45.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28048, 'name': 'Will Szumski', 'email': 'will@stackhpc.com', 'username': 'jovial'}]",,0,"[{'number': 1, 'created': '2024-03-06 07:57:49.000000000', 'files': ['etc/kayobe/compute.yml'], 'message': 'Remove default value from sample configuration\n\nThis was added in change I8129b2a6793ea36bb296ef8337a5461f73d6e557.\n\nChange-Id: I028e137dade594f51450e47ba4a97c0435ba6796\n(cherry picked from commit e460099e1a3e2cc2899942d4fd48b72d8ed5616f)\n'}]",911074,18644a564e01a32166c183731bdea0408181feef,15197,Pierre Riteau,priteau,0,"Remove default value from sample configuration

This was added in change I8129b2a6793ea36bb296ef8337a5461f73d6e557.

Change-Id: I028e137dade594f51450e47ba4a97c0435ba6796
(cherry picked from commit e460099e1a3e2cc2899942d4fd48b72d8ed5616f)
",['etc/kayobe/compute.yml']
openstack%2Fneutron~909144,openstack/neutron,master,I515f5204934540f75439e10294c962e93d75f018,Fix pointless-string-statement warnings,MERGED,2024-02-15 22:06:12.000000000,2024-03-06 12:25:26.000000000,4,5,"[{'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 9656, 'name': 'Ihar Hrachyshka', 'email': 'ihrachys@redhat.com', 'username': 'ihrachys', 'status': 'Red Hat Networking Systems Engineer'}, {'_account_id': 9845, 'name': 'Arista CI', 'email': 'arista-openstack-test@aristanetworks.com', 'username': 'arista-test', 'tags': ['SERVICE_USER']}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-02-15 22:06:12.000000000', 'files': ['neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py'], 'message': 'Fix pointless-string-statement warnings\n\nNo functional change.\n\nTrivialFix\n\nChange-Id: I515f5204934540f75439e10294c962e93d75f018\n'}]",909144,2db6d45490266bdaa330e9158499d75b20566487,1131,Brian Haley,brian-haley,0,"Fix pointless-string-statement warnings

No functional change.

TrivialFix

Change-Id: I515f5204934540f75439e10294c962e93d75f018
","['neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py']"
openstack%2Fneutron~909143,openstack/neutron,master,Ib91976ac43f384be93aae04155ac53920a90f33b,Fix misplaced-bare-raise warning,MERGED,2024-02-15 22:03:33.000000000,2024-03-06 12:25:18.000000000,1,1,"[{'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 9656, 'name': 'Ihar Hrachyshka', 'email': 'ihrachys@redhat.com', 'username': 'ihrachys', 'status': 'Red Hat Networking Systems Engineer'}, {'_account_id': 9845, 'name': 'Arista CI', 'email': 'arista-openstack-test@aristanetworks.com', 'username': 'arista-test', 'tags': ['SERVICE_USER']}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-02-15 22:03:33.000000000', 'files': ['neutron/tests/base.py'], 'message': 'Fix misplaced-bare-raise warning\n\nJust re-raise the exception that triggered the SystemExit.\nNo functional change.\n\nTrivialFix\n\nChange-Id: Ib91976ac43f384be93aae04155ac53920a90f33b\n'}]",909143,1e7baf2110b084317a5a2b84d03943df4bb9f8b4,1131,Brian Haley,brian-haley,0,"Fix misplaced-bare-raise warning

Just re-raise the exception that triggered the SystemExit.
No functional change.

TrivialFix

Change-Id: Ib91976ac43f384be93aae04155ac53920a90f33b
",['neutron/tests/base.py']
openstack%2Fcharm-octavia~905803,openstack/charm-octavia,stable/ussuri,Idc16b84dc3dcdf001c73c7d2fdd57b1d08ebfb23,Stable build fixes,MERGED,2024-01-17 01:49:55.000000000,2024-03-06 12:22:39.000000000,6,5,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 6737, 'name': 'Edward Hope-Morley', 'email': 'edward.hope-morley@canonical.com', 'username': 'hopem'}, {'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2024-01-17 02:55:47.000000000', 'files': ['requirements.txt', 'src/tests/bundles/bionic-train-ha-ovn.yaml', 'bindep.txt', 'src/tests/bundles/bionic-train-ha.yaml', 'tox.ini'], 'message': ""Stable build fixes\n\nSwitch to using the latest charm-tools <3.0.0 to fix three build errors:\n- An error related to 'pytz' fixed in charm-tools 2.8.6:\n  https://github.com/juju/charm-tools/pull/654\n- An error related to ruamel.yaml fixed in charm-tools 2.8.8:\n  here: https://github.com/juju/charm-tools/issues/668\n- An error related to macaroonbakery fixed in charm-tools 2.8.9:\n  https://github.com/juju/charm-tools/pull/671\n\nAdditionally merge bindep.txt to install libpq-dev required for\npsycopg2-binary as wheels no longer exist for py36.\n\nAdditional fix for ussuri only:\n- Switch bionic test bundles from vault 1.7/edge to 1.6/edge as the 1.7\n  channel no longer supports bionic.\n\nChange-Id: Idc16b84dc3dcdf001c73c7d2fdd57b1d08ebfb23\n""}]",905803,529f6e029efb2fe9543b7deb9bc02547e3642b49,21107,Trent Lloyd,lathiat,0,"Stable build fixes

Switch to using the latest charm-tools <3.0.0 to fix three build errors:
- An error related to 'pytz' fixed in charm-tools 2.8.6:
  https://github.com/juju/charm-tools/pull/654
- An error related to ruamel.yaml fixed in charm-tools 2.8.8:
  here: https://github.com/juju/charm-tools/issues/668
- An error related to macaroonbakery fixed in charm-tools 2.8.9:
  https://github.com/juju/charm-tools/pull/671

Additionally merge bindep.txt to install libpq-dev required for
psycopg2-binary as wheels no longer exist for py36.

Additional fix for ussuri only:
- Switch bionic test bundles from vault 1.7/edge to 1.6/edge as the 1.7
  channel no longer supports bionic.

Change-Id: Idc16b84dc3dcdf001c73c7d2fdd57b1d08ebfb23
","['requirements.txt', 'src/tests/bundles/bionic-train-ha-ovn.yaml', 'bindep.txt', 'src/tests/bundles/bionic-train-ha.yaml', 'tox.ini']"
openstack%2Fneutron~892754,openstack/neutron,stable/wallaby,I748ccfa8b50496dcbcbe41fd22f84249a4d46b11,Add rate-limiting to metadata agents,ABANDONED,2023-08-27 16:20:43.000000000,2024-03-06 12:22:28.000000000,465,61,"[{'_account_id': 4694, 'name': 'Miguel Lavalle', 'email': 'miguel@mlavalle.com', 'username': 'minsel'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,122,"[{'number': 6, 'created': '2023-08-30 05:06:46.000000000', 'files': ['neutron/conf/agent/dhcp.py', 'neutron/agent/metadata/driver.py', 'neutron/agent/l3_agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_driver.py', 'doc/source/admin/config-metadata-rate-limiting.rst', 'neutron/common/metadata.py', 'neutron/agent/ovn/metadata_agent.py', 'neutron/tests/contrib/testing.filters', 'neutron/agent/metadata_agent.py', 'neutron/conf/agent/metadata/config.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'doc/source/admin/config.rst', 'neutron/agent/ovn/metadata/driver.py', 'neutron/tests/functional/agent/l3/test_metadata_proxy.py', 'releasenotes/notes/add-metadata-rate-limiting-bf0c17a31f86ee16.yaml'], 'message': 'Add rate-limiting to metadata agents\n\nRequests handled by the metadata-agents can now be rate-limited by\nsource-ip. This is done to protect the OpenStack control plane against\nVMs querying the metadata endpoint in an overly enthusiastic way.\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nConflicts:\n    neutron/agent/ovn/metadata/driver.py\n    neutron/conf/agent/dhcp.py\n    neutron/tests/unit/agent/metadata/test_driver.py\n    neutron/tests/unit/agent/ovn/metadata/test_driver.py\n\nRelated-Bug: #1989199\nChange-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11\n'}]",892754,b9d6dd3c22f81bd02e627ea6edbec48a30f573d6,4694,Miguel Lavalle,minsel,0,"Add rate-limiting to metadata agents

Requests handled by the metadata-agents can now be rate-limited by
source-ip. This is done to protect the OpenStack control plane against
VMs querying the metadata endpoint in an overly enthusiastic way.

Co-authored-by: Miguel Lavalle <mlavalle@redhat.com>

Conflicts:
    neutron/agent/ovn/metadata/driver.py
    neutron/conf/agent/dhcp.py
    neutron/tests/unit/agent/metadata/test_driver.py
    neutron/tests/unit/agent/ovn/metadata/test_driver.py

Related-Bug: #1989199
Change-Id: I748ccfa8b50496dcbcbe41fd22f84249a4d46b11
","['neutron/conf/agent/dhcp.py', 'neutron/agent/metadata/driver.py', 'neutron/agent/l3_agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_driver.py', 'doc/source/admin/config-metadata-rate-limiting.rst', 'neutron/common/metadata.py', 'neutron/agent/ovn/metadata_agent.py', 'neutron/tests/contrib/testing.filters', 'neutron/agent/metadata_agent.py', 'neutron/conf/agent/metadata/config.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'doc/source/admin/config.rst', 'neutron/agent/ovn/metadata/driver.py', 'neutron/tests/functional/agent/l3/test_metadata_proxy.py', 'releasenotes/notes/add-metadata-rate-limiting-bf0c17a31f86ee16.yaml']"
openstack%2Fneutron~892869,openstack/neutron,stable/wallaby,I3a0fc72da4520d6bc7193fb32a1bcf9a5585fbf4,Code move for metadata haproxy,ABANDONED,2023-08-28 18:24:34.000000000,2024-03-06 12:22:19.000000000,73,63,"[{'_account_id': 4694, 'name': 'Miguel Lavalle', 'email': 'miguel@mlavalle.com', 'username': 'minsel'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 3, 'created': '2023-08-29 17:42:26.000000000', 'files': ['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/agent/ovn/metadata/driver.py', 'neutron/tests/unit/agent/ovn/metadata/test_driver.py', 'neutron/common/metadata.py'], 'message': 'Code move for metadata haproxy\n\nMove common Exception class to one place. Move haproxy same\nconfiguration to one place.\n\nConflicts:\n    neutron/agent/ovn/metadata/driver.py\n\nPartially-Implements: blueprint distributed-metadata-datapath\nChange-Id: I3a0fc72da4520d6bc7193fb32a1bcf9a5585fbf4\n'}]",892869,58fffa24df3589285bcfcf4be4ce4ae4eaace8d8,4694,Miguel Lavalle,minsel,0,"Code move for metadata haproxy

Move common Exception class to one place. Move haproxy same
configuration to one place.

Conflicts:
    neutron/agent/ovn/metadata/driver.py

Partially-Implements: blueprint distributed-metadata-datapath
Change-Id: I3a0fc72da4520d6bc7193fb32a1bcf9a5585fbf4
","['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/agent/ovn/metadata/driver.py', 'neutron/tests/unit/agent/ovn/metadata/test_driver.py', 'neutron/common/metadata.py']"
openstack%2Fneutron~900896,openstack/neutron,stable/wallaby,I8acebf74f75d49c738ff4703cc717926865169eb,"Revert ""[OVN][Trunk] Add port binding info on subport when parent is bound""",ABANDONED,2023-11-14 21:05:25.000000000,2024-03-06 12:22:09.000000000,18,56,"[{'_account_id': 6773, 'name': 'Lucas Alvares Gomes', 'email': 'lucasagomes@gmail.com', 'username': 'lucasagomes'}, {'_account_id': 9656, 'name': 'Ihar Hrachyshka', 'email': 'ihrachys@redhat.com', 'username': 'ihrachys', 'status': 'Red Hat Networking Systems Engineer'}, {'_account_id': 11975, 'name': 'Slawek Kaplonski', 'email': 'skaplons@redhat.com', 'username': 'slaweq'}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 21798, 'name': 'Bernard Cafarelli', 'email': 'bcafarel@redhat.com', 'username': 'bcafarel'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 32586, 'name': 'Elvira García Ruiz', 'display_name': 'Elvira', 'email': 'egarciar@redhat.com', 'username': 'elvira'}, {'_account_id': 34118, 'name': 'Arnau Verdaguer', 'email': 'averdagu@redhat.com', 'username': 'averdaguer'}]",,2,"[{'number': 3, 'created': '2023-11-15 13:15:46.000000000', 'files': ['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py'], 'message': 'Revert ""[OVN][Trunk] Add port binding info on subport when parent is bound""\n\nThis reverts commit a2341136694e379d140f2d68bf7d333b6fb3802f.\n\nReason for revert: the port binding handling done in this patch is\nincorrect and leads to issues during the cold migration process with\ntrunk ports in ML2/OVN.\n\nChange-Id: I8acebf74f75d49c738ff4703cc717926865169eb\n'}]",900896,11545a884d8945bc23ed8a7a4bab9e7477c8ac3f,8655,Jakub Libosvar,jlibosva,0,"Revert ""[OVN][Trunk] Add port binding info on subport when parent is bound""

This reverts commit a2341136694e379d140f2d68bf7d333b6fb3802f.

Reason for revert: the port binding handling done in this patch is
incorrect and leads to issues during the cold migration process with
trunk ports in ML2/OVN.

Change-Id: I8acebf74f75d49c738ff4703cc717926865169eb
","['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py']"
openstack%2Fheat~817894,openstack/heat,stable/wallaby,I6433bd4e7e378fefccedaf96035f847bfb1efc60,Install upper-constraints for testenv,ABANDONED,2021-11-15 04:46:13.000000000,2024-03-06 12:21:38.000000000,1,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-11-15 04:46:13.000000000', 'files': ['tox.ini'], 'message': 'Install upper-constraints for testenv\n\nLatest sqlalchemy causes issues for us. We will\npip install upper-contraints in testenv to work\naround this issue.\n\nChange-Id: I6433bd4e7e378fefccedaf96035f847bfb1efc60\n'}]",817894,124f765f83063430c50c2e214f11ffc95261e484,30073,Brendan Shephard,bshephar,0,"Install upper-constraints for testenv

Latest sqlalchemy causes issues for us. We will
pip install upper-contraints in testenv to work
around this issue.

Change-Id: I6433bd4e7e378fefccedaf96035f847bfb1efc60
",['tox.ini']
openstack%2Fneutron~910208,openstack/neutron,master,I51a95a351cc4322d4a53543f6ee3dcfa141eeadd,Remove unneeded check in dhcp.py,MERGED,2024-02-26 10:52:10.000000000,2024-03-06 12:21:16.000000000,1,2,"[{'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,3,"[{'number': 4, 'created': '2024-03-01 17:36:32.000000000', 'files': ['neutron/agent/linux/dhcp.py'], 'message': 'Remove unneeded check in dhcp.py\n\nWe know what all list items are dicts, so remove isninstance\ncheck in next line of code.\n\nChange-Id: I51a95a351cc4322d4a53543f6ee3dcfa141eeadd\n'}]",910208,af91252646755ffbc14b1521a2ce3c7cf9ec4cdf,14525,Vasyl Saienko,vsaienko,0,"Remove unneeded check in dhcp.py

We know what all list items are dicts, so remove isninstance
check in next line of code.

Change-Id: I51a95a351cc4322d4a53543f6ee3dcfa141eeadd
",['neutron/agent/linux/dhcp.py']
openstack%2Fneutron-vpnaas-dashboard~851596,openstack/neutron-vpnaas-dashboard,stable/victoria,I3ecb6d142a88e8a9b253892c17a1579dc41787c7,Drop lower-constraints (victoria),ABANDONED,2022-07-29 17:21:29.000000000,2024-03-06 12:12:23.000000000,4,156,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2022-07-29 17:21:29.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'message': ""Drop lower-constraints (victoria)\n\nlower-constraints job is broken in stable/victoria.\nlower-constraints are rarely changed in stable branches\nand neutron team already agreed not to keep lower-constraints job\nfor stable branches. Let's follow it in neutron-vpnaas-dashboard.\n\nChange-Id: I3ecb6d142a88e8a9b253892c17a1579dc41787c7\n""}]",851596,2316912f22903eb23d646d1bc6311644f3bbbaf9,841,Akihiro Motoki,amotoki,0,"Drop lower-constraints (victoria)

lower-constraints job is broken in stable/victoria.
lower-constraints are rarely changed in stable branches
and neutron team already agreed not to keep lower-constraints job
for stable branches. Let's follow it in neutron-vpnaas-dashboard.

Change-Id: I3ecb6d142a88e8a9b253892c17a1579dc41787c7
","['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']"
openstack%2Fkolla~910719,openstack/kolla,master,I4ceb1bfcde9f01cf83e48b96f3178696482c881e,Changed the versions and checksums of some packages in the sources.py,ABANDONED,2024-03-01 10:37:11.000000000,2024-03-06 11:50:33.000000000,21,21,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 32553, 'name': 'Sven Kieske', 'email': 'sven_oss@posteo.de', 'username': 'skieske'}]",,2,"[{'number': 1, 'created': '2024-03-01 10:37:11.000000000', 'files': ['kolla/common/sources.py'], 'message': 'Changed the versions and checksums of some packages in the sources.py\n\nChange-Id: I4ceb1bfcde9f01cf83e48b96f3178696482c881e\n'}]",910719,fe16e760f794c7fd06272a9bdf83e363d3a2f1b0,36839,Marius,rhizoet,0,"Changed the versions and checksums of some packages in the sources.py

Change-Id: I4ceb1bfcde9f01cf83e48b96f3178696482c881e
",['kolla/common/sources.py']
openstack%2Freleases~910402,openstack/releases,master,I40169aeccc5c80a6623e8fff81c7f5973e7217b2,[neutron] Transition EM branches to Unmaintained,MERGED,2024-02-27 18:55:34.000000000,2024-03-06 11:43:00.000000000,290,25,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 11975, 'name': 'Slawek Kaplonski', 'email': 'skaplons@redhat.com', 'username': 'slaweq'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 21798, 'name': 'Bernard Cafarelli', 'email': 'bcafarel@redhat.com', 'username': 'bcafarel'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,4,"[{'number': 2, 'created': '2024-03-05 18:48:50.000000000', 'files': ['deliverables/victoria/networking-odl.yaml', 'deliverables/wallaby/ovn-octavia-provider.yaml', 'deliverables/xena/neutron-vpnaas-dashboard.yaml', 'deliverables/victoria/neutron-lib.yaml', 'deliverables/victoria/python-neutronclient.yaml', 'deliverables/xena/python-neutronclient.yaml', 'deliverables/victoria/networking-midonet.yaml', 'deliverables/xena/neutron.yaml', 'deliverables/victoria/networking-sfc.yaml', 'deliverables/victoria/neutron-vpnaas-dashboard.yaml', 'deliverables/wallaby/neutron-vpnaas-dashboard.yaml', 'deliverables/wallaby/python-neutronclient.yaml', 'deliverables/xena/neutron-lib.yaml', 'deliverables/victoria/neutron-dynamic-routing.yaml', 'deliverables/wallaby/ovsdbapp.yaml', 'deliverables/wallaby/neutron.yaml', 'deliverables/xena/networking-odl.yaml', 'deliverables/xena/networking-bgpvpn.yaml', 'deliverables/victoria/neutron.yaml', 'deliverables/victoria/os-ken.yaml', 'deliverables/xena/networking-bagpipe.yaml', 'deliverables/victoria/networking-bgpvpn.yaml', 'deliverables/wallaby/networking-bgpvpn.yaml', 'deliverables/xena/neutron-vpnaas.yaml', 'deliverables/wallaby/neutron-dynamic-routing.yaml', 'deliverables/wallaby/os-ken.yaml', 'deliverables/victoria/ovsdbapp.yaml', 'deliverables/wallaby/networking-odl.yaml', 'deliverables/wallaby/networking-sfc.yaml', 'deliverables/victoria/networking-bagpipe.yaml', 'deliverables/victoria/neutron-vpnaas.yaml', 'deliverables/xena/ovsdbapp.yaml', 'deliverables/wallaby/neutron-lib.yaml', 'deliverables/xena/os-ken.yaml', 'deliverables/wallaby/networking-bagpipe.yaml', 'deliverables/xena/ovn-octavia-provider.yaml', 'deliverables/xena/networking-sfc.yaml', 'deliverables/victoria/ovn-octavia-provider.yaml', 'deliverables/wallaby/neutron-vpnaas.yaml', 'deliverables/xena/neutron-dynamic-routing.yaml'], 'message': '[neutron] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I40169aeccc5c80a6623e8fff81c7f5973e7217b2\n'}]",910402,6d06978d7d92e2796f6996c8bc9a7f116bf69d65,17685,Elod Illes,elod.illes,0,"[neutron] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I40169aeccc5c80a6623e8fff81c7f5973e7217b2
","['deliverables/victoria/networking-odl.yaml', 'deliverables/wallaby/ovn-octavia-provider.yaml', 'deliverables/xena/neutron-vpnaas-dashboard.yaml', 'deliverables/victoria/neutron-lib.yaml', 'deliverables/victoria/python-neutronclient.yaml', 'deliverables/xena/python-neutronclient.yaml', 'deliverables/victoria/networking-midonet.yaml', 'deliverables/xena/neutron.yaml', 'deliverables/victoria/networking-sfc.yaml', 'deliverables/victoria/neutron-vpnaas-dashboard.yaml', 'deliverables/wallaby/neutron-vpnaas-dashboard.yaml', 'deliverables/wallaby/python-neutronclient.yaml', 'deliverables/xena/neutron-lib.yaml', 'deliverables/victoria/neutron-dynamic-routing.yaml', 'deliverables/wallaby/ovsdbapp.yaml', 'deliverables/wallaby/neutron.yaml', 'deliverables/xena/networking-odl.yaml', 'deliverables/xena/networking-bgpvpn.yaml', 'deliverables/victoria/neutron.yaml', 'deliverables/victoria/os-ken.yaml', 'deliverables/xena/networking-bagpipe.yaml', 'deliverables/victoria/networking-bgpvpn.yaml', 'deliverables/wallaby/networking-bgpvpn.yaml', 'deliverables/xena/neutron-vpnaas.yaml', 'deliverables/wallaby/neutron-dynamic-routing.yaml', 'deliverables/wallaby/os-ken.yaml', 'deliverables/victoria/ovsdbapp.yaml', 'deliverables/wallaby/networking-odl.yaml', 'deliverables/wallaby/networking-sfc.yaml', 'deliverables/victoria/networking-bagpipe.yaml', 'deliverables/victoria/neutron-vpnaas.yaml', 'deliverables/xena/ovsdbapp.yaml', 'deliverables/wallaby/neutron-lib.yaml', 'deliverables/xena/os-ken.yaml', 'deliverables/wallaby/networking-bagpipe.yaml', 'deliverables/xena/ovn-octavia-provider.yaml', 'deliverables/xena/networking-sfc.yaml', 'deliverables/victoria/ovn-octavia-provider.yaml', 'deliverables/wallaby/neutron-vpnaas.yaml', 'deliverables/xena/neutron-dynamic-routing.yaml']"
openstack%2Freleases~910430,openstack/releases,master,I2881e4673e63c7bd84da2a1c8c901a60734eb70e,[vitrage] Transition EM branches to Unmaintained,MERGED,2024-02-27 18:59:44.000000000,2024-03-06 11:42:58.000000000,68,7,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 19134, 'name': 'Eyal', 'email': 'eyalb1@gmail.com', 'username': 'eyalb'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28619, 'name': 'Dmitriy Rabotyagov', 'email': 'noonedeadpunk@gmail.com', 'username': 'noonedeadpunk'}]",,1,"[{'number': 2, 'created': '2024-03-06 09:54:42.000000000', 'files': ['deliverables/victoria/vitrage-dashboard.yaml', 'deliverables/victoria/python-vitrageclient.yaml', 'deliverables/victoria/vitrage.yaml', 'deliverables/wallaby/vitrage-dashboard.yaml', 'deliverables/xena/python-vitrageclient.yaml', 'deliverables/wallaby/vitrage.yaml', 'deliverables/xena/vitrage.yaml', 'deliverables/wallaby/python-vitrageclient.yaml', 'deliverables/xena/vitrage-dashboard.yaml'], 'message': '[vitrage] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I2881e4673e63c7bd84da2a1c8c901a60734eb70e\n'}]",910430,8088e63c641a6689552ab4a4c0499f2aaaa91ee0,17685,Elod Illes,elod.illes,0,"[vitrage] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I2881e4673e63c7bd84da2a1c8c901a60734eb70e
","['deliverables/victoria/vitrage-dashboard.yaml', 'deliverables/victoria/python-vitrageclient.yaml', 'deliverables/victoria/vitrage.yaml', 'deliverables/wallaby/vitrage-dashboard.yaml', 'deliverables/xena/python-vitrageclient.yaml', 'deliverables/wallaby/vitrage.yaml', 'deliverables/xena/vitrage.yaml', 'deliverables/wallaby/python-vitrageclient.yaml', 'deliverables/xena/vitrage-dashboard.yaml']"
openstack%2Freleases~910404,openstack/releases,master,I52eaa6dd48144cb84a8cb97116e5e7302a9603a0,[heat] Transition EM branches to Unmaintained,MERGED,2024-02-27 18:55:46.000000000,2024-03-06 11:37:02.000000000,82,5,"[{'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 9816, 'name': 'Takashi Kajinami', 'email': 'kajinamit@oss.nttdata.com', 'username': 'kajinamit'}, {'_account_id': 12404, 'name': 'Rico Lin', 'email': 'ricolin@ricolky.com', 'username': 'rico.lin'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 36201, 'name': 'Shanjiayi', 'email': 'shanjiayi@yovole.com', 'username': 'Shanjiayi'}]",,1,"[{'number': 1, 'created': '2024-02-27 18:55:46.000000000', 'files': ['deliverables/wallaby/heat-dashboard.yaml', 'deliverables/victoria/heat-agents.yaml', 'deliverables/xena/heat-agents.yaml', 'deliverables/victoria/heat-dashboard.yaml', 'deliverables/wallaby/heat.yaml', 'deliverables/victoria/python-heatclient.yaml', 'deliverables/xena/heat-dashboard.yaml', 'deliverables/wallaby/heat-agents.yaml', 'deliverables/wallaby/python-heatclient.yaml', 'deliverables/victoria/heat.yaml', 'deliverables/xena/heat.yaml', 'deliverables/xena/python-heatclient.yaml'], 'message': '[heat] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I52eaa6dd48144cb84a8cb97116e5e7302a9603a0\n'}]",910404,7956fce13af231c35e39ffc276ed34fb2afe58cf,17685,Elod Illes,elod.illes,0,"[heat] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I52eaa6dd48144cb84a8cb97116e5e7302a9603a0
","['deliverables/wallaby/heat-dashboard.yaml', 'deliverables/victoria/heat-agents.yaml', 'deliverables/xena/heat-agents.yaml', 'deliverables/victoria/heat-dashboard.yaml', 'deliverables/wallaby/heat.yaml', 'deliverables/victoria/python-heatclient.yaml', 'deliverables/xena/heat-dashboard.yaml', 'deliverables/wallaby/heat-agents.yaml', 'deliverables/wallaby/python-heatclient.yaml', 'deliverables/victoria/heat.yaml', 'deliverables/xena/heat.yaml', 'deliverables/xena/python-heatclient.yaml']"
openstack%2Fkayobe~911076,openstack/kayobe,stable/zed,I028e137dade594f51450e47ba4a97c0435ba6796,Remove default value from sample configuration,MERGED,2024-03-06 07:59:10.000000000,2024-03-06 11:36:56.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28048, 'name': 'Will Szumski', 'email': 'will@stackhpc.com', 'username': 'jovial'}]",,0,"[{'number': 1, 'created': '2024-03-06 07:59:10.000000000', 'files': ['etc/kayobe/compute.yml'], 'message': 'Remove default value from sample configuration\n\nThis was added in change I8129b2a6793ea36bb296ef8337a5461f73d6e557.\n\nChange-Id: I028e137dade594f51450e47ba4a97c0435ba6796\n(cherry picked from commit e460099e1a3e2cc2899942d4fd48b72d8ed5616f)\n'}]",911076,f113399bdf25b8e7bea475ce061d380837d07a39,15197,Pierre Riteau,priteau,0,"Remove default value from sample configuration

This was added in change I8129b2a6793ea36bb296ef8337a5461f73d6e557.

Change-Id: I028e137dade594f51450e47ba4a97c0435ba6796
(cherry picked from commit e460099e1a3e2cc2899942d4fd48b72d8ed5616f)
",['etc/kayobe/compute.yml']
openstack%2Fcinder~816342,openstack/cinder,stable/xena,Ie925e1886c508d840cd68caa7ebd031f3a89822d,Update rbd warning message,ABANDONED,2021-11-03 02:48:47.000000000,2024-03-06 11:36:48.000000000,2,2,"[{'_account_id': 20813, 'name': 'Sofia Enriquez', 'email': 'lsofia.enriquez@gmail.com', 'username': 'enriquetaso'}, {'_account_id': 34095, 'name': 'Ana Clara Cavalcante', 'display_name': 'Ana Clara', 'email': 'anaclaracavalcante14@gmail.com', 'username': 'claracavalcante'}]","[{'rev_nbr': 1, 'author': '2021-11-03 03:42:34.000000000', 'date': '2021-11-03 03:42:34.000000000'}, {'rev_nbr': 1, 'author': '2021-11-03 03:42:48.000000000', 'date': '2021-11-03 03:42:48.000000000'}, {'rev_nbr': 1, 'author': '2021-11-03 03:49:45.000000000', 'date': '2021-11-03 03:49:45.000000000'}, {'rev_nbr': 1, 'author': '2021-11-03 04:36:21.000000000', 'date': '2021-11-03 04:36:21.000000000'}, {'rev_nbr': 1, 'author': '2021-11-03 05:40:22.000000000', 'date': '2021-11-03 05:40:22.000000000'}, {'rev_nbr': 1, 'author': '2021-11-03 07:00:25.000000000', 'date': '2021-11-03 07:00:25.000000000'}, {'rev_nbr': 1, 'author': '2021-11-03 10:10:42.000000000', 'date': '2021-11-03 10:10:42.000000000'}, {'rev_nbr': 1, 'author': '2022-01-13 12:08:37.000000000', 'date': '2022-01-13 12:08:37.000000000'}]",1,"[{'number': 1, 'created': '2021-11-03 02:48:47.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'message': 'Update rbd warning message\n\nReplace --pool with --dest-pool\n\nCloses-bug: 1934823\nChange-Id: Ie925e1886c508d840cd68caa7ebd031f3a89822d\n(cherry picked from commit b7e294599047188a04f91dda53537b262d2b3f8d)\n'}]",816342,b86e3a255205a453d5deba2644429cb6e784d330,30858,zhen,zhen,0,"Update rbd warning message

Replace --pool with --dest-pool

Closes-bug: 1934823
Change-Id: Ie925e1886c508d840cd68caa7ebd031f3a89822d
(cherry picked from commit b7e294599047188a04f91dda53537b262d2b3f8d)
","['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py']"
openstack%2Fcinder~885920,openstack/cinder,stable/xena,I609a4f056d19f67aa7b8113bb38b9e9083f24124,Fix NetApp NFS driver to never spawn a native thread again,ABANDONED,2023-06-13 12:47:44.000000000,2024-03-06 11:36:36.000000000,51,76,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-06-13 13:08:47.000000000', 'date': '2023-06-13 13:08:47.000000000'}, {'rev_nbr': 1, 'author': '2023-06-13 13:12:03.000000000', 'date': '2023-06-13 13:12:03.000000000'}, {'rev_nbr': 1, 'author': '2023-06-13 13:36:49.000000000', 'date': '2023-06-13 13:36:49.000000000'}, {'rev_nbr': 1, 'author': '2023-06-13 14:02:18.000000000', 'date': '2023-06-13 14:02:18.000000000'}, {'rev_nbr': 1, 'author': '2023-06-13 14:24:37.000000000', 'date': '2023-06-13 14:24:37.000000000'}, {'rev_nbr': 1, 'author': '2023-06-20 07:56:12.000000000', 'date': '2023-06-20 07:56:12.000000000'}]",0,"[{'number': 1, 'created': '2023-06-13 12:47:44.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'releasenotes/notes/bug-2008017-netapp-fix-native-threads-04d8f58f4c29b03d.yaml', 'cinder/volume/drivers/netapp/options.py'], 'message': ""Fix NetApp NFS driver to never spawn a native thread again\n\nThe NetApp NFS driver is spawning a Python native thread to\nschedule image cache cleanups, which can lead to unpredictable\nbehavior such as thread starvation due to its hunger to preempt\nother Cinder's fellow threads.\n\nThis patch fixes it by reimplementing the NFS image cache cleanup\ntask as a green thread with a customized periodic interval.\n\nThe patch adds the configuration\noption ´netapp_nfs_image_cache_cleanup_interval´ to allow\noperators to set an interval in seconds between calls to the image\ncleanup task.\n\nCloses-Bug: #2008017\nChange-Id: I609a4f056d19f67aa7b8113bb38b9e9083f24124\n(cherry picked from commit a869c8e222a68af731eb72e9f8ec5f0755db0326)\n(cherry picked from commit 3dde6b7d99956b4643796025905d1150123f8d3f)\n""}]",885920,f1b5f5a09c317040a0061c885286e2025323c25d,35002,Luiz Felipe Looze dos Santos,luizsantos,0,"Fix NetApp NFS driver to never spawn a native thread again

The NetApp NFS driver is spawning a Python native thread to
schedule image cache cleanups, which can lead to unpredictable
behavior such as thread starvation due to its hunger to preempt
other Cinder's fellow threads.

This patch fixes it by reimplementing the NFS image cache cleanup
task as a green thread with a customized periodic interval.

The patch adds the configuration
option ´netapp_nfs_image_cache_cleanup_interval´ to allow
operators to set an interval in seconds between calls to the image
cleanup task.

Closes-Bug: #2008017
Change-Id: I609a4f056d19f67aa7b8113bb38b9e9083f24124
(cherry picked from commit a869c8e222a68af731eb72e9f8ec5f0755db0326)
(cherry picked from commit 3dde6b7d99956b4643796025905d1150123f8d3f)
","['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'releasenotes/notes/bug-2008017-netapp-fix-native-threads-04d8f58f4c29b03d.yaml', 'cinder/volume/drivers/netapp/options.py']"
openstack%2Fcinder~888348,openstack/cinder,stable/xena,I4b302ffd1d0bef673143cd7db427bb9aac27ba33,Fix Infinidat driver to use TLS/SSL communication,ABANDONED,2023-07-14 11:48:20.000000000,2024-03-06 11:36:28.000000000,72,37,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-07-14 12:27:34.000000000', 'date': '2023-07-14 12:27:34.000000000'}, {'rev_nbr': 1, 'author': '2023-07-14 13:51:59.000000000', 'date': '2023-07-14 13:51:59.000000000'}, {'rev_nbr': 1, 'author': '2023-07-14 13:54:29.000000000', 'date': '2023-07-14 13:54:29.000000000'}, {'rev_nbr': 1, 'author': '2023-07-14 14:11:37.000000000', 'date': '2023-07-14 14:11:37.000000000'}, {'rev_nbr': 1, 'author': '2023-07-14 21:40:21.000000000', 'date': '2023-07-14 21:40:21.000000000'}, {'rev_nbr': 1, 'author': '2023-07-14 23:33:52.000000000', 'date': '2023-07-14 23:33:52.000000000'}, {'rev_nbr': 1, 'author': '2023-07-15 05:52:52.000000000', 'date': '2023-07-15 05:52:52.000000000'}, {'rev_nbr': 1, 'author': '2023-07-16 16:27:25.000000000', 'date': '2023-07-16 16:27:25.000000000'}]",1,"[{'number': 1, 'created': '2023-07-14 11:48:20.000000000', 'files': ['releasenotes/notes/bug-1981982-infinidat-fix-ssl-options-6ddd852c24b16760.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'message': 'Fix Infinidat driver to use TLS/SSL communication\n\nUse `driver_use_ssl` under backend section to enable or disable TLS/SSL\ncommunication between the Cinder volume service and the storage backend.\nAnd `suppress_requests_ssl_warnings` under backend section to suppress\nrequests library SSL certificate warnings.\n\nCloses-bug: #1981982\nChange-Id: I4b302ffd1d0bef673143cd7db427bb9aac27ba33\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit ee67921a724c29a17e74f3112100c356e8c1312a)\n(cherry picked from commit 7dfd62a7c037034ae1b37f3ad5665b635f0e64ba)\n'}]",888348,77a135866b90009ba376b2f7dd80f81a993f09f5,35075,Alexander Deiter,adeiter,0,"Fix Infinidat driver to use TLS/SSL communication

Use `driver_use_ssl` under backend section to enable or disable TLS/SSL
communication between the Cinder volume service and the storage backend.
And `suppress_requests_ssl_warnings` under backend section to suppress
requests library SSL certificate warnings.

Closes-bug: #1981982
Change-Id: I4b302ffd1d0bef673143cd7db427bb9aac27ba33
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit ee67921a724c29a17e74f3112100c356e8c1312a)
(cherry picked from commit 7dfd62a7c037034ae1b37f3ad5665b635f0e64ba)
","['releasenotes/notes/bug-1981982-infinidat-fix-ssl-options-6ddd852c24b16760.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']"
openstack%2Fcinder~882059,openstack/cinder,stable/xena,Ic09d65a0a6ecbb529dc0e4b041650ead449e1273,NetApp Solidfire: Fix retype and name exception on migration,ABANDONED,2023-05-02 21:32:43.000000000,2024-03-06 11:36:20.000000000,88,9,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 30615, 'name': 'Tushar Trambak Gite', 'email': 'tushargite96@gmail.com', 'username': 'tushargite96'}, {'_account_id': 33301, 'name': 'Caique Mello', 'email': 'caiquemellosbo@gmail.com', 'username': 'MelloCaique'}, {'_account_id': 33648, 'name': 'Nahim Alves de Souza', 'email': 'nahimsouza@outlook.com', 'username': 'nahimsouza'}]","[{'rev_nbr': 1, 'author': '2023-05-02 21:50:46.000000000', 'date': '2023-05-02 21:50:46.000000000'}, {'rev_nbr': 1, 'author': '2023-05-02 22:06:38.000000000', 'date': '2023-05-02 22:06:38.000000000'}, {'rev_nbr': 1, 'author': '2023-05-02 22:32:37.000000000', 'date': '2023-05-02 22:32:37.000000000'}, {'rev_nbr': 1, 'author': '2023-05-02 22:33:53.000000000', 'date': '2023-05-02 22:33:53.000000000'}, {'rev_nbr': 1, 'author': '2023-05-02 23:37:30.000000000', 'date': '2023-05-02 23:37:30.000000000'}, {'rev_nbr': 1, 'author': '2023-05-03 06:56:35.000000000', 'date': '2023-05-03 06:56:35.000000000'}, {'rev_nbr': 1, 'author': '2023-05-04 02:56:59.000000000', 'date': '2023-05-04 02:56:59.000000000'}, {'rev_nbr': 1, 'author': '2023-05-10 09:26:46.000000000', 'date': '2023-05-10 09:26:46.000000000'}]",2,"[{'number': 1, 'created': '2023-05-02 21:32:43.000000000', 'files': ['releasenotes/notes/solidfire-fix-retype-and-name-exception-on-migration-2af26f095b7cb345.yaml', 'cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'message': 'NetApp Solidfire: Fix retype and name exception on migration\n\nWhile performing retype or migrate on a volume the name exception\noccurs due to the check on all backends including the origin.\nThe retype status exception occurs because the only accepted state\nis available, but retype changes the status to retyping.\n\nThis change just assures to check the name on the target backend\nand also adds retyping as a valid status for migrate condition.\n\nChange-Id: Ic09d65a0a6ecbb529dc0e4b041650ead449e1273\nCloses-Bug: 1942090\nCloses-Bug: 1932964\n(cherry picked from commit 853f082884a06e318e7d07249c708c56fd5cf0e3)\n'}]",882059,b47675b64d8116702691503ae629cf3a304b7b6a,31721,Felipe Rodrigues,felipefutty,0,"NetApp Solidfire: Fix retype and name exception on migration

While performing retype or migrate on a volume the name exception
occurs due to the check on all backends including the origin.
The retype status exception occurs because the only accepted state
is available, but retype changes the status to retyping.

This change just assures to check the name on the target backend
and also adds retyping as a valid status for migrate condition.

Change-Id: Ic09d65a0a6ecbb529dc0e4b041650ead449e1273
Closes-Bug: 1942090
Closes-Bug: 1932964
(cherry picked from commit 853f082884a06e318e7d07249c708c56fd5cf0e3)
","['releasenotes/notes/solidfire-fix-retype-and-name-exception-on-migration-2af26f095b7cb345.yaml', 'cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']"
openstack%2Fcinder~815780,openstack/cinder,stable/xena,I8676446d2712306a0e59328418a1f979fe1808c0,"test commit, will be abandoned after testing",ABANDONED,2021-10-28 07:06:34.000000000,2024-03-06 11:36:13.000000000,1,0,"[{'_account_id': 597, 'name': 'Pete Zaitcev', 'email': 'zaitcev@kotori.zaitcev.us', 'username': 'zaitcev'}, {'_account_id': 4523, 'name': 'Eric Harney', 'email': 'eharney@redhat.com', 'username': 'eharney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-10-28 07:37:52.000000000', 'date': '2021-10-28 07:37:52.000000000'}, {'rev_nbr': 1, 'author': '2021-10-28 08:19:09.000000000', 'date': '2021-10-28 08:19:09.000000000'}, {'rev_nbr': 1, 'author': '2021-10-28 08:19:55.000000000', 'date': '2021-10-28 08:19:55.000000000'}, {'rev_nbr': 1, 'author': '2021-10-28 09:30:28.000000000', 'date': '2021-10-28 09:30:28.000000000'}, {'rev_nbr': 1, 'author': '2021-10-28 10:11:46.000000000', 'date': '2021-10-28 10:11:46.000000000'}, {'rev_nbr': 1, 'author': '2021-10-28 10:46:55.000000000', 'date': '2021-10-28 10:46:55.000000000'}, {'rev_nbr': 1, 'author': '2021-10-28 11:16:34.000000000', 'date': '2021-10-28 11:16:34.000000000'}, {'rev_nbr': 1, 'author': '2021-10-28 23:16:28.000000000', 'date': '2021-10-28 23:16:28.000000000'}, {'rev_nbr': 1, 'author': '2022-01-13 09:58:02.000000000', 'date': '2022-01-13 09:58:02.000000000'}]",6,"[{'number': 1, 'created': '2021-10-28 07:06:34.000000000', 'files': ['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'message': 'test commit, will be abandoned after testing\n\nChange-Id: I8676446d2712306a0e59328418a1f979fe1808c0\n'}]",815780,2eab1ac3c939bdef0604bb70cdf6976e2fcd318b,32036,katari manoj kumar,katarimanojkumar,0,"test commit, will be abandoned after testing

Change-Id: I8676446d2712306a0e59328418a1f979fe1808c0
",['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']
openstack%2Fcinder~898070,openstack/cinder,stable/xena,If94d460b6cec0bf3d102cd687d74474b46bd176b,PowerMax Driver - Allow for volume uuid in manage volume,ABANDONED,2023-10-12 08:52:46.000000000,2024-03-06 11:36:04.000000000,253,11,"[{'_account_id': 5314, 'name': 'Brian Rosmaita', 'email': 'rosmaita.fossdev@gmail.com', 'username': 'brian-rosmaita'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27615, 'name': 'Rajat Dhasmana', 'email': 'rajatdhasmana@gmail.com', 'username': 'whoami-rajat'}]","[{'rev_nbr': 1, 'author': '2023-10-12 09:28:52.000000000', 'date': '2023-10-12 09:28:52.000000000'}, {'rev_nbr': 1, 'author': '2023-10-12 10:53:54.000000000', 'date': '2023-10-12 10:53:54.000000000'}, {'rev_nbr': 1, 'author': '2023-10-12 11:01:39.000000000', 'date': '2023-10-12 11:01:39.000000000'}, {'rev_nbr': 1, 'author': '2023-10-12 12:39:59.000000000', 'date': '2023-10-12 12:39:59.000000000'}, {'rev_nbr': 1, 'author': '2023-10-12 14:15:19.000000000', 'date': '2023-10-12 14:15:19.000000000'}, {'rev_nbr': 1, 'author': '2023-10-12 16:10:00.000000000', 'date': '2023-10-12 16:10:00.000000000'}]",1,"[{'number': 1, 'created': '2023-10-12 08:52:46.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py'], 'message': 'PowerMax Driver - Allow for volume uuid in manage volume\n\nIn PowerMax, we require a 5 digit hex device id as input for an existing\nvolume to be managed into OpenStack. However, tempest will not be aware\nof this driver specific device id and relies on the uuid of the volume\ninstead.  Adding logic so that tempest will be able to perform manage/\nunmanage suite of tests.\n\nCloses-Bug: #1912751\nChange-Id: If94d460b6cec0bf3d102cd687d74474b46bd176b\n(cherry picked from commit cbc3516b3169e1f24987b7d5a97235179a5cc453)\n'}]",898070,62b6bb477c1923788e78634e5ea08544470a2472,31779,Jean Pierre Roquesalane,happystacker,0,"PowerMax Driver - Allow for volume uuid in manage volume

In PowerMax, we require a 5 digit hex device id as input for an existing
volume to be managed into OpenStack. However, tempest will not be aware
of this driver specific device id and relies on the uuid of the volume
instead.  Adding logic so that tempest will be able to perform manage/
unmanage suite of tests.

Closes-Bug: #1912751
Change-Id: If94d460b6cec0bf3d102cd687d74474b46bd176b
(cherry picked from commit cbc3516b3169e1f24987b7d5a97235179a5cc453)
","['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py']"
openstack%2Fcinder~893382,openstack/cinder,stable/xena,Ifb660688c590fb1c32cbe0ae03e0ea444f19cbb8,Add default to read_deleted in context's from_dict,ABANDONED,2023-08-31 14:32:30.000000000,2024-03-06 11:35:55.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-08-31 15:54:36.000000000', 'date': '2023-08-31 15:54:36.000000000'}, {'rev_nbr': 1, 'author': '2023-08-31 16:49:24.000000000', 'date': '2023-08-31 16:49:24.000000000'}, {'rev_nbr': 1, 'author': '2023-08-31 20:52:21.000000000', 'date': '2023-08-31 20:52:21.000000000'}, {'rev_nbr': 1, 'author': '2023-09-03 08:27:19.000000000', 'date': '2023-09-03 08:27:19.000000000'}, {'rev_nbr': 1, 'author': '2023-09-09 13:30:16.000000000', 'date': '2023-09-09 13:30:16.000000000'}, {'rev_nbr': 2, 'author': '2023-11-14 16:49:32.000000000', 'date': '2023-11-14 16:49:32.000000000'}, {'rev_nbr': 2, 'author': '2023-11-16 07:18:05.000000000', 'date': '2023-11-16 07:18:05.000000000'}, {'rev_nbr': 2, 'author': '2023-11-17 22:14:12.000000000', 'date': '2023-11-17 22:14:12.000000000'}]",0,"[{'number': 2, 'created': '2023-11-14 15:26:09.000000000', 'files': ['cinder/context.py'], 'message': ""Add default to read_deleted in context's from_dict\n\nthis is follow-up to Ic94323658c89df1c1ff32f511ca23502317d0f00\n\ncurrently the defaults in __init__ and from_dict of RequestContext\nfor read_deleted property are different:\n- in __init__ it is 'no'\n- in from_dict, it is effectively None.\nAnd at the same time, this property is not allowed to be None.\n\nAs a result, the new _sanitize_context in oslo.messaging can not create\na sanitized context copy with error\n\nread_deleted can only be one of 'no', 'yes' or 'only', not None\n\nRelated-Bug: #2030976\nChange-Id: Ifb660688c590fb1c32cbe0ae03e0ea444f19cbb8\n(cherry picked from commit 785f23b3bc219c554698fe54fbd478ef04fc9229)\n(cherry picked from commit 8e699f084ebe59f881972191df0304c782c17758)\n(cherry picked from commit 1e6f3651dcfba1583aa7832f8e3a5657f9e463e6)\n(cherry picked from commit a81d5be67fd66197316a22740d4f1bf73370bc96)\n""}]",893382,c6923c577e743d85139261bb58324c36d8b8e18f,10342,Jay Faulkner,JayF,0,"Add default to read_deleted in context's from_dict

this is follow-up to Ic94323658c89df1c1ff32f511ca23502317d0f00

currently the defaults in __init__ and from_dict of RequestContext
for read_deleted property are different:
- in __init__ it is 'no'
- in from_dict, it is effectively None.
And at the same time, this property is not allowed to be None.

As a result, the new _sanitize_context in oslo.messaging can not create
a sanitized context copy with error

read_deleted can only be one of 'no', 'yes' or 'only', not None

Related-Bug: #2030976
Change-Id: Ifb660688c590fb1c32cbe0ae03e0ea444f19cbb8
(cherry picked from commit 785f23b3bc219c554698fe54fbd478ef04fc9229)
(cherry picked from commit 8e699f084ebe59f881972191df0304c782c17758)
(cherry picked from commit 1e6f3651dcfba1583aa7832f8e3a5657f9e463e6)
(cherry picked from commit a81d5be67fd66197316a22740d4f1bf73370bc96)
",['cinder/context.py']
openstack%2Fcinder~878604,openstack/cinder,stable/xena,I3ab2cc28bef7524cec4f161c9d5417597df56b89,"Update url of ""Unity Replication White Paper""",ABANDONED,2023-03-27 02:25:32.000000000,2024-03-06 11:35:47.000000000,2,2,"[{'_account_id': 7198, 'name': 'Jay Bryant', 'email': 'jungleboyj@electronicjungle.net', 'username': 'jsbryant'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27615, 'name': 'Rajat Dhasmana', 'email': 'rajatdhasmana@gmail.com', 'username': 'whoami-rajat'}, {'_account_id': 32238, 'name': 'wdd', 'email': 'wangzihao@yovole.com', 'username': 'wangzihao'}, {'_account_id': 33473, 'name': 'Atsushi Kawai', 'display_name': 'akawai', 'email': 'atsushi.kawai.bu@hitachi.com', 'username': 'akawai'}, {'_account_id': 36201, 'name': 'Shanjiayi', 'email': 'shanjiayi@yovole.com', 'username': 'Shanjiayi'}]","[{'rev_nbr': 1, 'author': '2023-03-27 03:14:44.000000000', 'date': '2023-03-27 03:14:44.000000000'}, {'rev_nbr': 1, 'author': '2023-03-27 05:30:09.000000000', 'date': '2023-03-27 05:30:09.000000000'}, {'rev_nbr': 1, 'author': '2023-03-27 07:01:58.000000000', 'date': '2023-03-27 07:01:58.000000000'}, {'rev_nbr': 1, 'author': '2023-03-27 20:02:35.000000000', 'date': '2023-03-27 20:02:35.000000000'}, {'rev_nbr': 1, 'author': '2023-03-29 05:04:17.000000000', 'date': '2023-03-29 05:04:17.000000000'}, {'rev_nbr': 1, 'author': '2023-04-20 03:06:22.000000000', 'date': '2023-04-20 03:06:22.000000000'}]",3,"[{'number': 1, 'created': '2023-03-27 02:25:32.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'message': 'Update url of ""Unity Replication White Paper""\n\nThe website ""www.emc.com"" has been discontinued.\n\nReplace the outdated link\n""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""\nwith the link\n""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".\n\nChange-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89\n(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)\n'}]",878604,9a8906e355371d2f064e7ea17b6fe99ebb6d9e72,33787,weilingfei,weilingfei,0,"Update url of ""Unity Replication White Paper""

The website ""www.emc.com"" has been discontinued.

Replace the outdated link
""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""
with the link
""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".

Change-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89
(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)
",['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst']
openstack%2Fcinder~906140,openstack/cinder,stable/xena,I80923f9968de31738c554b77c0942a6182f0e67c,Fix Infinidat driver generic volume migration,ABANDONED,2024-01-22 15:56:17.000000000,2024-03-06 11:35:39.000000000,127,9,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2024-01-22 16:29:16.000000000', 'date': '2024-01-22 16:29:16.000000000'}, {'rev_nbr': 1, 'author': '2024-01-22 16:52:19.000000000', 'date': '2024-01-22 16:52:19.000000000'}, {'rev_nbr': 1, 'author': '2024-01-22 17:41:07.000000000', 'date': '2024-01-22 17:41:07.000000000'}, {'rev_nbr': 1, 'author': '2024-02-03 11:00:36.000000000', 'date': '2024-02-03 11:00:36.000000000'}]",0,"[{'number': 1, 'created': '2024-01-22 15:56:17.000000000', 'files': ['releasenotes/notes/bug-1982405-infinidat-fix-generic-volume-migration-da33a6fe980ac4eb.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'message': 'Fix Infinidat driver generic volume migration\n\n- Use volume name_id to resolve Infinidat volume name.\n- Add update_migrated_volume function to fix generic volume\n  migration between two pools within the same storage cluster.\n\nCloses-bug: #1982405\nChange-Id: I80923f9968de31738c554b77c0942a6182f0e67c\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit 9a29d57a61cfb845eabc2cc7f72480b48b9a68e9)\n(cherry picked from commit 40ee7d0739fd65258207709511842b5eddbac4b7)\n(cherry picked from commit 9ccf691cb6a72b6e23c3095bf12909498c430465)\n'}]",906140,c337a1e6cfc3ae92939bfce34bf78bc22f5521e8,35075,Alexander Deiter,adeiter,0,"Fix Infinidat driver generic volume migration

- Use volume name_id to resolve Infinidat volume name.
- Add update_migrated_volume function to fix generic volume
  migration between two pools within the same storage cluster.

Closes-bug: #1982405
Change-Id: I80923f9968de31738c554b77c0942a6182f0e67c
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit 9a29d57a61cfb845eabc2cc7f72480b48b9a68e9)
(cherry picked from commit 40ee7d0739fd65258207709511842b5eddbac4b7)
(cherry picked from commit 9ccf691cb6a72b6e23c3095bf12909498c430465)
","['releasenotes/notes/bug-1982405-infinidat-fix-generic-volume-migration-da33a6fe980ac4eb.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']"
openstack%2Fcinder~906284,openstack/cinder,stable/xena,Ibda3a09a181160b8ee9129795429a7f1795e907d,Fix Infinidat driver multi-attach feature,ABANDONED,2024-01-22 21:19:42.000000000,2024-03-06 11:35:31.000000000,149,13,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2024-01-22 21:46:45.000000000', 'date': '2024-01-22 21:46:45.000000000'}, {'rev_nbr': 1, 'author': '2024-01-22 22:04:02.000000000', 'date': '2024-01-22 22:04:02.000000000'}, {'rev_nbr': 1, 'author': '2024-01-22 23:19:04.000000000', 'date': '2024-01-22 23:19:04.000000000'}, {'rev_nbr': 1, 'author': '2024-02-04 00:30:06.000000000', 'date': '2024-02-04 00:30:06.000000000'}]",0,"[{'number': 1, 'created': '2024-01-22 21:19:42.000000000', 'files': ['releasenotes/notes/bug-1982350-infinidat-fix-multi-attach-19f62d182b675e59.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'message': 'Fix Infinidat driver multi-attach feature\n\nAdded a check if there are multiple attachments to the volume\nfrom the same connector and terminate connection only for the\nlast attachment from the corresponding host.\n\nCloses-bug: #1982350\nChange-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit d8ca81e7c911add4f99f888d7315130ac3b60e22)\n(cherry picked from commit 8e5330c029b538252e8743f7dd2276f423a8ec1b)\n(cherry picked from commit ea95cbabd9348fcbac79b9e5d1d4de2ab0f68c77)\n'}]",906284,c26244d47a9816fdd88468741547229f2202b2dd,35075,Alexander Deiter,adeiter,0,"Fix Infinidat driver multi-attach feature

Added a check if there are multiple attachments to the volume
from the same connector and terminate connection only for the
last attachment from the corresponding host.

Closes-bug: #1982350
Change-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit d8ca81e7c911add4f99f888d7315130ac3b60e22)
(cherry picked from commit 8e5330c029b538252e8743f7dd2276f423a8ec1b)
(cherry picked from commit ea95cbabd9348fcbac79b9e5d1d4de2ab0f68c77)
","['releasenotes/notes/bug-1982350-infinidat-fix-multi-attach-19f62d182b675e59.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']"
openstack%2Fpython-manilaclient~840301,openstack/python-manilaclient,stable/wallaby,I7a234666c3edff6486257a370ec361045aa7947d,Drop lower-constraints.txt and its testing,ABANDONED,2022-05-03 15:02:44.000000000,2024-03-06 11:32:27.000000000,4,97,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 3, 'created': '2022-07-05 15:11:14.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I7a234666c3edff6486257a370ec361045aa7947d\n(cherry picked from commit bf2c7a26d62e240468ee062fddd49ff97a956e43)\n(cherry picked from commit 9f33f3ab1dc2eb5dd953ee7655c0db093d561d2b)\n(cherry picked from commit 0c9c6a1eb64c0de387fa85bd08943c8f04e03fc2)\n'}]",840301,f7d47af863d167845ca5eeca2247f6700618dbfa,16643,Goutham Pacha Ravi,gouthamr,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I7a234666c3edff6486257a370ec361045aa7947d
(cherry picked from commit bf2c7a26d62e240468ee062fddd49ff97a956e43)
(cherry picked from commit 9f33f3ab1dc2eb5dd953ee7655c0db093d561d2b)
(cherry picked from commit 0c9c6a1eb64c0de387fa85bd08943c8f04e03fc2)
","['requirements.txt', 'lower-constraints.txt', 'tox.ini']"
openstack%2Fmanila~901284,openstack/manila,stable/wallaby,Ifab3ec9de2abeb1af8e6499feca0236e1ee22fcf,Shorten snapshots names in CephFS drivers,ABANDONED,2023-11-17 17:56:05.000000000,2024-03-06 11:31:35.000000000,41,14,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2023-11-17 17:56:05.000000000', 'files': ['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'releasenotes/notes/bug-1967760-shorten-snapshot-names-cephfs-a220e2b9f7ba5739.yaml'], 'message': 'Shorten snapshots names in CephFS drivers\n\nThe name set to snapshots in the CephFS drivers\nis generated appending the snapshot id with the\nsnapshot instance id.\n\nThis is a problem because Ceph has a limitation\nin the name of the subvolumes (shares) being created.\n\nWhat happens then is, when trying to create a snapshot,\nthe snapshot gets created with a truncated name and it cannot\nbe accessed later.\n\nThis change drops the snapshot instance id from the\nassigned name in order to avoid this limitation.\n\nCloses-Bug: #1967760\n\nChange-Id: Ifab3ec9de2abeb1af8e6499feca0236e1ee22fcf\n(cherry picked from commit c86523d5909a2d61e03fb29f4c0c71b67cf18205)\n(cherry picked from commit 4d4d4bdb118968b1cb089fa8b415c8354874e3a7)\n(cherry picked from commit 3be5df4e1fe5feac43c3c1524eb00c4441eec476)\n(cherry picked from commit 569a30df0533fe1bd0b53d5111d801353a1dc126)\n(cherry picked from commit 67187c28fae622d679362adf4c68f968ce33473e)\n(cherry picked from commit 823e1b416910c41d45551fe345e12f321bae3ca8)\n'}]",901284,db6233ea8f1c7117ce678bd290603c5bb1de47e8,16643,Goutham Pacha Ravi,gouthamr,0,"Shorten snapshots names in CephFS drivers

The name set to snapshots in the CephFS drivers
is generated appending the snapshot id with the
snapshot instance id.

This is a problem because Ceph has a limitation
in the name of the subvolumes (shares) being created.

What happens then is, when trying to create a snapshot,
the snapshot gets created with a truncated name and it cannot
be accessed later.

This change drops the snapshot instance id from the
assigned name in order to avoid this limitation.

Closes-Bug: #1967760

Change-Id: Ifab3ec9de2abeb1af8e6499feca0236e1ee22fcf
(cherry picked from commit c86523d5909a2d61e03fb29f4c0c71b67cf18205)
(cherry picked from commit 4d4d4bdb118968b1cb089fa8b415c8354874e3a7)
(cherry picked from commit 3be5df4e1fe5feac43c3c1524eb00c4441eec476)
(cherry picked from commit 569a30df0533fe1bd0b53d5111d801353a1dc126)
(cherry picked from commit 67187c28fae622d679362adf4c68f968ce33473e)
(cherry picked from commit 823e1b416910c41d45551fe345e12f321bae3ca8)
","['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'releasenotes/notes/bug-1967760-shorten-snapshot-names-cephfs-a220e2b9f7ba5739.yaml']"
openstack%2Fcinder~837051,openstack/cinder,stable/wallaby,If26ebd6a94512b1d8ecc1b786f518f667fc19ffe,fix 'huawei dorado v6' create new volume from snapshot error,ABANDONED,2022-04-08 01:53:18.000000000,2024-03-06 11:30:54.000000000,245,42,"[{'_account_id': 7198, 'name': 'Jay Bryant', 'email': 'jungleboyj@electronicjungle.net', 'username': 'jsbryant'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-04-08 02:46:54.000000000', 'date': '2022-04-08 02:46:54.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 02:49:31.000000000', 'date': '2022-04-08 02:49:31.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 02:51:07.000000000', 'date': '2022-04-08 02:51:07.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 03:14:35.000000000', 'date': '2022-04-08 03:14:35.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 03:17:56.000000000', 'date': '2022-04-08 03:17:56.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 04:04:17.000000000', 'date': '2022-04-08 04:04:17.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 04:06:14.000000000', 'date': '2022-04-08 04:06:14.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 04:21:24.000000000', 'date': '2022-04-08 04:21:24.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 04:58:09.000000000', 'date': '2022-04-08 04:58:09.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 05:14:20.000000000', 'date': '2022-04-08 05:14:20.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 16:41:23.000000000', 'date': '2022-04-08 16:41:23.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 17:35:24.000000000', 'date': '2022-04-08 17:35:24.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 22:14:47.000000000', 'date': '2022-04-08 22:14:47.000000000'}, {'rev_nbr': 1, 'author': '2022-04-10 13:35:43.000000000', 'date': '2022-04-10 13:35:43.000000000'}]",1,"[{'number': 1, 'created': '2022-04-08 01:53:18.000000000', 'files': ['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/huawei_conf.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/common.py', 'cinder/volume/drivers/huawei/rest_client.py', 'cinder/volume/drivers/huawei/huawei_utils.py'], 'message': ""fix 'huawei dorado v6' create new volume from snapshot error\n\nchange the luncopy mode,in dorado v6 we use clone_pair\nmodified some interface to call dorado v6\n\nCloses-Bug: #1942342\nChange-Id: If26ebd6a94512b1d8ecc1b786f518f667fc19ffe\n(cherry picked from commit 77da18785af7bede26d3478934864e293c6f4ef6)\n""}]",837051,861506c976d38b512e54993ce778cd705e7bad0c,34247,huangbingyan,bingyan,0,"fix 'huawei dorado v6' create new volume from snapshot error

change the luncopy mode,in dorado v6 we use clone_pair
modified some interface to call dorado v6

Closes-Bug: #1942342
Change-Id: If26ebd6a94512b1d8ecc1b786f518f667fc19ffe
(cherry picked from commit 77da18785af7bede26d3478934864e293c6f4ef6)
","['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/huawei_conf.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/common.py', 'cinder/volume/drivers/huawei/rest_client.py', 'cinder/volume/drivers/huawei/huawei_utils.py']"
openstack%2Fcinder~865725,openstack/cinder,stable/wallaby,Icd9dad9ad7b3ad71b3962b078e5b94670ac41c87,rbd: Fix snapshot delete when the source volume doesn't exist,ABANDONED,2022-11-28 06:56:31.000000000,2024-03-06 11:30:46.000000000,54,28,"[{'_account_id': 7198, 'name': 'Jay Bryant', 'email': 'jungleboyj@electronicjungle.net', 'username': 'jsbryant'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-11-28 07:19:35.000000000', 'date': '2022-11-28 07:19:35.000000000'}, {'rev_nbr': 1, 'author': '2022-11-28 07:42:11.000000000', 'date': '2022-11-28 07:42:11.000000000'}, {'rev_nbr': 1, 'author': '2022-11-28 07:56:49.000000000', 'date': '2022-11-28 07:56:49.000000000'}, {'rev_nbr': 1, 'author': '2022-11-28 07:58:13.000000000', 'date': '2022-11-28 07:58:13.000000000'}, {'rev_nbr': 1, 'author': '2022-11-28 08:05:10.000000000', 'date': '2022-11-28 08:05:10.000000000'}, {'rev_nbr': 1, 'author': '2022-11-28 08:08:07.000000000', 'date': '2022-11-28 08:08:07.000000000'}, {'rev_nbr': 1, 'author': '2022-11-28 08:49:08.000000000', 'date': '2022-11-28 08:49:08.000000000'}, {'rev_nbr': 1, 'author': '2022-11-28 08:49:57.000000000', 'date': '2022-11-28 08:49:57.000000000'}, {'rev_nbr': 1, 'author': '2022-11-29 06:25:45.000000000', 'date': '2022-11-29 06:25:45.000000000'}]",1,"[{'number': 1, 'created': '2022-11-28 06:56:31.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/bug-1957073-0d1307a8637a62b7.yaml'], 'message': ""rbd: Fix snapshot delete when the source volume doesn't exist\n\nCurrently snapshot delete requires access to the source volume and\nthe operation fails if the source volume doesn't exist in the backend.\nThis prevents some snapshots from being deleted when the source volume\nimage is deleted from the backend for some reason (for example, after\ncluster format).\n\nThis change makes the rbd driver to skip updating the source volume\nif it doesn't exist. A warning log is left so that operators can be\naware of any skip event.\n\nThis commit also includes a squash to add a releasenote from\nI40f6eb1f104da4410d32410940824a88f7d1ec62 to reduce backporting\nworkload.\n\nCloses-Bug: #1957073\nChange-Id: Icd9dad9ad7b3ad71b3962b078e5b94670ac41c87\n(cherry picked from commit 3ddf7ca9ea9587318b8c903e2c43b1879846d1c2)\n(cherry picked from commit cf108981432d35049bf28010d3191fd9f4b82ccc)\n(cherry picked from commit 43fd2fadb7ce06a435967884124a69c96bb47d00)\n(cherry picked from commit 4c7dbde4401aba24ee58f526fc98976580d64e62)\n""}]",865725,576f62bba286155a104fe48294d2db3ff542d744,5689,Masayuki Igawa,igawa,0,"rbd: Fix snapshot delete when the source volume doesn't exist

Currently snapshot delete requires access to the source volume and
the operation fails if the source volume doesn't exist in the backend.
This prevents some snapshots from being deleted when the source volume
image is deleted from the backend for some reason (for example, after
cluster format).

This change makes the rbd driver to skip updating the source volume
if it doesn't exist. A warning log is left so that operators can be
aware of any skip event.

This commit also includes a squash to add a releasenote from
I40f6eb1f104da4410d32410940824a88f7d1ec62 to reduce backporting
workload.

Closes-Bug: #1957073
Change-Id: Icd9dad9ad7b3ad71b3962b078e5b94670ac41c87
(cherry picked from commit 3ddf7ca9ea9587318b8c903e2c43b1879846d1c2)
(cherry picked from commit cf108981432d35049bf28010d3191fd9f4b82ccc)
(cherry picked from commit 43fd2fadb7ce06a435967884124a69c96bb47d00)
(cherry picked from commit 4c7dbde4401aba24ee58f526fc98976580d64e62)
","['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/bug-1957073-0d1307a8637a62b7.yaml']"
openstack%2Fcinder~878605,openstack/cinder,stable/wallaby,I3ab2cc28bef7524cec4f161c9d5417597df56b89,"Update url of ""Unity Replication White Paper""",ABANDONED,2023-03-27 02:25:43.000000000,2024-03-06 11:30:38.000000000,2,2,"[{'_account_id': 5997, 'name': 'Walt', 'display_name': 'Hemna', 'email': 'waboring@hemna.com', 'username': 'walter-boring', 'status': 'SAP'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-03-27 06:25:57.000000000', 'date': '2023-03-27 06:25:57.000000000'}, {'rev_nbr': 1, 'author': '2023-03-27 07:01:04.000000000', 'date': '2023-03-27 07:01:04.000000000'}, {'rev_nbr': 1, 'author': '2023-03-27 08:48:28.000000000', 'date': '2023-03-27 08:48:28.000000000'}, {'rev_nbr': 1, 'author': '2023-03-27 09:44:46.000000000', 'date': '2023-03-27 09:44:46.000000000'}, {'rev_nbr': 1, 'author': '2023-03-29 07:58:47.000000000', 'date': '2023-03-29 07:58:47.000000000'}, {'rev_nbr': 1, 'author': '2023-04-19 02:49:15.000000000', 'date': '2023-04-19 02:49:15.000000000'}]",0,"[{'number': 1, 'created': '2023-03-27 02:25:43.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'message': 'Update url of ""Unity Replication White Paper""\n\nThe website ""www.emc.com"" has been discontinued.\n\nReplace the outdated link\n""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""\nwith the link\n""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".\n\nChange-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89\n(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)\n'}]",878605,1e0efa8df8ab77caedc09ae39581e9730a3a6e1f,33787,weilingfei,weilingfei,0,"Update url of ""Unity Replication White Paper""

The website ""www.emc.com"" has been discontinued.

Replace the outdated link
""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""
with the link
""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".

Change-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89
(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)
",['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst']
openstack%2Fcinder~887092,openstack/cinder,stable/wallaby,I7525b77eef99bbcefd9d9306ce4cc9853f28ae5a,DNM - test cinder wallaby,ABANDONED,2023-06-27 18:01:01.000000000,2024-03-06 11:30:30.000000000,0,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-06-27 18:22:49.000000000', 'date': '2023-06-27 18:22:49.000000000'}, {'rev_nbr': 1, 'author': '2023-06-27 18:34:32.000000000', 'date': '2023-06-27 18:34:32.000000000'}, {'rev_nbr': 1, 'author': '2023-06-27 20:34:31.000000000', 'date': '2023-06-27 20:34:31.000000000'}, {'rev_nbr': 1, 'author': '2023-06-27 21:36:57.000000000', 'date': '2023-06-27 21:36:57.000000000'}, {'rev_nbr': 1, 'author': '2023-06-27 22:25:58.000000000', 'date': '2023-06-27 22:25:58.000000000'}, {'rev_nbr': 1, 'author': '2023-07-06 01:59:25.000000000', 'date': '2023-07-06 01:59:25.000000000'}, {'rev_nbr': 1, 'author': '2023-07-19 07:51:01.000000000', 'date': '2023-07-19 07:51:01.000000000'}]",3,"[{'number': 1, 'created': '2023-06-27 18:01:01.000000000', 'files': ['DNM'], 'message': 'DNM - test cinder wallaby\n\nChange-Id: I7525b77eef99bbcefd9d9306ce4cc9853f28ae5a\n'}]",887092,59f14efb51a294580f8fdf95aa58f6b86880aa12,33986,Lucas Morais de oliveira,lucasmoliveira059,0,"DNM - test cinder wallaby

Change-Id: I7525b77eef99bbcefd9d9306ce4cc9853f28ae5a
",['DNM']
openstack%2Fcinder~888468,openstack/cinder,stable/wallaby,I335d2b052a189eece64f65bcf9d4a8bdc0894609,DNM: Wallaby CI Test,ABANDONED,2023-07-13 13:52:44.000000000,2024-03-06 11:30:22.000000000,0,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-07-13 14:15:47.000000000', 'date': '2023-07-13 14:15:47.000000000'}, {'rev_nbr': 1, 'author': '2023-07-13 14:40:44.000000000', 'date': '2023-07-13 14:40:44.000000000'}, {'rev_nbr': 1, 'author': '2023-07-13 16:23:32.000000000', 'date': '2023-07-13 16:23:32.000000000'}, {'rev_nbr': 1, 'author': '2023-07-13 17:30:02.000000000', 'date': '2023-07-13 17:30:02.000000000'}, {'rev_nbr': 1, 'author': '2023-07-14 01:29:30.000000000', 'date': '2023-07-14 01:29:30.000000000'}, {'rev_nbr': 1, 'author': '2023-07-19 09:37:21.000000000', 'date': '2023-07-19 09:37:21.000000000'}]",1,"[{'number': 1, 'created': '2023-07-13 13:52:44.000000000', 'files': [], 'message': 'DNM: Wallaby CI Test\n\nChange-Id: I335d2b052a189eece64f65bcf9d4a8bdc0894609\n'}]",888468,05e97fa80da187caedc8a494a8aa0dbc967af220,35586,Renan Vitor,renan_vitor,0,"DNM: Wallaby CI Test

Change-Id: I335d2b052a189eece64f65bcf9d4a8bdc0894609
",[]
openstack%2Fcinder~885921,openstack/cinder,stable/wallaby,I609a4f056d19f67aa7b8113bb38b9e9083f24124,Fix NetApp NFS driver to never spawn a native thread again,ABANDONED,2023-06-13 12:48:35.000000000,2024-03-06 11:30:13.000000000,51,76,"[{'_account_id': 5314, 'name': 'Brian Rosmaita', 'email': 'rosmaita.fossdev@gmail.com', 'username': 'brian-rosmaita'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-06-13 13:27:25.000000000', 'date': '2023-06-13 13:27:25.000000000'}, {'rev_nbr': 1, 'author': '2023-06-13 14:19:13.000000000', 'date': '2023-06-13 14:19:13.000000000'}, {'rev_nbr': 1, 'author': '2023-06-13 15:13:41.000000000', 'date': '2023-06-13 15:13:41.000000000'}, {'rev_nbr': 1, 'author': '2023-06-13 15:29:47.000000000', 'date': '2023-06-13 15:29:47.000000000'}, {'rev_nbr': 1, 'author': '2023-06-13 16:55:37.000000000', 'date': '2023-06-13 16:55:37.000000000'}, {'rev_nbr': 1, 'author': '2023-06-19 13:34:58.000000000', 'date': '2023-06-19 13:34:58.000000000'}, {'rev_nbr': 1, 'author': '2023-06-19 16:51:31.000000000', 'date': '2023-06-19 16:51:31.000000000'}, {'rev_nbr': 1, 'author': '2023-07-18 07:08:40.000000000', 'date': '2023-07-18 07:08:40.000000000'}]",4,"[{'number': 1, 'created': '2023-06-13 12:48:35.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'releasenotes/notes/bug-2008017-netapp-fix-native-threads-04d8f58f4c29b03d.yaml', 'cinder/volume/drivers/netapp/options.py'], 'message': ""Fix NetApp NFS driver to never spawn a native thread again\n\nThe NetApp NFS driver is spawning a Python native thread to\nschedule image cache cleanups, which can lead to unpredictable\nbehavior such as thread starvation due to its hunger to preempt\nother Cinder's fellow threads.\n\nThis patch fixes it by reimplementing the NFS image cache cleanup\ntask as a green thread with a customized periodic interval.\n\nThe patch adds the configuration\noption ´netapp_nfs_image_cache_cleanup_interval´ to allow\noperators to set an interval in seconds between calls to the image\ncleanup task.\n\nCloses-Bug: #2008017\nChange-Id: I609a4f056d19f67aa7b8113bb38b9e9083f24124\n(cherry picked from commit a869c8e222a68af731eb72e9f8ec5f0755db0326)\n(cherry picked from commit 3dde6b7d99956b4643796025905d1150123f8d3f)\n""}]",885921,f37d3faa5b20b42d06a16c77c7976c167a4c1c7e,35002,Luiz Felipe Looze dos Santos,luizsantos,0,"Fix NetApp NFS driver to never spawn a native thread again

The NetApp NFS driver is spawning a Python native thread to
schedule image cache cleanups, which can lead to unpredictable
behavior such as thread starvation due to its hunger to preempt
other Cinder's fellow threads.

This patch fixes it by reimplementing the NFS image cache cleanup
task as a green thread with a customized periodic interval.

The patch adds the configuration
option ´netapp_nfs_image_cache_cleanup_interval´ to allow
operators to set an interval in seconds between calls to the image
cleanup task.

Closes-Bug: #2008017
Change-Id: I609a4f056d19f67aa7b8113bb38b9e9083f24124
(cherry picked from commit a869c8e222a68af731eb72e9f8ec5f0755db0326)
(cherry picked from commit 3dde6b7d99956b4643796025905d1150123f8d3f)
","['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'releasenotes/notes/bug-2008017-netapp-fix-native-threads-04d8f58f4c29b03d.yaml', 'cinder/volume/drivers/netapp/options.py']"
openstack%2Fcinder~886097,openstack/cinder,stable/wallaby,I347f0ee63d8d13ff181dd41a542a006b7c10b488,DNM:Netapp ONTAP: Add support to revert to snapshot,ABANDONED,2023-06-14 13:38:10.000000000,2024-03-06 11:30:04.000000000,801,4,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 33648, 'name': 'Nahim Alves de Souza', 'email': 'nahimsouza@outlook.com', 'username': 'nahimsouza'}]","[{'rev_nbr': 2, 'author': '2023-06-14 14:07:16.000000000', 'date': '2023-06-14 14:07:16.000000000'}, {'rev_nbr': 2, 'author': '2023-06-14 14:22:58.000000000', 'date': '2023-06-14 14:22:58.000000000'}, {'rev_nbr': 2, 'author': '2023-06-14 14:48:24.000000000', 'date': '2023-06-14 14:48:24.000000000'}, {'rev_nbr': 2, 'author': '2023-06-14 14:59:33.000000000', 'date': '2023-06-14 14:59:33.000000000'}, {'rev_nbr': 1, 'author': '2023-06-14 17:24:10.000000000', 'date': '2023-06-14 17:24:10.000000000'}, {'rev_nbr': 2, 'author': '2023-06-14 17:49:10.000000000', 'date': '2023-06-14 17:49:10.000000000'}, {'rev_nbr': 3, 'author': '2023-06-14 17:52:03.000000000', 'date': '2023-06-14 17:52:03.000000000'}, {'rev_nbr': 4, 'author': '2023-06-14 18:21:23.000000000', 'date': '2023-06-14 18:21:23.000000000'}, {'rev_nbr': 5, 'author': '2023-06-14 18:52:13.000000000', 'date': '2023-06-14 18:52:13.000000000'}, {'rev_nbr': 8, 'author': '2023-06-14 19:57:48.000000000', 'date': '2023-06-14 19:57:48.000000000'}, {'rev_nbr': 9, 'author': '2023-06-14 20:51:11.000000000', 'date': '2023-06-14 20:51:11.000000000'}, {'rev_nbr': 3, 'author': '2023-06-14 21:07:04.000000000', 'date': '2023-06-14 21:07:04.000000000'}, {'rev_nbr': 4, 'author': '2023-06-14 21:37:25.000000000', 'date': '2023-06-14 21:37:25.000000000'}, {'rev_nbr': 9, 'author': '2023-06-14 21:51:22.000000000', 'date': '2023-06-14 21:51:22.000000000'}, {'rev_nbr': 9, 'author': '2023-06-14 21:57:18.000000000', 'date': '2023-06-14 21:57:18.000000000'}, {'rev_nbr': 5, 'author': '2023-06-14 22:06:55.000000000', 'date': '2023-06-14 22:06:55.000000000'}, {'rev_nbr': 9, 'author': '2023-06-14 22:38:08.000000000', 'date': '2023-06-14 22:38:08.000000000'}, {'rev_nbr': 6, 'author': '2023-06-14 22:43:08.000000000', 'date': '2023-06-14 22:43:08.000000000'}, {'rev_nbr': 7, 'author': '2023-06-14 23:09:44.000000000', 'date': '2023-06-14 23:09:44.000000000'}, {'rev_nbr': 8, 'author': '2023-06-14 23:29:46.000000000', 'date': '2023-06-14 23:29:46.000000000'}, {'rev_nbr': 9, 'author': '2023-06-15 00:11:21.000000000', 'date': '2023-06-15 00:11:21.000000000'}, {'rev_nbr': 9, 'author': '2023-06-15 11:31:49.000000000', 'date': '2023-06-15 11:31:49.000000000'}, {'rev_nbr': 10, 'author': '2023-06-15 14:00:17.000000000', 'date': '2023-06-15 14:00:17.000000000'}, {'rev_nbr': 10, 'author': '2023-06-15 15:55:25.000000000', 'date': '2023-06-15 15:55:25.000000000'}, {'rev_nbr': 14, 'author': '2023-06-15 16:23:27.000000000', 'date': '2023-06-15 16:23:27.000000000'}, {'rev_nbr': 14, 'author': '2023-06-15 16:33:46.000000000', 'date': '2023-06-15 16:33:46.000000000'}, {'rev_nbr': 14, 'author': '2023-06-15 16:40:19.000000000', 'date': '2023-06-15 16:40:19.000000000'}, {'rev_nbr': 14, 'author': '2023-06-15 17:04:06.000000000', 'date': '2023-06-15 17:04:06.000000000'}, {'rev_nbr': 10, 'author': '2023-06-15 17:42:38.000000000', 'date': '2023-06-15 17:42:38.000000000'}, {'rev_nbr': 11, 'author': '2023-06-15 17:55:07.000000000', 'date': '2023-06-15 17:55:07.000000000'}, {'rev_nbr': 12, 'author': '2023-06-15 18:23:57.000000000', 'date': '2023-06-15 18:23:57.000000000'}, {'rev_nbr': 13, 'author': '2023-06-15 19:00:58.000000000', 'date': '2023-06-15 19:00:58.000000000'}, {'rev_nbr': 11, 'author': '2023-06-15 19:09:07.000000000', 'date': '2023-06-15 19:09:07.000000000'}, {'rev_nbr': 12, 'author': '2023-06-15 19:47:15.000000000', 'date': '2023-06-15 19:47:15.000000000'}, {'rev_nbr': 14, 'author': '2023-06-15 19:47:21.000000000', 'date': '2023-06-15 19:47:21.000000000'}, {'rev_nbr': 13, 'author': '2023-06-15 20:16:27.000000000', 'date': '2023-06-15 20:16:27.000000000'}, {'rev_nbr': 14, 'author': '2023-06-15 20:39:30.000000000', 'date': '2023-06-15 20:39:30.000000000'}, {'rev_nbr': 14, 'author': '2023-06-15 20:53:46.000000000', 'date': '2023-06-15 20:53:46.000000000'}, {'rev_nbr': 10, 'author': '2023-06-15 21:02:01.000000000', 'date': '2023-06-15 21:02:01.000000000'}, {'rev_nbr': 14, 'author': '2023-06-19 14:54:22.000000000', 'date': '2023-06-19 14:54:22.000000000'}, {'rev_nbr': 14, 'author': '2023-06-20 15:30:06.000000000', 'date': '2023-06-20 15:30:06.000000000'}, {'rev_nbr': 14, 'author': '2023-06-20 15:47:22.000000000', 'date': '2023-06-20 15:47:22.000000000'}, {'rev_nbr': 14, 'author': '2023-06-20 19:22:24.000000000', 'date': '2023-06-20 19:22:24.000000000'}, {'rev_nbr': 14, 'author': '2023-06-21 13:46:15.000000000', 'date': '2023-06-21 13:46:15.000000000'}, {'rev_nbr': 15, 'author': '2023-06-27 14:38:04.000000000', 'date': '2023-06-27 14:38:04.000000000'}, {'rev_nbr': 15, 'author': '2023-06-27 14:55:41.000000000', 'date': '2023-06-27 14:55:41.000000000'}, {'rev_nbr': 16, 'author': '2023-06-27 15:19:19.000000000', 'date': '2023-06-27 15:19:19.000000000'}, {'rev_nbr': 16, 'author': '2023-06-27 15:29:53.000000000', 'date': '2023-06-27 15:29:53.000000000'}, {'rev_nbr': 16, 'author': '2023-06-27 15:53:36.000000000', 'date': '2023-06-27 15:53:36.000000000'}, {'rev_nbr': 16, 'author': '2023-06-27 17:29:16.000000000', 'date': '2023-06-27 17:29:16.000000000'}, {'rev_nbr': 17, 'author': '2023-06-27 18:01:32.000000000', 'date': '2023-06-27 18:01:32.000000000'}, {'rev_nbr': 15, 'author': '2023-06-27 18:22:35.000000000', 'date': '2023-06-27 18:22:35.000000000'}, {'rev_nbr': 16, 'author': '2023-06-27 18:47:59.000000000', 'date': '2023-06-27 18:47:59.000000000'}, {'rev_nbr': 17, 'author': '2023-06-27 20:18:09.000000000', 'date': '2023-06-27 20:18:09.000000000'}, {'rev_nbr': 17, 'author': '2023-06-27 21:18:41.000000000', 'date': '2023-06-27 21:18:41.000000000'}, {'rev_nbr': 17, 'author': '2023-07-03 12:15:03.000000000', 'date': '2023-07-03 12:15:03.000000000'}, {'rev_nbr': 17, 'author': '2023-07-06 19:33:57.000000000', 'date': '2023-07-06 19:33:57.000000000'}, {'rev_nbr': 17, 'author': '2023-07-13 14:47:20.000000000', 'date': '2023-07-13 14:47:20.000000000'}, {'rev_nbr': 17, 'author': '2023-07-19 06:04:55.000000000', 'date': '2023-07-19 06:04:55.000000000'}, {'rev_nbr': 17, 'author': '2023-08-23 14:05:18.000000000', 'date': '2023-08-23 14:05:18.000000000'}]",58,"[{'number': 17, 'created': '2023-06-27 17:40:06.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/client/fakes.py', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'releasenotes/notes/netapp-ontap-add-revert-to-snapshot-ce20810bcf094fce.yaml', 'cinder/volume/drivers/netapp/dataontap/fc_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_fc_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'doc/source/reference/support-matrix.ini', 'cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_iscsi_cmode.py', 'cinder/volume/drivers/netapp/dataontap/iscsi_cmode.py'], 'message': 'DNM:Netapp ONTAP: Add support to revert to snapshot\n\nThis patch adds support to revert to snapshot for NFS, FC and\niSCSI drivers with FlexVol pool.\n\nAdds a method on client_cmode to rename a NFS volume file using\nthe file-rename-file zapi call.\n\nThe revert steps are:\n  1. Create a clone volume file/LUN from snapshot.\n  2. Change the original volume file/LUN path to a temporary path.\n  3. Change clone file/LUN path to the original path.\n  4. Delete the volume file/LUN on temporary path.\n\nIf any step fails, the original volume file/LUN is preserved and\nthe clone file/LUN is deleted.\n\nFor NFS, ONTAP clone file is not supported on FlexGroup pool, in\nthis case the generic implementation will perform the revert to\nsnapshot.\n\nImplements: blueprint ontap-revert-to-snapshot\nCo-Authored-By: Fabio Oliveira <fabioaurelio1269@gmail.com>\nChange-Id: I347f0ee63d8d13ff181dd41a542a006b7c10b488\n(cherry picked from commit 1f96b386b35841c181c390a199c80487fde41b5d)\n'}]",886097,786db09e2fbf0032bd821fba832c9cca59d08714,35586,Renan Vitor,renan_vitor,0,"DNM:Netapp ONTAP: Add support to revert to snapshot

This patch adds support to revert to snapshot for NFS, FC and
iSCSI drivers with FlexVol pool.

Adds a method on client_cmode to rename a NFS volume file using
the file-rename-file zapi call.

The revert steps are:
  1. Create a clone volume file/LUN from snapshot.
  2. Change the original volume file/LUN path to a temporary path.
  3. Change clone file/LUN path to the original path.
  4. Delete the volume file/LUN on temporary path.

If any step fails, the original volume file/LUN is preserved and
the clone file/LUN is deleted.

For NFS, ONTAP clone file is not supported on FlexGroup pool, in
this case the generic implementation will perform the revert to
snapshot.

Implements: blueprint ontap-revert-to-snapshot
Co-Authored-By: Fabio Oliveira <fabioaurelio1269@gmail.com>
Change-Id: I347f0ee63d8d13ff181dd41a542a006b7c10b488
(cherry picked from commit 1f96b386b35841c181c390a199c80487fde41b5d)
","['cinder/tests/unit/volume/drivers/netapp/dataontap/client/fakes.py', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'releasenotes/notes/netapp-ontap-add-revert-to-snapshot-ce20810bcf094fce.yaml', 'cinder/volume/drivers/netapp/dataontap/fc_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_fc_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'doc/source/reference/support-matrix.ini', 'cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_iscsi_cmode.py', 'cinder/volume/drivers/netapp/dataontap/iscsi_cmode.py']"
openstack%2Fcinder~906292,openstack/cinder,stable/wallaby,Ibda3a09a181160b8ee9129795429a7f1795e907d,Fix Infinidat driver multi-attach feature,ABANDONED,2024-01-23 10:45:05.000000000,2024-03-06 11:29:56.000000000,149,13,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2024-01-23 11:13:28.000000000', 'date': '2024-01-23 11:13:28.000000000'}, {'rev_nbr': 1, 'author': '2024-01-23 12:55:34.000000000', 'date': '2024-01-23 12:55:34.000000000'}, {'rev_nbr': 1, 'author': '2024-01-23 13:47:56.000000000', 'date': '2024-01-23 13:47:56.000000000'}]",0,"[{'number': 1, 'created': '2024-01-23 10:45:05.000000000', 'files': ['releasenotes/notes/bug-1982350-infinidat-fix-multi-attach-19f62d182b675e59.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'message': 'Fix Infinidat driver multi-attach feature\n\nAdded a check if there are multiple attachments to the volume\nfrom the same connector and terminate connection only for the\nlast attachment from the corresponding host.\n\nCloses-bug: #1982350\nChange-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit d8ca81e7c911add4f99f888d7315130ac3b60e22)\n(cherry picked from commit 8e5330c029b538252e8743f7dd2276f423a8ec1b)\n(cherry picked from commit ea95cbabd9348fcbac79b9e5d1d4de2ab0f68c77)\n(cherry picked from commit c26244d47a9816fdd88468741547229f2202b2dd)\n'}]",906292,a8288d3b9154e33aaca44b0833413ed80911ad05,35075,Alexander Deiter,adeiter,0,"Fix Infinidat driver multi-attach feature

Added a check if there are multiple attachments to the volume
from the same connector and terminate connection only for the
last attachment from the corresponding host.

Closes-bug: #1982350
Change-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit d8ca81e7c911add4f99f888d7315130ac3b60e22)
(cherry picked from commit 8e5330c029b538252e8743f7dd2276f423a8ec1b)
(cherry picked from commit ea95cbabd9348fcbac79b9e5d1d4de2ab0f68c77)
(cherry picked from commit c26244d47a9816fdd88468741547229f2202b2dd)
","['releasenotes/notes/bug-1982350-infinidat-fix-multi-attach-19f62d182b675e59.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']"
openstack%2Fcinder~905916,openstack/cinder,stable/wallaby,I4b302ffd1d0bef673143cd7db427bb9aac27ba33,Fix Infinidat driver to use TLS/SSL communication,ABANDONED,2024-01-18 15:55:54.000000000,2024-03-06 11:29:49.000000000,72,37,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2024-01-18 21:03:42.000000000', 'date': '2024-01-18 21:03:42.000000000'}, {'rev_nbr': 1, 'author': '2024-01-18 23:39:12.000000000', 'date': '2024-01-18 23:39:12.000000000'}, {'rev_nbr': 1, 'author': '2024-01-19 00:00:30.000000000', 'date': '2024-01-19 00:00:30.000000000'}, {'rev_nbr': 1, 'author': '2024-01-23 12:17:30.000000000', 'date': '2024-01-23 12:17:30.000000000'}]",1,"[{'number': 1, 'created': '2024-01-18 15:55:54.000000000', 'files': ['releasenotes/notes/bug-1981982-infinidat-fix-ssl-options-6ddd852c24b16760.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'message': 'Fix Infinidat driver to use TLS/SSL communication\n\nUse `driver_use_ssl` under backend section to enable or disable TLS/SSL\ncommunication between the Cinder volume service and the storage backend.\nAnd `suppress_requests_ssl_warnings` under backend section to suppress\nrequests library SSL certificate warnings.\n\nCloses-bug: #1981982\nChange-Id: I4b302ffd1d0bef673143cd7db427bb9aac27ba33\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit ee67921a724c29a17e74f3112100c356e8c1312a)\n(cherry picked from commit 7dfd62a7c037034ae1b37f3ad5665b635f0e64ba)\n(cherry picked from commit 77a135866b90009ba376b2f7dd80f81a993f09f5)\n'}]",905916,8e6d782d0a645561e55a8506419ca73fa18ebf1d,35075,Alexander Deiter,adeiter,0,"Fix Infinidat driver to use TLS/SSL communication

Use `driver_use_ssl` under backend section to enable or disable TLS/SSL
communication between the Cinder volume service and the storage backend.
And `suppress_requests_ssl_warnings` under backend section to suppress
requests library SSL certificate warnings.

Closes-bug: #1981982
Change-Id: I4b302ffd1d0bef673143cd7db427bb9aac27ba33
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit ee67921a724c29a17e74f3112100c356e8c1312a)
(cherry picked from commit 7dfd62a7c037034ae1b37f3ad5665b635f0e64ba)
(cherry picked from commit 77a135866b90009ba376b2f7dd80f81a993f09f5)
","['releasenotes/notes/bug-1981982-infinidat-fix-ssl-options-6ddd852c24b16760.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']"
openstack%2Fcinder~906281,openstack/cinder,stable/wallaby,I80923f9968de31738c554b77c0942a6182f0e67c,Fix Infinidat driver generic volume migration,ABANDONED,2024-01-22 16:00:26.000000000,2024-03-06 11:29:41.000000000,127,9,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2024-01-22 16:33:33.000000000', 'date': '2024-01-22 16:33:33.000000000'}, {'rev_nbr': 1, 'author': '2024-01-22 17:11:46.000000000', 'date': '2024-01-22 17:11:46.000000000'}, {'rev_nbr': 1, 'author': '2024-01-23 12:18:58.000000000', 'date': '2024-01-23 12:18:58.000000000'}, {'rev_nbr': 1, 'author': '2024-01-23 14:48:56.000000000', 'date': '2024-01-23 14:48:56.000000000'}]",1,"[{'number': 1, 'created': '2024-01-22 16:00:26.000000000', 'files': ['releasenotes/notes/bug-1982405-infinidat-fix-generic-volume-migration-da33a6fe980ac4eb.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'message': 'Fix Infinidat driver generic volume migration\n\n- Use volume name_id to resolve Infinidat volume name.\n- Add update_migrated_volume function to fix generic volume\n  migration between two pools within the same storage cluster.\n\nCloses-bug: #1982405\nChange-Id: I80923f9968de31738c554b77c0942a6182f0e67c\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit 9a29d57a61cfb845eabc2cc7f72480b48b9a68e9)\n(cherry picked from commit 40ee7d0739fd65258207709511842b5eddbac4b7)\n(cherry picked from commit 9ccf691cb6a72b6e23c3095bf12909498c430465)\n(cherry picked from commit c337a1e6cfc3ae92939bfce34bf78bc22f5521e8)\n'}]",906281,27f3d542c4aadf3db3affe4762cd6b07923f1415,35075,Alexander Deiter,adeiter,0,"Fix Infinidat driver generic volume migration

- Use volume name_id to resolve Infinidat volume name.
- Add update_migrated_volume function to fix generic volume
  migration between two pools within the same storage cluster.

Closes-bug: #1982405
Change-Id: I80923f9968de31738c554b77c0942a6182f0e67c
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit 9a29d57a61cfb845eabc2cc7f72480b48b9a68e9)
(cherry picked from commit 40ee7d0739fd65258207709511842b5eddbac4b7)
(cherry picked from commit 9ccf691cb6a72b6e23c3095bf12909498c430465)
(cherry picked from commit c337a1e6cfc3ae92939bfce34bf78bc22f5521e8)
","['releasenotes/notes/bug-1982405-infinidat-fix-generic-volume-migration-da33a6fe980ac4eb.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']"
openstack%2Fcinder~898069,openstack/cinder,stable/wallaby,I5b660776190f3026296d6d3237bd3b0d609f769f,PowerMax Driver - Fix for legacy PowerMax OS around generations,ABANDONED,2023-10-12 08:50:53.000000000,2024-03-06 11:29:33.000000000,40,1,"[{'_account_id': 5314, 'name': 'Brian Rosmaita', 'email': 'rosmaita.fossdev@gmail.com', 'username': 'brian-rosmaita'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27615, 'name': 'Rajat Dhasmana', 'email': 'rajatdhasmana@gmail.com', 'username': 'whoami-rajat'}, {'_account_id': 31779, 'name': 'Jean Pierre Roquesalane', 'display_name': 'happystacker', 'email': 'jeanpierre.roquesalane@dell.com', 'username': 'happystacker'}]","[{'rev_nbr': 1, 'author': '2023-10-12 09:01:01.000000000', 'date': '2023-10-12 09:01:01.000000000'}, {'rev_nbr': 1, 'author': '2023-10-12 09:16:51.000000000', 'date': '2023-10-12 09:16:51.000000000'}, {'rev_nbr': 1, 'author': '2023-10-12 10:45:28.000000000', 'date': '2023-10-12 10:45:28.000000000'}, {'rev_nbr': 1, 'author': '2023-10-12 12:09:47.000000000', 'date': '2023-10-12 12:09:47.000000000'}, {'rev_nbr': 1, 'author': '2023-10-12 15:33:34.000000000', 'date': '2023-10-12 15:33:34.000000000'}, {'rev_nbr': 1, 'author': '2023-10-12 16:07:04.000000000', 'date': '2023-10-12 16:07:04.000000000'}, {'rev_nbr': 1, 'author': '2023-10-17 12:46:22.000000000', 'date': '2023-10-17 12:46:22.000000000'}, {'rev_nbr': 1, 'author': '2023-10-18 13:36:48.000000000', 'date': '2023-10-18 13:36:48.000000000'}, {'rev_nbr': 1, 'author': '2023-11-08 20:36:24.000000000', 'date': '2023-11-08 20:36:24.000000000'}, {'rev_nbr': 1, 'author': '2023-12-04 11:13:14.000000000', 'date': '2023-12-04 11:13:14.000000000'}, {'rev_nbr': 1, 'author': '2023-12-04 13:34:57.000000000', 'date': '2023-12-04 13:34:57.000000000'}]",5,"[{'number': 1, 'created': '2023-10-12 08:50:53.000000000', 'files': ['releasenotes/notes/powermax_legacy_generation_fix-09e437f955cd9d70.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py'], 'message': 'PowerMax Driver - Fix for legacy PowerMax OS around generations\n\nIn the previous version of PowerMax OS generations of snapVx were\nused instead of unique snap ids which were just introduced.\nA generation can be returned as a 0 integer which equates to False\nin python.  The fix is to convert the int to a string if it is\nreturned from REST as an int.\n\nCloses-Bug: #1938572\nChange-Id: I5b660776190f3026296d6d3237bd3b0d609f769f\n(cherry picked from commit ee1b5e2b756f49a384d348555e9611526c0c1217)\n'}]",898069,997f4ddc0e167ad25cfd4ca2cd5032c468cc8917,31779,Jean Pierre Roquesalane,happystacker,0,"PowerMax Driver - Fix for legacy PowerMax OS around generations

In the previous version of PowerMax OS generations of snapVx were
used instead of unique snap ids which were just introduced.
A generation can be returned as a 0 integer which equates to False
in python.  The fix is to convert the int to a string if it is
returned from REST as an int.

Closes-Bug: #1938572
Change-Id: I5b660776190f3026296d6d3237bd3b0d609f769f
(cherry picked from commit ee1b5e2b756f49a384d348555e9611526c0c1217)
","['releasenotes/notes/powermax_legacy_generation_fix-09e437f955cd9d70.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']"
openstack%2Fpython-cinderclient~847824,openstack/python-cinderclient,stable/victoria,Ifbaca4aa87d890bc5130069638d42665b914b378,Make instance_uuid optional in attachment create,ABANDONED,2022-06-28 13:29:42.000000000,2024-03-06 11:26:26.000000000,79,3,"[{'_account_id': 21129, 'name': 'Alan Bishop', 'email': 'abishop@redhat.com', 'username': 'ASBishop'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2022-06-28 13:29:42.000000000', 'files': ['cinderclient/tests/unit/v3/test_attachments.py', 'cinderclient/v3/shell.py', 'releasenotes/notes/attachment-create-optional-server-id-9299d9da2b62b263.yaml', 'cinderclient/tests/unit/v3/test_shell.py', 'cinderclient/v3/attachments.py', 'cinderclient/tests/unit/v3/fakes.py'], 'message': 'Make instance_uuid optional in attachment create\n\nCinder and cinderclient assumes an attachment create request will\nalways contain instance_uuid. This is not true when glance calls\ncinder for attachment in glance cinder configuration.\nThis patch (along with the cinder patch) make the instance_uuid\noptional and allow glance to do attachments without passing\ninstance_uuid.\n\nChange-Id: Ifbaca4aa87d890bc5130069638d42665b914b378\n(cherry picked from commit d714249ca9e95297f5e53c9dcc0af9ba58d0ab6d)\n(cherry picked from commit aba49e1b275f8a43cb808e394d6847de5928ef02)\n'}]",847824,8ab29ca1ada4a516fd1f451337b912b27ce67152,32927,mitya-eremeev-2,mitya-eremeev-2,0,"Make instance_uuid optional in attachment create

Cinder and cinderclient assumes an attachment create request will
always contain instance_uuid. This is not true when glance calls
cinder for attachment in glance cinder configuration.
This patch (along with the cinder patch) make the instance_uuid
optional and allow glance to do attachments without passing
instance_uuid.

Change-Id: Ifbaca4aa87d890bc5130069638d42665b914b378
(cherry picked from commit d714249ca9e95297f5e53c9dcc0af9ba58d0ab6d)
(cherry picked from commit aba49e1b275f8a43cb808e394d6847de5928ef02)
","['cinderclient/tests/unit/v3/test_attachments.py', 'cinderclient/v3/shell.py', 'releasenotes/notes/attachment-create-optional-server-id-9299d9da2b62b263.yaml', 'cinderclient/tests/unit/v3/test_shell.py', 'cinderclient/v3/attachments.py', 'cinderclient/tests/unit/v3/fakes.py']"
openstack%2Fos-brick~866461,openstack/os-brick,stable/victoria,Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58,Fix encryption symlink issues,ABANDONED,2022-12-05 06:13:36.000000000,2024-03-06 11:26:08.000000000,580,184,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 4, 'author': '2022-12-05 08:45:53.000000000', 'date': '2022-12-05 08:45:53.000000000'}]",2,"[{'number': 4, 'created': '2022-12-05 07:17:54.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/privileged/rootwrap.py', 'os_brick/tests/privileged/test_rootwrap.py', 'os_brick/tests/test_utils.py', 'releasenotes/notes/encryption-a642889a82ff9207.yaml', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/initiator_connector.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/utils.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/rbd.py', 'releasenotes/notes/rbd-disconnect-failure-9efa6932df40271b.yaml', 'os_brick/initiator/connectors/storpool.py'], 'message': 'Fix encryption symlink issues\n\nThis patch fixes 2 issues related to the symlinks, or lack of, that\nconnectors\' connect_volume methods return.\n\nSome connectors always return the block device instead of a symlink for\nencrypted volumes, and other connectors return a symlink that is owned\nby the system\'s udev rules.  Both cases are problematic\n\nReturning the real device can prevent the encryptor connect_volume to\ncomplete successfully, and in other cases (such as nvmeof) it completes,\nbut on the connector\'s disconnect volume it will leave the device behind\n(i.e., /dev/nvme0n1) preventing new connections that would use that same\ndevice name.\n\nReturning a symlink owned by the system\'s udev rules means that they can\nbe reclaimed by those rules at any time.  This can happen with\ncryptsetup, because when it creates a new mapping it triggers udev rules\nfor the device that can reclaim the symlink after os-brick has replaced\nit.\n\nThis patch creates a couple of decorators to facilitate this for all\nconnectors. These decorators transform the paths so that the callers\ngets the expected symlink, but the connector doesn\'t need to worry about\nit and will always see the value it returns regardless of what symlink\nthe caller gets.\n\nFrom this moment onwards we use our own custom symlink that starts with\n""/dev/disk/by-id/os-brick"".\n\nThe patch fixes bugs in other connectors (such as the RBD local\nconnection), but since there are no open bugs they have not been\nreported.\n\nThis commit also includes a squash to add a fix and releasenote from\nIb001e2b4d1347754c2b46730bc10d86e8cdab7ad to reduce backporting\nworkload.\n\nCloses-Bug: #1964379\nCloses-Bug: #1967790\nCloses-Bug: #1981455\nChange-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58\n(cherry picked from commit 1583a5038d34fd560b554e0eee5c1c5a7612722f)\n(cherry picked from commit 0bd5dc99152261d1d59ecb788faf4aea3e299edd)\n(cherry picked from commit b31b109f0f95c0102300bbda15b011f3623a2873)\nConflicts: os_brick/utils.py\n\tos_brick/initiator/connectors/iscsi.py\n\tos_brick/initiator/connectors/nvmeof.py\n(cherry picked from commit cf69f9247061bd0a945a6fb6bf688acff617eb2c)\n'}]",866461,98131c03cc7805cf2a9b99005533f9a5d7388ca4,5689,Masayuki Igawa,igawa,0,"Fix encryption symlink issues

This patch fixes 2 issues related to the symlinks, or lack of, that
connectors' connect_volume methods return.

Some connectors always return the block device instead of a symlink for
encrypted volumes, and other connectors return a symlink that is owned
by the system's udev rules.  Both cases are problematic

Returning the real device can prevent the encryptor connect_volume to
complete successfully, and in other cases (such as nvmeof) it completes,
but on the connector's disconnect volume it will leave the device behind
(i.e., /dev/nvme0n1) preventing new connections that would use that same
device name.

Returning a symlink owned by the system's udev rules means that they can
be reclaimed by those rules at any time.  This can happen with
cryptsetup, because when it creates a new mapping it triggers udev rules
for the device that can reclaim the symlink after os-brick has replaced
it.

This patch creates a couple of decorators to facilitate this for all
connectors. These decorators transform the paths so that the callers
gets the expected symlink, but the connector doesn't need to worry about
it and will always see the value it returns regardless of what symlink
the caller gets.

From this moment onwards we use our own custom symlink that starts with
""/dev/disk/by-id/os-brick"".

The patch fixes bugs in other connectors (such as the RBD local
connection), but since there are no open bugs they have not been
reported.

This commit also includes a squash to add a fix and releasenote from
Ib001e2b4d1347754c2b46730bc10d86e8cdab7ad to reduce backporting
workload.

Closes-Bug: #1964379
Closes-Bug: #1967790
Closes-Bug: #1981455
Change-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58
(cherry picked from commit 1583a5038d34fd560b554e0eee5c1c5a7612722f)
(cherry picked from commit 0bd5dc99152261d1d59ecb788faf4aea3e299edd)
(cherry picked from commit b31b109f0f95c0102300bbda15b011f3623a2873)
Conflicts: os_brick/utils.py
	os_brick/initiator/connectors/iscsi.py
	os_brick/initiator/connectors/nvmeof.py
(cherry picked from commit cf69f9247061bd0a945a6fb6bf688acff617eb2c)
","['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/privileged/rootwrap.py', 'os_brick/tests/privileged/test_rootwrap.py', 'os_brick/tests/test_utils.py', 'releasenotes/notes/encryption-a642889a82ff9207.yaml', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/initiator_connector.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/utils.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/rbd.py', 'releasenotes/notes/rbd-disconnect-failure-9efa6932df40271b.yaml', 'os_brick/initiator/connectors/storpool.py']"
openstack%2Fmanila~874494,openstack/manila,stable/victoria,If28d97a9916ce56d7f7bf93274f5618eee01c209,Check project permissions for share replicas,ABANDONED,2023-02-20 21:14:31.000000000,2024-03-06 11:25:46.000000000,14,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-02-21 00:14:11.000000000', 'date': '2023-02-21 00:14:11.000000000'}]",1,"[{'number': 1, 'created': '2023-02-20 21:14:31.000000000', 'files': ['manila/db/sqlalchemy/api.py', 'releasenotes/notes/bug-1922243-fix-project-only-replica-listing-f5f2b95ef14c3ded.yaml'], 'message': 'Check project permissions for share replicas\n\nFixed the issue of returning more share replicas than we should\nbe in a project context. Derived project id from parent share in\nthe share replicas listing query in non-admin share replicas\nlisting request scenarios.\n\nChange-Id: If28d97a9916ce56d7f7bf93274f5618eee01c209\nCloses-Bug: #1922243\nDepends-On: I69c31a33c1aad8edae2d90ad6101da1be650be85\n(cherry picked from commit 6484de925119ffb3614921b59045a958a404d43d)\n(cherry picked from commit 886c2258528a8cd2ad2d8a68634a265a257f8c7d)\n(cherry picked from commit 6cc760e0a301051dcf6fc4bd8a3a36640584538d)\n(cherry picked from commit 306b6483a86c264b15d54152bbc98d25a2ba7707)\n'}]",874494,325926946627c7c6578e98857fa1c1bdf8d88de8,16643,Goutham Pacha Ravi,gouthamr,0,"Check project permissions for share replicas

Fixed the issue of returning more share replicas than we should
be in a project context. Derived project id from parent share in
the share replicas listing query in non-admin share replicas
listing request scenarios.

Change-Id: If28d97a9916ce56d7f7bf93274f5618eee01c209
Closes-Bug: #1922243
Depends-On: I69c31a33c1aad8edae2d90ad6101da1be650be85
(cherry picked from commit 6484de925119ffb3614921b59045a958a404d43d)
(cherry picked from commit 886c2258528a8cd2ad2d8a68634a265a257f8c7d)
(cherry picked from commit 6cc760e0a301051dcf6fc4bd8a3a36640584538d)
(cherry picked from commit 306b6483a86c264b15d54152bbc98d25a2ba7707)
","['manila/db/sqlalchemy/api.py', 'releasenotes/notes/bug-1922243-fix-project-only-replica-listing-f5f2b95ef14c3ded.yaml']"
openstack%2Fmanila~892347,openstack/manila,stable/victoria,I737dbc5138c81e6708b9ebae7e7c11622e124a3d,skip periodic update on replicas in 'error_deleting',ABANDONED,2023-08-22 17:48:52.000000000,2024-03-06 11:25:37.000000000,7,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-08-22 19:45:07.000000000', 'date': '2023-08-22 19:45:07.000000000'}]",0,"[{'number': 1, 'created': '2023-08-22 17:48:52.000000000', 'files': ['manila/share/manager.py', 'releasenotes/notes/bug-2024556-skip-error-deleting-replicas-aa2ef4154d5e38f6.yaml'], 'message': ""skip periodic update on replicas in 'error_deleting'\n\nChange-Id: I737dbc5138c81e6708b9ebae7e7c11622e124a3d\nCloses-Bug: #2024578\n(cherry picked from commit ca90c87c478e2edacc8bbe01be1e5c3c6e309baa)\n(cherry picked from commit 9338a3afec2b32f312c5787eb8637cfa92429c42)\n(cherry picked from commit c14f4f0940c7ee1676591f9b06139ec749094c1b)\n(cherry picked from commit 4597939d9e689b2bc941c4b5ad4b2e84f2778698)\n(cherry picked from commit 13a0d80ce61b73c599d922575a3a61a3a70757c2)\n(cherry picked from commit 4a7dcb01071fdc44d8faa4e86dac665d495dca44)\n""}]",892347,f5e7cb7b0f3c6d076ac75dde7579cbc9244f5f7d,16643,Goutham Pacha Ravi,gouthamr,0,"skip periodic update on replicas in 'error_deleting'

Change-Id: I737dbc5138c81e6708b9ebae7e7c11622e124a3d
Closes-Bug: #2024578
(cherry picked from commit ca90c87c478e2edacc8bbe01be1e5c3c6e309baa)
(cherry picked from commit 9338a3afec2b32f312c5787eb8637cfa92429c42)
(cherry picked from commit c14f4f0940c7ee1676591f9b06139ec749094c1b)
(cherry picked from commit 4597939d9e689b2bc941c4b5ad4b2e84f2778698)
(cherry picked from commit 13a0d80ce61b73c599d922575a3a61a3a70757c2)
(cherry picked from commit 4a7dcb01071fdc44d8faa4e86dac665d495dca44)
","['manila/share/manager.py', 'releasenotes/notes/bug-2024556-skip-error-deleting-replicas-aa2ef4154d5e38f6.yaml']"
openstack%2Fcinder~837052,openstack/cinder,stable/victoria,If26ebd6a94512b1d8ecc1b786f518f667fc19ffe,fix 'huawei dorado v6' create new volume from snapshot error,ABANDONED,2022-04-08 01:54:22.000000000,2024-03-06 11:25:14.000000000,245,42,"[{'_account_id': 4523, 'name': 'Eric Harney', 'email': 'eharney@redhat.com', 'username': 'eharney'}, {'_account_id': 13425, 'name': 'Simon Dodsley', 'email': 'simon@purestorage.com', 'username': 'sdodsley'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-04-08 02:49:15.000000000', 'date': '2022-04-08 02:49:15.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 02:51:29.000000000', 'date': '2022-04-08 02:51:29.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 02:52:01.000000000', 'date': '2022-04-08 02:52:01.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 03:04:38.000000000', 'date': '2022-04-08 03:04:38.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 03:55:24.000000000', 'date': '2022-04-08 03:55:24.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 04:26:38.000000000', 'date': '2022-04-08 04:26:38.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 04:29:05.000000000', 'date': '2022-04-08 04:29:05.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 04:32:30.000000000', 'date': '2022-04-08 04:32:30.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 04:44:45.000000000', 'date': '2022-04-08 04:44:45.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 05:44:21.000000000', 'date': '2022-04-08 05:44:21.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 18:25:26.000000000', 'date': '2022-04-08 18:25:26.000000000'}, {'rev_nbr': 1, 'author': '2022-04-08 19:17:00.000000000', 'date': '2022-04-08 19:17:00.000000000'}, {'rev_nbr': 1, 'author': '2022-04-09 20:51:04.000000000', 'date': '2022-04-09 20:51:04.000000000'}]",3,"[{'number': 1, 'created': '2022-04-08 01:54:22.000000000', 'files': ['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/huawei_conf.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/common.py', 'cinder/volume/drivers/huawei/rest_client.py', 'cinder/volume/drivers/huawei/huawei_utils.py'], 'message': ""fix 'huawei dorado v6' create new volume from snapshot error\n\nchange the luncopy mode,in dorado v6 we use clone_pair\nmodified some interface to call dorado v6\n\nCloses-Bug: #1942342\nChange-Id: If26ebd6a94512b1d8ecc1b786f518f667fc19ffe\n(cherry picked from commit 77da18785af7bede26d3478934864e293c6f4ef6)\n""}]",837052,be93b23379abac2f38d94ded2d2dadb5984d0a37,34247,huangbingyan,bingyan,0,"fix 'huawei dorado v6' create new volume from snapshot error

change the luncopy mode,in dorado v6 we use clone_pair
modified some interface to call dorado v6

Closes-Bug: #1942342
Change-Id: If26ebd6a94512b1d8ecc1b786f518f667fc19ffe
(cherry picked from commit 77da18785af7bede26d3478934864e293c6f4ef6)
","['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/huawei_conf.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/common.py', 'cinder/volume/drivers/huawei/rest_client.py', 'cinder/volume/drivers/huawei/huawei_utils.py']"
openstack%2Fcinder~831188,openstack/cinder,stable/victoria,Ib6a2e4d68e532b91161df5245c17ce815f12f935,Prevent temporary volume from being deleted accidentally,ABANDONED,2022-02-28 17:55:11.000000000,2024-03-06 11:25:06.000000000,32,19,"[{'_account_id': 4523, 'name': 'Eric Harney', 'email': 'eharney@redhat.com', 'username': 'eharney'}, {'_account_id': 5314, 'name': 'Brian Rosmaita', 'email': 'rosmaita.fossdev@gmail.com', 'username': 'brian-rosmaita'}, {'_account_id': 13425, 'name': 'Simon Dodsley', 'email': 'simon@purestorage.com', 'username': 'sdodsley'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-02-28 20:04:27.000000000', 'date': '2022-02-28 20:04:27.000000000'}, {'rev_nbr': 1, 'author': '2022-02-28 20:06:42.000000000', 'date': '2022-02-28 20:06:42.000000000'}, {'rev_nbr': 1, 'author': '2022-02-28 20:08:53.000000000', 'date': '2022-02-28 20:08:53.000000000'}, {'rev_nbr': 1, 'author': '2022-02-28 20:42:19.000000000', 'date': '2022-02-28 20:42:19.000000000'}, {'rev_nbr': 1, 'author': '2022-02-28 20:45:05.000000000', 'date': '2022-02-28 20:45:05.000000000'}, {'rev_nbr': 1, 'author': '2022-02-28 20:48:04.000000000', 'date': '2022-02-28 20:48:04.000000000'}, {'rev_nbr': 1, 'author': '2022-02-28 21:33:51.000000000', 'date': '2022-02-28 21:33:51.000000000'}, {'rev_nbr': 1, 'author': '2022-02-28 21:45:02.000000000', 'date': '2022-02-28 21:45:02.000000000'}, {'rev_nbr': 1, 'author': '2022-02-28 21:45:16.000000000', 'date': '2022-02-28 21:45:16.000000000'}, {'rev_nbr': 1, 'author': '2022-02-28 22:26:03.000000000', 'date': '2022-02-28 22:26:03.000000000'}, {'rev_nbr': 1, 'author': '2022-03-01 00:03:02.000000000', 'date': '2022-03-01 00:03:02.000000000'}, {'rev_nbr': 1, 'author': '2022-03-02 15:29:37.000000000', 'date': '2022-03-02 15:29:37.000000000'}, {'rev_nbr': 1, 'author': '2022-03-02 16:42:17.000000000', 'date': '2022-03-02 16:42:17.000000000'}, {'rev_nbr': 2, 'author': '2022-06-02 05:17:26.000000000', 'date': '2022-06-02 05:17:26.000000000'}, {'rev_nbr': 2, 'author': '2022-06-02 05:50:48.000000000', 'date': '2022-06-02 05:50:48.000000000'}, {'rev_nbr': 2, 'author': '2022-06-02 06:12:12.000000000', 'date': '2022-06-02 06:12:12.000000000'}, {'rev_nbr': 2, 'author': '2022-06-02 07:33:32.000000000', 'date': '2022-06-02 07:33:32.000000000'}, {'rev_nbr': 2, 'author': '2022-06-02 07:53:12.000000000', 'date': '2022-06-02 07:53:12.000000000'}, {'rev_nbr': 2, 'author': '2022-06-02 08:31:23.000000000', 'date': '2022-06-02 08:31:23.000000000'}, {'rev_nbr': 2, 'author': '2022-06-02 09:15:23.000000000', 'date': '2022-06-02 09:15:23.000000000'}, {'rev_nbr': 2, 'author': '2023-06-16 19:21:55.000000000', 'date': '2023-06-16 19:21:55.000000000'}]",7,"[{'number': 2, 'created': '2022-06-02 04:28:07.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/volume/driver.py', 'cinder/tests/unit/volume/test_driver.py', 'cinder/tests/unit/backup/test_backup.py', 'releasenotes/notes/bug-1970768-temp-vol-delete-6586a13f08d7a5c1.yaml'], 'message': ""Prevent temporary volume from being deleted accidentally\n\nA temporary volume can be deleted while it is in use by DELETE API\naccidentally because its status is `available`. To avoid this deletion,\nthis fix sets a value which doesn't accept deletion to volume status of\na temporary volume. When a temporary volume is used for backing up,\n`backing-up` is set. When a temporary volume is used for reverting a\nsnapshot, `in-use` is set because the volume is attached by a host.\n\nCloses-Bug: #1970768\nChange-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935\n(cherry picked from commit 53c13891b313d58923b223f6fbb1882e991f2785)\n(cherry picked from commit d773fae8256f76ee78c81a5c07096a45227c6569)\n(cherry picked from commit cf2f3d07ae4eccb4371d031fef992d107e9c07c4)\nConflicts:\n\tcinder/volume/manager.py\n(cherry picked from commit 553264535dc34f676ff4db3c77e1869c1fb3c6b7)\n""}]",831188,2ae18d436ce140c4a6816a3e44b3dca7b5208b07,7130,David Hill,dhill,0,"Prevent temporary volume from being deleted accidentally

A temporary volume can be deleted while it is in use by DELETE API
accidentally because its status is `available`. To avoid this deletion,
this fix sets a value which doesn't accept deletion to volume status of
a temporary volume. When a temporary volume is used for backing up,
`backing-up` is set. When a temporary volume is used for reverting a
snapshot, `in-use` is set because the volume is attached by a host.

Closes-Bug: #1970768
Change-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935
(cherry picked from commit 53c13891b313d58923b223f6fbb1882e991f2785)
(cherry picked from commit d773fae8256f76ee78c81a5c07096a45227c6569)
(cherry picked from commit cf2f3d07ae4eccb4371d031fef992d107e9c07c4)
Conflicts:
	cinder/volume/manager.py
(cherry picked from commit 553264535dc34f676ff4db3c77e1869c1fb3c6b7)
","['cinder/volume/manager.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/volume/driver.py', 'cinder/tests/unit/volume/test_driver.py', 'cinder/tests/unit/backup/test_backup.py', 'releasenotes/notes/bug-1970768-temp-vol-delete-6586a13f08d7a5c1.yaml']"
openstack%2Fcinder~878606,openstack/cinder,stable/victoria,I3ab2cc28bef7524cec4f161c9d5417597df56b89,"Update url of ""Unity Replication White Paper""",ABANDONED,2023-03-27 02:25:53.000000000,2024-03-06 11:24:58.000000000,2,2,"[{'_account_id': 5997, 'name': 'Walt', 'display_name': 'Hemna', 'email': 'waboring@hemna.com', 'username': 'walter-boring', 'status': 'SAP'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 30615, 'name': 'Tushar Trambak Gite', 'email': 'tushargite96@gmail.com', 'username': 'tushargite96'}]","[{'rev_nbr': 1, 'author': '2023-03-27 06:24:41.000000000', 'date': '2023-03-27 06:24:41.000000000'}, {'rev_nbr': 1, 'author': '2023-03-27 06:50:57.000000000', 'date': '2023-03-27 06:50:57.000000000'}, {'rev_nbr': 1, 'author': '2023-03-27 07:08:25.000000000', 'date': '2023-03-27 07:08:25.000000000'}, {'rev_nbr': 1, 'author': '2023-03-27 08:40:15.000000000', 'date': '2023-03-27 08:40:15.000000000'}, {'rev_nbr': 1, 'author': '2023-04-18 20:36:12.000000000', 'date': '2023-04-18 20:36:12.000000000'}, {'rev_nbr': 1, 'author': '2023-06-19 17:02:08.000000000', 'date': '2023-06-19 17:02:08.000000000'}]",1,"[{'number': 1, 'created': '2023-03-27 02:25:53.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'message': 'Update url of ""Unity Replication White Paper""\n\nThe website ""www.emc.com"" has been discontinued.\n\nReplace the outdated link\n""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""\nwith the link\n""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".\n\nChange-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89\n(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)\n'}]",878606,58de6888b4d57e28462b85339b1b5ba63e3b4708,33787,weilingfei,weilingfei,0,"Update url of ""Unity Replication White Paper""

The website ""www.emc.com"" has been discontinued.

Replace the outdated link
""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""
with the link
""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".

Change-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89
(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)
",['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst']
openstack%2Fcinder~863769,openstack/cinder,stable/victoria,I67dd35f781847784e9558b42973624342564e2dc,Revise allocated_capacity_gb periodically,ABANDONED,2022-11-06 02:22:10.000000000,2024-03-06 11:24:49.000000000,59,0,"[{'_account_id': 4523, 'name': 'Eric Harney', 'email': 'eharney@redhat.com', 'username': 'eharney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 30615, 'name': 'Tushar Trambak Gite', 'email': 'tushargite96@gmail.com', 'username': 'tushargite96'}]","[{'rev_nbr': 1, 'author': '2022-11-06 02:53:57.000000000', 'date': '2022-11-06 02:53:57.000000000'}, {'rev_nbr': 1, 'author': '2022-11-06 02:59:48.000000000', 'date': '2022-11-06 02:59:48.000000000'}, {'rev_nbr': 1, 'author': '2022-11-06 03:23:48.000000000', 'date': '2022-11-06 03:23:48.000000000'}, {'rev_nbr': 1, 'author': '2022-11-06 03:34:15.000000000', 'date': '2022-11-06 03:34:15.000000000'}, {'rev_nbr': 1, 'author': '2022-11-06 03:36:47.000000000', 'date': '2022-11-06 03:36:47.000000000'}, {'rev_nbr': 1, 'author': '2022-11-06 04:04:25.000000000', 'date': '2022-11-06 04:04:25.000000000'}]",2,"[{'number': 1, 'created': '2022-11-06 02:22:10.000000000', 'files': ['cinder/volume/manager.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py'], 'message': 'Revise allocated_capacity_gb periodically\n\nThe value of allocated_capacity_gb needs to be revised\nperiodically due to individual statistic of each\ncinder-volume in the case of multiple cinder-volume\nservices which correspond to the same host or cluster.\n\nCloses-Bug: #1995204\nChange-Id: I67dd35f781847784e9558b42973624342564e2dc\n'}]",863769,5490f73403acdfbb47d578db4347e6fa50d63fb2,30696,zhaoleilc,zhaoleilc,0,"Revise allocated_capacity_gb periodically

The value of allocated_capacity_gb needs to be revised
periodically due to individual statistic of each
cinder-volume in the case of multiple cinder-volume
services which correspond to the same host or cluster.

Closes-Bug: #1995204
Change-Id: I67dd35f781847784e9558b42973624342564e2dc
","['cinder/volume/manager.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py']"
openstack%2Fcinder~885917,openstack/cinder,stable/victoria,Ie2b7a163ee3a83121c04a21808ef437d740426d5,Fix Infinidat driver to return all iSCSI portals,ABANDONED,2023-06-12 21:42:39.000000000,2024-03-06 11:24:41.000000000,197,52,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-06-12 22:04:29.000000000', 'date': '2023-06-12 22:04:29.000000000'}, {'rev_nbr': 1, 'author': '2023-06-12 22:49:17.000000000', 'date': '2023-06-12 22:49:17.000000000'}, {'rev_nbr': 1, 'author': '2023-06-12 22:51:26.000000000', 'date': '2023-06-12 22:51:26.000000000'}, {'rev_nbr': 1, 'author': '2023-06-12 23:05:45.000000000', 'date': '2023-06-12 23:05:45.000000000'}, {'rev_nbr': 1, 'author': '2023-06-13 01:10:36.000000000', 'date': '2023-06-13 01:10:36.000000000'}, {'rev_nbr': 1, 'author': '2023-06-14 15:59:26.000000000', 'date': '2023-06-14 15:59:26.000000000'}, {'rev_nbr': 1, 'author': '2023-06-14 19:26:53.000000000', 'date': '2023-06-14 19:26:53.000000000'}, {'rev_nbr': 1, 'author': '2023-07-13 09:51:45.000000000', 'date': '2023-07-13 09:51:45.000000000'}, {'rev_nbr': 1, 'author': '2023-07-19 11:22:10.000000000', 'date': '2023-07-19 11:22:10.000000000'}, {'rev_nbr': 1, 'author': '2023-07-19 17:41:52.000000000', 'date': '2023-07-19 17:41:52.000000000'}, {'rev_nbr': 1, 'author': '2023-07-19 19:14:33.000000000', 'date': '2023-07-19 19:14:33.000000000'}, {'rev_nbr': 1, 'author': '2023-07-20 10:29:04.000000000', 'date': '2023-07-20 10:29:04.000000000'}, {'rev_nbr': 1, 'author': '2023-07-25 11:05:56.000000000', 'date': '2023-07-25 11:05:56.000000000'}, {'rev_nbr': 1, 'author': '2024-01-19 01:34:26.000000000', 'date': '2024-01-19 01:34:26.000000000'}]",8,"[{'number': 1, 'created': '2023-06-12 21:42:39.000000000', 'files': ['releasenotes/notes/bug-1981354-infinidat-iscsi-fix-multipath-3f8a0be5f541c66e.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'message': 'Fix Infinidat driver to return all iSCSI portals\n\nInfinidat Cinder driver truncates the list of configured iSCSI\nportals and returns only the first IP for a given network space.\nAnd in case of network path failure we lose access to the data.\n\nTo fix this issue, we need to return all configured and enabled\niSCSI portals for a given configured network space.\n\nCloses-bug: #1981354\nChange-Id: Ie2b7a163ee3a83121c04a21808ef437d740426d5\nCo-authored-by: Alexander Deiter <adeiter@infinidat.com>\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit a25dcc85180124f3f8db836ec49c0ee5b5741b62)\n(cherry picked from commit bb510b64a5c77c60950ee13ce3a05c39ec667f01)\n(cherry picked from commit 4e2b049555e701e3742af6239c1bb991514b05aa)\n(cherry picked from commit f6b44fc201c3e679d70367fd588304d7a8cbf420)\n'}]",885917,c451111d4ebd6090808c15bc7dde6548b043a41b,35075,Alexander Deiter,adeiter,0,"Fix Infinidat driver to return all iSCSI portals

Infinidat Cinder driver truncates the list of configured iSCSI
portals and returns only the first IP for a given network space.
And in case of network path failure we lose access to the data.

To fix this issue, we need to return all configured and enabled
iSCSI portals for a given configured network space.

Closes-bug: #1981354
Change-Id: Ie2b7a163ee3a83121c04a21808ef437d740426d5
Co-authored-by: Alexander Deiter <adeiter@infinidat.com>
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit a25dcc85180124f3f8db836ec49c0ee5b5741b62)
(cherry picked from commit bb510b64a5c77c60950ee13ce3a05c39ec667f01)
(cherry picked from commit 4e2b049555e701e3742af6239c1bb991514b05aa)
(cherry picked from commit f6b44fc201c3e679d70367fd588304d7a8cbf420)
","['releasenotes/notes/bug-1981354-infinidat-iscsi-fix-multipath-3f8a0be5f541c66e.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']"
openstack%2Fcinder~906134,openstack/cinder,stable/victoria,I4b302ffd1d0bef673143cd7db427bb9aac27ba33,Fix Infinidat driver to use TLS/SSL communication,ABANDONED,2024-01-22 08:37:59.000000000,2024-03-06 11:24:32.000000000,72,37,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2024-01-22 09:11:02.000000000', 'date': '2024-01-22 09:11:02.000000000'}, {'rev_nbr': 1, 'author': '2024-01-22 09:23:13.000000000', 'date': '2024-01-22 09:23:13.000000000'}, {'rev_nbr': 1, 'author': '2024-01-22 12:39:41.000000000', 'date': '2024-01-22 12:39:41.000000000'}]",0,"[{'number': 1, 'created': '2024-01-22 08:37:59.000000000', 'files': ['releasenotes/notes/bug-1981982-infinidat-fix-ssl-options-6ddd852c24b16760.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'message': 'Fix Infinidat driver to use TLS/SSL communication\n\nUse `driver_use_ssl` under backend section to enable or disable TLS/SSL\ncommunication between the Cinder volume service and the storage backend.\nAnd `suppress_requests_ssl_warnings` under backend section to suppress\nrequests library SSL certificate warnings.\n\nCloses-bug: #1981982\nChange-Id: I4b302ffd1d0bef673143cd7db427bb9aac27ba33\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit ee67921a724c29a17e74f3112100c356e8c1312a)\n(cherry picked from commit 7dfd62a7c037034ae1b37f3ad5665b635f0e64ba)\n(cherry picked from commit 77a135866b90009ba376b2f7dd80f81a993f09f5)\n(cherry picked from commit 8e6d782d0a645561e55a8506419ca73fa18ebf1d)\n'}]",906134,07ba1254061f80d63761c02cc4e9fc47db93f63e,35075,Alexander Deiter,adeiter,0,"Fix Infinidat driver to use TLS/SSL communication

Use `driver_use_ssl` under backend section to enable or disable TLS/SSL
communication between the Cinder volume service and the storage backend.
And `suppress_requests_ssl_warnings` under backend section to suppress
requests library SSL certificate warnings.

Closes-bug: #1981982
Change-Id: I4b302ffd1d0bef673143cd7db427bb9aac27ba33
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit ee67921a724c29a17e74f3112100c356e8c1312a)
(cherry picked from commit 7dfd62a7c037034ae1b37f3ad5665b635f0e64ba)
(cherry picked from commit 77a135866b90009ba376b2f7dd80f81a993f09f5)
(cherry picked from commit 8e6d782d0a645561e55a8506419ca73fa18ebf1d)
","['releasenotes/notes/bug-1981982-infinidat-fix-ssl-options-6ddd852c24b16760.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']"
openstack%2Fcinder~906282,openstack/cinder,stable/victoria,I80923f9968de31738c554b77c0942a6182f0e67c,Fix Infinidat driver generic volume migration,ABANDONED,2024-01-22 16:12:04.000000000,2024-03-06 11:24:24.000000000,127,9,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2024-01-22 16:56:39.000000000', 'date': '2024-01-22 16:56:39.000000000'}, {'rev_nbr': 1, 'author': '2024-01-22 17:44:15.000000000', 'date': '2024-01-22 17:44:15.000000000'}]",0,"[{'number': 1, 'created': '2024-01-22 16:12:04.000000000', 'files': ['releasenotes/notes/bug-1982405-infinidat-fix-generic-volume-migration-da33a6fe980ac4eb.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'message': 'Fix Infinidat driver generic volume migration\n\n- Use volume name_id to resolve Infinidat volume name.\n- Add update_migrated_volume function to fix generic volume\n  migration between two pools within the same storage cluster.\n\nCloses-bug: #1982405\nChange-Id: I80923f9968de31738c554b77c0942a6182f0e67c\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit 9a29d57a61cfb845eabc2cc7f72480b48b9a68e9)\n(cherry picked from commit 40ee7d0739fd65258207709511842b5eddbac4b7)\n(cherry picked from commit 9ccf691cb6a72b6e23c3095bf12909498c430465)\n(cherry picked from commit c337a1e6cfc3ae92939bfce34bf78bc22f5521e8)\n(cherry picked from commit 27f3d542c4aadf3db3affe4762cd6b07923f1415)\n'}]",906282,2954d68f26967de700370f7a141e5389a54032c8,35075,Alexander Deiter,adeiter,0,"Fix Infinidat driver generic volume migration

- Use volume name_id to resolve Infinidat volume name.
- Add update_migrated_volume function to fix generic volume
  migration between two pools within the same storage cluster.

Closes-bug: #1982405
Change-Id: I80923f9968de31738c554b77c0942a6182f0e67c
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit 9a29d57a61cfb845eabc2cc7f72480b48b9a68e9)
(cherry picked from commit 40ee7d0739fd65258207709511842b5eddbac4b7)
(cherry picked from commit 9ccf691cb6a72b6e23c3095bf12909498c430465)
(cherry picked from commit c337a1e6cfc3ae92939bfce34bf78bc22f5521e8)
(cherry picked from commit 27f3d542c4aadf3db3affe4762cd6b07923f1415)
","['releasenotes/notes/bug-1982405-infinidat-fix-generic-volume-migration-da33a6fe980ac4eb.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']"
openstack%2Fcinder~906293,openstack/cinder,stable/victoria,Ibda3a09a181160b8ee9129795429a7f1795e907d,Fix Infinidat driver multi-attach feature,ABANDONED,2024-01-23 13:10:58.000000000,2024-03-06 11:24:16.000000000,149,13,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2024-01-23 13:42:47.000000000', 'date': '2024-01-23 13:42:47.000000000'}, {'rev_nbr': 1, 'author': '2024-01-23 14:33:38.000000000', 'date': '2024-01-23 14:33:38.000000000'}, {'rev_nbr': 1, 'author': '2024-01-23 15:31:44.000000000', 'date': '2024-01-23 15:31:44.000000000'}]",0,"[{'number': 1, 'created': '2024-01-23 13:10:58.000000000', 'files': ['releasenotes/notes/bug-1982350-infinidat-fix-multi-attach-19f62d182b675e59.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'message': 'Fix Infinidat driver multi-attach feature\n\nAdded a check if there are multiple attachments to the volume\nfrom the same connector and terminate connection only for the\nlast attachment from the corresponding host.\n\nCloses-bug: #1982350\nChange-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit d8ca81e7c911add4f99f888d7315130ac3b60e22)\n(cherry picked from commit 8e5330c029b538252e8743f7dd2276f423a8ec1b)\n(cherry picked from commit ea95cbabd9348fcbac79b9e5d1d4de2ab0f68c77)\n(cherry picked from commit c26244d47a9816fdd88468741547229f2202b2dd)\n(cherry picked from commit a8288d3b9154e33aaca44b0833413ed80911ad05)\n'}]",906293,6d3c1cdb68d8bd555d08808a9e1a12a478fe3422,35075,Alexander Deiter,adeiter,0,"Fix Infinidat driver multi-attach feature

Added a check if there are multiple attachments to the volume
from the same connector and terminate connection only for the
last attachment from the corresponding host.

Closes-bug: #1982350
Change-Id: Ibda3a09a181160b8ee9129795429a7f1795e907d
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit d8ca81e7c911add4f99f888d7315130ac3b60e22)
(cherry picked from commit 8e5330c029b538252e8743f7dd2276f423a8ec1b)
(cherry picked from commit ea95cbabd9348fcbac79b9e5d1d4de2ab0f68c77)
(cherry picked from commit c26244d47a9816fdd88468741547229f2202b2dd)
(cherry picked from commit a8288d3b9154e33aaca44b0833413ed80911ad05)
","['releasenotes/notes/bug-1982350-infinidat-fix-multi-attach-19f62d182b675e59.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']"
openstack%2Freleases~910403,openstack/releases,master,I09c6f4c18e3202e9cc584b160851000da835693c,[winstackers] Transition EM branches to Unmaintained,MERGED,2024-02-27 18:55:40.000000000,2024-03-06 11:15:04.000000000,60,3,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,3,"[{'number': 1, 'created': '2024-02-27 18:55:40.000000000', 'files': ['deliverables/victoria/os-win.yaml', 'deliverables/victoria/networking-hyperv.yaml', 'deliverables/wallaby/networking-hyperv.yaml', 'deliverables/xena/os-win.yaml', 'deliverables/wallaby/compute-hyperv.yaml', 'deliverables/wallaby/os-win.yaml', 'deliverables/xena/compute-hyperv.yaml', 'deliverables/xena/networking-hyperv.yaml', 'deliverables/victoria/compute-hyperv.yaml'], 'message': '[winstackers] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I09c6f4c18e3202e9cc584b160851000da835693c\n'}]",910403,998cfeec7d2f01e949ef3f9b25894c8da0a0d79b,17685,Elod Illes,elod.illes,0,"[winstackers] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I09c6f4c18e3202e9cc584b160851000da835693c
","['deliverables/victoria/os-win.yaml', 'deliverables/victoria/networking-hyperv.yaml', 'deliverables/wallaby/networking-hyperv.yaml', 'deliverables/xena/os-win.yaml', 'deliverables/wallaby/compute-hyperv.yaml', 'deliverables/wallaby/os-win.yaml', 'deliverables/xena/compute-hyperv.yaml', 'deliverables/xena/networking-hyperv.yaml', 'deliverables/victoria/compute-hyperv.yaml']"
openstack%2Freleases~910424,openstack/releases,master,Ic0372eb62517f5ae6ae329c19f842c4df2720ab2,[manila] Transition EM branches to Unmaintained,MERGED,2024-02-27 18:58:38.000000000,2024-03-06 11:08:11.000000000,60,3,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 16643, 'name': 'Goutham Pacha Ravi', 'email': 'gouthampravi@gmail.com', 'username': 'gouthamr'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29632, 'name': 'Carlos Eduardo', 'email': 'ces.eduardo98@gmail.com', 'username': 'silvacarlos'}]",,3,"[{'number': 1, 'created': '2024-02-27 18:58:38.000000000', 'files': ['deliverables/victoria/manila.yaml', 'deliverables/xena/manila-ui.yaml', 'deliverables/xena/python-manilaclient.yaml', 'deliverables/wallaby/python-manilaclient.yaml', 'deliverables/wallaby/manila-ui.yaml', 'deliverables/xena/manila.yaml', 'deliverables/wallaby/manila.yaml', 'deliverables/victoria/python-manilaclient.yaml', 'deliverables/victoria/manila-ui.yaml'], 'message': '[manila] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: Ic0372eb62517f5ae6ae329c19f842c4df2720ab2\n'}]",910424,81a16f42a91248fc5b9723a8536fdd6ec75df1ec,17685,Elod Illes,elod.illes,0,"[manila] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: Ic0372eb62517f5ae6ae329c19f842c4df2720ab2
","['deliverables/victoria/manila.yaml', 'deliverables/xena/manila-ui.yaml', 'deliverables/xena/python-manilaclient.yaml', 'deliverables/wallaby/python-manilaclient.yaml', 'deliverables/wallaby/manila-ui.yaml', 'deliverables/xena/manila.yaml', 'deliverables/wallaby/manila.yaml', 'deliverables/victoria/python-manilaclient.yaml', 'deliverables/victoria/manila-ui.yaml']"
openstack%2Freleases~911012,openstack/releases,master,I17ea9e4bd333acd691127e2a6b195eef1ee7b33a,Add a release highlight for Designate,MERGED,2024-03-05 00:12:36.000000000,2024-03-06 11:08:07.000000000,6,0,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,4,"[{'number': 2, 'created': '2024-03-05 15:10:12.000000000', 'files': ['deliverables/caracal/designate.yaml'], 'message': 'Add a release highlight for Designate\n\nChange-Id: I17ea9e4bd333acd691127e2a6b195eef1ee7b33a\n'}]",911012,01f117a788ddd85f68d1d4399a7532690ff95dea,11628,Michael Johnson,johnsom,0,"Add a release highlight for Designate

Change-Id: I17ea9e4bd333acd691127e2a6b195eef1ee7b33a
",['deliverables/caracal/designate.yaml']
openstack%2Freleases~910958,openstack/releases,master,I75b94662be15b122080bc816cde8d0edf6e4c160,Remove myself from oslo release liaison,MERGED,2024-03-04 14:49:32.000000000,2024-03-06 11:08:03.000000000,0,6,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2024-03-04 14:49:32.000000000', 'files': ['data/release_liaisons.yaml'], 'message': 'Remove myself from oslo release liaison\n\nChange-Id: I75b94662be15b122080bc816cde8d0edf6e4c160\n'}]",910958,be9d148e69b16d305e6bc395c99a670e152e0078,28522,Hervé Beraud,hberaud,0,"Remove myself from oslo release liaison

Change-Id: I75b94662be15b122080bc816cde8d0edf6e4c160
",['data/release_liaisons.yaml']
openstack%2Freleases~911013,openstack/releases,master,I2e64c2d32d3f9e4bdbece4c4b0d66893f307160f,Add a release highlight for Octavia SR-IOV,MERGED,2024-03-05 00:13:09.000000000,2024-03-06 10:53:14.000000000,5,0,"[{'_account_id': 6469, 'name': 'Carlos Gonçalves', 'display_name': 'Carlos Goncalves', 'email': 'cgoncalves@redhat.com', 'username': 'cgoncalves'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29244, 'name': 'Gregory Thiemonge', 'email': 'gthiemon@redhat.com', 'username': 'gthiemonge'}, {'_account_id': 34429, 'name': 'Tom Weininger', 'email': 'dienste@weinimo.de', 'username': 'tweining'}]",,3,"[{'number': 1, 'created': '2024-03-05 00:13:09.000000000', 'files': ['deliverables/caracal/octavia.yaml'], 'message': 'Add a release highlight for Octavia SR-IOV\n\nChange-Id: I2e64c2d32d3f9e4bdbece4c4b0d66893f307160f\n'}]",911013,3ca03fdc50ae9e9027e031bb8cfafc3109b446be,11628,Michael Johnson,johnsom,0,"Add a release highlight for Octavia SR-IOV

Change-Id: I2e64c2d32d3f9e4bdbece4c4b0d66893f307160f
",['deliverables/caracal/octavia.yaml']
openstack%2Fpuppet-openstack-integration~907920,openstack/puppet-openstack-integration,stable/2023.2,I0cad57a5800aec3bff53d6ec3397cd7d9886a623,Remove dependency on puppet-qdr,MERGED,2024-02-06 03:54:08.000000000,2024-03-06 10:44:24.000000000,0,7,"[{'_account_id': 14985, 'name': 'Alex Schultz', 'email': 'aschultz@next-development.com', 'username': 'mwhahaha'}, {'_account_id': 16137, 'name': 'Tobias Urdin', 'email': 'tobias.urdin@binero.com', 'username': 'tobasco'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-02-06 03:54:08.000000000', 'files': ['openstack_modules.txt', 'Puppetfile', 'zuul.d/base.yaml'], 'message': 'Remove dependency on puppet-qdr\n\n... because puppet-qdr is being retired.\n\nConflicts:\n\tPuppetfile\n\tzuul.d/base.yaml\n\nChange-Id: I0cad57a5800aec3bff53d6ec3397cd7d9886a623\n(cherry picked from commit 6d9e28faeff95886ceca9d6260e5809dd4776e63)\n'}]",907920,96f365b79e38932b7e25b87c975a3d4ecf1fb8b2,9816,Takashi Kajinami,kajinamit,0,"Remove dependency on puppet-qdr

... because puppet-qdr is being retired.

Conflicts:
	Puppetfile
	zuul.d/base.yaml

Change-Id: I0cad57a5800aec3bff53d6ec3397cd7d9886a623
(cherry picked from commit 6d9e28faeff95886ceca9d6260e5809dd4776e63)
","['openstack_modules.txt', 'Puppetfile', 'zuul.d/base.yaml']"
openstack%2Fpuppet-openstack-integration~907941,openstack/puppet-openstack-integration,stable/2023.1,I0cad57a5800aec3bff53d6ec3397cd7d9886a623,Remove dependency on puppet-qdr,MERGED,2024-02-06 03:54:59.000000000,2024-03-06 10:44:23.000000000,0,7,"[{'_account_id': 14985, 'name': 'Alex Schultz', 'email': 'aschultz@next-development.com', 'username': 'mwhahaha'}, {'_account_id': 16137, 'name': 'Tobias Urdin', 'email': 'tobias.urdin@binero.com', 'username': 'tobasco'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-02-06 03:54:59.000000000', 'files': ['openstack_modules.txt', 'Puppetfile', 'zuul.d/base.yaml'], 'message': 'Remove dependency on puppet-qdr\n\n... because puppet-qdr is being retired.\n\nConflicts:\n\tPuppetfile\n\tzuul.d/base.yaml\n\nChange-Id: I0cad57a5800aec3bff53d6ec3397cd7d9886a623\n(cherry picked from commit 6d9e28faeff95886ceca9d6260e5809dd4776e63)\n(cherry picked from commit 96f365b79e38932b7e25b87c975a3d4ecf1fb8b2)\n'}]",907941,e170e126dcb77c91083450da0b4cdb786913b115,9816,Takashi Kajinami,kajinamit,0,"Remove dependency on puppet-qdr

... because puppet-qdr is being retired.

Conflicts:
	Puppetfile
	zuul.d/base.yaml

Change-Id: I0cad57a5800aec3bff53d6ec3397cd7d9886a623
(cherry picked from commit 6d9e28faeff95886ceca9d6260e5809dd4776e63)
(cherry picked from commit 96f365b79e38932b7e25b87c975a3d4ecf1fb8b2)
","['openstack_modules.txt', 'Puppetfile', 'zuul.d/base.yaml']"
openstack%2Fkolla-ansible~911067,openstack/kolla-ansible,stable/2023.2,I14ae2be2e19ad06e3190e2e948bac7ce77e80d4b,Configure missing nova services to expose vendordata over configdrive,MERGED,2024-03-05 16:46:34.000000000,2024-03-06 10:43:45.000000000,54,0,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 23084, 'name': 'Bartosz Bezak', 'email': 'bartosz@stackhpc.com', 'username': 'b.bezak'}, {'_account_id': 27339, 'name': 'Michal Arbet', 'email': 'michal.arbet@ultimum.io', 'username': 'michalarbet'}, {'_account_id': 32553, 'name': 'Sven Kieske', 'email': 'sven_oss@posteo.de', 'username': 'skieske'}]",,6,"[{'number': 1, 'created': '2024-03-05 16:46:34.000000000', 'files': ['ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/nova-cell/templates/nova-compute.json.j2', 'ansible/roles/nova-cell/templates/nova-compute-ironic.json.j2', 'releasenotes/notes/bug-2049607-fb79ea2960b91bde.yaml', 'ansible/roles/nova-cell/tasks/config.yml'], 'message': 'Configure missing nova services to expose vendordata over configdrive\n\nCloses-Bug: #2049607\n\nChange-Id: I14ae2be2e19ad06e3190e2e948bac7ce77e80d4b\n(cherry picked from commit 0376f9dd8d03cf0fbae49156bb2d81ed32c03302)\n'}]",911067,c67aee482c8140eb2b194c7c129a308ce9a05fcc,15197,Pierre Riteau,priteau,0,"Configure missing nova services to expose vendordata over configdrive

Closes-Bug: #2049607

Change-Id: I14ae2be2e19ad06e3190e2e948bac7ce77e80d4b
(cherry picked from commit 0376f9dd8d03cf0fbae49156bb2d81ed32c03302)
","['ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/nova-cell/templates/nova-compute.json.j2', 'ansible/roles/nova-cell/templates/nova-compute-ironic.json.j2', 'releasenotes/notes/bug-2049607-fb79ea2960b91bde.yaml', 'ansible/roles/nova-cell/tasks/config.yml']"
openstack%2Fmagnum~910324,openstack/magnum,master,I3551ae244ecf99f67a9b142c964c020a5fae70a3,Drop k8s_fedora_atomic_v1 driver,MERGED,2024-02-27 08:47:18.000000000,2024-03-06 10:15:33.000000000,107,5900,"[{'_account_id': 8064, 'name': 'Jake Yip', 'email': 'jake.yip@ardc.edu.au', 'username': 'jake'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 4, 'created': '2024-02-27 16:35:35.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/tools/grafana-prometheus-dashboard.json', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py', 'magnum/drivers/k8s_fedora_coreos_v1/version.py', 'magnum/drivers/common/templates/fragments/configure_docker_storage_driver_atomic.sh', 'magnum/drivers/k8s_fedora_atomic_v1/template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/tests/unit/drivers/test_heat_driver.py', 'releasenotes/notes/drop-fedora-atomic-driver-76da9f0ea0cf20bb.yaml', 'magnum/tests/unit/conductor/handlers/test_cluster_conductor.py', 'magnum/tests/unit/api/controllers/v1/test_cluster_template.py', 'magnum/tests/unit/api/test_attr_validator.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/COPYING', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/tests/unit/db/utils.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/tests/unit/api/test_validation.py', 'magnum/tests/unit/drivers/test_k8s_fedora_atomic_v1_driver.py', 'magnum/drivers/k8s_fedora_atomic_v1/__init__.py', 'magnum/drivers/k8s_fedora_atomic_v1/version.py', 'magnum/tests/contrib/copy_instance_logs.sh', 'setup.cfg', 'magnum/api/controllers/v1/cluster_template.py'], 'message': 'Drop k8s_fedora_atomic_v1 driver\n\nChange-Id: I3551ae244ecf99f67a9b142c964c020a5fae70a3\n'}]",910324,ed699b0c9af7564225f6b0cc446e43d892fca7c2,22629,Michal Nasiadka,mnasiadka,0,"Drop k8s_fedora_atomic_v1 driver

Change-Id: I3551ae244ecf99f67a9b142c964c020a5fae70a3
","['magnum/drivers/k8s_fedora_atomic_v1/tools/grafana-prometheus-dashboard.json', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py', 'magnum/drivers/k8s_fedora_coreos_v1/version.py', 'magnum/drivers/common/templates/fragments/configure_docker_storage_driver_atomic.sh', 'magnum/drivers/k8s_fedora_atomic_v1/template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/tests/unit/drivers/test_heat_driver.py', 'releasenotes/notes/drop-fedora-atomic-driver-76da9f0ea0cf20bb.yaml', 'magnum/tests/unit/conductor/handlers/test_cluster_conductor.py', 'magnum/tests/unit/api/controllers/v1/test_cluster_template.py', 'magnum/tests/unit/api/test_attr_validator.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/COPYING', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/tests/unit/db/utils.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/tests/unit/api/test_validation.py', 'magnum/tests/unit/drivers/test_k8s_fedora_atomic_v1_driver.py', 'magnum/drivers/k8s_fedora_atomic_v1/__init__.py', 'magnum/drivers/k8s_fedora_atomic_v1/version.py', 'magnum/tests/contrib/copy_instance_logs.sh', 'setup.cfg', 'magnum/api/controllers/v1/cluster_template.py']"
openstack%2Fmagnum~899530,openstack/magnum,master,I9d0851e7f0c740f2a23c3ff935a21cff35769a78,Add feature flag for beta drivers,MERGED,2023-10-30 00:29:51.000000000,2024-03-06 10:10:09.000000000,21,0,"[{'_account_id': 14394, 'name': 'Dale Smith', 'email': 'dale@catalystcloud.nz', 'username': 'dalees'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 26285, 'name': 'wu.chunyang', 'email': 'wchy1001@gmail.com', 'username': 'wu.chunyang'}, {'_account_id': 28619, 'name': 'Dmitriy Rabotyagov', 'email': 'noonedeadpunk@gmail.com', 'username': 'noonedeadpunk'}]",,2,"[{'number': 3, 'created': '2024-02-27 10:40:34.000000000', 'files': ['devstack/lib/magnum', 'magnum/conf/drivers.py', 'magnum/drivers/common/driver.py'], 'message': 'Add feature flag for beta drivers\n\nChange-Id: I9d0851e7f0c740f2a23c3ff935a21cff35769a78\n'}]",899530,34c82bdb96f5291588720f81c97028ae2e295c18,8064,Jake Yip,jake,0,"Add feature flag for beta drivers

Change-Id: I9d0851e7f0c740f2a23c3ff935a21cff35769a78
","['devstack/lib/magnum', 'magnum/conf/drivers.py', 'magnum/drivers/common/driver.py']"
openstack%2Fnetworking-bagpipe~907189,openstack/networking-bagpipe,master,Ieaf7e926c64921b9e92cf04370bff8edb2b0b304,Bump hacking,MERGED,2024-01-30 10:05:11.000000000,2024-03-06 10:02:43.000000000,227,377,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 9656, 'name': 'Ihar Hrachyshka', 'email': 'ihrachys@redhat.com', 'username': 'ihrachys', 'status': 'Red Hat Networking Systems Engineer'}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,17,"[{'number': 3, 'created': '2024-02-09 09:45:46.000000000', 'files': ['networking_bagpipe/objects/sfc.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/ipvpn/mpls_ovs_dataplane.py', '.pylintrc', 'test-requirements.txt', 'networking_bagpipe/agent/bagpipe_bgp_agent.py', 'networking_bagpipe/bagpipe_bgp/cli/rest_attach.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_vpn_manager.py', 'networking_bagpipe/bagpipe_bgp/common/dataplane_utils.py', 'networking_bagpipe/tests/fullstack/test_bgpvpn_connectivity.py', 'networking_bagpipe/bagpipe_bgp/common/net_utils.py', 'networking_bagpipe/bagpipe_bgp/engine/tracker_worker.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_identifier_allocators.py', 'networking_bagpipe/bagpipe_bgp/vpn/evpn/ovs.py', 'networking_bagpipe/bagpipe_bgp/vpn/manager.py', 'networking_bagpipe/bagpipe_bgp/common/looking_glass.py', 'networking_bagpipe/bagpipe_bgp/common/exceptions.py', 'networking_bagpipe/bagpipe_bgp/constants.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/base.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_config.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_ipvpn_objects.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_tracker_worker.py', 'networking_bagpipe/bagpipe_bgp/vpn/dataplane_drivers.py', 'networking_bagpipe/bagpipe_bgp/engine/flowspec.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_dataplane_utils.py', 'networking_bagpipe/bagpipe_bgp/api/config.py', 'networking_bagpipe/bagpipe_bgp/engine/bgp_peer_worker.py', 'networking_bagpipe/bagpipe_bgp/engine/route_table_manager.py', 'networking_bagpipe/bagpipe_bgp/common/log_decorator.py', 'networking_bagpipe/bagpipe_bgp/vpn/ipvpn/mpls_linux_dataplane.py', 'tox.ini', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_vpn_instance.py', 'networking_bagpipe/agent/bgpvpn/agent_extension.py', 'networking_bagpipe/bagpipe_bgp/vpn/evpn/linux_vxlan.py', 'networking_bagpipe/tests/unit/agent/bgpvpn/test_agent_extension.py', 'networking_bagpipe/bagpipe_bgp/common/utils.py', 'networking_bagpipe/bagpipe_bgp/engine/exabgp_peer_worker.py', 'networking_bagpipe/bagpipe_bgp/common/config.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_route_table_manager.py', 'requirements.txt', 'networking_bagpipe/tests/unit/bagpipe_bgp/evpn/test_ovs.py', 'networking_bagpipe/bagpipe_bgp/common/run_command.py', 'networking_bagpipe/bagpipe_bgp/engine/bgp_manager.py', 'networking_bagpipe/bagpipe_bgp/bgp_daemon.py', 'networking_bagpipe/bagpipe_bgp/vpn/identifier_allocators.py', 'networking_bagpipe/tests/fullstack/test_bagpipe_ml2_connectivity.py', 'networking_bagpipe/tests/unit/objects/test_bgpvpn.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_api.py', 'networking_bagpipe/bagpipe_bgp/vpn/ipvpn/mpls_ovs_dataplane.py', 'networking_bagpipe/objects/bgpvpn.py', 'networking_bagpipe/bagpipe_bgp/vpn/evpn/__init__.py', 'networking_bagpipe/bagpipe_bgp/vpn/vpn_instance.py', 'networking_bagpipe/bagpipe_bgp/cli/impex2dot.py', 'networking_bagpipe/tests/unit/agent/sfc/test_agent_extension.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_bgp_manager.py', 'networking_bagpipe/bagpipe_bgp/vpn/ipvpn/__init__.py', 'networking_bagpipe/bagpipe_bgp/fakerr.py', 'networking_bagpipe/driver/sfc.py', 'networking_bagpipe/bagpipe_bgp/common/__init__.py', 'networking_bagpipe/bagpipe_bgp/api/api.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_engine_objects.py', 'networking_bagpipe/bagpipe_bgp/api/controllers.py', 'networking_bagpipe/bagpipe_bgp/engine/__init__.py', 'networking_bagpipe/bagpipe_bgp/engine/ipvpn.py', 'networking_bagpipe/bagpipe_bgp/engine/worker.py', 'networking_bagpipe/db/migration/alembic_migrations/versions/pike/expand/d2c2dcb6c2d4_defining_sfc_data_model.py', 'networking_bagpipe/privileged/privileged_utils.py'], 'message': 'Bump hacking\n\nhacking 3.0.x is too old.\nTry to synchronize pylint ignore and extension list with\nother Networking projects.\n\nWith new pip the order of packages is not relevant, so the\nrelated comment from requirements.txts is removed, see pip\ndocumentation:\nhttps://pip.pypa.io/en/stable/cli/pip_install/#installation-order\n\nChange-Id: Ieaf7e926c64921b9e92cf04370bff8edb2b0b304\n'}]",907189,8942c58f20684a1e3f5f944ddbf4967d0468534a,8313,Lajos Katona,elajkat,0,"Bump hacking

hacking 3.0.x is too old.
Try to synchronize pylint ignore and extension list with
other Networking projects.

With new pip the order of packages is not relevant, so the
related comment from requirements.txts is removed, see pip
documentation:
https://pip.pypa.io/en/stable/cli/pip_install/#installation-order

Change-Id: Ieaf7e926c64921b9e92cf04370bff8edb2b0b304
","['networking_bagpipe/objects/sfc.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/ipvpn/mpls_ovs_dataplane.py', '.pylintrc', 'test-requirements.txt', 'networking_bagpipe/agent/bagpipe_bgp_agent.py', 'networking_bagpipe/bagpipe_bgp/cli/rest_attach.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_vpn_manager.py', 'networking_bagpipe/bagpipe_bgp/common/dataplane_utils.py', 'networking_bagpipe/tests/fullstack/test_bgpvpn_connectivity.py', 'networking_bagpipe/bagpipe_bgp/common/net_utils.py', 'networking_bagpipe/bagpipe_bgp/engine/tracker_worker.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_identifier_allocators.py', 'networking_bagpipe/bagpipe_bgp/vpn/evpn/ovs.py', 'networking_bagpipe/bagpipe_bgp/vpn/manager.py', 'networking_bagpipe/bagpipe_bgp/common/looking_glass.py', 'networking_bagpipe/bagpipe_bgp/common/exceptions.py', 'networking_bagpipe/bagpipe_bgp/constants.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/base.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_config.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_ipvpn_objects.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_tracker_worker.py', 'networking_bagpipe/bagpipe_bgp/vpn/dataplane_drivers.py', 'networking_bagpipe/bagpipe_bgp/engine/flowspec.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_dataplane_utils.py', 'networking_bagpipe/bagpipe_bgp/api/config.py', 'networking_bagpipe/bagpipe_bgp/engine/bgp_peer_worker.py', 'networking_bagpipe/bagpipe_bgp/engine/route_table_manager.py', 'networking_bagpipe/bagpipe_bgp/common/log_decorator.py', 'networking_bagpipe/bagpipe_bgp/vpn/ipvpn/mpls_linux_dataplane.py', 'tox.ini', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_vpn_instance.py', 'networking_bagpipe/agent/bgpvpn/agent_extension.py', 'networking_bagpipe/bagpipe_bgp/vpn/evpn/linux_vxlan.py', 'networking_bagpipe/tests/unit/agent/bgpvpn/test_agent_extension.py', 'networking_bagpipe/bagpipe_bgp/common/utils.py', 'networking_bagpipe/bagpipe_bgp/engine/exabgp_peer_worker.py', 'networking_bagpipe/bagpipe_bgp/common/config.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_route_table_manager.py', 'requirements.txt', 'networking_bagpipe/tests/unit/bagpipe_bgp/evpn/test_ovs.py', 'networking_bagpipe/bagpipe_bgp/common/run_command.py', 'networking_bagpipe/bagpipe_bgp/engine/bgp_manager.py', 'networking_bagpipe/bagpipe_bgp/bgp_daemon.py', 'networking_bagpipe/bagpipe_bgp/vpn/identifier_allocators.py', 'networking_bagpipe/tests/fullstack/test_bagpipe_ml2_connectivity.py', 'networking_bagpipe/tests/unit/objects/test_bgpvpn.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_api.py', 'networking_bagpipe/bagpipe_bgp/vpn/ipvpn/mpls_ovs_dataplane.py', 'networking_bagpipe/objects/bgpvpn.py', 'networking_bagpipe/bagpipe_bgp/vpn/evpn/__init__.py', 'networking_bagpipe/bagpipe_bgp/vpn/vpn_instance.py', 'networking_bagpipe/bagpipe_bgp/cli/impex2dot.py', 'networking_bagpipe/tests/unit/agent/sfc/test_agent_extension.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_bgp_manager.py', 'networking_bagpipe/bagpipe_bgp/vpn/ipvpn/__init__.py', 'networking_bagpipe/bagpipe_bgp/fakerr.py', 'networking_bagpipe/driver/sfc.py', 'networking_bagpipe/bagpipe_bgp/common/__init__.py', 'networking_bagpipe/bagpipe_bgp/api/api.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_engine_objects.py', 'networking_bagpipe/bagpipe_bgp/api/controllers.py', 'networking_bagpipe/bagpipe_bgp/engine/__init__.py', 'networking_bagpipe/bagpipe_bgp/engine/ipvpn.py', 'networking_bagpipe/bagpipe_bgp/engine/worker.py', 'networking_bagpipe/db/migration/alembic_migrations/versions/pike/expand/d2c2dcb6c2d4_defining_sfc_data_model.py', 'networking_bagpipe/privileged/privileged_utils.py']"
openstack%2Fneutron-tempest-plugin~911081,openstack/neutron-tempest-plugin,master,I09c12ba36b007d4f6fdd3723974ecfe9e4466b72,[OVN] Do not check L3 agents state with ML2/OVN,MERGED,2024-03-05 10:28:01.000000000,2024-03-06 09:43:06.000000000,1,1,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 5948, 'name': 'Oleg Bondarev', 'email': 'obondarev@mirantis.com', 'username': 'obondarev'}, {'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 11975, 'name': 'Slawek Kaplonski', 'email': 'skaplons@redhat.com', 'username': 'slaweq'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-05 10:28:01.000000000', 'files': ['neutron_tempest_plugin/scenario/base.py'], 'message': '[OVN] Do not check L3 agents state with ML2/OVN\n\nWith [1], the ML2/OVN L3 plugin will have the ""ha"" API extension\nenabled. The OVN L3 plugin does not have L3 agents; this check\nshould be skipped.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/910889\n\nRelated-Bug: #2020823\nChange-Id: I09c12ba36b007d4f6fdd3723974ecfe9e4466b72\n'}]",911081,9286588fc0c3df370d4b906776432b7f3591e3b6,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,0,"[OVN] Do not check L3 agents state with ML2/OVN

With [1], the ML2/OVN L3 plugin will have the ""ha"" API extension
enabled. The OVN L3 plugin does not have L3 agents; this check
should be skipped.

[1]https://review.opendev.org/c/openstack/neutron/+/910889

Related-Bug: #2020823
Change-Id: I09c12ba36b007d4f6fdd3723974ecfe9e4466b72
",['neutron_tempest_plugin/scenario/base.py']
openstack%2Fironic~911160,openstack/ironic,stable/wallaby,Ibe3274d7fabfd4f06af8aba1af0957fa36e8d217,stable only/ci: pin CI to dnsmasq 2.85/pin proliantutils,MERGED,2024-03-05 17:44:31.000000000,2024-03-06 09:27:34.000000000,22,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 23851, 'name': 'Riccardo Pittau', 'email': 'elfosardo@gmail.com', 'username': 'elfosardo'}]",,0,"[{'number': 1, 'created': '2024-03-05 17:44:31.000000000', 'files': ['devstack/lib/ironic', 'driver-requirements.txt', 'devstack/plugin.sh', 'zuul.d/project.yaml'], 'message': 'stable only/ci: pin CI to dnsmasq 2.85/pin proliantutils\n\nA temporary path forward to increase CI stability, by pinning\nto what appears to be a ""good working version"" of upstream dnsmasq\nwhich does not crash fon us.\n\nAlso explicitly pins proliantutils back to prevent newer proliantutils\npulling in lextudio-pysnmp instead of pysnmp.\n\nThis commit merges I3295c92fd7b7871ad351b94f4c6cf0f554279db0\nand Ibe3274d7fabfd4f06af8aba1af0957fa36e8d217.\n\nChange-Id: Ibe3274d7fabfd4f06af8aba1af0957fa36e8d217\n'}]",911160,663a97f8c39ad212603168b1369ca778e5b9aaef,11655,Julia Kreger,jkreger,0,"stable only/ci: pin CI to dnsmasq 2.85/pin proliantutils

A temporary path forward to increase CI stability, by pinning
to what appears to be a ""good working version"" of upstream dnsmasq
which does not crash fon us.

Also explicitly pins proliantutils back to prevent newer proliantutils
pulling in lextudio-pysnmp instead of pysnmp.

This commit merges I3295c92fd7b7871ad351b94f4c6cf0f554279db0
and Ibe3274d7fabfd4f06af8aba1af0957fa36e8d217.

Change-Id: Ibe3274d7fabfd4f06af8aba1af0957fa36e8d217
","['devstack/lib/ironic', 'driver-requirements.txt', 'devstack/plugin.sh', 'zuul.d/project.yaml']"
openstack%2Fkolla-ansible~897444,openstack/kolla-ansible,stable/zed,Ie4d8ab5a3df748137835cae1c943b9180cd10eb1,Add support for multiple ceph files,ABANDONED,2023-10-05 14:10:53.000000000,2024-03-06 09:17:31.000000000,618,285,"[{'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}]",,1,"[{'number': 1, 'created': '2023-10-05 14:10:53.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/gnocchi/tasks/external_ceph.yml', 'ansible/roles/manila/templates/manila-share.conf.j2', 'ansible/roles/cinder/tasks/external_ceph.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/manila/templates/manila-share.json.j2', 'ansible/roles/glance/templates/glance-api.json.j2', 'ansible/roles/gnocchi/templates/gnocchi-statsd.json.j2', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/nova-cell/tasks/external_ceph.yml', 'ansible/roles/gnocchi/templates/gnocchi-metricd.json.j2', 'ansible/roles/glance/tasks/external_ceph.yml', 'ansible/roles/glance/templates/glance-api.conf.j2', 'releasenotes/notes/multiple-ceph-backends-913051631c6e69ee.yaml', 'ansible/roles/glance/defaults/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/cinder/templates/cinder-volume.json.j2', 'ansible/roles/manila/tasks/external_ceph.yml', 'doc/source/reference/storage/external-ceph-guide.rst', 'ansible/roles/gnocchi/templates/gnocchi-api.json.j2', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder-backup.json.j2', 'ansible/roles/nova-cell/templates/nova-compute.json.j2', 'ansible/roles/zun/tasks/external_ceph.yml', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/zun/templates/zun-compute.json.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/zun/defaults/main.yml'], 'message': 'Add support for multiple ceph files\n\nThis patch is adding a feature for an option to copy different\nceph configuration files and corresponding keyrings for cinder,\nglance, manila, gnocchi and nova services.\n\nThis is especially useful when the deployment uses availability\nzones as below example.\n\n  - Individual compute can read/write to individual ceph\n    cluster in same AZ.\n  - Cinder can write to several ceph clusters in several AZs.\n  - Glance can use multistore and upload images to\n    several ceph clusters in several AZs at once.\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n(cherry picked from commit fdf2385f14850cdd580afb5762b6fb29ab246992)\n'}]",897444,5fce52d3baa03b6ad7e4a4d19abfdd8da63dd045,27339,Michal Arbet,michalarbet,0,"Add support for multiple ceph files

This patch is adding a feature for an option to copy different
ceph configuration files and corresponding keyrings for cinder,
glance, manila, gnocchi and nova services.

This is especially useful when the deployment uses availability
zones as below example.

  - Individual compute can read/write to individual ceph
    cluster in same AZ.
  - Cinder can write to several ceph clusters in several AZs.
  - Glance can use multistore and upload images to
    several ceph clusters in several AZs at once.

Change-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1
(cherry picked from commit fdf2385f14850cdd580afb5762b6fb29ab246992)
","['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/gnocchi/tasks/external_ceph.yml', 'ansible/roles/manila/templates/manila-share.conf.j2', 'ansible/roles/cinder/tasks/external_ceph.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/manila/templates/manila-share.json.j2', 'ansible/roles/glance/templates/glance-api.json.j2', 'ansible/roles/gnocchi/templates/gnocchi-statsd.json.j2', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/nova-cell/tasks/external_ceph.yml', 'ansible/roles/gnocchi/templates/gnocchi-metricd.json.j2', 'ansible/roles/glance/tasks/external_ceph.yml', 'ansible/roles/glance/templates/glance-api.conf.j2', 'releasenotes/notes/multiple-ceph-backends-913051631c6e69ee.yaml', 'ansible/roles/glance/defaults/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/cinder/templates/cinder-volume.json.j2', 'ansible/roles/manila/tasks/external_ceph.yml', 'doc/source/reference/storage/external-ceph-guide.rst', 'ansible/roles/gnocchi/templates/gnocchi-api.json.j2', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder-backup.json.j2', 'ansible/roles/nova-cell/templates/nova-compute.json.j2', 'ansible/roles/zun/tasks/external_ceph.yml', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/zun/templates/zun-compute.json.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/zun/defaults/main.yml']"
openstack%2Foctavia~911305,openstack/octavia,master,I1e830e9c06f87125835afe2115d6b32a84fc2b80,reno: Update master for unmaintained/victoria,MERGED,2024-03-05 18:57:26.000000000,2024-03-06 09:10:56.000000000,1,1,"[{'_account_id': 11628, 'name': 'Michael Johnson', 'email': 'johnsomor@gmail.com', 'username': 'johnsom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34429, 'name': 'Tom Weininger', 'email': 'dienste@weinimo.de', 'username': 'tweining'}]",,1,"[{'number': 1, 'created': '2024-03-05 18:57:26.000000000', 'files': ['releasenotes/source/victoria.rst'], 'message': 'reno: Update master for unmaintained/victoria\n\nUpdate the victoria release notes configuration to build from\nunmaintained/victoria.\n\nChange-Id: I1e830e9c06f87125835afe2115d6b32a84fc2b80\n'}]",911305,959297dba0ccbe932bbf1b06655a0dd879d27ae8,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/victoria

Update the victoria release notes configuration to build from
unmaintained/victoria.

Change-Id: I1e830e9c06f87125835afe2115d6b32a84fc2b80
",['releasenotes/source/victoria.rst']
openstack%2Fmasakari-dashboard~909489,openstack/masakari-dashboard,master,Iafc9da3037c858a327b8805c137c6a074c56d7cc,support for Masakari VMoves,MERGED,2024-02-20 02:02:40.000000000,2024-03-06 09:07:42.000000000,25,11,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 30623, 'name': 'suzhengwei', 'email': 'suzhengwei@inspur.com', 'username': 'SuZhengwei'}]",,2,"[{'number': 3, 'created': '2024-02-28 02:08:13.000000000', 'files': ['masakaridashboard/vmoves/templates/vmoves/_detail_overview.html', 'masakaridashboard/vmoves/tests.py', 'masakaridashboard/notifications/views.py', 'masakaridashboard/api/api.py', 'masakaridashboard/vmoves/views.py', 'masakaridashboard/vmoves/tables.py', 'masakaridashboard/notifications/tabs.py', 'masakaridashboard/vmoves/templates/vmoves/detail.html'], 'message': 'support for Masakari VMoves\n\nIt supports for Masakari VMove API in microversion 1.3.\n\nChange-Id: Iafc9da3037c858a327b8805c137c6a074c56d7cc\n'}]",909489,a75c6018ba7e8a78004a8c072ba2f29b1ffe3ff0,30623,suzhengwei,SuZhengwei,0,"support for Masakari VMoves

It supports for Masakari VMove API in microversion 1.3.

Change-Id: Iafc9da3037c858a327b8805c137c6a074c56d7cc
","['masakaridashboard/vmoves/templates/vmoves/_detail_overview.html', 'masakaridashboard/vmoves/tests.py', 'masakaridashboard/notifications/views.py', 'masakaridashboard/api/api.py', 'masakaridashboard/vmoves/views.py', 'masakaridashboard/vmoves/tables.py', 'masakaridashboard/notifications/tabs.py', 'masakaridashboard/vmoves/templates/vmoves/detail.html']"
openstack%2Fceilometer~911398,openstack/ceilometer,master,Icced745dfbc6d90257422cfcc0864f87afdee637,DNM: testing CI status,ABANDONED,2024-03-06 06:42:35.000000000,2024-03-06 09:06:38.000000000,2,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 2, 'created': '2024-03-06 07:47:52.000000000', 'files': ['ceilometer/__init__.py', 'devstack/plugin.sh'], 'message': 'DNM: testing CI status\n\nChange-Id: Icced745dfbc6d90257422cfcc0864f87afdee637\n'}]",911398,f26a8f400669d70aa77e5c54c45f8d987f4c5ec4,13252,Dr. Jens Harbott,jrosenboom,0,"DNM: testing CI status

Change-Id: Icced745dfbc6d90257422cfcc0864f87afdee637
","['ceilometer/__init__.py', 'devstack/plugin.sh']"
openstack%2Foctavia~911324,openstack/octavia,master,I611b21c6a03b01c8dff364b223da324d6e2fb1ac,reno: Update master for unmaintained/xena,MERGED,2024-03-05 18:59:46.000000000,2024-03-06 08:49:43.000000000,1,1,"[{'_account_id': 11628, 'name': 'Michael Johnson', 'email': 'johnsomor@gmail.com', 'username': 'johnsom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34429, 'name': 'Tom Weininger', 'email': 'dienste@weinimo.de', 'username': 'tweining'}]",,1,"[{'number': 1, 'created': '2024-03-05 18:59:46.000000000', 'files': ['releasenotes/source/xena.rst'], 'message': 'reno: Update master for unmaintained/xena\n\nUpdate the xena release notes configuration to build from\nunmaintained/xena.\n\nChange-Id: I611b21c6a03b01c8dff364b223da324d6e2fb1ac\n'}]",911324,5179cc3a2eb9c73aa508c2a7f75a6225616717fb,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/xena

Update the xena release notes configuration to build from
unmaintained/xena.

Change-Id: I611b21c6a03b01c8dff364b223da324d6e2fb1ac
",['releasenotes/source/xena.rst']
openstack%2Foctavia~911315,openstack/octavia,master,If0336f59e8aa68298cd3efb9b8ee2dd391b90387,reno: Update master for unmaintained/wallaby,MERGED,2024-03-05 18:58:36.000000000,2024-03-06 08:48:40.000000000,1,1,"[{'_account_id': 11628, 'name': 'Michael Johnson', 'email': 'johnsomor@gmail.com', 'username': 'johnsom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34429, 'name': 'Tom Weininger', 'email': 'dienste@weinimo.de', 'username': 'tweining'}]",,1,"[{'number': 1, 'created': '2024-03-05 18:58:36.000000000', 'files': ['releasenotes/source/wallaby.rst'], 'message': 'reno: Update master for unmaintained/wallaby\n\nUpdate the wallaby release notes configuration to build from\nunmaintained/wallaby.\n\nChange-Id: If0336f59e8aa68298cd3efb9b8ee2dd391b90387\n'}]",911315,1d411539bbc704413c54039538edb3a36689f439,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/wallaby

Update the wallaby release notes configuration to build from
unmaintained/wallaby.

Change-Id: If0336f59e8aa68298cd3efb9b8ee2dd391b90387
",['releasenotes/source/wallaby.rst']
openstack%2Ftelemetry-tempest-plugin~910936,openstack/telemetry-tempest-plugin,master,Iec57e5167016d627cbd7cc08d62c5ea84e1702d5,[DNM] Drop dib-utils and fix sg-core test scenario.,ABANDONED,2024-03-04 14:12:35.000000000,2024-03-06 08:47:21.000000000,16,9,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-04 14:12:35.000000000', 'files': ['telemetry_tempest_plugin/config.py', 'telemetry_tempest_plugin/scenario/test_telemetry_integration_prometheus.py', 'telemetry_tempest_plugin/scenario/telemetry_integration_prometheus_gabbits/ceilometer-sg-core-integration.yaml', '.zuul.yaml'], 'message': ""[DNM] Drop dib-utils and fix sg-core test scenario.\n\nDO NOT MERGE -- THIS IS A TEST\n\nThe scenario assumed, there is an image in glance, which may\nnot always be the case. This patch creates a new image based\non path configured in CONF.scenario.img_file. To add this\nfunctionality the TestTelemetryIntegrationPrometheus class\nwas moved to inherit from tempest.scenario.manager.ScenarioTest.\nRequirements on glance and ceilometer were added too. Ceilometer\nwas required even before this change, but the requirement check\nwas missing.\n\nThe scenario assumed the ceilometer pipeline interval is less\nthan 2 minutes. This patch adds a config option for this.\nBy default 300s is used, which is the default interval when\ninstalling devstack. It's then changed to 15s in .zuul.yaml,\nwhich is the interval used in our tests.\n\nChange-Id: Iec57e5167016d627cbd7cc08d62c5ea84e1702d5\n""}]",910936,6918252b751bec06eaf5ab003ca5f88286b0a991,4264,Matthias Runge,mrunge,0,"[DNM] Drop dib-utils and fix sg-core test scenario.

DO NOT MERGE -- THIS IS A TEST

The scenario assumed, there is an image in glance, which may
not always be the case. This patch creates a new image based
on path configured in CONF.scenario.img_file. To add this
functionality the TestTelemetryIntegrationPrometheus class
was moved to inherit from tempest.scenario.manager.ScenarioTest.
Requirements on glance and ceilometer were added too. Ceilometer
was required even before this change, but the requirement check
was missing.

The scenario assumed the ceilometer pipeline interval is less
than 2 minutes. This patch adds a config option for this.
By default 300s is used, which is the default interval when
installing devstack. It's then changed to 15s in .zuul.yaml,
which is the interval used in our tests.

Change-Id: Iec57e5167016d627cbd7cc08d62c5ea84e1702d5
","['telemetry_tempest_plugin/config.py', 'telemetry_tempest_plugin/scenario/test_telemetry_integration_prometheus.py', 'telemetry_tempest_plugin/scenario/telemetry_integration_prometheus_gabbits/ceilometer-sg-core-integration.yaml', '.zuul.yaml']"
openstack%2Fosc-lib~911063,openstack/osc-lib,stable/victoria,Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512,Drop master-only job from zuul config,MERGED,2024-03-05 06:43:10.000000000,2024-03-06 08:23:53.000000000,0,8,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27900, 'name': 'Artem Goncharov', 'email': 'artem.goncharov@gmail.com', 'username': 'gtema'}]",,1,"[{'number': 2, 'created': '2024-03-05 10:31:33.000000000', 'files': ['.zuul.yaml'], 'message': 'Drop master-only job from zuul config\n\nThe tips job should only run on the master branch, drop it from the zuul\nconfig for stable branches.\n\nUpdated for zed and older: Drop openstack-lower-constraints-jobs\n\nChange-Id: Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512\n(cherry picked from commit 923a847dea1d4577e75d4044a58596a0665941f1)\n'}]",911063,2b6cfe24164eb5484d58a2653122cc1b31fb5e12,13252,Dr. Jens Harbott,jrosenboom,0,"Drop master-only job from zuul config

The tips job should only run on the master branch, drop it from the zuul
config for stable branches.

Updated for zed and older: Drop openstack-lower-constraints-jobs

Change-Id: Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512
(cherry picked from commit 923a847dea1d4577e75d4044a58596a0665941f1)
",['.zuul.yaml']
openstack%2Fglance~907111,openstack/glance,master,Id94e93e3ba3fc207b39c7dbff92495805aa0f6f9,Make `centralized_db` cache driver default,MERGED,2024-01-29 18:47:26.000000000,2024-03-06 08:18:35.000000000,60,24,"[{'_account_id': 4393, 'name': 'Dan Smith', 'email': 'dms@danplanet.com', 'username': 'danms'}, {'_account_id': 8122, 'name': 'Cyril Roelandt', 'email': 'cyril@redhat.com', 'username': 'cyril.roelandt.enovance'}, {'_account_id': 19138, 'name': 'Pranali Deore', 'email': 'pdeore@redhat.com', 'username': 'PranaliD'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,16,"[{'number': 14, 'created': '2024-03-05 19:55:40.000000000', 'files': ['glance/tests/unit/common/test_wsgi.py', 'glance/tests/functional/v2/test_images.py', 'glance/tests/functional/__init__.py', 'glance/image_cache/__init__.py', 'glance/tests/unit/test_sqlite_migration.py', 'glance/tests/functional/v2/test_cache_api.py', 'glance/tests/unit/common/test_wsgi_app.py'], 'message': 'Make `centralized_db` cache driver default\n\nMade `centralized_db` cache driver as default driver so that we\ncan test it using tempest jobs in gate.\n\nImplements blueprint centralized-cache-db\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/907110\n\nChange-Id: Id94e93e3ba3fc207b39c7dbff92495805aa0f6f9\n'}]",907111,9b9111f81996a22527f9622d0707891e445cbd5f,9303,Abhishek Kekane,abhishekkekane,0,"Make `centralized_db` cache driver default

Made `centralized_db` cache driver as default driver so that we
can test it using tempest jobs in gate.

Implements blueprint centralized-cache-db
Depends-On: https://review.opendev.org/c/openstack/devstack/+/907110

Change-Id: Id94e93e3ba3fc207b39c7dbff92495805aa0f6f9
","['glance/tests/unit/common/test_wsgi.py', 'glance/tests/functional/v2/test_images.py', 'glance/tests/functional/__init__.py', 'glance/image_cache/__init__.py', 'glance/tests/unit/test_sqlite_migration.py', 'glance/tests/functional/v2/test_cache_api.py', 'glance/tests/unit/common/test_wsgi_app.py']"
openstack%2Fheat~910151,openstack/heat,master,Idf8045e21fc919d6b5b3ee5afc8bbea0bc525433,context: Add redacted_copy method,ABANDONED,2024-02-26 09:09:40.000000000,2024-03-06 07:49:08.000000000,40,0,"[{'_account_id': 9816, 'name': 'Takashi Kajinami', 'email': 'kajinamit@oss.nttdata.com', 'username': 'kajinamit'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-02-26 09:09:40.000000000', 'files': ['heat/common/context.py'], 'message': 'context: Add redacted_copy method\n\nThe redacted_copy method is now used to generate context without\nsensitive info, which is included in notification messages.\n\nChange-Id: Idf8045e21fc919d6b5b3ee5afc8bbea0bc525433\n'}]",910151,1effe79b469231ba863f87717ba4019fa9643b21,9816,Takashi Kajinami,kajinamit,0,"context: Add redacted_copy method

The redacted_copy method is now used to generate context without
sensitive info, which is included in notification messages.

Change-Id: Idf8045e21fc919d6b5b3ee5afc8bbea0bc525433
",['heat/common/context.py']
openstack%2Fceilometer~619985,openstack/ceilometer,master,Ib4f04c1a5a2c8eb8ade04a0e276f4aa837609582,Set Tempest's service_availability setting for ceilometer,ABANDONED,2018-11-26 09:04:20.000000000,2024-03-06 07:49:06.000000000,15,4,"[{'_account_id': 1669, 'name': 'Julien Danjou', 'display_name': 'jd', 'email': 'julien@danjou.info', 'username': 'jdanjou'}, {'_account_id': 4491, 'name': 'Lianhao Lu', 'email': 'lianhao.lu@intel.com', 'username': 'lianhao-lu'}, {'_account_id': 5803, 'name': 'Attila Fazekas', 'email': 'afazekas@redhat.com', 'username': 'afazekas'}, {'_account_id': 6537, 'name': 'gordon chung', 'email': 'gord@live.ca', 'username': 'chungg'}, {'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 15843, 'name': 'Intel Hardware-Meters CI', 'email': 'ipmi-ci@intel.com', 'username': 'ipmici'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28356, 'name': 'Rafael Weingartner', 'email': 'rafael@apache.org', 'username': 'rafaelweingartner'}]",,4,"[{'number': 4, 'created': '2018-11-26 10:12:44.000000000', 'files': ['devstack/plugin.sh'], 'message': ""Set Tempest's service_availability setting for ceilometer\n\nTempest's service_availability config option includes all the service\navailability which is further used by tests to take decision of skip\nor run the test.\n\nFor example, [service_availability].ceilometer is true then, ceilometer test will run\nor if [service_availability].ceilometer is false then, all ceilometer related tests either\nin telemetry tempest plugin or any other plugins will be skipped.\n\nCurrently this setting for ceilometer service[1] is in devstack lib/tempest\nwhich is being removed by - https://review.openstack.org/#/c/619973/\n\nFor better maintenance, we are moving all tempest non-owned service setting\nto service devstack plugin side.\n\nThis commit add the setting of ceilometer service on ceilometer devstack plugin.\n\nCloses-Bug: #1743688\n[1] https://github.com/openstack/telemetry-tempest-plugin/blob/master/telemetry_tempest_plugin/config.py#L19\n\nChange-Id: Ib4f04c1a5a2c8eb8ade04a0e276f4aa837609582\nNeeded-By: https://review.openstack.org/#/c/619973/\n""}]",619985,e430eafd3aca4c7762b222bf985a06d357919e87,8556,Ghanshyam,ghanshyam,0,"Set Tempest's service_availability setting for ceilometer

Tempest's service_availability config option includes all the service
availability which is further used by tests to take decision of skip
or run the test.

For example, [service_availability].ceilometer is true then, ceilometer test will run
or if [service_availability].ceilometer is false then, all ceilometer related tests either
in telemetry tempest plugin or any other plugins will be skipped.

Currently this setting for ceilometer service[1] is in devstack lib/tempest
which is being removed by - https://review.openstack.org/#/c/619973/

For better maintenance, we are moving all tempest non-owned service setting
to service devstack plugin side.

This commit add the setting of ceilometer service on ceilometer devstack plugin.

Closes-Bug: #1743688
[1] https://github.com/openstack/telemetry-tempest-plugin/blob/master/telemetry_tempest_plugin/config.py#L19

Change-Id: Ib4f04c1a5a2c8eb8ade04a0e276f4aa837609582
Needed-By: https://review.openstack.org/#/c/619973/
",['devstack/plugin.sh']
openstack%2Fpuppet-openstack-integration~910885,openstack/puppet-openstack-integration,master,I8129f98a187290463ca3a0b3f40c06ff70b3fb5c,"Revert ""Disable mariadb:10.11 module""",ABANDONED,2024-03-04 09:17:57.000000000,2024-03-06 07:33:44.000000000,0,10,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-04 09:17:57.000000000', 'files': ['playbooks/prepare-node-common.yaml'], 'message': 'Revert ""Disable mariadb:10.11 module""\n\nThis reverts commit 5097189902fb061b32dad487410db63917410e08.\n\nChange-Id: I8129f98a187290463ca3a0b3f40c06ff70b3fb5c\n'}]",910885,ad36b74bc1b8c7dda0430d216a3df60a483bc379,31068,Joel Capitao,jcapiitao,0,"Revert ""Disable mariadb:10.11 module""

This reverts commit 5097189902fb061b32dad487410db63917410e08.

Change-Id: I8129f98a187290463ca3a0b3f40c06ff70b3fb5c
",['playbooks/prepare-node-common.yaml']
openstack%2Foctavia-dashboard~911309,openstack/octavia-dashboard,master,I4b4350169b612844b005b9d82dfed4d9815de425,reno: Update master for unmaintained/wallaby,MERGED,2024-03-05 18:57:53.000000000,2024-03-06 07:26:50.000000000,1,1,"[{'_account_id': 11628, 'name': 'Michael Johnson', 'email': 'johnsomor@gmail.com', 'username': 'johnsom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29313, 'name': 'Vishal Manchanda', 'email': 'manchandavishal143@gmail.com', 'username': 'vishalmanchanda'}]",,1,"[{'number': 1, 'created': '2024-03-05 18:57:53.000000000', 'files': ['releasenotes/source/wallaby.rst'], 'message': 'reno: Update master for unmaintained/wallaby\n\nUpdate the wallaby release notes configuration to build from\nunmaintained/wallaby.\n\nChange-Id: I4b4350169b612844b005b9d82dfed4d9815de425\n'}]",911309,5e6d7c6d074a45991423937a97e6b061bb683bec,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/wallaby

Update the wallaby release notes configuration to build from
unmaintained/wallaby.

Change-Id: I4b4350169b612844b005b9d82dfed4d9815de425
",['releasenotes/source/wallaby.rst']
openstack%2Fblazar~911212,openstack/blazar,master,Iedd7cbaa032f32e4656f37bc136f6e66fb79814c,reno: Update master for unmaintained/victoria,MERGED,2024-03-05 18:26:37.000000000,2024-03-06 07:18:43.000000000,1,1,"[{'_account_id': 15197, 'name': 'Pierre Riteau', 'email': 'pierre@stackhpc.com', 'username': 'priteau', 'status': 'StackHPC'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-05 18:26:37.000000000', 'files': ['releasenotes/source/victoria.rst'], 'message': 'reno: Update master for unmaintained/victoria\n\nUpdate the victoria release notes configuration to build from\nunmaintained/victoria.\n\nChange-Id: Iedd7cbaa032f32e4656f37bc136f6e66fb79814c\n'}]",911212,67a8cbacfe1aa58f09c170a923f3d23f3d3c3261,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/victoria

Update the victoria release notes configuration to build from
unmaintained/victoria.

Change-Id: Iedd7cbaa032f32e4656f37bc136f6e66fb79814c
",['releasenotes/source/victoria.rst']
openstack%2Fblazar-dashboard~911209,openstack/blazar-dashboard,master,I78abeae6ed8d4adb1e3d10cada67543a72ae2b2b,reno: Update master for unmaintained/victoria,MERGED,2024-03-05 18:26:17.000000000,2024-03-06 07:18:22.000000000,1,1,"[{'_account_id': 15197, 'name': 'Pierre Riteau', 'email': 'pierre@stackhpc.com', 'username': 'priteau', 'status': 'StackHPC'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-05 18:26:17.000000000', 'files': ['releasenotes/source/victoria.rst'], 'message': 'reno: Update master for unmaintained/victoria\n\nUpdate the victoria release notes configuration to build from\nunmaintained/victoria.\n\nChange-Id: I78abeae6ed8d4adb1e3d10cada67543a72ae2b2b\n'}]",911209,40131fc039900d9399ab7ae91a2cd1c7485cd868,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/victoria

Update the victoria release notes configuration to build from
unmaintained/victoria.

Change-Id: I78abeae6ed8d4adb1e3d10cada67543a72ae2b2b
",['releasenotes/source/victoria.rst']
openstack%2Fblazar-dashboard~911216,openstack/blazar-dashboard,master,Ia9d6a0f315ceb7c3852291d3c52cbfe21c89d3c3,reno: Update master for unmaintained/wallaby,MERGED,2024-03-05 18:26:57.000000000,2024-03-06 07:17:38.000000000,1,1,"[{'_account_id': 15197, 'name': 'Pierre Riteau', 'email': 'pierre@stackhpc.com', 'username': 'priteau', 'status': 'StackHPC'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-05 18:26:57.000000000', 'files': ['releasenotes/source/wallaby.rst'], 'message': 'reno: Update master for unmaintained/wallaby\n\nUpdate the wallaby release notes configuration to build from\nunmaintained/wallaby.\n\nChange-Id: Ia9d6a0f315ceb7c3852291d3c52cbfe21c89d3c3\n'}]",911216,7b5a47fe55460c64e28db657e8b87f2920ddbe5f,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/wallaby

Update the wallaby release notes configuration to build from
unmaintained/wallaby.

Change-Id: Ia9d6a0f315ceb7c3852291d3c52cbfe21c89d3c3
",['releasenotes/source/wallaby.rst']
openstack%2Fskyline-console~911390,openstack/skyline-console,master,I6f78fb2aac0eed1c2082a31a767a1b15bdd577c6,fix: update quota overview styles,MERGED,2024-03-06 02:48:23.000000000,2024-03-06 07:01:53.000000000,9,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28706, 'name': 'Boxiang Zhu', 'email': 'zhu.boxiang@99cloud.net', 'username': 'ZhuBoxiang'}]",,0,"[{'number': 1, 'created': '2024-03-06 02:48:23.000000000', 'files': ['src/pages/base/containers/Overview/style.less'], 'message': 'fix: update quota overview styles\n\nupdate card styles of the quota overview\n\nChange-Id: I6f78fb2aac0eed1c2082a31a767a1b15bdd577c6\n'}]",911390,ca964e330550fa1920daf4f01e389604f3f550a7,30434,Jingwei.Zhang,jwzhang,0,"fix: update quota overview styles

update card styles of the quota overview

Change-Id: I6f78fb2aac0eed1c2082a31a767a1b15bdd577c6
",['src/pages/base/containers/Overview/style.less']
openstack%2Fopenstack-zuul-jobs~911088,openstack/openstack-zuul-jobs,master,Ibd09929c956371b40d5dd522020a6e39f99e9f17,Drop lib-forward-testing template,MERGED,2024-03-05 11:22:05.000000000,2024-03-06 06:17:42.000000000,0,13,"[{'_account_id': 4146, 'name': 'Clark Boylan', 'email': 'cboylan@sapwetik.org', 'username': 'cboylan'}, {'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2024-03-05 11:22:05.000000000', 'files': ['zuul.d/project-templates.yaml'], 'message': 'Drop lib-forward-testing template\n\nThis uses the legacy tempest-full job which is about to be removed from\ntempest. All uses should refer to the new lib-forward-testing-python3\ntemplate instead.\n\nChange-Id: Ibd09929c956371b40d5dd522020a6e39f99e9f17\n'}]",911088,023d6d494d89d6f2a14125331a49ecef184d7dc5,13252,Dr. Jens Harbott,jrosenboom,0,"Drop lib-forward-testing template

This uses the legacy tempest-full job which is about to be removed from
tempest. All uses should refer to the new lib-forward-testing-python3
template instead.

Change-Id: Ibd09929c956371b40d5dd522020a6e39f99e9f17
",['zuul.d/project-templates.yaml']
openstack%2Fdevstack~911393,openstack/devstack,master,Ic99b518ddf1045893991accaa089f44d0d4f4b0d,Updated from generate-devstack-plugins-list,MERGED,2024-03-06 03:13:40.000000000,2024-03-06 06:11:06.000000000,0,4,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-06 03:13:40.000000000', 'files': ['doc/source/plugin-registry.rst'], 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: Ic99b518ddf1045893991accaa089f44d0d4f4b0d\n'}]",911393,5e837d1f0d9078c58bc634474a1adf311bc2b491,11131,OpenStack Proposal Bot,proposal-bot,1,"Updated from generate-devstack-plugins-list

Change-Id: Ic99b518ddf1045893991accaa089f44d0d4f4b0d
",['doc/source/plugin-registry.rst']
openstack%2Fswift~910915,openstack/swift,stable/2023.1,I8f6c247c21f16aa4717569cc69308f846c6a0245,CI: Remove centos-7 jobs,MERGED,2024-03-04 22:29:24.000000000,2024-03-06 06:06:00.000000000,5,84,"[{'_account_id': 15343, 'name': 'Tim Burke', 'email': 'tburke@nvidia.com', 'username': 'tburke'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2024-03-04 22:29:24.000000000', 'files': ['tools/playbooks/common/install_dependencies.yaml', '.zuul.yaml', 'tools/test-setup.sh'], 'message': ""CI: Remove centos-7 jobs\n\nCentOS 7 will go EOL later this year, and infra wants to drop the nodes\nsoon-ish -- don't make them wait on our account.\n\nThe only major loss is py2 probe tests, but officially, yoga was the\nlast release we pledged to support py2.\n\nChange-Id: I8f6c247c21f16aa4717569cc69308f846c6a0245\n""}]",910915,5c29f70b4c6aff0a23306f24fadbe67213b9db30,15343,Tim Burke,tburke,0,"CI: Remove centos-7 jobs

CentOS 7 will go EOL later this year, and infra wants to drop the nodes
soon-ish -- don't make them wait on our account.

The only major loss is py2 probe tests, but officially, yoga was the
last release we pledged to support py2.

Change-Id: I8f6c247c21f16aa4717569cc69308f846c6a0245
","['tools/playbooks/common/install_dependencies.yaml', '.zuul.yaml', 'tools/test-setup.sh']"
openstack%2Fsenlin~908006,openstack/senlin,master,I573f9273595d84f2f87abd003d1fa5369de924c3,reno: Update master for unmaintained/yoga,MERGED,2024-02-06 13:39:03.000000000,2024-03-06 05:39:38.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22998, 'name': 'XueFengLiu', 'email': 'liu.xuefeng1@zte.com.cn', 'username': 'sgfeng'}]",,0,"[{'number': 1, 'created': '2024-02-06 13:39:03.000000000', 'files': ['releasenotes/source/yoga.rst'], 'message': 'reno: Update master for unmaintained/yoga\n\nUpdate the yoga release notes configuration to build from\nunmaintained/yoga.\n\nChange-Id: I573f9273595d84f2f87abd003d1fa5369de924c3\n'}]",908006,9ea9424d3da8e8648ac98490cf013ee324a14b12,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/yoga

Update the yoga release notes configuration to build from
unmaintained/yoga.

Change-Id: I573f9273595d84f2f87abd003d1fa5369de924c3
",['releasenotes/source/yoga.rst']
openstack%2Fsenlin-dashboard~908003,openstack/senlin-dashboard,master,I85654f6075a7749e096ca67cb8dc3ec20b179aa5,reno: Update master for unmaintained/yoga,MERGED,2024-02-06 13:38:49.000000000,2024-03-06 05:37:34.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22998, 'name': 'XueFengLiu', 'email': 'liu.xuefeng1@zte.com.cn', 'username': 'sgfeng'}, {'_account_id': 29313, 'name': 'Vishal Manchanda', 'email': 'manchandavishal143@gmail.com', 'username': 'vishalmanchanda'}]",,0,"[{'number': 1, 'created': '2024-02-06 13:38:49.000000000', 'files': ['releasenotes/source/yoga.rst'], 'message': 'reno: Update master for unmaintained/yoga\n\nUpdate the yoga release notes configuration to build from\nunmaintained/yoga.\n\nChange-Id: I85654f6075a7749e096ca67cb8dc3ec20b179aa5\n'}]",908003,2c8eea887ccf8962c8b286e5959d2b2305edc156,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/yoga

Update the yoga release notes configuration to build from
unmaintained/yoga.

Change-Id: I85654f6075a7749e096ca67cb8dc3ec20b179aa5
",['releasenotes/source/yoga.rst']
openstack%2Fdevstack-plugin-ceph~911157,openstack/devstack-plugin-ceph,master,Id89f161ba6dd5b5fbb5b82042a3e94c92797a881,Set CephFS/NFS job to non-voting,MERGED,2024-03-05 17:38:45.000000000,2024-03-06 05:16:20.000000000,3,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29632, 'name': 'Carlos Eduardo', 'email': 'ces.eduardo98@gmail.com', 'username': 'silvacarlos'}]",,2,"[{'number': 1, 'created': '2024-03-05 17:38:45.000000000', 'files': ['.zuul.yaml'], 'message': ""Set CephFS/NFS job to non-voting\n\nThis job is non-voting against the manila repos currently.\n\nWe've observed sporadic failures in data intensive scenario\ntests. There are a number of manila tests that write a few\ngigabytes of data onto mounted shares. While we've tried\nto optimize test concurrency and the kind of data being written,\nsometimes, things seem to fall over and a test case runs into\na generic I/O error. So maybe more work is necessary to\nget this job to be stable; but that work may not be in this\ndevstack plugin repository.\n\nChange-Id: Id89f161ba6dd5b5fbb5b82042a3e94c92797a881\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",911157,6e0ab534c0523d10f9ede34042c89d858a67d600,16643,Goutham Pacha Ravi,gouthamr,0,"Set CephFS/NFS job to non-voting

This job is non-voting against the manila repos currently.

We've observed sporadic failures in data intensive scenario
tests. There are a number of manila tests that write a few
gigabytes of data onto mounted shares. While we've tried
to optimize test concurrency and the kind of data being written,
sometimes, things seem to fall over and a test case runs into
a generic I/O error. So maybe more work is necessary to
get this job to be stable; but that work may not be in this
devstack plugin repository.

Change-Id: Id89f161ba6dd5b5fbb5b82042a3e94c92797a881
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",['.zuul.yaml']
openstack%2Ftempest~908358,openstack/tempest,master,Ied08c62b02e273edd5aa8a10e037eebb1f84ef85,Add prefix to images created in *ImagesNegativeTest tests,MERGED,2024-02-07 21:30:30.000000000,2024-03-06 03:47:29.000000000,20,5,"[{'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22873, 'name': 'Martin Kopec', 'email': 'mkopec@redhat.com', 'username': 'mkopec'}]",,2,"[{'number': 1, 'created': '2024-02-07 21:30:30.000000000', 'files': ['tempest/api/image/v2/test_images_negative.py'], 'message': 'Add prefix to images created in *ImagesNegativeTest tests\n\nCurrently images created in *ImagesNegativeTest classes doesn\'t\nuse tempest prefix, just ""test"". This makes it hard to identify\ntempest-created resources when performing cleanup. Adding prefix\nto resolve the above mentioned issue.\n\nChange-Id: Ied08c62b02e273edd5aa8a10e037eebb1f84ef85\n'}]",908358,bb929fffe0419848a10392eee032212fe3df9a3b,34543,Tianqi Xiao,txiao,0,"Add prefix to images created in *ImagesNegativeTest tests

Currently images created in *ImagesNegativeTest classes doesn't
use tempest prefix, just ""test"". This makes it hard to identify
tempest-created resources when performing cleanup. Adding prefix
to resolve the above mentioned issue.

Change-Id: Ied08c62b02e273edd5aa8a10e037eebb1f84ef85
",['tempest/api/image/v2/test_images_negative.py']
openstack%2Fcharm-cinder-purestorage~908623,openstack/charm-cinder-purestorage,master,I319489688138911b6b77bdb7b3560bc3071e8e08,Updates for caracal testing support,MERGED,2024-02-09 18:45:16.000000000,2024-03-06 03:34:45.000000000,38,184,"[{'_account_id': 8992, 'name': 'Billy Olsen', 'email': 'billy.olsen@canonical.com', 'username': 'billy-olsen'}, {'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 3, 'created': '2024-02-24 19:53:33.000000000', 'files': ['osci.yaml', 'src/tests/bundles/jammy-bobcat.yaml', 'src/tests/bundles/jammy-caracal.yaml', 'src/tox.ini', 'charmcraft.yaml', 'src/tests/bundles/mantic-bobcat.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml', 'tox.ini', 'src/tests/bundles/jammy-antelope.yaml', 'src/tests/bundles/noble-caracal.yaml'], 'message': ""Updates for caracal testing support\n\nThese updates, on the master branch, are to support testing the caracal\npackages and support of the charms for caracal.  They do NOT lock the charms\ndown, and don't change the testing branches to stable branches.\n\nChange-Id: I319489688138911b6b77bdb7b3560bc3071e8e08\n""}]",908623,ff2fb55d20d5ff4cc33df33e52bacd92e9242f8d,20870,Alex Kavanagh,ajkavanagh,0,"Updates for caracal testing support

These updates, on the master branch, are to support testing the caracal
packages and support of the charms for caracal.  They do NOT lock the charms
down, and don't change the testing branches to stable branches.

Change-Id: I319489688138911b6b77bdb7b3560bc3071e8e08
","['osci.yaml', 'src/tests/bundles/jammy-bobcat.yaml', 'src/tests/bundles/jammy-caracal.yaml', 'src/tox.ini', 'charmcraft.yaml', 'src/tests/bundles/mantic-bobcat.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml', 'tox.ini', 'src/tests/bundles/jammy-antelope.yaml', 'src/tests/bundles/noble-caracal.yaml']"
openstack%2Fcharm-cinder-lvm~908620,openstack/charm-cinder-lvm,master,I2f53746a8ef01285ac5e7cb301186796825a58fd,Updates for caracal testing support,MERGED,2024-02-09 18:44:49.000000000,2024-03-06 03:31:12.000000000,37,173,"[{'_account_id': 8992, 'name': 'Billy Olsen', 'email': 'billy.olsen@canonical.com', 'username': 'billy-olsen'}, {'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 3, 'created': '2024-02-24 19:53:26.000000000', 'files': ['osci.yaml', 'src/tests/bundles/jammy-bobcat.yaml', 'src/tests/bundles/jammy-caracal.yaml', 'src/tox.ini', 'charmcraft.yaml', 'src/tests/bundles/mantic-bobcat.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml', 'tox.ini', 'src/tests/bundles/jammy-antelope.yaml', 'src/tests/bundles/noble-caracal.yaml'], 'message': ""Updates for caracal testing support\n\nThese updates, on the master branch, are to support testing the caracal\npackages and support of the charms for caracal.  They do NOT lock the charms\ndown, and don't change the testing branches to stable branches.\n\nChange-Id: I2f53746a8ef01285ac5e7cb301186796825a58fd\n""}]",908620,7ac83dcfacfc625f32a99814638210bef668ddd6,20870,Alex Kavanagh,ajkavanagh,0,"Updates for caracal testing support

These updates, on the master branch, are to support testing the caracal
packages and support of the charms for caracal.  They do NOT lock the charms
down, and don't change the testing branches to stable branches.

Change-Id: I2f53746a8ef01285ac5e7cb301186796825a58fd
","['osci.yaml', 'src/tests/bundles/jammy-bobcat.yaml', 'src/tests/bundles/jammy-caracal.yaml', 'src/tox.ini', 'charmcraft.yaml', 'src/tests/bundles/mantic-bobcat.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml', 'tox.ini', 'src/tests/bundles/jammy-antelope.yaml', 'src/tests/bundles/noble-caracal.yaml']"
openstack%2Fcharm-glance~910085,openstack/charm-glance,master,Iaf999d23f918f9e3556a92852eec60c6e7cde9a3,Updates for caracal tox.ini,MERGED,2024-02-24 20:11:41.000000000,2024-03-06 03:29:17.000000000,13,12,"[{'_account_id': 8992, 'name': 'Billy Olsen', 'email': 'billy.olsen@canonical.com', 'username': 'billy-olsen'}, {'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-02-24 20:11:41.000000000', 'files': ['build-requirements.txt', 'tox.ini'], 'message': 'Updates for caracal tox.ini\n\nUpdate the tox.ini file(s) to use the constraints file from\nzaza-openstack-tests.\n\nChange-Id: Iaf999d23f918f9e3556a92852eec60c6e7cde9a3\n'}]",910085,d9e52f7869b566582815d3a473d543e7d88c4466,20870,Alex Kavanagh,ajkavanagh,0,"Updates for caracal tox.ini

Update the tox.ini file(s) to use the constraints file from
zaza-openstack-tests.

Change-Id: Iaf999d23f918f9e3556a92852eec60c6e7cde9a3
","['build-requirements.txt', 'tox.ini']"
openstack%2Fironic-tempest-plugin~902171,openstack/ironic-tempest-plugin,master,Id41ee40c36624387216b2cfc1501f01a3217b2af,Test multiple boot interfaces as part of one CI job,MERGED,2023-11-29 16:44:44.000000000,2024-03-06 03:28:36.000000000,108,1,"[{'_account_id': 10342, 'name': 'Jay Faulkner', 'display_name': 'JayF', 'email': 'jay@jvf.cc', 'username': 'JayF'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 23851, 'name': 'Riccardo Pittau', 'email': 'elfosardo@gmail.com', 'username': 'elfosardo'}, {'_account_id': 32029, 'name': 'likui', 'email': 'likui@yovole.com', 'username': 'likui'}]",,2,"[{'number': 7, 'created': '2024-02-12 20:08:50.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/ironic_standalone/test_basic_ops.py', 'ironic_tempest_plugin/tests/scenario/baremetal_standalone_manager.py'], 'message': ""Test multiple boot interfaces as part of one CI job\n\nThe idea here came out of the 2024.1 PTG held in ?October? 2023,\nwith the goal of being able to exercise testing of boot interfaces\nas a group in a single job, instead of spreading it out amongst\nCI jobs with different scenarios.\n\nThat doesn't mean different scenarios are wrong, but as we add more\nboot interfaces as part of supporting HTTPBoot, we cannot double\nour scenarios.\n\nIn theory, the hope is we should be able to consolidate down several\nsecenario jobs into just one test running these jobs.\n\nChange-Id: Id41ee40c36624387216b2cfc1501f01a3217b2af\n""}]",902171,18eb2c48284203e2c422eaf760f2677af717a47f,11655,Julia Kreger,jkreger,0,"Test multiple boot interfaces as part of one CI job

The idea here came out of the 2024.1 PTG held in ?October? 2023,
with the goal of being able to exercise testing of boot interfaces
as a group in a single job, instead of spreading it out amongst
CI jobs with different scenarios.

That doesn't mean different scenarios are wrong, but as we add more
boot interfaces as part of supporting HTTPBoot, we cannot double
our scenarios.

In theory, the hope is we should be able to consolidate down several
secenario jobs into just one test running these jobs.

Change-Id: Id41ee40c36624387216b2cfc1501f01a3217b2af
","['ironic_tempest_plugin/tests/scenario/ironic_standalone/test_basic_ops.py', 'ironic_tempest_plugin/tests/scenario/baremetal_standalone_manager.py']"
openstack%2Fsunbeam-charms~911104,openstack/sunbeam-charms,main,I4e943cf9b40554280e104cb2090ecfc043f3afbb,Call request pool on config changed for cinder ceph,MERGED,2024-03-05 13:54:45.000000000,2024-03-06 02:32:50.000000000,14,0,"[{'_account_id': 10366, 'name': 'Hemanth N', 'email': 'hemanth.nakkina@canonical.com', 'username': 'Hemanth'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-05 13:54:45.000000000', 'files': ['charms/cinder-ceph-k8s/src/charm.py'], 'message': 'Call request pool on config changed for cinder ceph\n\nCinder ceph does not re-request a pool on config changed, which meant it\nwas not responding to changes from configuration keys such as\nreplication factor.\n\nChange-Id: I4e943cf9b40554280e104cb2090ecfc043f3afbb\n'}]",911104,b7f9d994910c533b72ade4175f2faf0fc6262f80,35761,Guillaume Boutry,gboutry,0,"Call request pool on config changed for cinder ceph

Cinder ceph does not re-request a pool on config changed, which meant it
was not responding to changes from configuration keys such as
replication factor.

Change-Id: I4e943cf9b40554280e104cb2090ecfc043f3afbb
",['charms/cinder-ceph-k8s/src/charm.py']
openstack%2Fsunbeam-charms~909632,openstack/sunbeam-charms,main,I548eb07ed1eb9e67c46f62a16d36bfaec83d7040,Add func tests for tempest-k8s charm,MERGED,2024-02-21 02:07:40.000000000,2024-03-06 02:31:33.000000000,395,0,"[{'_account_id': 10366, 'name': 'Hemanth N', 'email': 'hemanth.nakkina@canonical.com', 'username': 'Hemanth'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34543, 'name': 'Tianqi Xiao', 'email': 'tianqi.xiao@canonical.com', 'username': 'txiao'}, {'_account_id': 35007, 'name': 'Chi Wai CHAN', 'display_name': 'Ray Chan', 'email': 'chiwai.chan@canonical.com', 'username': 'Ray'}]",,17,"[{'number': 18, 'created': '2024-03-05 23:25:49.000000000', 'files': ['tests/local/zaza/sunbeam/charm_tests/tempest_k8s/__init__.py', 'tests/tempest/smoke.yaml.j2', '.gitignore', 'CONTRIBUTING.md', 'zuul.d/zuul.yaml', 'tests/tempest/tests.yaml', 'tests/local/zaza/sunbeam/charm_tests/tempest_k8s/tests.py', 'zuul.d/jobs.yaml', 'README.md'], 'message': ""Add func tests for tempest-k8s charm\n\nThis is to verify that the tempest-k8s charm deploys successfully\n(reaches active/idle, the tempest environment was set up successfully),\nand doesn't adversely impact the rest of the sunbeam deployment.\n\nFunc tests with this charm have been observed to be unstable\n(unexpected errors running certain tests),\nso for now only minimal tests are added,\nand it has been implemented in its own new test bundle.\nThis new test bundle is only triggered on changes in tempest-k8s code,\nso it shouldn't affect the CI for other charms if it becomes unstable.\n\nWe still need to add more tests and debug the issues we were seeing,\nbut in the interests of time, we aim to implement these tests\nand debug the issues in follow up patches.\n\nChange-Id: I548eb07ed1eb9e67c46f62a16d36bfaec83d7040\n""}]",909632,5e40ba7d811ffd19f3c9c2a7a5f7fe55a8342771,34352,Samuel Allan,swalladge,0,"Add func tests for tempest-k8s charm

This is to verify that the tempest-k8s charm deploys successfully
(reaches active/idle, the tempest environment was set up successfully),
and doesn't adversely impact the rest of the sunbeam deployment.

Func tests with this charm have been observed to be unstable
(unexpected errors running certain tests),
so for now only minimal tests are added,
and it has been implemented in its own new test bundle.
This new test bundle is only triggered on changes in tempest-k8s code,
so it shouldn't affect the CI for other charms if it becomes unstable.

We still need to add more tests and debug the issues we were seeing,
but in the interests of time, we aim to implement these tests
and debug the issues in follow up patches.

Change-Id: I548eb07ed1eb9e67c46f62a16d36bfaec83d7040
","['tests/local/zaza/sunbeam/charm_tests/tempest_k8s/__init__.py', 'tests/tempest/smoke.yaml.j2', '.gitignore', 'CONTRIBUTING.md', 'zuul.d/zuul.yaml', 'tests/tempest/tests.yaml', 'tests/local/zaza/sunbeam/charm_tests/tempest_k8s/tests.py', 'zuul.d/jobs.yaml', 'README.md']"
openstack%2Felection~910564,openstack/election,master,If80fae88e375ddb4f94d8451fb93446d55217c3c,Election template fix: combined end nominations,MERGED,2024-02-29 03:53:04.000000000,2024-03-06 01:01:49.000000000,3,1,"[{'_account_id': 12898, 'name': 'Tony Breeds', 'email': 'tony@bakeyournoodle.com', 'username': 'tonyb'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,3,"[{'number': 1, 'created': '2024-02-29 03:53:04.000000000', 'files': ['openstack_election/templates/combined_end_nominations.j2'], 'message': 'Election template fix: combined end nominations\n\nMoving project lists for election to ""PTL Election Details""\nsection and describe TC candidates information on ""TC Election Details""\nsection.\n\nChange-Id: If80fae88e375ddb4f94d8451fb93446d55217c3c\n'}]",910564,219ec769d173524d240b853f19982701db8b78f4,14482,Ian Y. Choi,ianychoi,0,"Election template fix: combined end nominations

Moving project lists for election to ""PTL Election Details""
section and describe TC candidates information on ""TC Election Details""
section.

Change-Id: If80fae88e375ddb4f94d8451fb93446d55217c3c
",['openstack_election/templates/combined_end_nominations.j2']
openstack%2Fdiskimage-builder~909336,openstack/diskimage-builder,master,Ia2d9d8b0b80d5349d1534be09f09ce543c43ab64,Bump upper version of flake8,MERGED,2024-02-18 17:45:06.000000000,2024-03-06 00:59:53.000000000,1,1,"[{'_account_id': 4146, 'name': 'Clark Boylan', 'email': 'cboylan@sapwetik.org', 'username': 'cboylan'}, {'_account_id': 10342, 'name': 'Jay Faulkner', 'display_name': 'JayF', 'email': 'jay@jvf.cc', 'username': 'JayF'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,3,"[{'number': 2, 'created': '2024-02-21 02:38:18.000000000', 'files': ['requirements.txt'], 'message': 'Bump upper version of flake8\n\nSo that we can use flake8 6.1.0, which is required by hacking 6.1.0.\n\nChange-Id: Ia2d9d8b0b80d5349d1534be09f09ce543c43ab64\n'}]",909336,2563a12a4b80709ab2bb4edf0c46864526d62f95,9816,Takashi Kajinami,kajinamit,0,"Bump upper version of flake8

So that we can use flake8 6.1.0, which is required by hacking 6.1.0.

Change-Id: Ia2d9d8b0b80d5349d1534be09f09ce543c43ab64
",['requirements.txt']
openstack%2Fdiskimage-builder~905556,openstack/diskimage-builder,master,I5e926c36256e580579bfd2c5aeff4ba6193c367a,Cleanup uses of DIB_IMAGE_ROOT_FS_UUID variable,MERGED,2024-01-14 10:44:43.000000000,2024-03-06 00:59:11.000000000,1,5,"[{'_account_id': 4146, 'name': 'Clark Boylan', 'email': 'cboylan@sapwetik.org', 'username': 'cboylan'}, {'_account_id': 11655, 'name': 'Julia Kreger', 'email': 'juliaashleykreger@gmail.com', 'username': 'jkreger', 'status': 'Flying to the moon with a Jetpack!'}, {'_account_id': 12188, 'name': 'Ettore Simone', 'email': 'ettore.simone@gmail.com', 'username': 'esimone'}, {'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}]",,4,"[{'number': 2, 'created': '2024-03-04 11:10:10.000000000', 'files': ['doc/source/developer/developing_elements.rst', 'diskimage_builder/elements/iso/cleanup.d/100-build-iso'], 'message': 'Cleanup uses of DIB_IMAGE_ROOT_FS_UUID variable\n\nSince 2.4.0 disk-image-create does not export DIB_IMAGE_ROOT_FS_UUID\nanymore. This patch fix documentation and the iso element.\n\nCloses-Bug: 1699273\nChange-Id: I5e926c36256e580579bfd2c5aeff4ba6193c367a\n'}]",905556,741ab26206000c4bb4987f0b5cfdce583049f065,12188,Ettore Simone,esimone,0,"Cleanup uses of DIB_IMAGE_ROOT_FS_UUID variable

Since 2.4.0 disk-image-create does not export DIB_IMAGE_ROOT_FS_UUID
anymore. This patch fix documentation and the iso element.

Closes-Bug: 1699273
Change-Id: I5e926c36256e580579bfd2c5aeff4ba6193c367a
","['doc/source/developer/developing_elements.rst', 'diskimage_builder/elements/iso/cleanup.d/100-build-iso']"
openstack%2Frequirements~910221,openstack/requirements,master,Ib6326ee81c5f739a176c9473c2eaf18d57acaf60,update constraint for castellan to new release 4.4.0,ABANDONED,2024-02-26 11:40:30.000000000,2024-03-06 00:44:00.000000000,1,1,"[{'_account_id': 9816, 'name': 'Takashi Kajinami', 'email': 'kajinamit@oss.nttdata.com', 'username': 'kajinamit'}, {'_account_id': 12898, 'name': 'Tony Breeds', 'email': 'tony@bakeyournoodle.com', 'username': 'tonyb'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,11,"[{'number': 2, 'created': '2024-02-28 07:12:50.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for castellan to new release 4.4.0\n\nmeta: version: 4.4.0\nmeta: diff-start: -\nmeta: series: caracal\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Takashi Kajinami <kajinamit@oss.nttdata.com>\nmeta: release:Change-Id: Iaa30c8fb732ae02e77763d2079db9464e8158621\nmeta: release:Workflow+1: Dr. Jens Harbott <frickler@offenerstapel.de>\nmeta: release:Code-Review+2: Dr. Jens Harbott <frickler@offenerstapel.de>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nDepends-on: https://review.opendev.org/c/openstack/glance/+/910460\nDepends-on: https://review.opendev.org/c/openstack/nova/+/896100\nChange-Id: Ib6326ee81c5f739a176c9473c2eaf18d57acaf60\n'}]",910221,64dbb43112b12e75e764a3f2db5cf35123547277,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for castellan to new release 4.4.0

meta: version: 4.4.0
meta: diff-start: -
meta: series: caracal
meta: branch: master
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Takashi Kajinami <kajinamit@oss.nttdata.com>
meta: release:Change-Id: Iaa30c8fb732ae02e77763d2079db9464e8158621
meta: release:Workflow+1: Dr. Jens Harbott <frickler@offenerstapel.de>
meta: release:Code-Review+2: Dr. Jens Harbott <frickler@offenerstapel.de>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Depends-on: https://review.opendev.org/c/openstack/glance/+/910460
Depends-on: https://review.opendev.org/c/openstack/nova/+/896100
Change-Id: Ib6326ee81c5f739a176c9473c2eaf18d57acaf60
",['upper-constraints.txt']
openstack%2Fswift~910916,openstack/swift,stable/2023.1,I3516823fdacbe8fd3c2434c0de9dedd1d82980fe,CI: fix rolling-upgrade jobs,MERGED,2024-03-05 00:39:40.000000000,2024-03-05 23:43:05.000000000,1,13,"[{'_account_id': 15343, 'name': 'Tim Burke', 'email': 'tburke@nvidia.com', 'username': 'tburke'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-05 00:39:40.000000000', 'files': ['.zuul.yaml'], 'message': 'CI: fix rolling-upgrade jobs\n\ntrain and ussuri are now EOL; drop them.\n\nyoga has moved from stable to unmaintained.\n\nChange-Id: I3516823fdacbe8fd3c2434c0de9dedd1d82980fe\n(cherry picked from commit 275af9e008fd296623d7a9eb9320206aa536fcdd)\n'}]",910916,c13eac4588f943d3024d07af192559b474a619dd,15343,Tim Burke,tburke,0,"CI: fix rolling-upgrade jobs

train and ussuri are now EOL; drop them.

yoga has moved from stable to unmaintained.

Change-Id: I3516823fdacbe8fd3c2434c0de9dedd1d82980fe
(cherry picked from commit 275af9e008fd296623d7a9eb9320206aa536fcdd)
",['.zuul.yaml']
openstack%2Fironic~910679,openstack/ironic,stable/2023.1,I3295c92fd7b7871ad351b94f4c6cf0f554279db0,ci: pin CI to dnsmasq 2.85,MERGED,2024-02-29 23:06:32.000000000,2024-03-05 23:36:04.000000000,22,2,"[{'_account_id': 11655, 'name': 'Julia Kreger', 'email': 'juliaashleykreger@gmail.com', 'username': 'jkreger', 'status': 'Flying to the moon with a Jetpack!'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 3, 'created': '2024-03-05 17:03:01.000000000', 'files': ['devstack/lib/ironic', 'devstack/plugin.sh', 'zuul.d/project.yaml'], 'message': 'ci: pin CI to dnsmasq 2.85\n\nA temporary path forward to increase CI stability, by pinning\nto what appears to be a ""good working version"" of upstream dnsmasq\nwhich does not crash fon us.\n\nChange-Id: I3295c92fd7b7871ad351b94f4c6cf0f554279db0\n(cherry picked from commit f893c740d7303e9d321e04f32e3b623237815ff2)\n(cherry picked from commit b32378e1cfd4531759b253b58a9dc424ebb713a1)\n'}]",910679,59800efd88f8680f9aad52a313fdc626406b68ce,11655,Julia Kreger,jkreger,0,"ci: pin CI to dnsmasq 2.85

A temporary path forward to increase CI stability, by pinning
to what appears to be a ""good working version"" of upstream dnsmasq
which does not crash fon us.

Change-Id: I3295c92fd7b7871ad351b94f4c6cf0f554279db0
(cherry picked from commit f893c740d7303e9d321e04f32e3b623237815ff2)
(cherry picked from commit b32378e1cfd4531759b253b58a9dc424ebb713a1)
","['devstack/lib/ironic', 'devstack/plugin.sh', 'zuul.d/project.yaml']"
openstack%2Fdesignate-dashboard~911264,openstack/designate-dashboard,master,I5849ad541e47d9f05c0ee3599e0519cdb362ffdb,reno: Update master for unmaintained/xena,MERGED,2024-03-05 18:41:40.000000000,2024-03-05 23:13:49.000000000,1,1,"[{'_account_id': 11628, 'name': 'Michael Johnson', 'email': 'johnsomor@gmail.com', 'username': 'johnsom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-05 18:41:40.000000000', 'files': ['releasenotes/source/xena.rst'], 'message': 'reno: Update master for unmaintained/xena\n\nUpdate the xena release notes configuration to build from\nunmaintained/xena.\n\nChange-Id: I5849ad541e47d9f05c0ee3599e0519cdb362ffdb\n'}]",911264,b5e9d8c9e669ee07fa3950501523fe13b697c07a,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/xena

Update the xena release notes configuration to build from
unmaintained/xena.

Change-Id: I5849ad541e47d9f05c0ee3599e0519cdb362ffdb
",['releasenotes/source/xena.rst']
openstack%2Fdesignate-dashboard~911258,openstack/designate-dashboard,master,I1fd5f3b511179411d5e74c2115be26c7ba70d2af,reno: Update master for unmaintained/wallaby,MERGED,2024-03-05 18:40:53.000000000,2024-03-05 23:12:59.000000000,1,1,"[{'_account_id': 11628, 'name': 'Michael Johnson', 'email': 'johnsomor@gmail.com', 'username': 'johnsom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-05 18:40:53.000000000', 'files': ['releasenotes/source/wallaby.rst'], 'message': 'reno: Update master for unmaintained/wallaby\n\nUpdate the wallaby release notes configuration to build from\nunmaintained/wallaby.\n\nChange-Id: I1fd5f3b511179411d5e74c2115be26c7ba70d2af\n'}]",911258,ce0ddef4c27678d983d86729c051b2cd5fe01615,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/wallaby

Update the wallaby release notes configuration to build from
unmaintained/wallaby.

Change-Id: I1fd5f3b511179411d5e74c2115be26c7ba70d2af
",['releasenotes/source/wallaby.rst']
openstack%2Fswift~910914,openstack/swift,stable/2023.2,I3516823fdacbe8fd3c2434c0de9dedd1d82980fe,CI: fix rolling-upgrade jobs,MERGED,2024-03-04 22:28:16.000000000,2024-03-05 23:12:38.000000000,1,13,"[{'_account_id': 15343, 'name': 'Tim Burke', 'email': 'tburke@nvidia.com', 'username': 'tburke'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-04 22:28:16.000000000', 'files': ['.zuul.yaml'], 'message': 'CI: fix rolling-upgrade jobs\n\ntrain and ussuri are now EOL; drop them.\n\nyoga has moved from stable to unmaintained.\n\nChange-Id: I3516823fdacbe8fd3c2434c0de9dedd1d82980fe\n(cherry picked from commit 275af9e008fd296623d7a9eb9320206aa536fcdd)\n'}]",910914,e39fd8b84411be9d4ff5e6d356c8c0fd75c6a22e,15343,Tim Burke,tburke,0,"CI: fix rolling-upgrade jobs

train and ussuri are now EOL; drop them.

yoga has moved from stable to unmaintained.

Change-Id: I3516823fdacbe8fd3c2434c0de9dedd1d82980fe
(cherry picked from commit 275af9e008fd296623d7a9eb9320206aa536fcdd)
",['.zuul.yaml']
openstack%2Fcinder~907420,openstack/cinder,master,I3290fd411da511f276d4f592820e9a88df958472,Remove six from Nexenta drivers,MERGED,2024-02-01 12:17:40.000000000,2024-03-05 23:12:17.000000000,19,26,"[{'_account_id': 4523, 'name': 'Eric Harney', 'email': 'eharney@redhat.com', 'username': 'eharney'}, {'_account_id': 5314, 'name': 'Brian Rosmaita', 'email': 'rosmaita.fossdev@gmail.com', 'username': 'brian-rosmaita'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2024-02-01 15:26:47.000000000', 'date': '2024-02-01 15:26:47.000000000'}, {'rev_nbr': 1, 'author': '2024-02-01 19:58:51.000000000', 'date': '2024-02-01 19:58:51.000000000'}, {'rev_nbr': 1, 'author': '2024-02-01 20:29:47.000000000', 'date': '2024-02-01 20:29:47.000000000'}, {'rev_nbr': 1, 'author': '2024-02-01 22:06:28.000000000', 'date': '2024-02-01 22:06:28.000000000'}, {'rev_nbr': 1, 'author': '2024-02-01 23:52:11.000000000', 'date': '2024-02-01 23:52:11.000000000'}, {'rev_nbr': 1, 'author': '2024-02-02 00:11:49.000000000', 'date': '2024-02-02 00:11:49.000000000'}, {'rev_nbr': 3, 'author': '2024-02-04 07:45:33.000000000', 'date': '2024-02-04 07:45:33.000000000'}, {'rev_nbr': 3, 'author': '2024-02-04 09:00:05.000000000', 'date': '2024-02-04 09:00:05.000000000'}, {'rev_nbr': 2, 'author': '2024-02-04 09:06:48.000000000', 'date': '2024-02-04 09:06:48.000000000'}, {'rev_nbr': 3, 'author': '2024-02-04 09:14:53.000000000', 'date': '2024-02-04 09:14:53.000000000'}, {'rev_nbr': 3, 'author': '2024-02-04 12:13:49.000000000', 'date': '2024-02-04 12:13:49.000000000'}, {'rev_nbr': 3, 'author': '2024-02-04 12:16:53.000000000', 'date': '2024-02-04 12:16:53.000000000'}, {'rev_nbr': 1, 'author': '2024-02-04 21:45:46.000000000', 'date': '2024-02-04 21:45:46.000000000'}, {'rev_nbr': 3, 'author': '2024-02-05 03:38:55.000000000', 'date': '2024-02-05 03:38:55.000000000'}, {'rev_nbr': 3, 'author': '2024-02-05 09:54:45.000000000', 'date': '2024-02-05 09:54:45.000000000'}, {'rev_nbr': 1, 'author': '2024-02-06 02:13:23.000000000', 'date': '2024-02-06 02:13:23.000000000'}, {'rev_nbr': 1, 'author': '2024-02-06 06:51:18.000000000', 'date': '2024-02-06 06:51:18.000000000'}, {'rev_nbr': 3, 'author': '2024-02-10 15:26:35.000000000', 'date': '2024-02-10 15:26:35.000000000'}, {'rev_nbr': 3, 'author': '2024-02-11 06:57:18.000000000', 'date': '2024-02-11 06:57:18.000000000'}, {'rev_nbr': 3, 'author': '2024-02-14 06:03:28.000000000', 'date': '2024-02-14 06:03:28.000000000'}, {'rev_nbr': 3, 'author': '2024-02-14 13:54:44.000000000', 'date': '2024-02-14 13:54:44.000000000'}, {'rev_nbr': 3, 'author': '2024-02-14 20:18:50.000000000', 'date': '2024-02-14 20:18:50.000000000'}]",5,"[{'number': 3, 'created': '2024-02-04 06:33:04.000000000', 'files': ['cinder/volume/drivers/nexenta/nfs.py', 'cinder/volume/drivers/nexenta/ns5/nfs.py', 'cinder/volume/drivers/nexenta/iscsi.py', 'cinder/volume/drivers/nexenta/ns5/jsonrpc.py', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta5_jsonrpc.py', 'cinder/volume/drivers/nexenta/utils.py', 'cinder/volume/drivers/nexenta/ns5/iscsi.py'], 'message': 'Remove six from Nexenta drivers\n\nChange-Id: I3290fd411da511f276d4f592820e9a88df958472\n'}]",907420,337adf9a128e2897c73d2b91c2961649e38a95ca,9816,Takashi Kajinami,kajinamit,0,"Remove six from Nexenta drivers

Change-Id: I3290fd411da511f276d4f592820e9a88df958472
","['cinder/volume/drivers/nexenta/nfs.py', 'cinder/volume/drivers/nexenta/ns5/nfs.py', 'cinder/volume/drivers/nexenta/iscsi.py', 'cinder/volume/drivers/nexenta/ns5/jsonrpc.py', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta5_jsonrpc.py', 'cinder/volume/drivers/nexenta/utils.py', 'cinder/volume/drivers/nexenta/ns5/iscsi.py']"
openstack%2Fpython-designateclient~911268,openstack/python-designateclient,master,Ib79423a3952f5b83c831e3b98d0ebe9c78e9d412,reno: Update master for unmaintained/xena,MERGED,2024-03-05 18:42:13.000000000,2024-03-05 23:04:36.000000000,1,1,"[{'_account_id': 11628, 'name': 'Michael Johnson', 'email': 'johnsomor@gmail.com', 'username': 'johnsom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-05 18:42:13.000000000', 'files': ['releasenotes/source/xena.rst'], 'message': 'reno: Update master for unmaintained/xena\n\nUpdate the xena release notes configuration to build from\nunmaintained/xena.\n\nChange-Id: Ib79423a3952f5b83c831e3b98d0ebe9c78e9d412\n'}]",911268,ec46cc6661761dee14cd221e3a9a5349b8ce3f6a,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/xena

Update the xena release notes configuration to build from
unmaintained/xena.

Change-Id: Ib79423a3952f5b83c831e3b98d0ebe9c78e9d412
",['releasenotes/source/xena.rst']
openstack%2Fdesignate~911266,openstack/designate,master,Icbd0dd4b4d06f12be4877b9b8d65a69f68cef85f,reno: Update master for unmaintained/xena,MERGED,2024-03-05 18:42:02.000000000,2024-03-05 23:04:34.000000000,1,1,"[{'_account_id': 11628, 'name': 'Michael Johnson', 'email': 'johnsomor@gmail.com', 'username': 'johnsom'}, {'_account_id': 19298, 'name': 'Nicolas Bock', 'email': 'nicolas.bock@canonical.com', 'username': 'nicolasbock'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-05 18:42:02.000000000', 'files': ['releasenotes/source/xena.rst'], 'message': 'reno: Update master for unmaintained/xena\n\nUpdate the xena release notes configuration to build from\nunmaintained/xena.\n\nChange-Id: Icbd0dd4b4d06f12be4877b9b8d65a69f68cef85f\n'}]",911266,2be754cb5c2d48c6812057038d0d982f28080158,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/xena

Update the xena release notes configuration to build from
unmaintained/xena.

Change-Id: Icbd0dd4b4d06f12be4877b9b8d65a69f68cef85f
",['releasenotes/source/xena.rst']
openstack%2Fpython-designateclient~911256,openstack/python-designateclient,master,I00f655c176530fa592e082505c6aade884f06296,reno: Update master for unmaintained/victoria,MERGED,2024-03-05 18:40:40.000000000,2024-03-05 23:03:47.000000000,1,1,"[{'_account_id': 11628, 'name': 'Michael Johnson', 'email': 'johnsomor@gmail.com', 'username': 'johnsom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-05 18:40:40.000000000', 'files': ['releasenotes/source/victoria.rst'], 'message': 'reno: Update master for unmaintained/victoria\n\nUpdate the victoria release notes configuration to build from\nunmaintained/victoria.\n\nChange-Id: I00f655c176530fa592e082505c6aade884f06296\n'}]",911256,9b40bd761726cbf8ffbfed40f5a0f73b62e3729a,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/victoria

Update the victoria release notes configuration to build from
unmaintained/victoria.

Change-Id: I00f655c176530fa592e082505c6aade884f06296
",['releasenotes/source/victoria.rst']
openstack%2Fdesignate~911254,openstack/designate,master,I9ccb2a934ae1d23ef9b5e5185ee609ea53e68207,reno: Update master for unmaintained/victoria,MERGED,2024-03-05 18:40:28.000000000,2024-03-05 23:03:47.000000000,1,1,"[{'_account_id': 11628, 'name': 'Michael Johnson', 'email': 'johnsomor@gmail.com', 'username': 'johnsom'}, {'_account_id': 19298, 'name': 'Nicolas Bock', 'email': 'nicolas.bock@canonical.com', 'username': 'nicolasbock'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-05 18:40:28.000000000', 'files': ['releasenotes/source/victoria.rst'], 'message': 'reno: Update master for unmaintained/victoria\n\nUpdate the victoria release notes configuration to build from\nunmaintained/victoria.\n\nChange-Id: I9ccb2a934ae1d23ef9b5e5185ee609ea53e68207\n'}]",911254,3215f42e9ec296e5c83b66346669555a5b5208f1,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/victoria

Update the victoria release notes configuration to build from
unmaintained/victoria.

Change-Id: I9ccb2a934ae1d23ef9b5e5185ee609ea53e68207
",['releasenotes/source/victoria.rst']
openstack%2Fpython-designateclient~911262,openstack/python-designateclient,master,Ic5511fdd7ef0e60672bb3432f0937832cccc9366,reno: Update master for unmaintained/wallaby,MERGED,2024-03-05 18:41:29.000000000,2024-03-05 23:02:47.000000000,1,1,"[{'_account_id': 11628, 'name': 'Michael Johnson', 'email': 'johnsomor@gmail.com', 'username': 'johnsom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-05 18:41:29.000000000', 'files': ['releasenotes/source/wallaby.rst'], 'message': 'reno: Update master for unmaintained/wallaby\n\nUpdate the wallaby release notes configuration to build from\nunmaintained/wallaby.\n\nChange-Id: Ic5511fdd7ef0e60672bb3432f0937832cccc9366\n'}]",911262,e5d2a212a398cc8aae0c00e7ae7622605bf99e90,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/wallaby

Update the wallaby release notes configuration to build from
unmaintained/wallaby.

Change-Id: Ic5511fdd7ef0e60672bb3432f0937832cccc9366
",['releasenotes/source/wallaby.rst']
openstack%2Fdesignate~911260,openstack/designate,master,I9a0eeb1c6913a71d990a3e29bcbf80d0066d39df,reno: Update master for unmaintained/wallaby,MERGED,2024-03-05 18:41:17.000000000,2024-03-05 23:02:46.000000000,1,1,"[{'_account_id': 11628, 'name': 'Michael Johnson', 'email': 'johnsomor@gmail.com', 'username': 'johnsom'}, {'_account_id': 19298, 'name': 'Nicolas Bock', 'email': 'nicolas.bock@canonical.com', 'username': 'nicolasbock'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-05 18:41:17.000000000', 'files': ['releasenotes/source/wallaby.rst'], 'message': 'reno: Update master for unmaintained/wallaby\n\nUpdate the wallaby release notes configuration to build from\nunmaintained/wallaby.\n\nChange-Id: I9a0eeb1c6913a71d990a3e29bcbf80d0066d39df\n'}]",911260,f258d0f05eaddf57b19b26745757b669bc69fa6c,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/wallaby

Update the wallaby release notes configuration to build from
unmaintained/wallaby.

Change-Id: I9a0eeb1c6913a71d990a3e29bcbf80d0066d39df
",['releasenotes/source/wallaby.rst']
openstack%2Fdesignate-dashboard~911252,openstack/designate-dashboard,master,I1c053c9649ca2d92a778fac5727f195e27b70a0f,reno: Update master for unmaintained/victoria,MERGED,2024-03-05 18:40:01.000000000,2024-03-05 23:01:46.000000000,1,1,"[{'_account_id': 11628, 'name': 'Michael Johnson', 'email': 'johnsomor@gmail.com', 'username': 'johnsom'}, {'_account_id': 19298, 'name': 'Nicolas Bock', 'email': 'nicolas.bock@canonical.com', 'username': 'nicolasbock'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-05 18:40:01.000000000', 'files': ['releasenotes/source/victoria.rst'], 'message': 'reno: Update master for unmaintained/victoria\n\nUpdate the victoria release notes configuration to build from\nunmaintained/victoria.\n\nChange-Id: I1c053c9649ca2d92a778fac5727f195e27b70a0f\n'}]",911252,745b1799a5be212415ba3d0965201c12cd49c62e,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/victoria

Update the victoria release notes configuration to build from
unmaintained/victoria.

Change-Id: I1c053c9649ca2d92a778fac5727f195e27b70a0f
",['releasenotes/source/victoria.rst']
openstack%2Fkayobe~911155,openstack/kayobe,master,I028e137dade594f51450e47ba4a97c0435ba6796,Remove default value from sample configuration,MERGED,2024-03-05 17:13:11.000000000,2024-03-05 22:59:03.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}]",,1,"[{'number': 1, 'created': '2024-03-05 17:13:11.000000000', 'files': ['etc/kayobe/compute.yml'], 'message': 'Remove default value from sample configuration\n\nThis was added in change I8129b2a6793ea36bb296ef8337a5461f73d6e557.\n\nChange-Id: I028e137dade594f51450e47ba4a97c0435ba6796\n'}]",911155,e460099e1a3e2cc2899942d4fd48b72d8ed5616f,15197,Pierre Riteau,priteau,0,"Remove default value from sample configuration

This was added in change I8129b2a6793ea36bb296ef8337a5461f73d6e557.

Change-Id: I028e137dade594f51450e47ba4a97c0435ba6796
",['etc/kayobe/compute.yml']
openstack%2Fcharm-octavia~898959,openstack/charm-octavia,stable/victoria,I80b5cea812becd1724fcfe2a8a232253eac76735,Ensure mgmt network mtu,MERGED,2023-10-23 05:06:32.000000000,2024-03-05 22:52:18.000000000,69,4,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 6737, 'name': 'Edward Hope-Morley', 'email': 'edward.hope-morley@canonical.com', 'username': 'hopem'}, {'_account_id': 10058, 'name': 'Erlon R. Cruz', 'email': 'erlon.rodrigues.cruz@canonical.com', 'username': 'sombrafam'}, {'_account_id': 19298, 'name': 'Nicolas Bock', 'email': 'nicolas.bock@canonical.com', 'username': 'nicolasbock'}, {'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,25,"[{'number': 6, 'created': '2024-01-17 01:48:35.000000000', 'files': ['src/reactive/octavia_handlers.py', 'unit_tests/test_lib_charm_openstack_api_crud.py', 'unit_tests/test_octavia_handlers.py', 'src/lib/charm/openstack/api_crud.py'], 'message': 'Ensure mgmt network mtu\n\nThis will ensure that mtu is set whenever setup_hm_port()\nis called regardless of if the port has just been created\nor not. Also checks mtu in update-status hook.\n\nChange-Id: I80b5cea812becd1724fcfe2a8a232253eac76735\nCloses-Bug: #2018998\n(cherry picked from commit f326ef267aa3e671b608b823bfcaf938868cba45)\n(cherry picked from commit 3ebb523f89cda314b52805443fb4782a16888c66)\n(cherry picked from commit 1fa839826f5009d1cbf8bcc97234afa1fbd5dfb0)\n(cherry picked from commit 5747bcad9386e30a63e7f2bbb56f81b55979785a)\n(cherry picked from commit 31cb8fe1eb6df48c1b2a8aa2486a699bc544a96f)\n(cherry picked from commit 52f34c5ca6f43cb5e0da1f93a1e13e5de6e43b53)\n'}]",898959,45dad04e0b05e67b4b79515cc8243249b46b359e,21107,Trent Lloyd,lathiat,0,"Ensure mgmt network mtu

This will ensure that mtu is set whenever setup_hm_port()
is called regardless of if the port has just been created
or not. Also checks mtu in update-status hook.

Change-Id: I80b5cea812becd1724fcfe2a8a232253eac76735
Closes-Bug: #2018998
(cherry picked from commit f326ef267aa3e671b608b823bfcaf938868cba45)
(cherry picked from commit 3ebb523f89cda314b52805443fb4782a16888c66)
(cherry picked from commit 1fa839826f5009d1cbf8bcc97234afa1fbd5dfb0)
(cherry picked from commit 5747bcad9386e30a63e7f2bbb56f81b55979785a)
(cherry picked from commit 31cb8fe1eb6df48c1b2a8aa2486a699bc544a96f)
(cherry picked from commit 52f34c5ca6f43cb5e0da1f93a1e13e5de6e43b53)
","['src/reactive/octavia_handlers.py', 'unit_tests/test_lib_charm_openstack_api_crud.py', 'unit_tests/test_octavia_handlers.py', 'src/lib/charm/openstack/api_crud.py']"
openstack%2Fproject-team-guide~911375,openstack/project-team-guide,master,Ica33e5cfe0e5ba84e1bf648393eb2c7b788be5f1,Add section about transition,ABANDONED,2024-03-05 20:25:41.000000000,2024-03-05 22:50:02.000000000,14,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-05 20:25:41.000000000', 'files': ['doc/source/stable-branches.rst'], 'message': 'Add section about transition\n\nThe `unmaintained` section does not clearly spell out how the transition\nto this new branch structure is to be transitioned for branches before\nthe first SLURP release.\n\nChange-Id: Ica33e5cfe0e5ba84e1bf648393eb2c7b788be5f1\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}]",911375,3591921da0b6e1ae753b4022a15939f7d56778f3,19298,Nicolas Bock,nicolasbock,0,"Add section about transition

The `unmaintained` section does not clearly spell out how the transition
to this new branch structure is to be transitioned for branches before
the first SLURP release.

Change-Id: Ica33e5cfe0e5ba84e1bf648393eb2c7b788be5f1
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",['doc/source/stable-branches.rst']
openstack%2Fcharm-octavia~902745,openstack/charm-octavia,stable/victoria,I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b,osci.yaml: Increase ha-ovn job timeout,MERGED,2023-12-06 06:25:42.000000000,2024-03-05 22:44:11.000000000,2,0,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 6737, 'name': 'Edward Hope-Morley', 'email': 'edward.hope-morley@canonical.com', 'username': 'hopem'}, {'_account_id': 10058, 'name': 'Erlon R. Cruz', 'email': 'erlon.rodrigues.cruz@canonical.com', 'username': 'sombrafam'}, {'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,22,"[{'number': 2, 'created': '2024-01-17 01:48:35.000000000', 'files': ['osci.yaml'], 'message': 'osci.yaml: Increase ha-ovn job timeout\n\nThe ha-ovn jobs specifically are frequently taking at least 3h when\nsuccessful and often fail when almost finished with a timeout of 4h\n(14400s) which is the timeout for the parent func-target job.\n\nIncrease the timeout for these specific jobs to 5h (18000s).\n\nChange-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b\n(cherry picked from commit b25affc465e0882748e4658b83e47641ffbf7751)\n'}]",902745,500ead4d8db98cd2652423d18afdfaf0b05811f5,21107,Trent Lloyd,lathiat,0,"osci.yaml: Increase ha-ovn job timeout

The ha-ovn jobs specifically are frequently taking at least 3h when
successful and often fail when almost finished with a timeout of 4h
(14400s) which is the timeout for the parent func-target job.

Increase the timeout for these specific jobs to 5h (18000s).

Change-Id: I1a973f5c39cb5e4886d6194b6b63ce0bea06e07b
(cherry picked from commit b25affc465e0882748e4658b83e47641ffbf7751)
",['osci.yaml']
openstack%2Fdevstack~910985,openstack/devstack,stable/zed,Icd487e1012263a9b0bc13b529d31ff2025108adf,Drop the devstack-single-node-centos-7 nodeset,MERGED,2024-03-04 18:53:57.000000000,2024-03-05 22:32:40.000000000,0,10,"[{'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-04 18:53:57.000000000', 'files': ['.zuul.yaml'], 'message': ""Drop the devstack-single-node-centos-7 nodeset\n\nOpenDev is preparing to remove centos-7 nodes on March 15[*]. This\nchange drops one nodeset definition which is the last remaining\nreference on DevStack's master branch.\n\n[*] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/A2YIY5L7MVYSQMTVZU3L3OM7GLVVZPLK/\n\nChange-Id: Icd487e1012263a9b0bc13b529d31ff2025108adf\n(cherry picked from commit 73da7dfb93ce4a1a215c58a6011ac26c1b63b3fa)\n""}]",910985,1183167f191923f2473f1a93fece4caf8df2be54,5263,Jeremy Stanley,fungi,0,"Drop the devstack-single-node-centos-7 nodeset

OpenDev is preparing to remove centos-7 nodes on March 15[*]. This
change drops one nodeset definition which is the last remaining
reference on DevStack's master branch.

[*] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/A2YIY5L7MVYSQMTVZU3L3OM7GLVVZPLK/

Change-Id: Icd487e1012263a9b0bc13b529d31ff2025108adf
(cherry picked from commit 73da7dfb93ce4a1a215c58a6011ac26c1b63b3fa)
",['.zuul.yaml']
openstack%2Fdevstack~911152,openstack/devstack,master,Ibca0a2aac404161340e8fc00170018eecf5c8326,Ignore 500 status code in generate plugin script,MERGED,2024-03-05 16:37:04.000000000,2024-03-05 22:32:22.000000000,4,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22873, 'name': 'Martin Kopec', 'email': 'mkopec@redhat.com', 'username': 'mkopec'}]",,1,"[{'number': 1, 'created': '2024-03-05 16:37:04.000000000', 'files': ['tools/generate-devstack-plugins-list.py'], 'message': 'Ignore 500 status code in generate plugin script\n\nDue to various reasons, this script may encounter the\n500 status code from some repo (x/fuel-plugin-onos in current case[1])\nIf that happen then it return failure status code to the\npropose-updates job and fail that job\n\n- https://zuul.openstack.org/builds?job_name=propose-updates&project=openstack%2Fdevstack&skip=0\n\nIt is better not to raise the 500 error in this script and just ignore those\nrepo to process further to detect the plugin.\n\n[1] https://zuul.openstack.org/build/dba0aa41d145472397916dfcd13948de/log/job-output.txt#2442\n\nChange-Id: Ibca0a2aac404161340e8fc00170018eecf5c8326\n'}]",911152,1fe7707cf04852d024b64f695e40568696851b15,8556,Ghanshyam,ghanshyam,0,"Ignore 500 status code in generate plugin script

Due to various reasons, this script may encounter the
500 status code from some repo (x/fuel-plugin-onos in current case[1])
If that happen then it return failure status code to the
propose-updates job and fail that job

- https://zuul.openstack.org/builds?job_name=propose-updates&project=openstack%2Fdevstack&skip=0

It is better not to raise the 500 error in this script and just ignore those
repo to process further to detect the plugin.

[1] https://zuul.openstack.org/build/dba0aa41d145472397916dfcd13948de/log/job-output.txt#2442

Change-Id: Ibca0a2aac404161340e8fc00170018eecf5c8326
",['tools/generate-devstack-plugins-list.py']
openstack%2Fdevstack~910984,openstack/devstack,stable/2023.1,Icd487e1012263a9b0bc13b529d31ff2025108adf,Drop the devstack-single-node-centos-7 nodeset,MERGED,2024-03-04 18:52:27.000000000,2024-03-05 22:32:20.000000000,0,10,"[{'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-04 18:52:27.000000000', 'files': ['.zuul.yaml'], 'message': ""Drop the devstack-single-node-centos-7 nodeset\n\nOpenDev is preparing to remove centos-7 nodes on March 15[*]. This\nchange drops one nodeset definition which is the last remaining\nreference on DevStack's master branch.\n\n[*] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/A2YIY5L7MVYSQMTVZU3L3OM7GLVVZPLK/\n\nChange-Id: Icd487e1012263a9b0bc13b529d31ff2025108adf\n(cherry picked from commit 8ed5e01b1a3e4daeec5747b16aa1f46c7d506a24)\n""}]",910984,73da7dfb93ce4a1a215c58a6011ac26c1b63b3fa,5263,Jeremy Stanley,fungi,0,"Drop the devstack-single-node-centos-7 nodeset

OpenDev is preparing to remove centos-7 nodes on March 15[*]. This
change drops one nodeset definition which is the last remaining
reference on DevStack's master branch.

[*] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/A2YIY5L7MVYSQMTVZU3L3OM7GLVVZPLK/

Change-Id: Icd487e1012263a9b0bc13b529d31ff2025108adf
(cherry picked from commit 8ed5e01b1a3e4daeec5747b16aa1f46c7d506a24)
",['.zuul.yaml']
openstack%2Fnova~910616,openstack/nova,stable/2023.2,Ibb569b9db1475b8bbd8f8722d49228182cd47f85,Fix nova-metadata-api for ovn dhcp native networks,MERGED,2024-03-01 13:35:18.000000000,2024-03-05 22:31:19.000000000,22,19,"[{'_account_id': 4393, 'name': 'Dan Smith', 'email': 'dms@danplanet.com', 'username': 'danms'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2024-03-01 13:35:18.000000000', 'files': ['releasenotes/notes/bug-2055245-fix-nova-metadata-api-f60b18b1b594bec0.yaml', 'nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'nova/virt/netutils.py'], 'message': 'Fix nova-metadata-api for ovn dhcp native networks\n\nWith the change from ml2/ovs DHCP agents towards OVN implementation\nin neutron there is no port with device_owner network:dhcp anymore.\nInstead DHCP is provided by network:distributed port.\n\nCloses-Bug: 2055245\nChange-Id: Ibb569b9db1475b8bbd8f8722d49228182cd47f85\n(cherry picked from commit 135af5230e6f30fe158a25f7888e52cf886a7a35)\n'}]",910616,45a926156c863b468318cce462a21027685d07a6,36836,Steven Blatzheim,stblatzheim,0,"Fix nova-metadata-api for ovn dhcp native networks

With the change from ml2/ovs DHCP agents towards OVN implementation
in neutron there is no port with device_owner network:dhcp anymore.
Instead DHCP is provided by network:distributed port.

Closes-Bug: 2055245
Change-Id: Ibb569b9db1475b8bbd8f8722d49228182cd47f85
(cherry picked from commit 135af5230e6f30fe158a25f7888e52cf886a7a35)
","['releasenotes/notes/bug-2055245-fix-nova-metadata-api-f60b18b1b594bec0.yaml', 'nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'nova/virt/netutils.py']"
openstack%2Fgovernance~910434,openstack/governance,master,I93bc6b0f7fc9107ed07dc92f13193edb50d75cd2,Resolution: Remove Murano from 2024.1 release,MERGED,2024-02-27 19:22:58.000000000,2024-03-05 21:59:01.000000000,25,0,"[{'_account_id': 5314, 'name': 'Brian Rosmaita', 'email': 'rosmaita.fossdev@gmail.com', 'username': 'brian-rosmaita'}, {'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 10342, 'name': 'Jay Faulkner', 'display_name': 'JayF', 'email': 'jay@jvf.cc', 'username': 'JayF'}, {'_account_id': 11975, 'name': 'Slawek Kaplonski', 'email': 'skaplons@redhat.com', 'username': 'slaweq'}, {'_account_id': 15993, 'name': 'Amy Marrich', 'display_name': 'Amy Marrich (spotz)', 'email': 'amy@demarco.com', 'username': 'amarrich'}, {'_account_id': 16465, 'name': 'Kristi Nikolla', 'email': 'knikolla@bu.edu', 'username': 'knikolla'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,3,"[{'number': 3, 'created': '2024-02-27 19:28:04.000000000', 'files': ['resolutions/20240227-remove-murano-from-2024-1-release.rst', 'resolutions/index.rst'], 'message': 'Resolution: Remove Murano from 2024.1 release\n\nThis is a special case to remove Murano for being inactive after\nmilestone-2.\n\nChange-Id: I93bc6b0f7fc9107ed07dc92f13193edb50d75cd2\n'}]",910434,961d17b622779dd939aae8defcba7c887423df86,10342,Jay Faulkner,JayF,0,"Resolution: Remove Murano from 2024.1 release

This is a special case to remove Murano for being inactive after
milestone-2.

Change-Id: I93bc6b0f7fc9107ed07dc92f13193edb50d75cd2
","['resolutions/20240227-remove-murano-from-2024-1-release.rst', 'resolutions/index.rst']"
openstack%2Fopenstack-zuul-jobs~911162,openstack/openstack-zuul-jobs,master,I1358eaf734771b5ad919fae128b151d3571dfba2,Prepare templates for 2024.1 branching,MERGED,2024-03-05 17:51:32.000000000,2024-03-05 21:20:20.000000000,34,0,"[{'_account_id': 5263, 'name': 'Jeremy Stanley', 'display_name': 'fungi', 'email': 'fungi@yuggoth.org', 'username': 'fungi', 'status': 'missing, presumed fed'}, {'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2024-03-05 17:51:32.000000000', 'files': ['zuul.d/project-templates.yaml'], 'message': 'Prepare templates for 2024.1 branching\n\nThis week is when we start cutting stable/2024.1 branches. This patch\nupdates the templates so that 2024.1 Caracal official jobs will run\nagainst this new stable branch.\nAlso updates the periodic-stable templates to run py311 job on\nstable/2024.1 branch.\n\nChange-Id: I1358eaf734771b5ad919fae128b151d3571dfba2\n'}]",911162,a552dbaf69e23ca1d84b68f47465c035425e403a,17685,Elod Illes,elod.illes,0,"Prepare templates for 2024.1 branching

This week is when we start cutting stable/2024.1 branches. This patch
updates the templates so that 2024.1 Caracal official jobs will run
against this new stable branch.
Also updates the periodic-stable templates to run py311 job on
stable/2024.1 branch.

Change-Id: I1358eaf734771b5ad919fae128b151d3571dfba2
",['zuul.d/project-templates.yaml']
openstack%2Fbarbican~908858,openstack/barbican,master,Idec818e43016402de0188cf5ade032a1aee638ff,Update devstack plugin for Secure RBAC,MERGED,2024-02-12 20:13:27.000000000,2024-03-05 21:15:06.000000000,108,87,"[{'_account_id': 7414, 'name': 'David Wilde', 'email': 'dwilde@redhat.com', 'username': 'd34dh0r53'}, {'_account_id': 9914, 'name': 'Ade Lee', 'email': 'alee@redhat.com', 'username': 'alee'}, {'_account_id': 14250, 'name': 'Grzegorz Grasza', 'email': 'xek@redhat.com', 'username': 'xek'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 6, 'created': '2024-03-01 19:10:20.000000000', 'files': ['devstack/lib/barbican', '.zuul.yaml', 'devstack/lib/tempest', 'devstack/plugin.sh', 'devstack/settings'], 'message': 'Update devstack plugin for Secure RBAC\n\nThis patch refactors the devstack plugin to separate the legacy (now\ndeprecated) RBAC settings from the Secure RBAC (new default) settings.\n\nThe legacy policies can still be deployed by setting\nENFORCE_SCOPE=False.\n\nChange-Id: Idec818e43016402de0188cf5ade032a1aee638ff\n'}]",908858,8f92d6f5085428d200bd5b6b6adf00c25075fb2b,7973,Douglas Mendizábal,dougmendizabal,0,"Update devstack plugin for Secure RBAC

This patch refactors the devstack plugin to separate the legacy (now
deprecated) RBAC settings from the Secure RBAC (new default) settings.

The legacy policies can still be deployed by setting
ENFORCE_SCOPE=False.

Change-Id: Idec818e43016402de0188cf5ade032a1aee638ff
","['devstack/lib/barbican', '.zuul.yaml', 'devstack/lib/tempest', 'devstack/plugin.sh', 'devstack/settings']"
openstack%2Fblazar~911226,openstack/blazar,master,I731787f378d9c9fd4666bacfb65a8f06a65b2fa9,reno: Update master for unmaintained/xena,MERGED,2024-03-05 18:27:58.000000000,2024-03-05 21:01:28.000000000,1,1,"[{'_account_id': 15197, 'name': 'Pierre Riteau', 'email': 'pierre@stackhpc.com', 'username': 'priteau', 'status': 'StackHPC'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-05 18:27:58.000000000', 'files': ['releasenotes/source/xena.rst'], 'message': 'reno: Update master for unmaintained/xena\n\nUpdate the xena release notes configuration to build from\nunmaintained/xena.\n\nChange-Id: I731787f378d9c9fd4666bacfb65a8f06a65b2fa9\n'}]",911226,db66efe07cecb2df182f5a5a6ce9b1bab37d29ee,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/xena

Update the xena release notes configuration to build from
unmaintained/xena.

Change-Id: I731787f378d9c9fd4666bacfb65a8f06a65b2fa9
",['releasenotes/source/xena.rst']
openstack%2Fpython-blazarclient~911221,openstack/python-blazarclient,master,Id965647eac46762d168eefe8befa34e4445a98ff,reno: Update master for unmaintained/wallaby,MERGED,2024-03-05 18:27:27.000000000,2024-03-05 20:56:37.000000000,1,1,"[{'_account_id': 15197, 'name': 'Pierre Riteau', 'email': 'pierre@stackhpc.com', 'username': 'priteau', 'status': 'StackHPC'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-05 18:27:27.000000000', 'files': ['releasenotes/source/wallaby.rst'], 'message': 'reno: Update master for unmaintained/wallaby\n\nUpdate the wallaby release notes configuration to build from\nunmaintained/wallaby.\n\nChange-Id: Id965647eac46762d168eefe8befa34e4445a98ff\n'}]",911221,d9cc3a591aeca862c0cf9d029c60dff5ba497012,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/wallaby

Update the wallaby release notes configuration to build from
unmaintained/wallaby.

Change-Id: Id965647eac46762d168eefe8befa34e4445a98ff
",['releasenotes/source/wallaby.rst']
openstack%2Fblazar~911219,openstack/blazar,master,I4f317aeaad3227621cb158aa8905d26c3ef2177e,reno: Update master for unmaintained/wallaby,MERGED,2024-03-05 18:27:17.000000000,2024-03-05 20:52:53.000000000,1,1,"[{'_account_id': 15197, 'name': 'Pierre Riteau', 'email': 'pierre@stackhpc.com', 'username': 'priteau', 'status': 'StackHPC'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-05 18:27:17.000000000', 'files': ['releasenotes/source/wallaby.rst'], 'message': 'reno: Update master for unmaintained/wallaby\n\nUpdate the wallaby release notes configuration to build from\nunmaintained/wallaby.\n\nChange-Id: I4f317aeaad3227621cb158aa8905d26c3ef2177e\n'}]",911219,6b6e318b18f0a0a2c121c4fd0bf17efdef0e9778,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/wallaby

Update the wallaby release notes configuration to build from
unmaintained/wallaby.

Change-Id: I4f317aeaad3227621cb158aa8905d26c3ef2177e
",['releasenotes/source/wallaby.rst']
openstack%2Fpython-blazarclient~911214,openstack/python-blazarclient,master,I5c6f2103c9e041637379f48ec23e01342b0123c1,reno: Update master for unmaintained/victoria,MERGED,2024-03-05 18:26:47.000000000,2024-03-05 20:52:10.000000000,1,1,"[{'_account_id': 15197, 'name': 'Pierre Riteau', 'email': 'pierre@stackhpc.com', 'username': 'priteau', 'status': 'StackHPC'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-05 18:26:47.000000000', 'files': ['releasenotes/source/victoria.rst'], 'message': 'reno: Update master for unmaintained/victoria\n\nUpdate the victoria release notes configuration to build from\nunmaintained/victoria.\n\nChange-Id: I5c6f2103c9e041637379f48ec23e01342b0123c1\n'}]",911214,9e2684e5006be1893d4f08f67b41736e18998dc9,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/victoria

Update the victoria release notes configuration to build from
unmaintained/victoria.

Change-Id: I5c6f2103c9e041637379f48ec23e01342b0123c1
",['releasenotes/source/victoria.rst']
openstack%2Fblazar-dashboard~911223,openstack/blazar-dashboard,master,I431c60236d877091bc876048fa48bc7d08a56187,reno: Update master for unmaintained/xena,MERGED,2024-03-05 18:27:38.000000000,2024-03-05 20:48:24.000000000,1,1,"[{'_account_id': 15197, 'name': 'Pierre Riteau', 'email': 'pierre@stackhpc.com', 'username': 'priteau', 'status': 'StackHPC'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-05 18:27:38.000000000', 'files': ['releasenotes/source/xena.rst'], 'message': 'reno: Update master for unmaintained/xena\n\nUpdate the xena release notes configuration to build from\nunmaintained/xena.\n\nChange-Id: I431c60236d877091bc876048fa48bc7d08a56187\n'}]",911223,b18768cd15653440d00eecd706628d8377fec88f,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/xena

Update the xena release notes configuration to build from
unmaintained/xena.

Change-Id: I431c60236d877091bc876048fa48bc7d08a56187
",['releasenotes/source/xena.rst']
openstack%2Fpython-blazarclient~911228,openstack/python-blazarclient,master,Ib3a6fecc31123480781b423766de9c0dd3163d7d,reno: Update master for unmaintained/xena,MERGED,2024-03-05 18:28:08.000000000,2024-03-05 20:46:47.000000000,1,1,"[{'_account_id': 15197, 'name': 'Pierre Riteau', 'email': 'pierre@stackhpc.com', 'username': 'priteau', 'status': 'StackHPC'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-05 18:28:08.000000000', 'files': ['releasenotes/source/xena.rst'], 'message': 'reno: Update master for unmaintained/xena\n\nUpdate the xena release notes configuration to build from\nunmaintained/xena.\n\nChange-Id: Ib3a6fecc31123480781b423766de9c0dd3163d7d\n'}]",911228,ee25d601576a28ae78752815dec06102a66ae94b,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/xena

Update the xena release notes configuration to build from
unmaintained/xena.

Change-Id: Ib3a6fecc31123480781b423766de9c0dd3163d7d
",['releasenotes/source/xena.rst']
openstack%2Fmanila-tempest-plugin~910908,openstack/manila-tempest-plugin,master,Iaf39f4a83e383fb9db7f519136b9169352ff84ad,Use ddt.named_data decorator to avoid random test names,MERGED,2024-03-04 13:55:54.000000000,2024-03-05 20:43:57.000000000,29,23,"[{'_account_id': 10459, 'name': 'Luigi Toscano', 'email': 'ltoscano@redhat.com', 'username': 'ltoscano'}, {'_account_id': 16643, 'name': 'Goutham Pacha Ravi', 'email': 'gouthampravi@gmail.com', 'username': 'gouthamr'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29632, 'name': 'Carlos Eduardo', 'email': 'ces.eduardo98@gmail.com', 'username': 'silvacarlos'}, {'_account_id': 30025, 'name': 'Vida Haririan', 'display_name': 'Vida Haririan', 'email': 'vhariria@redhat.com', 'username': 'vhari'}]","[{'rev_nbr': 5, 'author': '2024-03-04 18:00:37.000000000', 'date': '2024-03-04 18:00:37.000000000'}, {'rev_nbr': 5, 'author': '2024-03-04 21:25:44.000000000', 'date': '2024-03-04 21:25:44.000000000'}]",6,"[{'number': 5, 'created': '2024-03-04 15:17:41.000000000', 'files': ['requirements.txt', 'manila_tempest_tests/tests/api/admin/test_share_types.py', 'manila_tempest_tests/tests/api/test_share_types_negative.py'], 'message': 'Use ddt.named_data decorator to avoid random test names\n\nThere are few tests that generate random test names because\nrandom parameters are given to the ddt.data  decorator.\n\nIn the ddt version number 1.6.0 there is a possibility to\ndetermine the name of the tests without relying on the\ngiven values. I think this could be a good solution for\nthe randomly generated names.\n\nThis change is being re-introduced as ddt version 1.6.0 is\nnow usable in the downstream CI. The original change is: Iaf39f4a83e383fb9db7f519136b9169352ff84af\n\nThe following change is also included: I4d274869e5e9e7800be44bccf7a2641b4a5febe8\nWhich replaces periods to underscores, a needed fix.\n\nChange-Id: Iaf39f4a83e383fb9db7f519136b9169352ff84ad\n'}]",910908,de4bf8d29ed2008fb52c75b413b065abdf6a38e0,32704,Alfredo Garcia,alfrgarc,0,"Use ddt.named_data decorator to avoid random test names

There are few tests that generate random test names because
random parameters are given to the ddt.data  decorator.

In the ddt version number 1.6.0 there is a possibility to
determine the name of the tests without relying on the
given values. I think this could be a good solution for
the randomly generated names.

This change is being re-introduced as ddt version 1.6.0 is
now usable in the downstream CI. The original change is: Iaf39f4a83e383fb9db7f519136b9169352ff84af

The following change is also included: I4d274869e5e9e7800be44bccf7a2641b4a5febe8
Which replaces periods to underscores, a needed fix.

Change-Id: Iaf39f4a83e383fb9db7f519136b9169352ff84ad
","['requirements.txt', 'manila_tempest_tests/tests/api/admin/test_share_types.py', 'manila_tempest_tests/tests/api/test_share_types_negative.py']"
openstack%2Fmanila-tempest-plugin~909798,openstack/manila-tempest-plugin,master,I168e1d9057d48b61eb325f2fd93dcc12a406f06e,Ensure metadata tests manipulate only its own metadata,MERGED,2024-02-21 22:31:39.000000000,2024-03-05 20:32:28.000000000,12,13,"[{'_account_id': 16643, 'name': 'Goutham Pacha Ravi', 'email': 'gouthampravi@gmail.com', 'username': 'gouthamr'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 30025, 'name': 'Vida Haririan', 'display_name': 'Vida Haririan', 'email': 'vhariria@redhat.com', 'username': 'vhari'}]","[{'rev_nbr': 1, 'author': '2024-02-22 02:30:10.000000000', 'date': '2024-02-22 02:30:10.000000000'}, {'rev_nbr': 3, 'author': '2024-02-23 02:09:35.000000000', 'date': '2024-02-23 02:09:35.000000000'}, {'rev_nbr': 4, 'author': '2024-02-28 19:55:26.000000000', 'date': '2024-02-28 19:55:26.000000000'}]",18,"[{'number': 4, 'created': '2024-02-28 17:29:47.000000000', 'files': ['manila_tempest_tests/tests/api/test_metadata.py'], 'message': ""Ensure metadata tests manipulate only its own metadata\n\nThere are some metadata that only drivers or administrators can\nmanipulate, and if the tests haven't created those, we should not\nbe adding them to our asserts.\n\nIn this change, we are making sure that tests will only validate\nthe metadata that they are creating.\n\nChange-Id: I168e1d9057d48b61eb325f2fd93dcc12a406f06e\n""}]",909798,cf874b1dacd860040e4187c831d5d636479881fa,29632,Carlos Eduardo,silvacarlos,0,"Ensure metadata tests manipulate only its own metadata

There are some metadata that only drivers or administrators can
manipulate, and if the tests haven't created those, we should not
be adding them to our asserts.

In this change, we are making sure that tests will only validate
the metadata that they are creating.

Change-Id: I168e1d9057d48b61eb325f2fd93dcc12a406f06e
",['manila_tempest_tests/tests/api/test_metadata.py']
openstack%2Freleases~910412,openstack/releases,master,I9c94ef06b781dc12e508c2a4543732099792a62c,[watcher] Transition EM branches to Unmaintained,MERGED,2024-02-27 18:56:53.000000000,2024-03-05 20:09:27.000000000,60,3,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28748, 'name': 'chenker', 'email': 'chen.ke14@zte.com.cn', 'username': 'chenke'}, {'_account_id': 36201, 'name': 'Shanjiayi', 'email': 'shanjiayi@yovole.com', 'username': 'Shanjiayi'}]",,1,"[{'number': 1, 'created': '2024-02-27 18:56:53.000000000', 'files': ['deliverables/victoria/watcher-dashboard.yaml', 'deliverables/victoria/watcher.yaml', 'deliverables/wallaby/watcher-dashboard.yaml', 'deliverables/wallaby/python-watcherclient.yaml', 'deliverables/xena/watcher-dashboard.yaml', 'deliverables/wallaby/watcher.yaml', 'deliverables/xena/watcher.yaml', 'deliverables/victoria/python-watcherclient.yaml', 'deliverables/xena/python-watcherclient.yaml'], 'message': '[watcher] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I9c94ef06b781dc12e508c2a4543732099792a62c\n'}]",910412,7a8ceac240a36471ea62627df5fb52d80c2cede6,17685,Elod Illes,elod.illes,0,"[watcher] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I9c94ef06b781dc12e508c2a4543732099792a62c
","['deliverables/victoria/watcher-dashboard.yaml', 'deliverables/victoria/watcher.yaml', 'deliverables/wallaby/watcher-dashboard.yaml', 'deliverables/wallaby/python-watcherclient.yaml', 'deliverables/xena/watcher-dashboard.yaml', 'deliverables/wallaby/watcher.yaml', 'deliverables/xena/watcher.yaml', 'deliverables/victoria/python-watcherclient.yaml', 'deliverables/xena/python-watcherclient.yaml']"
openstack%2Fgovernance~911011,openstack/governance,master,I579f0341e2857cf6fca1a4217c8e43d19b06cc3e,Fixing one typo in 2024.2 testing runtime,ABANDONED,2024-03-04 23:34:03.000000000,2024-03-05 19:50:56.000000000,1,1,"[{'_account_id': 935, 'name': 'James Page', 'email': 'ringo.page@gmail.com', 'username': 'james-page'}, {'_account_id': 5314, 'name': 'Brian Rosmaita', 'email': 'rosmaita.fossdev@gmail.com', 'username': 'brian-rosmaita'}, {'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 11975, 'name': 'Slawek Kaplonski', 'email': 'skaplons@redhat.com', 'username': 'slaweq'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-04 23:34:03.000000000', 'files': ['reference/runtimes/2024.2.rst'], 'message': 'Fixing one typo in 2024.2 testing runtime\n\n- https://review.opendev.org/c/openstack/governance/+/908862/comment/b41b7f9b_f6765914/\n\nChange-Id: I579f0341e2857cf6fca1a4217c8e43d19b06cc3e\n'}]",911011,a3550c7a1099ac1d1ab25ab1bfebbf1323b37966,8556,Ghanshyam,ghanshyam,0,"Fixing one typo in 2024.2 testing runtime

- https://review.opendev.org/c/openstack/governance/+/908862/comment/b41b7f9b_f6765914/

Change-Id: I579f0341e2857cf6fca1a4217c8e43d19b06cc3e
",['reference/runtimes/2024.2.rst']
openstack%2Fdevstack~910991,openstack/devstack,stable/victoria,Icd487e1012263a9b0bc13b529d31ff2025108adf,Drop the devstack-single-node-centos-7 nodeset,MERGED,2024-03-04 19:31:38.000000000,2024-03-05 19:42:37.000000000,0,13,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 3, 'created': '2024-03-04 19:57:01.000000000', 'files': ['.zuul.yaml'], 'message': ""Drop the devstack-single-node-centos-7 nodeset\n\nOpenDev is preparing to remove centos-7 nodes on March 15[*]. This\nchange drops one nodeset definition which is the last remaining\nreference on DevStack's master branch. Also clean up a lingering\nreference to swift-dsvm-functional-py3 which no longer exists.\n\n[*] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/A2YIY5L7MVYSQMTVZU3L3OM7GLVVZPLK/\n\nChange-Id: Icd487e1012263a9b0bc13b529d31ff2025108adf\n(cherry picked from commit bc59eb81a74a240efa52d5e7a61b1a395bf8eefc)\n""}]",910991,326163c1aed4fda2b763237a98a6bb7018b1faad,5263,Jeremy Stanley,fungi,0,"Drop the devstack-single-node-centos-7 nodeset

OpenDev is preparing to remove centos-7 nodes on March 15[*]. This
change drops one nodeset definition which is the last remaining
reference on DevStack's master branch. Also clean up a lingering
reference to swift-dsvm-functional-py3 which no longer exists.

[*] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/A2YIY5L7MVYSQMTVZU3L3OM7GLVVZPLK/

Change-Id: Icd487e1012263a9b0bc13b529d31ff2025108adf
(cherry picked from commit bc59eb81a74a240efa52d5e7a61b1a395bf8eefc)
",['.zuul.yaml']
openstack%2Fnova~877446,openstack/nova,master,I21109752ff1c56d3cefa58fcd36c68bf468e0a73,Disconnecting volume from the compute host,MERGED,2023-03-15 05:37:57.000000000,2024-03-05 19:37:50.000000000,70,10,"[{'_account_id': 4393, 'name': 'Dan Smith', 'email': 'dms@danplanet.com', 'username': 'danms'}, {'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 8864, 'name': 'Artom Lifshitz', 'email': 'notartom@gmail.com', 'username': 'artom'}, {'_account_id': 9535, 'name': 'Gorka Eguileor', 'email': 'geguileo@redhat.com', 'username': 'Gorka'}, {'_account_id': 10135, 'name': 'Lee Yarwood', 'display_name': 'Lee Yarwood', 'email': 'lyarwood@redhat.com', 'username': 'lyarwood'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 19234, 'name': 'Alexey Stupnikov', 'email': 'aleksey.stupnikov@gmail.com', 'username': 'astupnikov'}, {'_account_id': 20733, 'name': 'Rajesh Tailor', 'email': 'ratailor@redhat.com', 'username': 'rajesht'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27615, 'name': 'Rajat Dhasmana', 'email': 'rajatdhasmana@gmail.com', 'username': 'whoami-rajat'}, {'_account_id': 32761, 'name': 'panhongyin', 'display_name': 'panhongyin', 'email': 'panhongyin@yovole.com', 'username': 'panhongyin'}, {'_account_id': 34860, 'name': 'Amit Uniyal', 'email': 'auniyal@redhat.com', 'username': 'auniyal'}]","[{'rev_nbr': 1, 'author': '2023-03-15 12:44:22.000000000', 'date': '2023-03-15 12:44:22.000000000'}, {'rev_nbr': 3, 'author': '2023-03-16 18:04:30.000000000', 'date': '2023-03-16 18:04:30.000000000'}, {'rev_nbr': 4, 'author': '2023-03-20 12:12:23.000000000', 'date': '2023-03-20 12:12:23.000000000'}, {'rev_nbr': 4, 'author': '2023-03-20 12:20:06.000000000', 'date': '2023-03-20 12:20:06.000000000'}, {'rev_nbr': 4, 'author': '2023-03-20 14:47:03.000000000', 'date': '2023-03-20 14:47:03.000000000'}, {'rev_nbr': 5, 'author': '2023-03-21 11:16:25.000000000', 'date': '2023-03-21 11:16:25.000000000'}, {'rev_nbr': 5, 'author': '2023-03-21 11:24:46.000000000', 'date': '2023-03-21 11:24:46.000000000'}, {'rev_nbr': 5, 'author': '2023-03-21 19:59:45.000000000', 'date': '2023-03-21 19:59:45.000000000'}, {'rev_nbr': 6, 'author': '2023-06-27 20:29:32.000000000', 'date': '2023-06-27 20:29:32.000000000'}, {'rev_nbr': 10, 'author': '2023-07-13 17:46:52.000000000', 'date': '2023-07-13 17:46:52.000000000'}, {'rev_nbr': 11, 'author': '2023-07-14 11:54:19.000000000', 'date': '2023-07-14 11:54:19.000000000'}, {'rev_nbr': 13, 'author': '2023-07-17 14:18:25.000000000', 'date': '2023-07-17 14:18:25.000000000'}]",86,"[{'number': 29, 'created': '2024-03-01 06:27:16.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/cmd/test_manage.py', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py'], 'message': 'Disconnecting volume from the compute host\n\ncmd nova-manage volume_attachment refresh vm-id vol-id connetor\n\nThere were cases where the instance said to live in compute#1 but the\nconnection_info in the BDM record was for compute#2, and when the script\ncalled `remote_volume_connection` then nova would call os-brick on\ncompute#1 (the wrong node) and try to detach it.\n\nIn some case os-brick would mistakenly think that the volume was\nattached (because the target and lun matched an existing volume on the\nhost) and would try to disconnect, resulting in errors on the compute\nlogs.\n\n- Added HostConflict exception\n- Fixes dedent in cmd/manange.py\n- Updates nova-mange doc\n\nCloses-Bug: #2012365\nChange-Id: I21109752ff1c56d3cefa58fcd36c68bf468e0a73\n'}]",877446,a8f81d5f08692c16d538af3197460d9426cc00a1,34860,Amit Uniyal,auniyal,0,"Disconnecting volume from the compute host

cmd nova-manage volume_attachment refresh vm-id vol-id connetor

There were cases where the instance said to live in compute#1 but the
connection_info in the BDM record was for compute#2, and when the script
called `remote_volume_connection` then nova would call os-brick on
compute#1 (the wrong node) and try to detach it.

In some case os-brick would mistakenly think that the volume was
attached (because the target and lun matched an existing volume on the
host) and would try to disconnect, resulting in errors on the compute
logs.

- Added HostConflict exception
- Fixes dedent in cmd/manange.py
- Updates nova-mange doc

Closes-Bug: #2012365
Change-Id: I21109752ff1c56d3cefa58fcd36c68bf468e0a73
","['nova/exception.py', 'nova/tests/unit/cmd/test_manage.py', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py']"
openstack%2Fcloudkitty~908749,openstack/cloudkitty,master,I427d4b91cc5da9e9b2ffdb4239a5256ab44a1e06,Add grenade tests,MERGED,2024-02-11 18:03:58.000000000,2024-03-05 19:34:46.000000000,210,0,"[{'_account_id': 15197, 'name': 'Pierre Riteau', 'email': 'pierre@stackhpc.com', 'username': 'priteau', 'status': 'StackHPC'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 25277, 'name': 'Mariusz Karpiarz', 'email': 'mariusz.karpiarz@codethink.co.uk', 'username': 'mkarpiarz'}, {'_account_id': 28356, 'name': 'Rafael Weingartner', 'email': 'rafael@apache.org', 'username': 'rafaelweingartner'}]",,16,"[{'number': 25, 'created': '2024-03-05 17:06:47.000000000', 'files': ['devstack/upgrade/shutdown.sh', '.zuul.yaml', 'devstack/upgrade/upgrade.sh', 'devstack/upgrade/settings', 'devstack/upgrade/resources.sh'], 'message': 'Add grenade tests\n\nChange-Id: I427d4b91cc5da9e9b2ffdb4239a5256ab44a1e06\n'}]",908749,3114c3f979a6f08e1460462ebcc463439a9c20d3,30695,Pedro Henrique Pereira Martins,pedrohpmartins,0,"Add grenade tests

Change-Id: I427d4b91cc5da9e9b2ffdb4239a5256ab44a1e06
","['devstack/upgrade/shutdown.sh', '.zuul.yaml', 'devstack/upgrade/upgrade.sh', 'devstack/upgrade/settings', 'devstack/upgrade/resources.sh']"
openstack%2Fironic~910651,openstack/ironic,stable/2023.2,I3373d1d7d22010b4b2dc783aa37b978505fc0103,ci: multiple fixes,ABANDONED,2024-02-29 17:30:07.000000000,2024-03-05 19:23:10.000000000,10,19,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-02-29 17:30:07.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'devstack/plugin.sh', 'zuul.d/project.yaml'], 'message': 'ci: multiple fixes\n\n* Reduces standalone job concurrency to 1 to reduce overall\n  parallelism.\n* Makes standalone jobs non-voting.\n* Removes the dnsmasq downgrade now that we sort of think it might\n  be semi-okay, while we continue to try and figure out what is\n  going sideways on multiple branches.\n\nChange-Id: I3373d1d7d22010b4b2dc783aa37b978505fc0103\n'}]",910651,333b3f0464225b393470c2ec291683e83aa7af84,11655,Julia Kreger,jkreger,0,"ci: multiple fixes

* Reduces standalone job concurrency to 1 to reduce overall
  parallelism.
* Makes standalone jobs non-voting.
* Removes the dnsmasq downgrade now that we sort of think it might
  be semi-okay, while we continue to try and figure out what is
  going sideways on multiple branches.

Change-Id: I3373d1d7d22010b4b2dc783aa37b978505fc0103
","['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'devstack/plugin.sh', 'zuul.d/project.yaml']"
openstack%2Fironic~910537,openstack/ironic,stable/2023.2,Ia7a9835241046f98c2cacb9bbc5156a14c568c1d,ci: stable-only: remove metal3-integration ci job,ABANDONED,2024-02-28 17:09:35.000000000,2024-03-05 19:22:56.000000000,0,0,"[{'_account_id': 10342, 'name': 'Jay Faulkner', 'display_name': 'JayF', 'email': 'jay@jvf.cc', 'username': 'JayF'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2024-03-05 19:22:41.000000000', 'files': [], 'message': 'ci: stable-only: remove metal3-integration ci job\n\nConsensus from IRC today yielded that we should likely just\ndrop metal3-integration.\n\nhttps: //meetings.opendev.org/irclogs/%23openstack-ironic/%23openstack-ironic.2024-02-28.log.html#t2024-02-28T16:37:48\n\nChange-Id: Ia7a9835241046f98c2cacb9bbc5156a14c568c1d\n'}]",910537,869556d5d465a786616e54641be5f5de8adc9008,11655,Julia Kreger,jkreger,0,"ci: stable-only: remove metal3-integration ci job

Consensus from IRC today yielded that we should likely just
drop metal3-integration.

https: //meetings.opendev.org/irclogs/%23openstack-ironic/%23openstack-ironic.2024-02-28.log.html#t2024-02-28T16:37:48

Change-Id: Ia7a9835241046f98c2cacb9bbc5156a14c568c1d
",[]
openstack%2Freleases~910409,openstack/releases,master,Iade3b9c33fa46c57512ac8728e70c3c6c2995739,[cinder] Transition EM branches to Unmaintained,MERGED,2024-02-27 18:56:37.000000000,2024-03-05 19:17:22.000000000,102,6,"[{'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 9236, 'name': 'Jon Bernard', 'email': 'jobernar@redhat.com', 'username': 'jbernard'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27615, 'name': 'Rajat Dhasmana', 'email': 'rajatdhasmana@gmail.com', 'username': 'whoami-rajat'}, {'_account_id': 36201, 'name': 'Shanjiayi', 'email': 'shanjiayi@yovole.com', 'username': 'Shanjiayi'}]",,2,"[{'number': 1, 'created': '2024-02-27 18:56:37.000000000', 'files': ['deliverables/xena/cinder.yaml', 'deliverables/victoria/os-brick.yaml', 'deliverables/wallaby/os-brick.yaml', 'deliverables/xena/cinderlib.yaml', 'deliverables/wallaby/python-brick-cinderclient-ext.yaml', 'deliverables/xena/os-brick.yaml', 'deliverables/wallaby/cinder.yaml', 'deliverables/victoria/python-cinderclient.yaml', 'deliverables/wallaby/cinderlib.yaml', 'deliverables/xena/python-brick-cinderclient-ext.yaml', 'deliverables/victoria/python-brick-cinderclient-ext.yaml', 'deliverables/victoria/cinderlib.yaml', 'deliverables/victoria/cinder.yaml', 'deliverables/xena/python-cinderclient.yaml', 'deliverables/wallaby/python-cinderclient.yaml'], 'message': '[cinder] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: Iade3b9c33fa46c57512ac8728e70c3c6c2995739\n'}]",910409,d6dce203b0a0f4282f880f6dc77f09ff43149b3a,17685,Elod Illes,elod.illes,0,"[cinder] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: Iade3b9c33fa46c57512ac8728e70c3c6c2995739
","['deliverables/xena/cinder.yaml', 'deliverables/victoria/os-brick.yaml', 'deliverables/wallaby/os-brick.yaml', 'deliverables/xena/cinderlib.yaml', 'deliverables/wallaby/python-brick-cinderclient-ext.yaml', 'deliverables/xena/os-brick.yaml', 'deliverables/wallaby/cinder.yaml', 'deliverables/victoria/python-cinderclient.yaml', 'deliverables/wallaby/cinderlib.yaml', 'deliverables/xena/python-brick-cinderclient-ext.yaml', 'deliverables/victoria/python-brick-cinderclient-ext.yaml', 'deliverables/victoria/cinderlib.yaml', 'deliverables/victoria/cinder.yaml', 'deliverables/xena/python-cinderclient.yaml', 'deliverables/wallaby/python-cinderclient.yaml']"
openstack%2Fzaqar~809567,openstack/zaqar,stable/xena,Id4c6a44417276950bd1fb92c2abc7c943960818a,Run TripleO jobs on CentOS8 instead of CentOS7,ABANDONED,2021-09-17 12:33:46.000000000,2024-03-05 19:16:46.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-09-17 12:33:46.000000000', 'files': ['.zuul.yaml'], 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Id4c6a44417276950bd1fb92c2abc7c943960818a\n'}]",809567,7992a24446f24517429cb3a48092b3966f804433,20182,Bhagyashri Shewale,bhagyashris,0,"Run TripleO jobs on CentOS8 instead of CentOS7

As we are cleaning up the c7 jobs and obselete featuresets [1].
This change replaces usage of CentOS7 in TripleO jobs by CentOS8.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: Id4c6a44417276950bd1fb92c2abc7c943960818a
",['.zuul.yaml']
openstack%2Fzaqar~828348,openstack/zaqar,stable/xena,I2f17523b52f43f8922dcdb6f3a706222a69ab707,Xena-only : Replace job template for stable/xena,ABANDONED,2022-02-08 14:22:30.000000000,2024-03-05 19:16:38.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2022-02-08 14:22:30.000000000', 'files': ['.zuul.yaml'], 'message': 'Xena-only : Replace job template for stable/xena\n\nIt seems job template has not been updated since Victoria. This change\nreplaces the template by the one for Xena release.\n\nChange-Id: I2f17523b52f43f8922dcdb6f3a706222a69ab707\n'}]",828348,c800b742340c71f1dc2ec3f9a16fa35548d0d474,9816,Takashi Kajinami,kajinamit,0,"Xena-only : Replace job template for stable/xena

It seems job template has not been updated since Victoria. This change
replaces the template by the one for Xena release.

Change-Id: I2f17523b52f43f8922dcdb6f3a706222a69ab707
",['.zuul.yaml']
openstack%2Fzaqar~892305,openstack/zaqar,stable/xena,I16436aa19da2cf53951c9ad27bca14033194651a,Use processutils to fix TypeError in subprocess,ABANDONED,2023-08-22 13:10:39.000000000,2024-03-05 19:16:30.000000000,15,10,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 4, 'created': '2023-08-23 03:06:20.000000000', 'files': ['requirements.txt', 'zaqar/tests/unit/notification/test_notifier.py', 'zaqar/notification/tasks/mailto.py', 'lower-constraints.txt'], 'message': 'Use processutils to fix TypeError in subprocess\n\nCalling processutils.execute() other than subprocess to\nfix bytes-like and str issue in python3.\n\nCloses-bug: #2029392\nChange-Id: I16436aa19da2cf53951c9ad27bca14033194651a\n(cherry picked from commit e0937b1f097f72238033ccc7182c88ab870bc23f)\n'}]",892305,fa15fa6fd6d492fb37959cb2651ab98a927229f7,21757,Xing Zhang,angeiv,0,"Use processutils to fix TypeError in subprocess

Calling processutils.execute() other than subprocess to
fix bytes-like and str issue in python3.

Closes-bug: #2029392
Change-Id: I16436aa19da2cf53951c9ad27bca14033194651a
(cherry picked from commit e0937b1f097f72238033ccc7182c88ab870bc23f)
","['requirements.txt', 'zaqar/tests/unit/notification/test_notifier.py', 'zaqar/notification/tasks/mailto.py', 'lower-constraints.txt']"
openstack%2Fpython-zaqarclient~809836,openstack/python-zaqarclient,stable/xena,Icbd5b1f82214393caf96a926d2f073d9dadb7107,Update .gitreview for stable/xena,ABANDONED,2021-09-17 16:40:28.000000000,2024-03-05 19:16:13.000000000,1,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-09-17 16:40:28.000000000', 'files': ['.gitreview'], 'message': 'Update .gitreview for stable/xena\n\nChange-Id: Icbd5b1f82214393caf96a926d2f073d9dadb7107\n'}]",809836,f3c7d77a39f0a852063d1caff53d8b33fa4215fb,22816,OpenStack Release Bot,release,1,"Update .gitreview for stable/xena

Change-Id: Icbd5b1f82214393caf96a926d2f073d9dadb7107
",['.gitreview']
openstack%2Fpython-zaqarclient~809837,openstack/python-zaqarclient,stable/xena,I20d9286f35837cb6415f5385e835f47e3b11628f,Update TOX_CONSTRAINTS_FILE for stable/xena,ABANDONED,2021-09-17 16:40:29.000000000,2024-03-05 19:16:04.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-09-17 16:40:29.000000000', 'files': ['tox.ini'], 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I20d9286f35837cb6415f5385e835f47e3b11628f\n'}]",809837,fdbb8bb628be39cc666a1bb825b942e65166fd49,22816,OpenStack Release Bot,release,1,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I20d9286f35837cb6415f5385e835f47e3b11628f
",['tox.ini']
openstack%2Fpython-zaqarclient~855860,openstack/python-zaqarclient,stable/xena,I7b6fc7af500f77a3e38ba98ef5960913ec60131f,Stable-only: Fix missing updates for stable branch creation,ABANDONED,2022-09-05 09:06:11.000000000,2024-03-05 19:15:56.000000000,5,3,"[{'_account_id': 9816, 'name': 'Takashi Kajinami', 'email': 'kajinamit@oss.nttdata.com', 'username': 'kajinamit'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2022-09-05 09:47:42.000000000', 'files': ['.gitreview', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'message': 'Stable-only: Fix missing updates for stable branch creation\n\nThis change fixes the following items still outdated in stable\nbranches.\n - .gitreview\n - TOX_CONSTRAINTS_FILE\n - supported python runtimes\n - job template\n\nThis also removes the broken lower constraints job.\n\nChange-Id: I7b6fc7af500f77a3e38ba98ef5960913ec60131f\n'}]",855860,e44a24d6afb7139720ac9a095cd73c76204395d8,9816,Takashi Kajinami,kajinamit,0,"Stable-only: Fix missing updates for stable branch creation

This change fixes the following items still outdated in stable
branches.
 - .gitreview
 - TOX_CONSTRAINTS_FILE
 - supported python runtimes
 - job template

This also removes the broken lower constraints job.

Change-Id: I7b6fc7af500f77a3e38ba98ef5960913ec60131f
","['.gitreview', '.zuul.yaml', 'setup.cfg', 'tox.ini']"
openstack%2Fos-vif~886716,openstack/os-vif,stable/xena,Id9ef7074634a0f23d67a4401fa8fca363b51bb43,set default qos policy,ABANDONED,2023-06-22 06:15:06.000000000,2024-03-05 19:15:32.000000000,521,28,"[{'_account_id': 8864, 'name': 'Artom Lifshitz', 'email': 'notartom@gmail.com', 'username': 'artom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 5, 'created': '2023-06-29 09:43:58.000000000', 'files': ['vif_plug_ovs/tests/functional/test_plugin.py', 'vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'releasenotes/notes/default-qos-policy-for-ovs-26f8806046a59c82.yaml', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/tests/functional/base.py', 'vif_plug_ovs/ovsdb/impl_idl.py', 'os_vif/tests/functional/internal/command/ip/test_impl_pyroute2.py'], 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts:\n    vif_plug_ovs/ovs.py\n    vif_plug_ovs/ovsdb/ovsdb_lib.py\n    vif_plug_ovs/tests/functional/base.py\n    vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal): Zed to Yoga\nConflicts and differences\n   The conflicts are due to changes\n   I7d834a0c31c801e96002f42f86409ba274c234e6: Delete trunk bridges to avoid race with Neutron\n\n   differences and changes:\n   vif_plug_ovs/tests/functional/test_plugin.py was not present in stable/yoga\n   added only tests and supporting items, which is almost everything, and removed trunk test and trunk attributes from setup.\n   vif_plug_ovs/tests/functional/base.py\n   manually added _del_bridge and _check_bridge from change I7d834a0c31c801e96002f42f86409ba274c234e6\n   because they were required to pass added functional tests.\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit cb8c2104e0505bad020738b17a9c69b7558cadab)\n'}]",886716,ddc08d59ef07bb7d40179e486af6a0b3b49db00e,34860,Amit Uniyal,auniyal,0,"set default qos policy

This change modifies the os-vif ovs plugin to set a default
tc qdisc on ovs interface when the host os is not windows
and the system datapath is used.

This change fixes a ""silent"" bug in the functional test code due
to a change in an ovsdbapp function signiture to accpet a new paramater.

Conflicts:
    vif_plug_ovs/ovs.py
    vif_plug_ovs/ovsdb/ovsdb_lib.py
    vif_plug_ovs/tests/functional/base.py
    vif_plug_ovs/tests/functional/test_plugin.py

NOTE(auniyal): Zed to Yoga
Conflicts and differences
   The conflicts are due to changes
   I7d834a0c31c801e96002f42f86409ba274c234e6: Delete trunk bridges to avoid race with Neutron

   differences and changes:
   vif_plug_ovs/tests/functional/test_plugin.py was not present in stable/yoga
   added only tests and supporting items, which is almost everything, and removed trunk test and trunk attributes from setup.
   vif_plug_ovs/tests/functional/base.py
   manually added _del_bridge and _check_bridge from change I7d834a0c31c801e96002f42f86409ba274c234e6
   because they were required to pass added functional tests.

Closes-Bug: #2017868
Change-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43
(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)
(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)
(cherry picked from commit cb8c2104e0505bad020738b17a9c69b7558cadab)
","['vif_plug_ovs/tests/functional/test_plugin.py', 'vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'releasenotes/notes/default-qos-policy-for-ovs-26f8806046a59c82.yaml', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/tests/functional/base.py', 'vif_plug_ovs/ovsdb/impl_idl.py', 'os_vif/tests/functional/internal/command/ip/test_impl_pyroute2.py']"
openstack%2Foctavia~835779,openstack/octavia,stable/xena,I658a4097e120d4f6a49fa1a7945a8d999709d1bd,Switch centos8 jobs to centos-8-stream,ABANDONED,2022-03-30 06:38:27.000000000,2024-03-05 19:15:22.000000000,10,10,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29244, 'name': 'Gregory Thiemonge', 'email': 'gthiemon@redhat.com', 'username': 'gthiemonge'}]",,1,"[{'number': 1, 'created': '2022-03-30 06:38:27.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'message': 'Switch centos8 jobs to centos-8-stream\n\nChange-Id: I658a4097e120d4f6a49fa1a7945a8d999709d1bd\n(cherry picked from commit 76617f883e535a77008aac80d5350d0f0c889f8d)\n'}]",835779,1755832a309c84050499d66768060f0ff237e29c,29244,Gregory Thiemonge,gthiemonge,0,"Switch centos8 jobs to centos-8-stream

Change-Id: I658a4097e120d4f6a49fa1a7945a8d999709d1bd
(cherry picked from commit 76617f883e535a77008aac80d5350d0f0c889f8d)
","['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']"
openstack%2Foctavia~899161,openstack/octavia,stable/xena,Ib067d4e92400fb781ccea63e556ca63ad161acc4,Remove job that provokes NODE_FAILURE in CI,ABANDONED,2023-10-24 12:17:36.000000000,2024-03-05 19:15:15.000000000,0,3,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2023-10-24 12:17:36.000000000', 'files': ['zuul.d/projects.yaml'], 'message': 'Remove job that provokes NODE_FAILURE in CI\n\nChange-Id: Ib067d4e92400fb781ccea63e556ca63ad161acc4\n'}]",899161,e9998598bb95fe5b6f3af9193f0b14b3d51f3b47,34429,Tom Weininger,tweining,0,"Remove job that provokes NODE_FAILURE in CI

Change-Id: Ib067d4e92400fb781ccea63e556ca63ad161acc4
",['zuul.d/projects.yaml']
openstack%2Foctavia~880454,openstack/octavia,stable/xena,I02804b7075edac72776b0377b7b283d0c7bfd8a2,Fix failover when the last listener is deleted,ABANDONED,2023-04-14 06:48:58.000000000,2024-03-05 19:15:01.000000000,22,3,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27442, 'name': 'Quentin GROLLEAU', 'email': 'quentin.grolleau@corp.ovh.com', 'username': 'QG'}, {'_account_id': 34429, 'name': 'Tom Weininger', 'email': 'dienste@weinimo.de', 'username': 'tweining'}]",,0,"[{'number': 1, 'created': '2023-04-14 06:48:58.000000000', 'files': ['octavia/amphorae/backends/health_daemon/health_daemon.py', 'releasenotes/notes/Fix-listener-delete-causing-failover-251efdb79af24c0a.yaml', 'octavia/tests/unit/amphorae/backends/health_daemon/test_health_daemon.py'], 'message': 'Fix failover when the last listener is deleted\n\nThis patch fixes an issue when deleting the last listener from a load balancer\nmay trigger a failover.\n\nStory: 2010652\nTask: 47683\nChange-Id: I02804b7075edac72776b0377b7b283d0c7bfd8a2\n(cherry picked from commit ba92aeb946343c045e8363a2aae78e0a17a6cb82)\n(cherry picked from commit e7f4b1b4c21d0a2b12022032caa38602f5341a20)\n(cherry picked from commit 658173e5b7f5dcbe5e309801b7d8488442f858e4)\n(cherry picked from commit 4e15e81208e198553163ff01e90a47ae0d481ced)\n'}]",880454,c58f2cb591055f5968f92d762abcd5005e68e324,29244,Gregory Thiemonge,gthiemonge,0,"Fix failover when the last listener is deleted

This patch fixes an issue when deleting the last listener from a load balancer
may trigger a failover.

Story: 2010652
Task: 47683
Change-Id: I02804b7075edac72776b0377b7b283d0c7bfd8a2
(cherry picked from commit ba92aeb946343c045e8363a2aae78e0a17a6cb82)
(cherry picked from commit e7f4b1b4c21d0a2b12022032caa38602f5341a20)
(cherry picked from commit 658173e5b7f5dcbe5e309801b7d8488442f858e4)
(cherry picked from commit 4e15e81208e198553163ff01e90a47ae0d481ced)
","['octavia/amphorae/backends/health_daemon/health_daemon.py', 'releasenotes/notes/Fix-listener-delete-causing-failover-251efdb79af24c0a.yaml', 'octavia/tests/unit/amphorae/backends/health_daemon/test_health_daemon.py']"
openstack%2Foctavia~905484,openstack/octavia,stable/xena,I5698558857cbaa585f8a3d7ac37aaa31c0189d46,Fix health-monitors with ALPN members,ABANDONED,2024-01-12 15:54:18.000000000,2024-03-05 19:14:53.000000000,30,18,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27442, 'name': 'Quentin GROLLEAU', 'email': 'quentin.grolleau@corp.ovh.com', 'username': 'QG'}, {'_account_id': 34429, 'name': 'Tom Weininger', 'email': 'dienste@weinimo.de', 'username': 'tweining'}]",,0,"[{'number': 1, 'created': '2024-01-12 15:54:18.000000000', 'files': ['releasenotes/notes/fix-http-https-healthmonitor-with-alpn-pools-82249b2b9a025068.yaml', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2'], 'message': 'Fix health-monitors with ALPN members\n\nUsing HTTP or HTTPS health-monitor on a ALPN pool failed with SSL\nerrors.\nhaproxy doc mentions that when using ""check"" with ALPN servers, the\ncheck-alpn option must be enabled.\n\n[0] https://docs.haproxy.org/2.8/configuration.html#5.2-check\n\nCloses-Bug: #2043812\n\nChange-Id: I5698558857cbaa585f8a3d7ac37aaa31c0189d46\n(cherry picked from commit c28eb84dcafcb066746b04e9e6ef7a51decb68cd)\n(cherry picked from commit 7c468ca4c4d9ea89ba208e8287538ed4d5d1dee3)\n(cherry picked from commit 121e0533d0cdcf07327ef4894cb32400f5bdde78)\n(cherry picked from commit 778859a297299c39d05f69538b50e00c29a7d4d4)\n(cherry picked from commit 937bb928aa61e51ce38743921a1434770f4d844b)\n'}]",905484,b9f57923c81aba0cb187ac21c363d8405f95fad0,29244,Gregory Thiemonge,gthiemonge,0,"Fix health-monitors with ALPN members

Using HTTP or HTTPS health-monitor on a ALPN pool failed with SSL
errors.
haproxy doc mentions that when using ""check"" with ALPN servers, the
check-alpn option must be enabled.

[0] https://docs.haproxy.org/2.8/configuration.html#5.2-check

Closes-Bug: #2043812

Change-Id: I5698558857cbaa585f8a3d7ac37aaa31c0189d46
(cherry picked from commit c28eb84dcafcb066746b04e9e6ef7a51decb68cd)
(cherry picked from commit 7c468ca4c4d9ea89ba208e8287538ed4d5d1dee3)
(cherry picked from commit 121e0533d0cdcf07327ef4894cb32400f5bdde78)
(cherry picked from commit 778859a297299c39d05f69538b50e00c29a7d4d4)
(cherry picked from commit 937bb928aa61e51ce38743921a1434770f4d844b)
","['releasenotes/notes/fix-http-https-healthmonitor-with-alpn-pools-82249b2b9a025068.yaml', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2']"
openstack%2Foctavia~905485,openstack/octavia,stable/xena,Ia681679e24437832e1e23e7399e1a34da8ab54c5,Fix TLS-HELLO healthmonitors in the amphora-driver,ABANDONED,2024-01-12 15:54:18.000000000,2024-03-05 19:14:45.000000000,4,4,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27442, 'name': 'Quentin GROLLEAU', 'email': 'quentin.grolleau@corp.ovh.com', 'username': 'QG'}, {'_account_id': 34429, 'name': 'Tom Weininger', 'email': 'dienste@weinimo.de', 'username': 'tweining'}]",,1,"[{'number': 1, 'created': '2024-01-12 15:54:18.000000000', 'files': ['octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'releasenotes/notes/fix-tls-hello-healthmonitors-a4b98a80f6de8394.yaml', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2'], 'message': 'Fix TLS-HELLO healthmonitors in the amphora-driver\n\nTLS-HELLO HMs were based on the ssl-hello-chk option of haproxy, which\nuses SSLv3 messages. SSLv3 is deprecated and most distributions have\ndisabled it, remove this option and rely only on the default checker\nwhen ssl is enabled [0]\n\n[0] https://docs.haproxy.org/2.8/configuration.html#5.2-check\n\nRelated-Bug: #2043812\n\nChange-Id: Ia681679e24437832e1e23e7399e1a34da8ab54c5\n(cherry picked from commit 8e7c2737b6c6c9ca08f9fce0867955c4c3740332)\n(cherry picked from commit 0f9bc3b8c68bd818bc5307186f7e0e78761fcb65)\n(cherry picked from commit 353cafd8d4663357d4ded57a87493d1ad00d2410)\n(cherry picked from commit beb6453413d1ac533283a1837bb093bfa924276f)\n(cherry picked from commit 714ef1c802d7d9ad16eb0ea726f6deb7575c6f44)\n'}]",905485,d0bb5a80729f9bff59dacf294d5ebcdc6d4f68e1,29244,Gregory Thiemonge,gthiemonge,0,"Fix TLS-HELLO healthmonitors in the amphora-driver

TLS-HELLO HMs were based on the ssl-hello-chk option of haproxy, which
uses SSLv3 messages. SSLv3 is deprecated and most distributions have
disabled it, remove this option and rely only on the default checker
when ssl is enabled [0]

[0] https://docs.haproxy.org/2.8/configuration.html#5.2-check

Related-Bug: #2043812

Change-Id: Ia681679e24437832e1e23e7399e1a34da8ab54c5
(cherry picked from commit 8e7c2737b6c6c9ca08f9fce0867955c4c3740332)
(cherry picked from commit 0f9bc3b8c68bd818bc5307186f7e0e78761fcb65)
(cherry picked from commit 353cafd8d4663357d4ded57a87493d1ad00d2410)
(cherry picked from commit beb6453413d1ac533283a1837bb093bfa924276f)
(cherry picked from commit 714ef1c802d7d9ad16eb0ea726f6deb7575c6f44)
","['octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'releasenotes/notes/fix-tls-hello-healthmonitors-a4b98a80f6de8394.yaml', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2']"
openstack%2Foctavia~880437,openstack/octavia,stable/xena,I30b81866989c22b94fb77e62e7abd180f0f0af50,Pass config to castellan,ABANDONED,2023-04-14 05:46:11.000000000,2024-03-05 19:14:35.000000000,11,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27442, 'name': 'Quentin GROLLEAU', 'email': 'quentin.grolleau@corp.ovh.com', 'username': 'QG'}, {'_account_id': 34429, 'name': 'Tom Weininger', 'email': 'dienste@weinimo.de', 'username': 'tweining'}]",,0,"[{'number': 1, 'created': '2023-04-14 05:46:11.000000000', 'files': ['octavia/certificates/manager/castellan_mgr.py', 'releasenotes/notes/octavia_castellan_config-995e65f129e3e983.yaml'], 'message': ""Pass config to castellan\n\nCurrently castellan can't be configured through octavia.conf as\nconf is not passed while initializing backend.\n\nAlso document castellan configuration options in reference.\n\nBackports on stable branches also include [0] which adds a release note.\n\n[0] Iacc796737bad8881873da7db5273338c2cff9e68\n\nConflicts:\n    etc/config/octavia-config-generator.conf (doesn't exist on stable\n    branches)\n\nChange-Id: I30b81866989c22b94fb77e62e7abd180f0f0af50\n(cherry picked from commit f5ac714a7b22687fbb5b12db7f41c283cee12aee)\n(cherry picked from commit e8ada397f9a7acc3d25d5557e7ecf6a7742ff319)\n(cherry picked from commit 8fbe035cd13920f174beb8f528cc93a52a96570f)\n""}]",880437,006e0c5ff0b1dc106e3585491e56bb307a8f908e,29244,Gregory Thiemonge,gthiemonge,0,"Pass config to castellan

Currently castellan can't be configured through octavia.conf as
conf is not passed while initializing backend.

Also document castellan configuration options in reference.

Backports on stable branches also include [0] which adds a release note.

[0] Iacc796737bad8881873da7db5273338c2cff9e68

Conflicts:
    etc/config/octavia-config-generator.conf (doesn't exist on stable
    branches)

Change-Id: I30b81866989c22b94fb77e62e7abd180f0f0af50
(cherry picked from commit f5ac714a7b22687fbb5b12db7f41c283cee12aee)
(cherry picked from commit e8ada397f9a7acc3d25d5557e7ecf6a7742ff319)
(cherry picked from commit 8fbe035cd13920f174beb8f528cc93a52a96570f)
","['octavia/certificates/manager/castellan_mgr.py', 'releasenotes/notes/octavia_castellan_config-995e65f129e3e983.yaml']"
openstack%2Foctavia~880445,openstack/octavia,stable/xena,Ic08ad89b4e07e0fe8a80b3e5db6d50276aafff82,Rename Context to RequestContext,ABANDONED,2023-04-14 06:01:42.000000000,2024-03-05 19:14:27.000000000,303,154,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27442, 'name': 'Quentin GROLLEAU', 'email': 'quentin.grolleau@corp.ovh.com', 'username': 'QG'}, {'_account_id': 34429, 'name': 'Tom Weininger', 'email': 'dienste@weinimo.de', 'username': 'tweining'}]",,0,"[{'number': 1, 'created': '2023-04-14 06:01:42.000000000', 'files': ['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/common/context.py', 'octavia/tests/functional/api/v2/test_quotas.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/tests/functional/api/v2/test_flavors.py', 'octavia/tests/functional/api/v2/test_l7policy.py', 'octavia/tests/functional/api/v2/test_flavor_profiles.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/tests/functional/api/v2/test_availability_zones.py', 'octavia/tests/unit/common/test_policy.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/common/hooks.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/tests/functional/api/v2/test_provider.py', 'octavia/tests/functional/api/v2/test_availability_zone_profiles.py'], 'message': 'Rename Context to RequestContext\n\nIf castellan is used, it requires one of the following context types to\nbe provided during init: KeystonePassword, KeystoneToken or\nRequestContext [1]\n\nAlso it makes sense to be consistent across projects and with\noslo_context regarding context class naming.\n\n[1] https://opendev.org/openstack/castellan/src/commit/86712360f345866e108e12eda1075101635dd1ec/castellan/key_manager/barbican_key_manager.py#L208-L210\n\nConflicts:\n\toctavia/controller/worker/v2/tasks/notification_tasks.py\n\toctavia/tests/unit/controller/worker/v2/tasks/test_notification_tasks.py\n\toctavia/tests/unit/common/test_policy.py\n\nChange-Id: Ic08ad89b4e07e0fe8a80b3e5db6d50276aafff82\n(cherry picked from commit 62e1d871cbbbeefc4919c0c12a3cfff606c53557)\n(cherry picked from commit 48b9d42a571659240dfa737d99781c9713edaf0b)\n(cherry picked from commit 111194847f0c0bc2fe672513485ba9ce70767db4)\n'}]",880445,15b01f4c3d94d00017bab87035dc90d42922b900,29244,Gregory Thiemonge,gthiemonge,0,"Rename Context to RequestContext

If castellan is used, it requires one of the following context types to
be provided during init: KeystonePassword, KeystoneToken or
RequestContext [1]

Also it makes sense to be consistent across projects and with
oslo_context regarding context class naming.

[1] https://opendev.org/openstack/castellan/src/commit/86712360f345866e108e12eda1075101635dd1ec/castellan/key_manager/barbican_key_manager.py#L208-L210

Conflicts:
	octavia/controller/worker/v2/tasks/notification_tasks.py
	octavia/tests/unit/controller/worker/v2/tasks/test_notification_tasks.py
	octavia/tests/unit/common/test_policy.py

Change-Id: Ic08ad89b4e07e0fe8a80b3e5db6d50276aafff82
(cherry picked from commit 62e1d871cbbbeefc4919c0c12a3cfff606c53557)
(cherry picked from commit 48b9d42a571659240dfa737d99781c9713edaf0b)
(cherry picked from commit 111194847f0c0bc2fe672513485ba9ce70767db4)
","['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/common/context.py', 'octavia/tests/functional/api/v2/test_quotas.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/tests/functional/api/v2/test_flavors.py', 'octavia/tests/functional/api/v2/test_l7policy.py', 'octavia/tests/functional/api/v2/test_flavor_profiles.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/tests/functional/api/v2/test_availability_zones.py', 'octavia/tests/unit/common/test_policy.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/common/hooks.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/tests/functional/api/v2/test_provider.py', 'octavia/tests/functional/api/v2/test_availability_zone_profiles.py']"
openstack%2Foctavia~906263,openstack/octavia,stable/xena,Iccae6ec561603653183911146a638272df631e92,Don't update the management port when calculating delta,ABANDONED,2024-01-22 12:43:44.000000000,2024-03-05 19:14:15.000000000,17,24,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27442, 'name': 'Quentin GROLLEAU', 'email': 'quentin.grolleau@corp.ovh.com', 'username': 'QG'}, {'_account_id': 34429, 'name': 'Tom Weininger', 'email': 'dienste@weinimo.de', 'username': 'tweining'}]",,1,"[{'number': 1, 'created': '2024-01-22 12:43:44.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'releasenotes/notes/fix-bad-management-port-update-3fa157f74ee8c7b2.yaml'], 'message': ""Don't update the management port when calculating delta\n\nCalculateDelta should be used to get the list of subnets/networks to\nplug (or unplug) into the amphora for the VIP and the members.\nIt should never reconfigure the management port.\n\nStory 2010623\nTask 47564\n\nChange-Id: Iccae6ec561603653183911146a638272df631e92\n(cherry picked from commit 8ccc0d01764c234ce9d3dc0191b5a0952111e2ef)\n(cherry picked from commit 53a38d625d11b08ddfabcb9a3317f003367b1527)\n""}]",906263,ec1c9697620e427f5c4954024512bdcc5e361f63,29244,Gregory Thiemonge,gthiemonge,0,"Don't update the management port when calculating delta

CalculateDelta should be used to get the list of subnets/networks to
plug (or unplug) into the amphora for the VIP and the members.
It should never reconfigure the management port.

Story 2010623
Task 47564

Change-Id: Iccae6ec561603653183911146a638272df631e92
(cherry picked from commit 8ccc0d01764c234ce9d3dc0191b5a0952111e2ef)
(cherry picked from commit 53a38d625d11b08ddfabcb9a3317f003367b1527)
","['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'releasenotes/notes/fix-bad-management-port-update-3fa157f74ee8c7b2.yaml']"
openstack%2Fnova~817236,openstack/nova,stable/xena,Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e,Remove SESSION_CONFIGURED global from DB fixture,ABANDONED,2021-11-09 15:32:31.000000000,2024-03-05 19:14:07.000000000,17,9,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-11-09 19:11:26.000000000', 'date': '2021-11-09 19:11:26.000000000'}]",0,"[{'number': 1, 'created': '2021-11-09 15:32:31.000000000', 'files': ['nova/tests/fixtures/nova.py'], 'message': 'Remove SESSION_CONFIGURED global from DB fixture\n\nThe SESSION_CONFIGURED global flag is used in the Database fixture to\nguard against the reconfiguration of the DB context in each test as the\nglobal transaction factory does not allow such reconfiguration. However\nthis global is error prone for multiple reasons:\n\n * there are tests that actually configure the factory outside of the\n   fixture causing tests to interfere\n\n * we use one single global flag but we always have two separate\n   Database fixture one for the api DB and one for the main DB. Still\n   the fixture instantiated first will do the configuration of both\n   DB factory.\n\nThis patch replaces the global with two individual oslo_db enginefacade\npatch_factory() calls that allows patching and resetting the global\nfactory per test case.\n\nChange-Id: Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e\n(cherry picked from commit f318f822fcf6dec4c3cd9b7e5111f3e1371aa51a)\n'}]",817236,e2d6338caa60baa8917bbb8cd3ecf6ae9e47f673,9708,Balazs Gibizer,gibi,0,"Remove SESSION_CONFIGURED global from DB fixture

The SESSION_CONFIGURED global flag is used in the Database fixture to
guard against the reconfiguration of the DB context in each test as the
global transaction factory does not allow such reconfiguration. However
this global is error prone for multiple reasons:

 * there are tests that actually configure the factory outside of the
   fixture causing tests to interfere

 * we use one single global flag but we always have two separate
   Database fixture one for the api DB and one for the main DB. Still
   the fixture instantiated first will do the configuration of both
   DB factory.

This patch replaces the global with two individual oslo_db enginefacade
patch_factory() calls that allows patching and resetting the global
factory per test case.

Change-Id: Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e
(cherry picked from commit f318f822fcf6dec4c3cd9b7e5111f3e1371aa51a)
",['nova/tests/fixtures/nova.py']
openstack%2Fnova~817237,openstack/nova,stable/xena,Ic58e93d6aafb88be4abeb6e52089f7ee43d8db01,Refactor Database fixture,ABANDONED,2021-11-09 15:33:48.000000000,2024-03-05 19:14:03.000000000,39,38,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-11-09 19:15:32.000000000', 'date': '2021-11-09 19:15:32.000000000'}]",0,"[{'number': 1, 'created': '2021-11-09 15:33:48.000000000', 'files': ['nova/tests/fixtures/nova.py', 'nova/tests/unit/test_fixtures.py'], 'message': 'Refactor Database fixture\n\nThis patch apply the following changes to the fixture to make the\nintention clearer and remove some unnecessary complexity:\n\n* the fixture does a lot of dynamic thing in its __init__, these are\n  moved to setUp() instead to facilitate proper reset functionality of\n  the fixture\n\n* the caching and applying of the DB schema is made a explicit and\n  moved to setUp() too\n\n* the explicit reset() function is removed as it is probably\n  unintentionally overwrote the Fixture.reset(). Now the Fixture can be\n  properly reset by calling the Fixture.reset() which is by default\n  implemented by calling cleanUp() and setUp()\n\nChange-Id: Ic58e93d6aafb88be4abeb6e52089f7ee43d8db01\n(cherry picked from commit c7ccbfe403f100b5cb420fb12ac6244c4a7ae381)\n'}]",817237,67a9eff24eeb461c38e13a3a36a4e84aef2a05a8,9708,Balazs Gibizer,gibi,0,"Refactor Database fixture

This patch apply the following changes to the fixture to make the
intention clearer and remove some unnecessary complexity:

* the fixture does a lot of dynamic thing in its __init__, these are
  moved to setUp() instead to facilitate proper reset functionality of
  the fixture

* the caching and applying of the DB schema is made a explicit and
  moved to setUp() too

* the explicit reset() function is removed as it is probably
  unintentionally overwrote the Fixture.reset(). Now the Fixture can be
  properly reset by calling the Fixture.reset() which is by default
  implemented by calling cleanUp() and setUp()

Change-Id: Ic58e93d6aafb88be4abeb6e52089f7ee43d8db01
(cherry picked from commit c7ccbfe403f100b5cb420fb12ac6244c4a7ae381)
","['nova/tests/fixtures/nova.py', 'nova/tests/unit/test_fixtures.py']"
openstack%2Fnova~817239,openstack/nova,stable/xena,Icd25adcc931cae2126e03c00af7e4420d3781b9a,Use ReplaceEngineFacade fixture,ABANDONED,2021-11-09 15:35:06.000000000,2024-03-05 19:13:59.000000000,13,9,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-11-09 15:35:06.000000000', 'files': ['nova/tests/fixtures/nova.py'], 'message': 'Use ReplaceEngineFacade fixture\n\nNow that the previous patch Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e moved\nmost of the logic to the setUp of the Database fixture we can replace\nour direct factory patching with the ReplaceEngineFacade fixture from\noslo_db.\n\nChange-Id: Icd25adcc931cae2126e03c00af7e4420d3781b9a\n(cherry picked from commit 063ed41174c27c20871696f7c6dcb1eddb4310ee)\n'}]",817239,95400ec6509e1b04fc27e5f3837d5a4d3341e265,9708,Balazs Gibizer,gibi,0,"Use ReplaceEngineFacade fixture

Now that the previous patch Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e moved
most of the logic to the setUp of the Database fixture we can replace
our direct factory patching with the ReplaceEngineFacade fixture from
oslo_db.

Change-Id: Icd25adcc931cae2126e03c00af7e4420d3781b9a
(cherry picked from commit 063ed41174c27c20871696f7c6dcb1eddb4310ee)
",['nova/tests/fixtures/nova.py']
openstack%2Fnova~817240,openstack/nova,stable/xena,Id96f1795034490c13125ebbab49b029fb96af1c7,Fix interference in db unit test,ABANDONED,2021-11-09 15:35:06.000000000,2024-03-05 19:13:56.000000000,31,21,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,4,"[{'number': 2, 'created': '2021-11-10 15:05:10.000000000', 'files': ['nova/tests/fixtures/nova.py', 'nova/tests/unit/db/api/test_migrations.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/tests/unit/db/test_migration.py'], 'message': 'Fix interference in db unit test\n\nWe discovered that two unit test cases added in\nI0647bb8545c1464b521a1d866cf5ee674aea2eae cause errors like\n  oslo_db.sqlalchemy.enginefacade.AlreadyStartedError:\n  this TransactionFactory is already started\n\nwhen the db tests run selectively with tox -e py38 nova.tests.unit.db\nbut does not cause errors if the whole unit test suit is run.\n\nThis error happened because our db code uses two global transaction\nfactory, one for the api DB and one for the main DB. There was a global\nflag SESSION_CONFIGURED in our Database fixture that guarded against\ndouble initialization of the factory. But the faulty test cases in\nquestion do not use our Database fixture but use the\nOpportunisticDBTestMixin from oslo_db. Obviously that fixture does not\nknow about our SESSION_CONFIGURED global. So if one of the offending\ntest case ran first in an executor then that initialized the\ntransaction factory globally and a later test that uses our Database\nfixture tried to configure it again leading to the error. For some\nunknown reason if these tests were run in the opposite order the faulty\nre-initialization did not happen. Probably the OpportunisticDBTestMixin\nwas able to prevent that.\n\nA previous patch already removed the global SESSION_CONFIGURED flag\nfrom our fixture and replaced it with a per DB specific patch_factory\ncalls that allow resetting the state of the factory at the end of each\ntest case. This would already solve the current test case issue as only\nour offending test cases would initialize the global factory without\ncleanup and we have one test case per DB. So there would be no\ninterference. However if in the future we add similar test cases then\nthose can still interfere through the global factory.\n\nSo this patch fixes the two offending test case. Also it extends the\nDatabasePoisonFixture used for the NoDbTestCase tesst. The poison now\ndetects if the test case starts any transaction factory.\n\nThis poison caught another offender test case,\ntest_db_sync_with_special_symbols_in_connection_string, that was marked\nNoDb but actually using the database. It is now changed to declare\nitself as a test that sets up the DB manually and also it is changed to\nuse the Database fixture instead of touching the global factory\ndirectly.\n\nConflicts:\n      nova/tests/unit/db/api/test_migrations.py\n      nova/tests/unit/db/main/test_migrations.py\n      nova/tests/unit/db/test_migration.py\n\nAll these conflicts are due to I2e970ec4a185cd28611855004b6d9786bf2ce217\nnot in stable/xena\n\nCloses-Bug: #1948963\n\nChange-Id: Id96f1795034490c13125ebbab49b029fb96af1c7\n(cherry picked from commit a7bccff06b871765fb87ee3e9edd9458c7f73701)\n'}]",817240,6f0cf6550bbf2d0133a91ab6a13235ab18bdbc05,9708,Balazs Gibizer,gibi,0,"Fix interference in db unit test

We discovered that two unit test cases added in
I0647bb8545c1464b521a1d866cf5ee674aea2eae cause errors like
  oslo_db.sqlalchemy.enginefacade.AlreadyStartedError:
  this TransactionFactory is already started

when the db tests run selectively with tox -e py38 nova.tests.unit.db
but does not cause errors if the whole unit test suit is run.

This error happened because our db code uses two global transaction
factory, one for the api DB and one for the main DB. There was a global
flag SESSION_CONFIGURED in our Database fixture that guarded against
double initialization of the factory. But the faulty test cases in
question do not use our Database fixture but use the
OpportunisticDBTestMixin from oslo_db. Obviously that fixture does not
know about our SESSION_CONFIGURED global. So if one of the offending
test case ran first in an executor then that initialized the
transaction factory globally and a later test that uses our Database
fixture tried to configure it again leading to the error. For some
unknown reason if these tests were run in the opposite order the faulty
re-initialization did not happen. Probably the OpportunisticDBTestMixin
was able to prevent that.

A previous patch already removed the global SESSION_CONFIGURED flag
from our fixture and replaced it with a per DB specific patch_factory
calls that allow resetting the state of the factory at the end of each
test case. This would already solve the current test case issue as only
our offending test cases would initialize the global factory without
cleanup and we have one test case per DB. So there would be no
interference. However if in the future we add similar test cases then
those can still interfere through the global factory.

So this patch fixes the two offending test case. Also it extends the
DatabasePoisonFixture used for the NoDbTestCase tesst. The poison now
detects if the test case starts any transaction factory.

This poison caught another offender test case,
test_db_sync_with_special_symbols_in_connection_string, that was marked
NoDb but actually using the database. It is now changed to declare
itself as a test that sets up the DB manually and also it is changed to
use the Database fixture instead of touching the global factory
directly.

Conflicts:
      nova/tests/unit/db/api/test_migrations.py
      nova/tests/unit/db/main/test_migrations.py
      nova/tests/unit/db/test_migration.py

All these conflicts are due to I2e970ec4a185cd28611855004b6d9786bf2ce217
not in stable/xena

Closes-Bug: #1948963

Change-Id: Id96f1795034490c13125ebbab49b029fb96af1c7
(cherry picked from commit a7bccff06b871765fb87ee3e9edd9458c7f73701)
","['nova/tests/fixtures/nova.py', 'nova/tests/unit/db/api/test_migrations.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/tests/unit/db/test_migration.py']"
openstack%2Fnova~827895,openstack/nova,stable/xena,Iae13b0ffcded76ef1712fdbad3fbff3dc774336c,Add check job for FIPS,ABANDONED,2022-02-04 19:59:05.000000000,2024-03-05 19:13:52.000000000,3,0,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2022-02-04 22:35:55.000000000', 'date': '2022-02-04 22:35:55.000000000'}, {'rev_nbr': 4, 'author': '2022-02-10 18:38:07.000000000', 'date': '2022-02-10 18:38:07.000000000'}, {'rev_nbr': 4, 'author': '2022-03-01 21:44:32.000000000', 'date': '2022-03-01 21:44:32.000000000'}]",6,"[{'number': 4, 'created': '2022-02-10 16:24:12.000000000', 'files': ['.zuul.yaml'], 'message': 'Add check job for FIPS\n\nThe job makes sure that integration tests pass when the nodes are\nset to be in fips mode.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/828723\n\nChange-Id: Iae13b0ffcded76ef1712fdbad3fbff3dc774336c\n(cherry picked from commit 82c91e8cd8e7ebc2d6d0b49fa22bdf6a1660a5bc)\n'}]",827895,bdbe8dd53334ef9258bf231a5dedba9028c8cf81,9914,Ade Lee,alee,0,"Add check job for FIPS

The job makes sure that integration tests pass when the nodes are
set to be in fips mode.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/828723

Change-Id: Iae13b0ffcded76ef1712fdbad3fbff3dc774336c
(cherry picked from commit 82c91e8cd8e7ebc2d6d0b49fa22bdf6a1660a5bc)
",['.zuul.yaml']
openstack%2Fnova~838945,openstack/nova,stable/xena,I184ed3ad3d578780524fbaa3a0392607d1a50cdc,enable locking test fixture,ABANDONED,2022-04-21 19:55:10.000000000,2024-03-05 19:13:48.000000000,7,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-04-21 22:14:25.000000000', 'date': '2022-04-21 22:14:25.000000000'}]",0,"[{'number': 1, 'created': '2022-04-21 19:55:10.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/test_block_device.py'], 'message': 'enable locking test fixture\n\nos-brick now uses file system locks by default.\nAs such we shoudl be enabling the locking fixture\nin the compute manager and block device unit tests.\n\nChange-Id: I184ed3ad3d578780524fbaa3a0392607d1a50cdc\nCloses-Bug: #1947370\n(cherry picked from commit aa5b8cff2b8154b04e89a0a284a598ea777f2321)\n(cherry picked from commit 6c22388c76173fc5ed52dde4bea06e6678452fa0)\n'}]",838945,d42262c8f0218b18d26506f242bb1d46b491f980,11604,sean mooney,sean-k-mooney,0,"enable locking test fixture

os-brick now uses file system locks by default.
As such we shoudl be enabling the locking fixture
in the compute manager and block device unit tests.

Change-Id: I184ed3ad3d578780524fbaa3a0392607d1a50cdc
Closes-Bug: #1947370
(cherry picked from commit aa5b8cff2b8154b04e89a0a284a598ea777f2321)
(cherry picked from commit 6c22388c76173fc5ed52dde4bea06e6678452fa0)
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/test_block_device.py']"
openstack%2Fnova~840834,openstack/nova,stable/xena,I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318,Isolate PCI tracker unit tests,ABANDONED,2022-05-06 08:40:46.000000000,2024-03-05 19:13:45.000000000,30,33,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-05-06 10:54:54.000000000', 'date': '2022-05-06 10:54:54.000000000'}]",0,"[{'number': 1, 'created': '2022-05-06 08:40:46.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'message': 'Isolate PCI tracker unit tests\n\nDuring the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed\nthat the unit test cases of PciTracker._set_hvdev are changing and\nleaking global state leading to unstable tests.\n\nTo reproduce on master, duplicate the\ntest_set_hvdev_remove_tree_maintained_with_allocations test case and run\nPciDevTrackerTestCase serially. The duplicated test case will fail with\n\n  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object\n  setattr(pci_device, key, db_dev[key])\n  KeyError: \'id\'\n\nThis is caused by the fact that the test data is defined on module\nlevel, both _create_tracker and _set_hvdevs modifies the devices\npassed to them, and some test mixes passing db dicts to _set_hvdevs\nthat expects pci dicts from the hypervisor.\n\nThis patch fixes multiple related issues:\n* always deepcopy what _create_tracker takes as that list is later\n  returned to the PciTracker via a mock and the tracker might modify\n  what it got\n\n* ensure that _create_tracker takes db dicts (with id field) while\n  _set_hvdevs takes pci dicts in the hypervisor format (without id\n  field)\n\n* always deepcopy what is passed to _set_hvdevs as the PciTracker modify\n  what it gets.\n\n* normalize when the deepcopy happens to give a safe patter for future\n  test cases\n\nChange-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318\n(cherry picked from commit c58376db75917444831934963fa75b4b57f08818)\n(cherry picked from commit f04cfd42359d555e746df0e2c48d989d0c3244f1)\n'}]",840834,1023580f6d9008f5e56f6d3905b6e227bd2bff67,9708,Balazs Gibizer,gibi,0,"Isolate PCI tracker unit tests

During the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed
that the unit test cases of PciTracker._set_hvdev are changing and
leaking global state leading to unstable tests.

To reproduce on master, duplicate the
test_set_hvdev_remove_tree_maintained_with_allocations test case and run
PciDevTrackerTestCase serially. The duplicated test case will fail with

  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object
  setattr(pci_device, key, db_dev[key])
  KeyError: 'id'

This is caused by the fact that the test data is defined on module
level, both _create_tracker and _set_hvdevs modifies the devices
passed to them, and some test mixes passing db dicts to _set_hvdevs
that expects pci dicts from the hypervisor.

This patch fixes multiple related issues:
* always deepcopy what _create_tracker takes as that list is later
  returned to the PciTracker via a mock and the tracker might modify
  what it got

* ensure that _create_tracker takes db dicts (with id field) while
  _set_hvdevs takes pci dicts in the hypervisor format (without id
  field)

* always deepcopy what is passed to _set_hvdevs as the PciTracker modify
  what it gets.

* normalize when the deepcopy happens to give a safe patter for future
  test cases

Change-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318
(cherry picked from commit c58376db75917444831934963fa75b4b57f08818)
(cherry picked from commit f04cfd42359d555e746df0e2c48d989d0c3244f1)
",['nova/tests/unit/pci/test_manager.py']
openstack%2Fnova~840835,openstack/nova,stable/xena,If9ab424cc7375a1f0d41b03f01c4a823216b3eb8,Remove unavailable but not reported PCI devices at startup,ABANDONED,2022-05-06 08:40:46.000000000,2024-03-05 19:13:41.000000000,123,7,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-05-06 09:45:10.000000000', 'date': '2022-05-06 09:45:10.000000000'}, {'rev_nbr': 1, 'author': '2022-05-06 10:57:51.000000000', 'date': '2022-05-06 10:57:51.000000000'}]",0,"[{'number': 1, 'created': '2022-05-06 08:40:46.000000000', 'files': ['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/pci/test_manager.py'], 'message': 'Remove unavailable but not reported PCI devices at startup\n\nWe saw in the field that the pci_devices table can end up in\ninconsistent state after a compute node HW failure and re-deployment.\nThere could be dependent devices where the parent PF is in available\nstate while the children VFs are in unavailable state. (Before the HW\nfault the PF was allocated hence the VFs was marked unavailable).\n\nIn this state this PF is still schedulable but during the\nPCI claim the handling of dependent devices in the PCI tracker fill fail\nwith the error: ""Attempt to consume PCI device XXX from empty pool"".\n\nThe reason of the failure is that when the PF is claimed, all the\nchildren VFs are marked unavailable. But if the VF is already\nunavailable such step fails.\n\nOne way the deployer might try to recover from this state is to remove\nthe VFs from the hypervisor and restart the compute agent. The compute\nstartup already has a logic to delete PCI devices that are unused and\nnot reported by the hypervisor. However this logic only removed devices\nin \'available\' state and ignored devices in \'unavailable\' state.\n\nIf a device is unused and the hypervisor is not reporting the device any\nmore then it is safe to delete that device from the PCI tracker. So this\npatch extends the logic to allow deleting \'unavailable\' devices. There\nis a small window when dependent PCI device is in \'unclaimable\' state.\nFrom cleanup perspective this is an analogous state. So it is also\nadded to the cleanup logic.\n\nRelated-Bug: #1969496\nChange-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8\n(cherry picked from commit 284ea72e96604bdf16d1c5c4db47247334841b2f)\n(cherry picked from commit d7bca631fea348fb56cc46c5680643bacd82513e)\n'}]",840835,580a4b14ae367e327229482decca0cb6cdf6e9d8,9708,Balazs Gibizer,gibi,0,"Remove unavailable but not reported PCI devices at startup

We saw in the field that the pci_devices table can end up in
inconsistent state after a compute node HW failure and re-deployment.
There could be dependent devices where the parent PF is in available
state while the children VFs are in unavailable state. (Before the HW
fault the PF was allocated hence the VFs was marked unavailable).

In this state this PF is still schedulable but during the
PCI claim the handling of dependent devices in the PCI tracker fill fail
with the error: ""Attempt to consume PCI device XXX from empty pool"".

The reason of the failure is that when the PF is claimed, all the
children VFs are marked unavailable. But if the VF is already
unavailable such step fails.

One way the deployer might try to recover from this state is to remove
the VFs from the hypervisor and restart the compute agent. The compute
startup already has a logic to delete PCI devices that are unused and
not reported by the hypervisor. However this logic only removed devices
in 'available' state and ignored devices in 'unavailable' state.

If a device is unused and the hypervisor is not reporting the device any
more then it is safe to delete that device from the PCI tracker. So this
patch extends the logic to allow deleting 'unavailable' devices. There
is a small window when dependent PCI device is in 'unclaimable' state.
From cleanup perspective this is an analogous state. So it is also
added to the cleanup logic.

Related-Bug: #1969496
Change-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8
(cherry picked from commit 284ea72e96604bdf16d1c5c4db47247334841b2f)
(cherry picked from commit d7bca631fea348fb56cc46c5680643bacd82513e)
","['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/pci/test_manager.py']"
openstack%2Fnova~840836,openstack/nova,stable/xena,I7b432d7a32aeb1ab765d1f731691c7841a8f1440,Simulate bug 1969496,ABANDONED,2022-05-06 08:40:46.000000000,2024-03-05 19:13:37.000000000,56,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-05-06 11:27:10.000000000', 'date': '2022-05-06 11:27:10.000000000'}]",0,"[{'number': 1, 'created': '2022-05-06 08:40:46.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'message': ""Simulate bug 1969496\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail to\nwhen try to mark the dependent VFs unavailable.\n\nThis patch adds a test case that shows the error.\n\nRelated-Bug: #1969496\n\nChange-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440\n(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)\n(cherry picked from commit 23c48b670668e9cae886b5113c776077780f5581)\n""}]",840836,96e00c30fc7356874a13f75eb5ee46c87fb448d0,9708,Balazs Gibizer,gibi,0,"Simulate bug 1969496

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail to
when try to mark the dependent VFs unavailable.

This patch adds a test case that shows the error.

Related-Bug: #1969496

Change-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440
(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)
(cherry picked from commit 23c48b670668e9cae886b5113c776077780f5581)
",['nova/tests/unit/pci/test_manager.py']
openstack%2Fnova~840837,openstack/nova,stable/xena,I575ce06bcc913add7db0849f85728371da2032fc,Allow claiming PCI PF if child VF is unavailable,ABANDONED,2022-05-06 08:40:46.000000000,2024-03-05 19:13:34.000000000,162,26,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-05-06 10:01:10.000000000', 'date': '2022-05-06 10:01:10.000000000'}, {'rev_nbr': 1, 'author': '2022-05-31 13:32:15.000000000', 'date': '2022-05-31 13:32:15.000000000'}]",1,"[{'number': 1, 'created': '2022-05-06 08:40:46.000000000', 'files': ['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py'], 'message': ""Allow claiming PCI PF if child VF is unavailable\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail\nwhen try to mark the dependent VFs unavailable.\n\nThis patch changes the PCI claim logic to allow claiming the parent PF\nin the inconsistent situation as we assume that it is safe to do so.\nThis claim also fixed the inconsistency so that when the parent PF is\nfreed the children VFs become available again.\n\nCloses-Bug: #1969496\nChange-Id: I575ce06bcc913add7db0849f85728371da2032fc\n(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)\n(cherry picked from commit 4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270)\n""}]",840837,1dbd45be4556c034eb469462698804984d95b503,9708,Balazs Gibizer,gibi,0,"Allow claiming PCI PF if child VF is unavailable

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail
when try to mark the dependent VFs unavailable.

This patch changes the PCI claim logic to allow claiming the parent PF
in the inconsistent situation as we assume that it is safe to do so.
This claim also fixed the inconsistency so that when the parent PF is
freed the children VFs become available again.

Closes-Bug: #1969496
Change-Id: I575ce06bcc913add7db0849f85728371da2032fc
(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)
(cherry picked from commit 4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270)
","['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py']"
openstack%2Fnova~867913,openstack/nova,stable/xena,Iab92124b5776a799c7f90d07281d28fcf191c8fe,Ironic nodes with instance reserved in placement,ABANDONED,2022-12-15 23:23:24.000000000,2024-03-05 19:13:30.000000000,89,11,"[{'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,14,"[{'number': 4, 'created': '2022-12-16 18:06:03.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/fix-ironic-scheduler-race-08cf8aba0365f512.yaml', 'nova/conf/workarounds.py'], 'message': ""Ironic nodes with instance reserved in placement\n\nCurrently, when you delete an ironic instance, we trigger\nand undeploy in ironic and we release our allocation in placement.\nWe do this well before the ironic node is actually available.\n\nWe have attempted to fix this my marking unavailable nodes\nas reserved in placement. This works great until you try\nand re-image lots of nodes.\n\nIt turns out, ironic nodes that are waiting for their automatic\nclean to finish, are returned as a valid allocation candidates\nfor quite some time. Eventually we mark then as reserved.\n\nThis patch takes a strange approach, if we mark all nodes as\nreserved as soon as the instance lands, we close the race.\nThat is, when the allocation is removed the node is still\nunavailable until the next update of placement is done and\nnotices that the node has become available. That may or may\nnot have been after automatic cleaning. The trade off is\nthat when you don't have automatic cleaning, we wait a bit\nlonger to notice the node is available again.\n\nNote, this is also useful when a broken Ironic node is\nmarked as in-maintainance while it is in-use by a nova\ninstance. In a similar way, we mark the Nova as reserved\nimmmeidately, rather than first waiting for the instance to be\ndeleted before reserving the resources in Placement.\n\nConflicts:\n    nova/conf/workarounds.py\n\nNOTE(rloo): The conflict is because xena doesn't have these config\noptions that are in yoga:\n- unified_limits_count_pcpu_as_vcp\n- skip_cpu_compare_on_dest\n\nCloses-Bug: #1974070\nChange-Id: Iab92124b5776a799c7f90d07281d28fcf191c8fe\n(cherry picked from commit 3c022e968375c1b2eadf3c2dd7190b9434c6d4c1)(cherry picked from commit c9de185ea1ac1e8d4435c5863b2ad7cefdb28c76)\n(cherry picked from commit 7fe4a7ab47086570a027e9c6d6664db8ae2340ab)\n""}]",867913,6168eab0810ccded27b08dcaec69175469adeb54,6618,Ruby Loo,rloo,0,"Ironic nodes with instance reserved in placement

Currently, when you delete an ironic instance, we trigger
and undeploy in ironic and we release our allocation in placement.
We do this well before the ironic node is actually available.

We have attempted to fix this my marking unavailable nodes
as reserved in placement. This works great until you try
and re-image lots of nodes.

It turns out, ironic nodes that are waiting for their automatic
clean to finish, are returned as a valid allocation candidates
for quite some time. Eventually we mark then as reserved.

This patch takes a strange approach, if we mark all nodes as
reserved as soon as the instance lands, we close the race.
That is, when the allocation is removed the node is still
unavailable until the next update of placement is done and
notices that the node has become available. That may or may
not have been after automatic cleaning. The trade off is
that when you don't have automatic cleaning, we wait a bit
longer to notice the node is available again.

Note, this is also useful when a broken Ironic node is
marked as in-maintainance while it is in-use by a nova
instance. In a similar way, we mark the Nova as reserved
immmeidately, rather than first waiting for the instance to be
deleted before reserving the resources in Placement.

Conflicts:
    nova/conf/workarounds.py

NOTE(rloo): The conflict is because xena doesn't have these config
options that are in yoga:
- unified_limits_count_pcpu_as_vcp
- skip_cpu_compare_on_dest

Closes-Bug: #1974070
Change-Id: Iab92124b5776a799c7f90d07281d28fcf191c8fe
(cherry picked from commit 3c022e968375c1b2eadf3c2dd7190b9434c6d4c1)(cherry picked from commit c9de185ea1ac1e8d4435c5863b2ad7cefdb28c76)
(cherry picked from commit 7fe4a7ab47086570a027e9c6d6664db8ae2340ab)
","['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/fix-ironic-scheduler-race-08cf8aba0365f512.yaml', 'nova/conf/workarounds.py']"
openstack%2Fnova~871975,openstack/nova,stable/xena,I444991584118a969e9ea04d352821b07ec0ba88d,libvirt: Add a workaround to skip compareCPU() on destination,ABANDONED,2023-01-27 10:31:07.000000000,2024-03-05 19:13:26.000000000,62,10,"[{'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2023-02-01 14:16:27.000000000', 'date': '2023-02-01 14:16:27.000000000'}]",3,"[{'number': 2, 'created': '2023-02-01 09:57:22.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/skip-compare-cpu-on-dest-6ae419ddd61fd0f8.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': ""libvirt: Add a workaround to skip compareCPU() on destination\n\nNova's use of libvirt's compareCPU() API served its purpose\nover the years, but its design limitations break live migration in\nsubtle ways.  For example, the compareCPU() API compares against the\nhost physical CPUID.  Some of the features from this CPUID aren not\nexposed by KVM, and then there are some features that KVM emulates that\nare not in the host CPUID.  The latter can cause bogus live migration\nfailures.\n\nWith QEMU >=2.9 and libvirt >= 4.4.0, libvirt will do the right thing in\nterms of CPU compatibility checks on the destination host during live\nmigration.  Nova satisfies these minimum version requirements by a good\nmargin.  So, provide a workaround to skip the CPU comparison check on\nthe destination host before migrating a guest, and let libvirt handle it\ncorrectly.  This workaround will be removed once Nova replaces the older\nlibvirt APIs with their newer and improved counterparts[1][2].\n\n                - - -\n\nNote that Nova's libvirt driver calls compareCPU() in another method,\n_check_cpu_compatibility(); I did not remove its usage yet.  As it needs\nmore careful combing of the code, and then:\n\n  - where possible, remove the usage of compareCPU() altogether, and\n    rely on libvirt doing the right thing under the hood; or\n\n  - where Nova _must_ do the CPU comparison checks, switch to the better\n    libvirt CPU APIs -- baselineHypervisorCPU() and\n    compareHypervisorCPU() -- that are described here[1].  This is work\n    in progress[2].\n\n[1] https://opendev.org/openstack/nova-specs/commit/70811da221035044e27\n[2] https://review.opendev.org/q/topic:bp%252Fcpu-selection-with-hypervisor-consideration\n\nChange-Id: I444991584118a969e9ea04d352821b07ec0ba88d\nCloses-Bug: #1913716\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nSigned-off-by: Balazs Gibizer <bgibizer@redhat.com>\n(cherry picked from commit 267a40663cd8d0b94bbc5ebda4ece55a45753b64)\n(cherry picked from commit 277f88e3872ea41bce02d09c4537946a74d74533)\n""}]",871975,f187dd7a6ac994b0ddeac84b5bc9dcb45e3f3e59,6962,Kashyap Chamarthy,kashyapc,0,"libvirt: Add a workaround to skip compareCPU() on destination

Nova's use of libvirt's compareCPU() API served its purpose
over the years, but its design limitations break live migration in
subtle ways.  For example, the compareCPU() API compares against the
host physical CPUID.  Some of the features from this CPUID aren not
exposed by KVM, and then there are some features that KVM emulates that
are not in the host CPUID.  The latter can cause bogus live migration
failures.

With QEMU >=2.9 and libvirt >= 4.4.0, libvirt will do the right thing in
terms of CPU compatibility checks on the destination host during live
migration.  Nova satisfies these minimum version requirements by a good
margin.  So, provide a workaround to skip the CPU comparison check on
the destination host before migrating a guest, and let libvirt handle it
correctly.  This workaround will be removed once Nova replaces the older
libvirt APIs with their newer and improved counterparts[1][2].

                - - -

Note that Nova's libvirt driver calls compareCPU() in another method,
_check_cpu_compatibility(); I did not remove its usage yet.  As it needs
more careful combing of the code, and then:

  - where possible, remove the usage of compareCPU() altogether, and
    rely on libvirt doing the right thing under the hood; or

  - where Nova _must_ do the CPU comparison checks, switch to the better
    libvirt CPU APIs -- baselineHypervisorCPU() and
    compareHypervisorCPU() -- that are described here[1].  This is work
    in progress[2].

[1] https://opendev.org/openstack/nova-specs/commit/70811da221035044e27
[2] https://review.opendev.org/q/topic:bp%252Fcpu-selection-with-hypervisor-consideration

Change-Id: I444991584118a969e9ea04d352821b07ec0ba88d
Closes-Bug: #1913716
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
Signed-off-by: Balazs Gibizer <bgibizer@redhat.com>
(cherry picked from commit 267a40663cd8d0b94bbc5ebda4ece55a45753b64)
(cherry picked from commit 277f88e3872ea41bce02d09c4537946a74d74533)
","['nova/virt/libvirt/driver.py', 'releasenotes/notes/skip-compare-cpu-on-dest-6ae419ddd61fd0f8.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~851205,openstack/nova,stable/xena,Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1,Add a workaround to skip hypervisor version check on LM,ABANDONED,2022-07-27 10:12:52.000000000,2024-03-05 19:13:22.000000000,53,2,"[{'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2022-07-27 11:49:06.000000000', 'date': '2022-07-27 11:49:06.000000000'}, {'rev_nbr': 2, 'author': '2022-07-27 12:45:46.000000000', 'date': '2022-07-27 12:45:46.000000000'}, {'rev_nbr': 4, 'author': '2023-02-01 14:42:59.000000000', 'date': '2023-02-01 14:42:59.000000000'}]",4,"[{'number': 4, 'created': '2023-02-01 09:57:22.000000000', 'files': ['releasenotes/notes/skip-hypervisor-version-check-on-lm-a87f2dcb4f8bf0f2.yaml', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/workarounds.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'message': 'Add a workaround to skip hypervisor version check on LM\n\nWhen turned on, this will disable the version-checking of hypervisors\nduring live-migration.  This can be useful for operators in certain\nscenarios when upgrading.  E.g. if you want to relocate all instances\noff a compute node due to an emergency hardware issue, and you only have\nanother old compute node ready at the time.\n\nNote, though: libvirt will do its own internal compatibility checks, and\nmight still reject live migration if the destination is incompatible.\n\nCloses-Bug: #1982853\n\nChange-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n(cherry picked from commit 00ed8a232bc22f48011e95a0b47750520a5b4d47)\n(cherry picked from commit c07495d9d64dd0635d72fc7ff67d73a656a40d13)\n'}]",851205,3cba5aaba1da6bed73727c80a5f21dae2f82dfde,6962,Kashyap Chamarthy,kashyapc,0,"Add a workaround to skip hypervisor version check on LM

When turned on, this will disable the version-checking of hypervisors
during live-migration.  This can be useful for operators in certain
scenarios when upgrading.  E.g. if you want to relocate all instances
off a compute node due to an emergency hardware issue, and you only have
another old compute node ready at the time.

Note, though: libvirt will do its own internal compatibility checks, and
might still reject live migration if the destination is incompatible.

Closes-Bug: #1982853

Change-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
(cherry picked from commit 00ed8a232bc22f48011e95a0b47750520a5b4d47)
(cherry picked from commit c07495d9d64dd0635d72fc7ff67d73a656a40d13)
","['releasenotes/notes/skip-hypervisor-version-check-on-lm-a87f2dcb4f8bf0f2.yaml', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/workarounds.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']"
openstack%2Fnova~872011,openstack/nova,stable/xena,I8ef9db851b37c5249d2efbe09a15a1ddbae8205d,libvirt: At start-up rework compareCPU() usage with a workaround,ABANDONED,2023-01-27 12:13:11.000000000,2024-03-05 19:13:18.000000000,43,30,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2023-02-01 14:44:33.000000000', 'date': '2023-02-01 14:44:33.000000000'}]",0,"[{'number': 2, 'created': '2023-02-01 09:57:22.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': 'libvirt: At start-up rework compareCPU() usage with a workaround\n\nIn this patch:\n\n  - Remove the first compareCPU() call (called via the wrapper\n    _compare_cpu()) in _check_cpu_compatibility(), and let libvirt\n    handle it.  (QEMU >=2.9 and libvirt >= 4.4.0 are the mininum\n    required versions, and upstream Nova satisfies them by a good\n    margin.)\n\n  - Validate the user-configured CPU models from\n    _get_cpu_model_mapping().  And take into account all the CPU flags\n    before calling _compare_cpu().\n\n    (Suggested-by: Sean Mooney -- thanks!)\n\n  - Add a workaround to allow skipping the remaining compareCPU() call\n    in _check_cpu_compatibility() as a potential future-proof (because\n    we cannot test all possible CPU models and hardware).  Unlike the\n    removed first call, this call takes into account the extra CPU flags\n    provided by the user into account when evaluating guest CPU model\n    compatibility.\n\nAs a follow up comes the patch[1] that replaces the older libvirt CPU\nAPI with the newer one.\n\nConflicts (Xena):\n  - Remove mock for _register_all_undefined_instance_details() as it\n    does not exist in Xena release\n\n[1] https://review.opendev.org/c/openstack/nova/+/869950 -- libvirt:\n    Replace usage of compareCPU() with compareHypervisorCPU()\n\nChange-Id: I8ef9db851b37c5249d2efbe09a15a1ddbae8205d\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n(cherry picked from commit 9caaaf1f221063a4329c72c8b67a6015648644a2)\n(cherry picked from commit 7c7c8442d3b02f7bb296b79574610e6b6036aefa)\n'}]",872011,023244c83043b3cb1b1c2725e80b2955498e7971,6962,Kashyap Chamarthy,kashyapc,0,"libvirt: At start-up rework compareCPU() usage with a workaround

In this patch:

  - Remove the first compareCPU() call (called via the wrapper
    _compare_cpu()) in _check_cpu_compatibility(), and let libvirt
    handle it.  (QEMU >=2.9 and libvirt >= 4.4.0 are the mininum
    required versions, and upstream Nova satisfies them by a good
    margin.)

  - Validate the user-configured CPU models from
    _get_cpu_model_mapping().  And take into account all the CPU flags
    before calling _compare_cpu().

    (Suggested-by: Sean Mooney -- thanks!)

  - Add a workaround to allow skipping the remaining compareCPU() call
    in _check_cpu_compatibility() as a potential future-proof (because
    we cannot test all possible CPU models and hardware).  Unlike the
    removed first call, this call takes into account the extra CPU flags
    provided by the user into account when evaluating guest CPU model
    compatibility.

As a follow up comes the patch[1] that replaces the older libvirt CPU
API with the newer one.

Conflicts (Xena):
  - Remove mock for _register_all_undefined_instance_details() as it
    does not exist in Xena release

[1] https://review.opendev.org/c/openstack/nova/+/869950 -- libvirt:
    Replace usage of compareCPU() with compareHypervisorCPU()

Change-Id: I8ef9db851b37c5249d2efbe09a15a1ddbae8205d
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
(cherry picked from commit 9caaaf1f221063a4329c72c8b67a6015648644a2)
(cherry picked from commit 7c7c8442d3b02f7bb296b79574610e6b6036aefa)
","['nova/virt/libvirt/driver.py', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~877260,openstack/nova,stable/xena,I4d6dfca1efe10caebb017b6ec96820979018203f,Nova resize don't extend disk in one specific case,ABANDONED,2023-03-13 13:47:27.000000000,2024-03-05 19:13:15.000000000,70,3,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 20733, 'name': 'Rajesh Tailor', 'email': 'ratailor@redhat.com', 'username': 'rajesht'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 33607, 'name': 'Pierre Libeau', 'email': 'pierre.libeau@corp.ovh.com', 'username': 'plibeau'}]","[{'rev_nbr': 1, 'author': '2023-03-13 16:13:52.000000000', 'date': '2023-03-13 16:13:52.000000000'}]",2,"[{'number': 1, 'created': '2023-03-13 13:47:27.000000000', 'files': ['nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': ""Nova resize don't extend disk in one specific case\n\nNova resize not apply extend virtual size of the instance if the image\nis not accessible by the customer (public image use to build the\ninstance is now private image because this image is deprecated) and the\nsource compute of the resize don't have anymore the base image.\n\nRelated-Bug: #1558880\nChange-Id: I4d6dfca1efe10caebb017b6ec96820979018203f\n(cherry picked from commit f7af85dd7431eea61cdd2b1723a5dbcc3d9471ed)\n""}]",877260,122b407ee6e41bd123eb401e167957bfbeeab521,11604,sean mooney,sean-k-mooney,0,"Nova resize don't extend disk in one specific case

Nova resize not apply extend virtual size of the instance if the image
is not accessible by the customer (public image use to build the
instance is now private image because this image is deprecated) and the
source compute of the resize don't have anymore the base image.

Related-Bug: #1558880
Change-Id: I4d6dfca1efe10caebb017b6ec96820979018203f
(cherry picked from commit f7af85dd7431eea61cdd2b1723a5dbcc3d9471ed)
","['nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~882319,openstack/nova,stable/xena,I63f4e3dfa38f65b73d0051b8e52b1abd0f027e9b,Reproduce bug 1995153,ABANDONED,2023-05-04 14:20:34.000000000,2024-03-05 19:13:11.000000000,109,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-05-04 18:32:21.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1995153.py'], 'message': ""Reproduce bug 1995153\n\nIf we first boot an instance with NUMA topology on a host, any\nsubsequent attempts to boot instances with the `socket` PCI NUMA\npolicy will fail with `Cannot load 'socket' in the base class`.\nDemonstrate this in a functional test.\n\nChange-Id: I63f4e3dfa38f65b73d0051b8e52b1abd0f027e9b\nRelated-bug: 1995153\n(cherry picked from commit 63d6ecd99b7dec06cf0cf8358b43b0d8fa607504)\n(cherry picked from commit 29e3f2f2ab69157d938cfe6895df352ef9a08d8c)\n(cherry picked from commit d9dfd0e0445ae82933eb75a38127186659041673)\n(cherry picked from commit 8d717df2e7b26d7cf6e393089e989ce81fd5a209)\n""}]",882319,ff903d6a75cf2ad80621ed6f584630e36fa4ad86,8864,Artom Lifshitz,artom,0,"Reproduce bug 1995153

If we first boot an instance with NUMA topology on a host, any
subsequent attempts to boot instances with the `socket` PCI NUMA
policy will fail with `Cannot load 'socket' in the base class`.
Demonstrate this in a functional test.

Change-Id: I63f4e3dfa38f65b73d0051b8e52b1abd0f027e9b
Related-bug: 1995153
(cherry picked from commit 63d6ecd99b7dec06cf0cf8358b43b0d8fa607504)
(cherry picked from commit 29e3f2f2ab69157d938cfe6895df352ef9a08d8c)
(cherry picked from commit d9dfd0e0445ae82933eb75a38127186659041673)
(cherry picked from commit 8d717df2e7b26d7cf6e393089e989ce81fd5a209)
",['nova/tests/functional/regressions/test_bug_1995153.py']
openstack%2Fnova~882320,openstack/nova,stable/xena,I9ed3c31ccd3220b02d951fc6dbc5ea049a240a68,Save cell socket correctly when updating host NUMA topology,ABANDONED,2023-05-04 14:20:34.000000000,2024-03-05 19:13:07.000000000,53,19,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2023-05-06 01:30:35.000000000', 'date': '2023-05-06 01:30:35.000000000'}]",0,"[{'number': 2, 'created': '2023-05-04 18:32:21.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1995153.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/scheduler/fakes.py'], 'message': 'Save cell socket correctly when updating host NUMA topology\n\nPreviously, in numa_usage_from_instance_numa(), any new NUMACell\nobjects we created did not have the `socket` attribute. In some cases\nthis was persisted all the way down to the database. Fix this by\ncopying `socket` from the old_cell.\n\nChange-Id: I9ed3c31ccd3220b02d951fc6dbc5ea049a240a68\nCloses-Bug: 1995153\n(cherry picked from commit 04ebae9dc01ebd24552b5aacd1a0f8b129013a9e)\n(cherry picked from commit acb511652c1afb8253c66c29ca10f790f035229e)\n(cherry picked from commit 693318573cb7bbbcf074c3cc01339f07fe04ff24)\n(cherry picked from commit f7b2577620cfbbaf02a483a2f19a4bac35d4fa6b)\n'}]",882320,72ea89b4836ff218060c780af561f260588d48fb,8864,Artom Lifshitz,artom,0,"Save cell socket correctly when updating host NUMA topology

Previously, in numa_usage_from_instance_numa(), any new NUMACell
objects we created did not have the `socket` attribute. In some cases
this was persisted all the way down to the database. Fix this by
copying `socket` from the old_cell.

Change-Id: I9ed3c31ccd3220b02d951fc6dbc5ea049a240a68
Closes-Bug: 1995153
(cherry picked from commit 04ebae9dc01ebd24552b5aacd1a0f8b129013a9e)
(cherry picked from commit acb511652c1afb8253c66c29ca10f790f035229e)
(cherry picked from commit 693318573cb7bbbcf074c3cc01339f07fe04ff24)
(cherry picked from commit f7b2577620cfbbaf02a483a2f19a4bac35d4fa6b)
","['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1995153.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/scheduler/fakes.py']"
openstack%2Fnova~882534,openstack/nova,stable/xena,I52ee068377cc48ef4b4cdcb4b05fdc8d926faddf,Reproduce asym NUMA mixed CPU policy bug,ABANDONED,2023-05-08 09:00:05.000000000,2024-03-05 19:13:04.000000000,74,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-05-08 09:00:05.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'message': 'Reproduce asym NUMA mixed CPU policy bug\n\nRelated-Bug: #1994526\nChange-Id: I52ee068377cc48ef4b4cdcb4b05fdc8d926faddf\n(cherry picked from commit 182c5be122868d4fe910309a868b044b0e71316b)\n(cherry picked from commit 2cf835be82e11505ae8609deba83d61a34ecaa8d)\n(cherry picked from commit 4fd163f698cc4991f731adc06f3e8601f9fbdce9)\n(cherry picked from commit a00f00a32af4072b37319fe82d36dbff7e59b355)\n'}]",882534,b4d111eabf13bce571cb15be5d2e772ff88ee69e,9708,Balazs Gibizer,gibi,0,"Reproduce asym NUMA mixed CPU policy bug

Related-Bug: #1994526
Change-Id: I52ee068377cc48ef4b4cdcb4b05fdc8d926faddf
(cherry picked from commit 182c5be122868d4fe910309a868b044b0e71316b)
(cherry picked from commit 2cf835be82e11505ae8609deba83d61a34ecaa8d)
(cherry picked from commit 4fd163f698cc4991f731adc06f3e8601f9fbdce9)
(cherry picked from commit a00f00a32af4072b37319fe82d36dbff7e59b355)
",['nova/tests/functional/libvirt/test_numa_servers.py']
openstack%2Fnova~882535,openstack/nova,stable/xena,I5a35a45abfcfbbb858a94927853777f112e73e5b,Handle zero pinned CPU in a cell with mixed policy,ABANDONED,2023-05-08 09:00:05.000000000,2024-03-05 19:13:00.000000000,25,27,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-05-08 16:46:06.000000000', 'date': '2023-05-08 16:46:06.000000000'}]",0,"[{'number': 1, 'created': '2023-05-08 09:00:05.000000000', 'files': ['nova/virt/hardware.py', 'nova/tests/functional/libvirt/test_numa_servers.py'], 'message': 'Handle zero pinned CPU in a cell with mixed policy\n\nWhen cpu_policy is mixed the scheduler tries to find a valid CPU pinning\nfor each instance NUMA cell. However if there is an instance NUMA cell\nthat does not request any pinned CPUs then such logic will calculate\nempty pinning information for that cell. Then the scheduler logic\nwrongly assumes that an empty pinning result means there was no valid\npinning. However there is difference between a None result when no valid\npinning found, from an empty result [] which means there was nothing to\npin.\n\nThis patch makes sure that pinning == None is differentiated from\npinning == [].\n\nCloses-Bug: #1994526\nChange-Id: I5a35a45abfcfbbb858a94927853777f112e73e5b\n(cherry picked from commit cffe3971ce585a1ddc374a3ed067347857338831)\n(cherry picked from commit fa2ba3ab2c566337f5ad6ebd8fbcecc6aa930a40)\n(cherry picked from commit 9d11b6ae82b9dc709f3b856e50587d9713a70495)\n(cherry picked from commit c4e10fd7c1e928e94441b827504f49e94ad53676)\n'}]",882535,201435b1595914e44dd9f24fa345f1a15775c83d,9708,Balazs Gibizer,gibi,0,"Handle zero pinned CPU in a cell with mixed policy

When cpu_policy is mixed the scheduler tries to find a valid CPU pinning
for each instance NUMA cell. However if there is an instance NUMA cell
that does not request any pinned CPUs then such logic will calculate
empty pinning information for that cell. Then the scheduler logic
wrongly assumes that an empty pinning result means there was no valid
pinning. However there is difference between a None result when no valid
pinning found, from an empty result [] which means there was nothing to
pin.

This patch makes sure that pinning == None is differentiated from
pinning == [].

Closes-Bug: #1994526
Change-Id: I5a35a45abfcfbbb858a94927853777f112e73e5b
(cherry picked from commit cffe3971ce585a1ddc374a3ed067347857338831)
(cherry picked from commit fa2ba3ab2c566337f5ad6ebd8fbcecc6aa930a40)
(cherry picked from commit 9d11b6ae82b9dc709f3b856e50587d9713a70495)
(cherry picked from commit c4e10fd7c1e928e94441b827504f49e94ad53676)
","['nova/virt/hardware.py', 'nova/tests/functional/libvirt/test_numa_servers.py']"
openstack%2Fnova~868011,openstack/nova,stable/xena,Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d,Ironic: retry when node not available,ABANDONED,2022-12-16 21:30:50.000000000,2024-03-05 19:12:56.000000000,70,3,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 20733, 'name': 'Rajesh Tailor', 'email': 'ratailor@redhat.com', 'username': 'rajesht'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34860, 'name': 'Amit Uniyal', 'email': 'auniyal@redhat.com', 'username': 'auniyal'}]",,2,"[{'number': 2, 'created': '2022-12-16 21:33:02.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/compute/manager.py'], 'message': 'Ironic: retry when node not available\n\nAfter a baremetal instance is deleted, and its allocation is removed\nin placement, the ironic node might start cleaning. Eventually nova\nwill notice and update the inventory to be reserved.\nDuring this window, a new instance may have already picked this\nironic node.\n\nWhen that race happens today the build fails with an error:\n""Failed to reserve node ...""\n\nThis change tries to ensure the remaining alternative hosts are\nattempted before aborting the build.\nClearly the race is still there, but this makes it less painful.\n\nRelated-Bug: #1974070\nChange-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d\n(cherry picked from commit 8a476061c5e034016668cd9e5a20c4430ef6b68d)\n(cherry picked from commit d71e9f6ec4933f9430db55537a36678b16ce895a)\n(cherry picked from commit b881dd25b4abb3c54934d8ebbccb2ac602c83177)\n'}]",868011,8aa6f4f6685279bd314b1b50d614d02188124dd4,6618,Ruby Loo,rloo,0,"Ironic: retry when node not available

After a baremetal instance is deleted, and its allocation is removed
in placement, the ironic node might start cleaning. Eventually nova
will notice and update the inventory to be reserved.
During this window, a new instance may have already picked this
ironic node.

When that race happens today the build fails with an error:
""Failed to reserve node ...""

This change tries to ensure the remaining alternative hosts are
attempted before aborting the build.
Clearly the race is still there, but this makes it less painful.

Related-Bug: #1974070
Change-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d
(cherry picked from commit 8a476061c5e034016668cd9e5a20c4430ef6b68d)
(cherry picked from commit d71e9f6ec4933f9430db55537a36678b16ce895a)
(cherry picked from commit b881dd25b4abb3c54934d8ebbccb2ac602c83177)
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/compute/manager.py']"
openstack%2Fnova~887984,openstack/nova,stable/xena,If39f6afb6359c67aa38cf315ec90ffa386d5c142,testing: Fix and robustify archive_deleted_rows test,ABANDONED,2023-07-07 18:34:50.000000000,2024-03-05 19:12:53.000000000,54,40,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-07-07 18:34:50.000000000', 'files': ['nova/tests/functional/test_nova_manage.py'], 'message': 'testing: Fix and robustify archive_deleted_rows test\n\nThe regexes in test_archive_deleted_rows for multiple cells were\nincorrect in that they were not isolating the search pattern and rather\ncould match with other rows in the result table as well, resulting in a\nfalse positive.\n\nThis fixes the regexes and also adds one more server to the test\nscenario in order to make sure archive_deleted_rows iterates at least\nonce to expose bugs that may be present in its internal iteration.\n\nThis patch is in preparation for a future patch that will change the\nlogic in archive_deleted_rows. Making this test more robust will more\nthoroughly test for regression.\n\nChange-Id: If39f6afb6359c67aa38cf315ec90ffa386d5c142\n(cherry picked from commit f6620d48c86fb1c5034c09da6411ea46b4d9c2ed)\n(cherry picked from commit 8823da84e9d07309b860c3ce3ad4c9ebd3652f86)\n(cherry picked from commit ecfa7c405710451247018f189416ada7bba6fd36)\n(cherry picked from commit 956208d879ef2d49ac5a6f6c2067ff299114d193)\n'}]",887984,600dba5571e830c1e274e391fe86d498efcd7e53,4690,melanie witt,melwitt,0,"testing: Fix and robustify archive_deleted_rows test

The regexes in test_archive_deleted_rows for multiple cells were
incorrect in that they were not isolating the search pattern and rather
could match with other rows in the result table as well, resulting in a
false positive.

This fixes the regexes and also adds one more server to the test
scenario in order to make sure archive_deleted_rows iterates at least
once to expose bugs that may be present in its internal iteration.

This patch is in preparation for a future patch that will change the
logic in archive_deleted_rows. Making this test more robust will more
thoroughly test for regression.

Change-Id: If39f6afb6359c67aa38cf315ec90ffa386d5c142
(cherry picked from commit f6620d48c86fb1c5034c09da6411ea46b4d9c2ed)
(cherry picked from commit 8823da84e9d07309b860c3ce3ad4c9ebd3652f86)
(cherry picked from commit ecfa7c405710451247018f189416ada7bba6fd36)
(cherry picked from commit 956208d879ef2d49ac5a6f6c2067ff299114d193)
",['nova/tests/functional/test_nova_manage.py']
openstack%2Fnova~887985,openstack/nova,stable/xena,I2209bf1b3320901cf603ec39163cf923b25b0359,"database: Archive parent and child rows ""trees"" one at a time",ABANDONED,2023-07-07 18:34:50.000000000,2024-03-05 19:12:49.000000000,201,43,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-07-07 18:34:50.000000000', 'files': ['nova/tests/functional/db/test_archive.py', 'nova/db/main/api.py', 'releasenotes/notes/db-archive-performance-degradation-3fdabc43398149b1.yaml', 'nova/tests/unit/cmd/test_manage.py', 'nova/cmd/manage.py'], 'message': 'database: Archive parent and child rows ""trees"" one at a time\n\nPreviously, we archived deleted rows in batches of max_rows parents +\ntheir child rows in a single database transaction. Doing it that way\nlimited how high a value of max_rows could be specified by the caller\nbecause of the size of the database transaction it could generate.\n\nFor example, in a large scale deployment with hundreds of thousands of\ndeleted rows and constant server creation and deletion activity, a\nvalue of max_rows=1000 might exceed the database\'s configured maximum\npacket size or timeout due to a database deadlock, forcing the operator\nto use a much lower max_rows value like 100 or 50.\n\nAnd when the operator has e.g. 500,000 deleted instances rows (and\nmillions of deleted rows total) they are trying to archive, being\nforced to use a max_rows value several orders of magnitude lower than\nthe number of rows they need to archive was a poor user experience.\n\nThis changes the logic to archive one parent row and its foreign key\nrelated child rows one at a time in a single database transaction\nwhile limiting the total number of rows per table as soon as it reaches\n>= max_rows. Doing this will allow operators to choose more predictable\nvalues for max_rows and get more progress per invocation of\narchive_deleted_rows.\n\nConflicts:\n    nova/db/main/api.py\n\nNOTE(melwitt): The conflicts are because the following changes are not\nin Xena:\n\n  * I36e43e30e07f4904c7b49925cefe804af45cff6c (db: Replace use of\n    legacy select() calling style)\n\n  * Ib5fcb841294b4e20fe085e8603d4132e97be7db9 (db: Replace\n    \'insert.inline\' parameter with \'Insert.inline()\' method)\n\nCloses-Bug: #2024258\n\nChange-Id: I2209bf1b3320901cf603ec39163cf923b25b0359\n(cherry picked from commit 697fa3c000696da559e52b664c04cbd8d261c037)\n(cherry picked from commit 75e4c86d90ae0229069fc2eb06bfb41436be7319)\n(cherry picked from commit 6972efdaa94d05952eb5b90e456b566c4c73360c)\n(cherry picked from commit b555279add583e6b0cee1bddb8d5642c68ad84a6)\n'}]",887985,4dc6ec9dccba2695536cb3cbd5534e64003904c9,4690,melanie witt,melwitt,0,"database: Archive parent and child rows ""trees"" one at a time

Previously, we archived deleted rows in batches of max_rows parents +
their child rows in a single database transaction. Doing it that way
limited how high a value of max_rows could be specified by the caller
because of the size of the database transaction it could generate.

For example, in a large scale deployment with hundreds of thousands of
deleted rows and constant server creation and deletion activity, a
value of max_rows=1000 might exceed the database's configured maximum
packet size or timeout due to a database deadlock, forcing the operator
to use a much lower max_rows value like 100 or 50.

And when the operator has e.g. 500,000 deleted instances rows (and
millions of deleted rows total) they are trying to archive, being
forced to use a max_rows value several orders of magnitude lower than
the number of rows they need to archive was a poor user experience.

This changes the logic to archive one parent row and its foreign key
related child rows one at a time in a single database transaction
while limiting the total number of rows per table as soon as it reaches
>= max_rows. Doing this will allow operators to choose more predictable
values for max_rows and get more progress per invocation of
archive_deleted_rows.

Conflicts:
    nova/db/main/api.py

NOTE(melwitt): The conflicts are because the following changes are not
in Xena:

  * I36e43e30e07f4904c7b49925cefe804af45cff6c (db: Replace use of
    legacy select() calling style)

  * Ib5fcb841294b4e20fe085e8603d4132e97be7db9 (db: Replace
    'insert.inline' parameter with 'Insert.inline()' method)

Closes-Bug: #2024258

Change-Id: I2209bf1b3320901cf603ec39163cf923b25b0359
(cherry picked from commit 697fa3c000696da559e52b664c04cbd8d261c037)
(cherry picked from commit 75e4c86d90ae0229069fc2eb06bfb41436be7319)
(cherry picked from commit 6972efdaa94d05952eb5b90e456b566c4c73360c)
(cherry picked from commit b555279add583e6b0cee1bddb8d5642c68ad84a6)
","['nova/tests/functional/db/test_archive.py', 'nova/db/main/api.py', 'releasenotes/notes/db-archive-performance-degradation-3fdabc43398149b1.yaml', 'nova/tests/unit/cmd/test_manage.py', 'nova/cmd/manage.py']"
openstack%2Fnova~888099,openstack/nova,stable/xena,Icc9b6366aebba2f8468e2127da7b7e099098513a,Reproducer for bug 2003991 unshelving offloaded instance,ABANDONED,2023-07-11 02:18:26.000000000,2024-03-05 19:12:45.000000000,84,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-07-11 02:18:26.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'message': 'Reproducer for bug 2003991 unshelving offloaded instance\n\nThis adds test coverage for:\n\n  * Shelve/unshelve offloaded with legacy quota usage\n  * Shelve/unshelve offloaded with quota usage from placement\n  * Shelve/unshelve with legacy quota usage\n  * Shelve/unshelve with quota usage from placement\n\nNOTE(melwitt): The difference from the cherry-picked change is to\nremove bits related to unified limits because unified limits support is\nnot present in Xena.\n\nRelated-Bug: #2003991\n\nChange-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a\n(cherry picked from commit 427b2cb4d61cdfaf18b2467eb50b3772dffd3def)\n(cherry picked from commit 004a773a3a286f39889519bb5b2009fb9bf44fb1)\n(cherry picked from commit 710116f4beadb1553c9ad7991ea69b0e286657d6)\n(cherry picked from commit 291c02a7d51585551266fe5b7e7afd9726317671)\n'}]",888099,dc2d308118a126e087431d5c7810e1f958cbe895,4690,melanie witt,melwitt,0,"Reproducer for bug 2003991 unshelving offloaded instance

This adds test coverage for:

  * Shelve/unshelve offloaded with legacy quota usage
  * Shelve/unshelve offloaded with quota usage from placement
  * Shelve/unshelve with legacy quota usage
  * Shelve/unshelve with quota usage from placement

NOTE(melwitt): The difference from the cherry-picked change is to
remove bits related to unified limits because unified limits support is
not present in Xena.

Related-Bug: #2003991

Change-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a
(cherry picked from commit 427b2cb4d61cdfaf18b2467eb50b3772dffd3def)
(cherry picked from commit 004a773a3a286f39889519bb5b2009fb9bf44fb1)
(cherry picked from commit 710116f4beadb1553c9ad7991ea69b0e286657d6)
(cherry picked from commit 291c02a7d51585551266fe5b7e7afd9726317671)
",['nova/tests/functional/test_servers.py']
openstack%2Fnova~888100,openstack/nova,stable/xena,I4ab97626c10052c7af9934a80ff8db9ddab82738,Enforce quota usage from placement when unshelving,ABANDONED,2023-07-11 02:18:26.000000000,2024-03-05 19:12:42.000000000,214,22,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-07-11 03:00:39.000000000', 'files': ['releasenotes/notes/quota-unshelve-offloaded-e4ea2d6a1449f549.yaml', 'nova/api/openstack/compute/shelve.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = true or\n[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota\nusage are counted from placement. When an instance is SHELVED_OFFLOADED,\nit will not have allocations in placement, so its cores and ram should\nnot count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being properly enforced during\nunshelve of a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nConflicts:\n    nova/compute/api.py\n    nova/conductor/manager.py\n    nova/limit/placement.py\n\nNOTE(melwitt): The conflicts and differences from the cherry-picked\nchange are resolved by removing bits related to unified limits because\nunified limits support is not present in Xena.\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)\n(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)\n(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)\n(cherry picked from commit da4b7d1e70486402635a009724b263981cd22861)\n'}]",888100,b8875b17bb43795ec7f90ad14c60bb19976b89ab,4690,melanie witt,melwitt,0,"Enforce quota usage from placement when unshelving

When [quota]count_usage_from_placement = true or
[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota
usage are counted from placement. When an instance is SHELVED_OFFLOADED,
it will not have allocations in placement, so its cores and ram should
not count against quota during that time.

This means however that when an instance is unshelved, there is a
possibility of going over quota if the cores and ram it needs were
allocated by some other instance(s) while it was SHELVED_OFFLOADED.

This fixes a bug where quota was not being properly enforced during
unshelve of a SHELVED_OFFLOADED instance when quota usage is counted
from placement. Test coverage is also added for the ""recheck"" quota
cases.

Conflicts:
    nova/compute/api.py
    nova/conductor/manager.py
    nova/limit/placement.py

NOTE(melwitt): The conflicts and differences from the cherry-picked
change are resolved by removing bits related to unified limits because
unified limits support is not present in Xena.

Closes-Bug: #2003991

Change-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738
(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)
(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)
(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)
(cherry picked from commit da4b7d1e70486402635a009724b263981cd22861)
","['releasenotes/notes/quota-unshelve-offloaded-e4ea2d6a1449f549.yaml', 'nova/api/openstack/compute/shelve.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']"
openstack%2Fnova~874921,openstack/nova,stable/xena,I43612714b343d98320b19b5b38264afc700790e3,compute: Update volume_id within connection_info during swap_volume,ABANDONED,2023-02-23 13:08:22.000000000,2024-03-05 19:12:38.000000000,36,31,"[{'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 30568, 'name': 'Sergei Raiskii', 'email': 'connoreika@gmail.com', 'username': 'connoreika'}, {'_account_id': 33855, 'name': 'Andrei Yachmenev', 'email': 'andweanew@gmail.com', 'username': 'weanew'}]","[{'rev_nbr': 1, 'author': '2023-02-23 16:17:32.000000000', 'date': '2023-02-23 16:17:32.000000000'}, {'rev_nbr': 2, 'author': '2023-02-27 13:05:32.000000000', 'date': '2023-02-27 13:05:32.000000000'}, {'rev_nbr': 2, 'author': '2023-02-27 16:33:33.000000000', 'date': '2023-02-27 16:33:33.000000000'}, {'rev_nbr': 2, 'author': '2023-02-27 20:57:49.000000000', 'date': '2023-02-27 20:57:49.000000000'}]",4,"[{'number': 2, 'created': '2023-02-27 09:55:09.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1943431.py', 'nova/compute/manager.py'], 'message': ""compute: Update volume_id within connection_info during swap_volume\n\nWhen Cinder orchestrates a volume migration between backends it\ninitially creates a temporary volume on the destination before calling\nNova to swap to that volume. When this is complete Nova calls back to\nCinder and the temporary volume on the destination is renamed to the\noriginal volume UUID making the migration transparent to end users.\n\nPreviously Nova would not account for this within the connection_info\nstahed when connecting the new volume and would continue to point to the\noriginal UUID of the temporary volume. For most codepaths in Nova this\nisn't an issue but when dealing with multiattach volumes the libvirt\ndriver has a specific path that uses this stored volume_id within the\nconnection_info when an attempt is made to detach the volume,\nnova.virt.libvirt.LibvirtDriver._should_disconnect_target. In this case\nthis would lead to a failed lookup of the volume in Cinder and an\neventual 500 returned by Nova.\n\nThis change corrects this by ensuring any volume_id stashed in the\nnew connection_info we gather during a swap_volume is overwritten with\nthe correct id returned by the eventual call to Cinder's\nos-migrate_volume_completion API [1].\n\n[1] https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=complete-migration-of-a-volume-detail#volumes-volumes\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1943431\nChange-Id: I43612714b343d98320b19b5b38264afc700790e3\n(cherry picked from commit 6fd071b904282e106de7488a076d4f703636af21)\n""}]",874921,629278d72a22e173a1ef705ca8405bd683592329,16198,Ilya Popov,IPO,0,"compute: Update volume_id within connection_info during swap_volume

When Cinder orchestrates a volume migration between backends it
initially creates a temporary volume on the destination before calling
Nova to swap to that volume. When this is complete Nova calls back to
Cinder and the temporary volume on the destination is renamed to the
original volume UUID making the migration transparent to end users.

Previously Nova would not account for this within the connection_info
stahed when connecting the new volume and would continue to point to the
original UUID of the temporary volume. For most codepaths in Nova this
isn't an issue but when dealing with multiattach volumes the libvirt
driver has a specific path that uses this stored volume_id within the
connection_info when an attempt is made to detach the volume,
nova.virt.libvirt.LibvirtDriver._should_disconnect_target. In this case
this would lead to a failed lookup of the volume in Cinder and an
eventual 500 returned by Nova.

This change corrects this by ensuring any volume_id stashed in the
new connection_info we gather during a swap_volume is overwritten with
the correct id returned by the eventual call to Cinder's
os-migrate_volume_completion API [1].

[1] https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=complete-migration-of-a-volume-detail#volumes-volumes

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Closes-Bug: #1943431
Change-Id: I43612714b343d98320b19b5b38264afc700790e3
(cherry picked from commit 6fd071b904282e106de7488a076d4f703636af21)
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1943431.py', 'nova/compute/manager.py']"
openstack%2Fnova~875374,openstack/nova,stable/xena,Ic060523c30fd4dae086afcf7566452be0b2ff266,Add regression test for bug #1943431,ABANDONED,2023-02-27 09:55:09.000000000,2024-03-05 19:12:34.000000000,235,6,"[{'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2023-02-27 09:55:09.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1943431.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/fixtures/cinder.py'], 'message': 'Add regression test for bug #1943431\n\nThis regression test asserts the current broken behaviour of Nova during\na Cinder orchestrated volume migration that leaves the stashed\nconnection_info of the attachment pointing at a now deleted temporary\nvolume UUID used during the migration.\n\nThis is slightly different to the Nova orchestrated pure swap_volume\nflow so an additional test is included to assert the current correct\nbehaviour there and to hopefully illustrate the differences better to\nreviewers.\n\nNumerous TODOs are also left in place for clean ups in the regression\ntest, Cinder fixture and integrated helpers.\n\nChange-Id: Ic060523c30fd4dae086afcf7566452be0b2ff266\n(cherry picked from commit 674a5e8dca94d2a08970dd701d8066a109b72e2c)\n'}]",875374,93c5293b5b7d13a212dae5b2c14b41a4a6e622c9,16198,Ilya Popov,IPO,0,"Add regression test for bug #1943431

This regression test asserts the current broken behaviour of Nova during
a Cinder orchestrated volume migration that leaves the stashed
connection_info of the attachment pointing at a now deleted temporary
volume UUID used during the migration.

This is slightly different to the Nova orchestrated pure swap_volume
flow so an additional test is included to assert the current correct
behaviour there and to hopefully illustrate the differences better to
reviewers.

Numerous TODOs are also left in place for clean ups in the regression
test, Cinder fixture and integrated helpers.

Change-Id: Ic060523c30fd4dae086afcf7566452be0b2ff266
(cherry picked from commit 674a5e8dca94d2a08970dd701d8066a109b72e2c)
","['nova/tests/functional/regressions/test_bug_1943431.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/fixtures/cinder.py']"
openstack%2Fnova~879703,openstack/nova,stable/xena,Ib775c2210349b72b3dc033554ac6d8b35b8d2d79,Don't provide MTU value in metadata service if DHCP is enabled,ABANDONED,2023-04-06 13:51:10.000000000,2024-03-05 19:12:30.000000000,36,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-04-06 15:56:47.000000000', 'date': '2023-04-06 15:56:47.000000000'}]",0,"[{'number': 2, 'created': '2023-08-29 14:57:03.000000000', 'files': ['releasenotes/notes/Do-not-send-mtu-value-in-metadata-for-networks-with-enabled-dhcp-641506f2a13b540f.yaml', 'nova/tests/unit/virt/test_netutils.py', 'nova/virt/netutils.py'], 'message': 'Don\'t provide MTU value in metadata service if DHCP is enabled\n\nFor networks with subnets with enabled DHCP service don\'t provide\nmtu value in the metadata. That way cloud-init will not configure it\n""statically"" in e.g. netplan\'s config file and guest OS will use MTU\nvalue provided by the DHCP service.\n\nCloses-Bug: #1899487\nChange-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79\n(cherry picked from commit 6bdc79af30151f683c0f462bc6c69da30ebcbcf9)\n(cherry picked from commit ec15df83d2d8eb9744438c7129f64a00e5c5694e)\n(cherry picked from commit 0aac193fe3f427eb5ca32e70df77dadaebd55bb9)\n'}]",879703,ebae52aefcc9d5c4882668ce1375e940ce46a675,16207,ribaudr,uggla,0,"Don't provide MTU value in metadata service if DHCP is enabled

For networks with subnets with enabled DHCP service don't provide
mtu value in the metadata. That way cloud-init will not configure it
""statically"" in e.g. netplan's config file and guest OS will use MTU
value provided by the DHCP service.

Closes-Bug: #1899487
Change-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79
(cherry picked from commit 6bdc79af30151f683c0f462bc6c69da30ebcbcf9)
(cherry picked from commit ec15df83d2d8eb9744438c7129f64a00e5c5694e)
(cherry picked from commit 0aac193fe3f427eb5ca32e70df77dadaebd55bb9)
","['releasenotes/notes/Do-not-send-mtu-value-in-metadata-for-networks-with-enabled-dhcp-641506f2a13b540f.yaml', 'nova/tests/unit/virt/test_netutils.py', 'nova/virt/netutils.py']"
openstack%2Fnova~829804,openstack/nova,stable/xena,I03c4db3c36a780aac19841b750ff59acd3572ec6,Fix to implement 'pack' or 'spread' VM's NUMA cells,ABANDONED,2022-02-17 20:33:49.000000000,2024-03-05 19:12:26.000000000,389,17,"[{'_account_id': 4393, 'name': 'Dan Smith', 'email': 'dms@danplanet.com', 'username': 'danms'}, {'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 16198, 'name': 'Ilya Popov', 'email': 'hebulrih@gmail.com', 'username': 'IPO'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-02-18 08:03:31.000000000', 'date': '2022-02-18 08:03:31.000000000'}, {'rev_nbr': 2, 'author': '2022-07-13 10:24:55.000000000', 'date': '2022-07-13 10:24:55.000000000'}, {'rev_nbr': 2, 'author': '2022-07-13 12:00:32.000000000', 'date': '2022-07-13 12:00:32.000000000'}, {'rev_nbr': 3, 'author': '2022-08-16 16:40:52.000000000', 'date': '2022-08-16 16:40:52.000000000'}, {'rev_nbr': 3, 'author': '2022-08-16 18:11:47.000000000', 'date': '2022-08-16 18:11:47.000000000'}, {'rev_nbr': 4, 'author': '2022-10-03 15:12:16.000000000', 'date': '2022-10-03 15:12:16.000000000'}, {'rev_nbr': 6, 'author': '2023-02-07 17:57:47.000000000', 'date': '2023-02-07 17:57:47.000000000'}, {'rev_nbr': 7, 'author': '2023-02-28 15:06:07.000000000', 'date': '2023-02-28 15:06:07.000000000'}]",16,"[{'number': 8, 'created': '2023-08-29 12:56:40.000000000', 'files': ['nova/conf/compute.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'releasenotes/notes/extra-sorting-for-host-cells-c03e37de1e57043b.yaml', 'doc/source/admin/cpu-topologies.rst'], 'message': ""Fix to implement 'pack' or 'spread' VM's NUMA cells\n\nCells mean NUMA cells below in text.\n\nBy default, first instance's cell are placed to the host's cell with\nid 0, so it will be exhausted first. Than host's cell with id 1 will\nbe used and exhausted. It will lead to error placing instance with\nnumber of cells in NUMA topology equal to host's cells number if\nsome instances with one cell topology are placed on cell with id 0\nbefore. Fix will perform several sorts to put less used cells at\nthe beginning of host_cells list based on PCI devices, memory and\ncpu usage when packing_host_numa_cells_allocation_strategy is set\nto False (so called 'spread strategy'), or will try to place all\nVM's cell to the same host's cell untill it will be completely\nexhausted and only after will start to use next available host's\ncell (so called 'pack strategy'), when the configuration option\npacking_host_numa_cells_allocation_strategy is set to True.\n\nPartial-Bug: #1940668\nChange-Id: I03c4db3c36a780aac19841b750ff59acd3572ec6\n(cherry picked from commit d13412648d011994a146dac1e7214ead3b82b31b)\n""}]",829804,16d216442c540cb401dba241696756901ce30108,16198,Ilya Popov,IPO,0,"Fix to implement 'pack' or 'spread' VM's NUMA cells

Cells mean NUMA cells below in text.

By default, first instance's cell are placed to the host's cell with
id 0, so it will be exhausted first. Than host's cell with id 1 will
be used and exhausted. It will lead to error placing instance with
number of cells in NUMA topology equal to host's cells number if
some instances with one cell topology are placed on cell with id 0
before. Fix will perform several sorts to put less used cells at
the beginning of host_cells list based on PCI devices, memory and
cpu usage when packing_host_numa_cells_allocation_strategy is set
to False (so called 'spread strategy'), or will try to place all
VM's cell to the same host's cell untill it will be completely
exhausted and only after will start to use next available host's
cell (so called 'pack strategy'), when the configuration option
packing_host_numa_cells_allocation_strategy is set to True.

Partial-Bug: #1940668
Change-Id: I03c4db3c36a780aac19841b750ff59acd3572ec6
(cherry picked from commit d13412648d011994a146dac1e7214ead3b82b31b)
","['nova/conf/compute.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'releasenotes/notes/extra-sorting-for-host-cells-c03e37de1e57043b.yaml', 'doc/source/admin/cpu-topologies.rst']"
openstack%2Fnova~900837,openstack/nova,stable/xena,I24a269f9809063f864a4f0443d6724dfa8703d9d,Fix exception catch when volume mount fails,ABANDONED,2023-11-14 01:14:57.000000000,2024-03-05 19:12:23.000000000,27,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-11-14 01:14:57.000000000', 'files': ['nova/tests/unit/virt/libvirt/volume/test_mount.py', 'nova/virt/libvirt/volume/mount.py'], 'message': 'Fix exception catch when volume mount fails\n\nWhen we call nova.privsep.fs.mount(), we are catching\nProcessExecutionError() (an instance of a class) and that is not allowed\nin python3.\n\nThis changes the except statement to catch ProcessExecutionError\n(class) instead.\n\nCloses-Bug: #1984736\n\nChange-Id: I24a269f9809063f864a4f0443d6724dfa8703d9d\n(cherry picked from commit f996674c36fe1a109853d88113e27b44a7a5cf45)\n(cherry picked from commit baa0b4ff87a044228438cc32c27d4424fa6bc0c4)\n(cherry picked from commit 70f8d05947c9fb0ad3b3022b33efe6e823115a56)\n(cherry picked from commit 8ca7fcb6d9e9202019e3f317d3ba0821b1612422)\n'}]",900837,6a15fad96483f7907bcfa747e4b3a39a56ac1c4f,4690,melanie witt,melwitt,0,"Fix exception catch when volume mount fails

When we call nova.privsep.fs.mount(), we are catching
ProcessExecutionError() (an instance of a class) and that is not allowed
in python3.

This changes the except statement to catch ProcessExecutionError
(class) instead.

Closes-Bug: #1984736

Change-Id: I24a269f9809063f864a4f0443d6724dfa8703d9d
(cherry picked from commit f996674c36fe1a109853d88113e27b44a7a5cf45)
(cherry picked from commit baa0b4ff87a044228438cc32c27d4424fa6bc0c4)
(cherry picked from commit 70f8d05947c9fb0ad3b3022b33efe6e823115a56)
(cherry picked from commit 8ca7fcb6d9e9202019e3f317d3ba0821b1612422)
","['nova/tests/unit/virt/libvirt/volume/test_mount.py', 'nova/virt/libvirt/volume/mount.py']"
openstack%2Fnova~900844,openstack/nova,stable/xena,I4d45f383b3c4794f8a114047455efb764f60f2a2,Improve logging at '_numa_cells_support_network_metadata',ABANDONED,2023-11-14 01:40:54.000000000,2024-03-05 19:12:19.000000000,25,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-11-14 01:40:54.000000000', 'files': ['nova/virt/hardware.py'], 'message': ""Improve logging at '_numa_cells_support_network_metadata'\n\nThis adds 'debug' level messages at the branches of the function that\nlead to a 'False' result. These branches are:\n\n  - Physnet found affinity on a NUMA cell outside the chosen ones\n  - Tunneled networks found affinity on a NUMA cell outside the\n    chosen ones\n\nPartial-Bug: #1751784\n\nChange-Id: I4d45f383b3c4794f8a114047455efb764f60f2a2\n(cherry picked from commit 1915a3122a1df1f0dbe5edbaf25919f8875733af)\n(cherry picked from commit 0d970bfa5a73ef20dcedce4336140850fd4ea363)\n(cherry picked from commit 43273631d8dec01f25c622b9ac93fcd78aed8dd5)\n(cherry picked from commit 4b6f880e24115b50a54bd10a5d0930efd4def978)\n(cherry picked from commit b15ef7926c7f1d09754ed210717bf45f964d338d)\n""}]",900844,9f6b9397a39670fd9b3f6213cff1d835d83781d2,4690,melanie witt,melwitt,0,"Improve logging at '_numa_cells_support_network_metadata'

This adds 'debug' level messages at the branches of the function that
lead to a 'False' result. These branches are:

  - Physnet found affinity on a NUMA cell outside the chosen ones
  - Tunneled networks found affinity on a NUMA cell outside the
    chosen ones

Partial-Bug: #1751784

Change-Id: I4d45f383b3c4794f8a114047455efb764f60f2a2
(cherry picked from commit 1915a3122a1df1f0dbe5edbaf25919f8875733af)
(cherry picked from commit 0d970bfa5a73ef20dcedce4336140850fd4ea363)
(cherry picked from commit 43273631d8dec01f25c622b9ac93fcd78aed8dd5)
(cherry picked from commit 4b6f880e24115b50a54bd10a5d0930efd4def978)
(cherry picked from commit b15ef7926c7f1d09754ed210717bf45f964d338d)
",['nova/virt/hardware.py']
openstack%2Fnova~900822,openstack/nova,stable/xena,I4bf83d1642b62ab103716aff6dae7438646e2b31,Decorate only Flavor.get_* methods that execute queries,ABANDONED,2023-11-13 19:25:14.000000000,2024-03-05 19:12:15.000000000,5,1,"[{'_account_id': 20733, 'name': 'Rajesh Tailor', 'email': 'ratailor@redhat.com', 'username': 'rajesht'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-11-13 23:05:31.000000000', 'files': ['nova/objects/flavor.py'], 'message': ""Decorate only Flavor.get_* methods that execute queries\n\nThe get_* methods on the Flavor object use a common helper method to\nbuild a query object to execute later.\n\nCurrently, the @api_db_api.context_manager.reader decorator which\nmanages the session is located on the helper method instead of on the\nmethods that actually execute the database queries. Part of the context\nmanager's job is to close the session after the query is executed.\nBecause the decorator is not on the methods that actually execute the\nqueries, those database connections are not being closed and it will\neventually lead to errors like:\n\n  sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 50\n  reached, connection timed out, timeout 30.00 (Background on this\n  error at: https://sqlalche.me/e/14/3o7r)\n\nwhich means the connection pool size plus the overflow size has been\nreached and the pool will block for a fixed period of time before\ntiming out and raising this error.\n\nThis removes the @api_db_api.context_manager.reader decorator from the\nquery build helper method and adds it to the Flavor.get_* methods that\nexecute the database queries.\n\nCloses-Bug: #2027755\n\nChange-Id: I4bf83d1642b62ab103716aff6dae7438646e2b31\n(cherry picked from commit 9ae6240c92e212b2fa96d5163f68ef1b30ee03b7)\n(cherry picked from commit 4f4f27be27cb202be6a8fb949ad21021a5cd735d)\n(cherry picked from commit 53e3afe3a6024be6ead35132230dc468dd808850)\n(cherry picked from commit 5f1f22c07a00021cacf97d74031c1033916f9b44)\n""}]",900822,47f9606e00d78a7ef8fd5115eada1959b3773c75,4690,melanie witt,melwitt,0,"Decorate only Flavor.get_* methods that execute queries

The get_* methods on the Flavor object use a common helper method to
build a query object to execute later.

Currently, the @api_db_api.context_manager.reader decorator which
manages the session is located on the helper method instead of on the
methods that actually execute the database queries. Part of the context
manager's job is to close the session after the query is executed.
Because the decorator is not on the methods that actually execute the
queries, those database connections are not being closed and it will
eventually lead to errors like:

  sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 50
  reached, connection timed out, timeout 30.00 (Background on this
  error at: https://sqlalche.me/e/14/3o7r)

which means the connection pool size plus the overflow size has been
reached and the pool will block for a fixed period of time before
timing out and raising this error.

This removes the @api_db_api.context_manager.reader decorator from the
query build helper method and adds it to the Flavor.get_* methods that
execute the database queries.

Closes-Bug: #2027755

Change-Id: I4bf83d1642b62ab103716aff6dae7438646e2b31
(cherry picked from commit 9ae6240c92e212b2fa96d5163f68ef1b30ee03b7)
(cherry picked from commit 4f4f27be27cb202be6a8fb949ad21021a5cd735d)
(cherry picked from commit 53e3afe3a6024be6ead35132230dc468dd808850)
(cherry picked from commit 5f1f22c07a00021cacf97d74031c1033916f9b44)
",['nova/objects/flavor.py']
openstack%2Fnova~904081,openstack/nova,stable/xena,I300a3e29ba56584f4c99d534a6cf8ee7dc0ed4b7,Fixed an error when caching multiple images in aggregate,ABANDONED,2023-12-20 07:45:07.000000000,2024-03-05 19:12:11.000000000,26,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-12-20 07:45:07.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/api/openstack/compute/aggregates.py'], 'message': 'Fixed an error when caching multiple images in aggregate\n\nBecause in the process of judging whether the image id is Duplicate,there is only deduplication without sorting, so no duplicate image error is judged as duplicate and an error ""Duplicate images in request"" is reported.\n\nNow it is changed to sort after deduplication and then compare.\n\nTwo unit test cases were added to verify the fix\n\nRelated-Bug: #2034702\nChange-Id: I300a3e29ba56584f4c99d534a6cf8ee7dc0ed4b7\n(cherry picked from commit aa500fbb31d2f7129c048460e57a3dff229cabc8)\n'}]",904081,4fdcb53e45a362fabc9b1ee73d159c28b3816f3f,36115,liwenjian,liwenjian,0,"Fixed an error when caching multiple images in aggregate

Because in the process of judging whether the image id is Duplicate,there is only deduplication without sorting, so no duplicate image error is judged as duplicate and an error ""Duplicate images in request"" is reported.

Now it is changed to sort after deduplication and then compare.

Two unit test cases were added to verify the fix

Related-Bug: #2034702
Change-Id: I300a3e29ba56584f4c99d534a6cf8ee7dc0ed4b7
(cherry picked from commit aa500fbb31d2f7129c048460e57a3dff229cabc8)
","['nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/api/openstack/compute/aggregates.py']"
openstack%2Fnova~885347,openstack/nova,stable/xena,I2ba035c09ace20e9835d9d12a5c5bee17d616718,Fix failed count for anti-affinity check,ABANDONED,2023-06-06 08:45:16.000000000,2024-03-05 19:12:08.000000000,265,14,"[{'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 20733, 'name': 'Rajesh Tailor', 'email': 'ratailor@redhat.com', 'username': 'rajesht'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34860, 'name': 'Amit Uniyal', 'email': 'auniyal@redhat.com', 'username': 'auniyal'}, {'_account_id': 34951, 'name': 'Yusuke Okada', 'email': 'okada.yusuke@fujitsu.com', 'username': 'yusokada'}]",,2,"[{'number': 1, 'created': '2023-06-06 08:45:16.000000000', 'files': ['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py'], 'message': 'Fix failed count for anti-affinity check\n\nThe late anti-affinity check runs in the compute manager to avoid\nparallel scheduling requests to invalidate the anti-affinity server\ngroup policy. When the check fails the instance is re-scheduled.\nHowever this failure counted as a real instance boot failure of the\ncompute host and can lead to de-prioritization of the compute host\nin the scheduler via BuildFailureWeigher. As the late anti-affinity\ncheck does not indicate any fault of the compute host itself it\nshould not be counted towards the build failure counter.\nThis patch adds new build results to handle this case.\n\nCloses-Bug: #1996732\nChange-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718\nSigned-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>\n(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)\n(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)\n(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)\n(cherry picked from commit cd0403dd3b1099bd13da503500a50249db8e49ea)\n'}]",885347,87488180e5633db5ef8d684684a4355de48ef428,9708,Balazs Gibizer,gibi,0,"Fix failed count for anti-affinity check

The late anti-affinity check runs in the compute manager to avoid
parallel scheduling requests to invalidate the anti-affinity server
group policy. When the check fails the instance is re-scheduled.
However this failure counted as a real instance boot failure of the
compute host and can lead to de-prioritization of the compute host
in the scheduler via BuildFailureWeigher. As the late anti-affinity
check does not indicate any fault of the compute host itself it
should not be counted towards the build failure counter.
This patch adds new build results to handle this case.

Closes-Bug: #1996732
Change-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718
Signed-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>
(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)
(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)
(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)
(cherry picked from commit cd0403dd3b1099bd13da503500a50249db8e49ea)
","['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py']"
openstack%2Fnova~875345,openstack/nova,stable/xena,Ia738a0972b050f549f446c85171d3f33e60ada4f,Handle InstanceInvalidState exception,ABANDONED,2023-02-27 12:29:26.000000000,2024-03-05 19:12:04.000000000,35,0,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 8864, 'name': 'Artom Lifshitz', 'email': 'notartom@gmail.com', 'username': 'artom'}, {'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34860, 'name': 'Amit Uniyal', 'email': 'auniyal@redhat.com', 'username': 'auniyal'}]","[{'rev_nbr': 1, 'author': '2023-02-27 17:14:19.000000000', 'date': '2023-02-27 17:14:19.000000000'}]",2,"[{'number': 1, 'created': '2023-02-27 12:29:26.000000000', 'files': ['nova/api/openstack/compute/remote_consoles.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/tests/functional/api_sample_tests/test_remote_consoles.py'], 'message': ""Handle InstanceInvalidState exception\n\nWhen instance task state is 'deleting' or 'migrating', then\nget_vnc_console throws 500 error, as InstanceInvalidState\nexception is not handled there.\n\nThis change handles InstanceInvalidState in api layer in\nget_vnc_console call.\n\nCloses-Bug: #1968618\nChange-Id: Ia738a0972b050f549f446c85171d3f33e60ada4f\n(cherry picked from commit ec40d5aee34e9428e2a19231fc3df4d23d75b779)\n(cherry picked from commit 71855163a944e437f9c48a5765f683b55a28c720)\n(cherry picked from commit 286aadf289ef1b001ba7816e20b8cd53ba7a8618)\n""}]",875345,bb696a3274f7891dc7def0a33ef9528f6df7b085,20733,Rajesh Tailor,rajesht,0,"Handle InstanceInvalidState exception

When instance task state is 'deleting' or 'migrating', then
get_vnc_console throws 500 error, as InstanceInvalidState
exception is not handled there.

This change handles InstanceInvalidState in api layer in
get_vnc_console call.

Closes-Bug: #1968618
Change-Id: Ia738a0972b050f549f446c85171d3f33e60ada4f
(cherry picked from commit ec40d5aee34e9428e2a19231fc3df4d23d75b779)
(cherry picked from commit 71855163a944e437f9c48a5765f683b55a28c720)
(cherry picked from commit 286aadf289ef1b001ba7816e20b8cd53ba7a8618)
","['nova/api/openstack/compute/remote_consoles.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/tests/functional/api_sample_tests/test_remote_consoles.py']"
openstack%2Fdesignate~851875,openstack/designate,stable/xena,Ic6b3a3c6d2f5b648f00813191c30d03132e31503,Fix FIPS job - nslookup_target,ABANDONED,2022-08-02 22:26:23.000000000,2024-03-05 19:11:46.000000000,2,0,"[{'_account_id': 5572, 'name': 'Don Kehn', 'display_name': 'DEKehn', 'email': 'dekehn@gmail.com', 'username': 'dekehn'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22623, 'name': 'Erik Olof Gunnar Andersson', 'email': 'eandersson@blizzard.com', 'username': 'eoandersson'}]",,2,"[{'number': 1, 'created': '2022-08-02 22:26:23.000000000', 'files': ['.zuul.yaml'], 'message': 'Fix FIPS job - nslookup_target\n\nThis patch sets a zuul variable ""nslookup_target"" to \'opendev.org\' to fix the FIPS jobs due to a new zuul-job change[1].\n\n[1] https://review.opendev.org/c/zuul/zuul-jobs/+/844704\n\nChange-Id: Ic6b3a3c6d2f5b648f00813191c30d03132e31503\n(cherry picked from commit 9ac645806613710ab03da7e1841537d1d28a6e8f)\n'}]",851875,c9589f2ca31bf17a4c339ba15959d60dfacd1ea5,11628,Michael Johnson,johnsom,0,"Fix FIPS job - nslookup_target

This patch sets a zuul variable ""nslookup_target"" to 'opendev.org' to fix the FIPS jobs due to a new zuul-job change[1].

[1] https://review.opendev.org/c/zuul/zuul-jobs/+/844704

Change-Id: Ic6b3a3c6d2f5b648f00813191c30d03132e31503
(cherry picked from commit 9ac645806613710ab03da7e1841537d1d28a6e8f)
",['.zuul.yaml']
openstack%2Fdesignate~865843,openstack/designate,stable/xena,I052fb7ad90b4134ebe4c4e6a4784064c176eaaee,Specify AXFR transfer timeout for dnspython v1.,ABANDONED,2022-11-28 16:55:15.000000000,2024-03-05 19:11:38.000000000,29,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 5, 'created': '2022-11-29 14:49:32.000000000', 'files': ['designate/tests/unit/test_dnsutils.py', 'designate/dnsutils.py', 'releasenotes/notes/bug-1940563-bdb902050e545223.yaml'], 'message': ""Specify AXFR transfer timeout for dnspython v1.\n\nIf we specify message timeout and do not specify AXFR transfer timeout\nwe face with error in dnspython v1:\nhttps://github.com/rthalley/dnspython/issues/390\nThe bug was fixed in v2:\nhttps://github.com/rthalley/dnspython/commit/9fbf9b223dc26262b1cf23f623f89283ee9c8375\nIt's risky to update dnspython to version 2 because there are changes in interfaces\nand eventlet requires updates too to be compatible with dnspython.\nSo it's simpler to set transfer timeout.\n\nCloses-Bug: 1940563\nChange-Id: I052fb7ad90b4134ebe4c4e6a4784064c176eaaee\n""}]",865843,a232ae1cfd3029c0709f02295d106e89bcab2f2a,32927,mitya-eremeev-2,mitya-eremeev-2,0,"Specify AXFR transfer timeout for dnspython v1.

If we specify message timeout and do not specify AXFR transfer timeout
we face with error in dnspython v1:
https://github.com/rthalley/dnspython/issues/390
The bug was fixed in v2:
https://github.com/rthalley/dnspython/commit/9fbf9b223dc26262b1cf23f623f89283ee9c8375
It's risky to update dnspython to version 2 because there are changes in interfaces
and eventlet requires updates too to be compatible with dnspython.
So it's simpler to set transfer timeout.

Closes-Bug: 1940563
Change-Id: I052fb7ad90b4134ebe4c4e6a4784064c176eaaee
","['designate/tests/unit/test_dnsutils.py', 'designate/dnsutils.py', 'releasenotes/notes/bug-1940563-bdb902050e545223.yaml']"
openstack%2Fcharm-openstack-dashboard~910097,openstack/charm-openstack-dashboard,master,I951e0a2b9e44158dd0d2586554d5380c981f46f6,Updates for caracal tox.ini,MERGED,2024-02-24 20:12:27.000000000,2024-03-05 19:11:28.000000000,13,12,"[{'_account_id': 8992, 'name': 'Billy Olsen', 'email': 'billy.olsen@canonical.com', 'username': 'billy-olsen'}, {'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2024-02-24 20:12:27.000000000', 'files': ['build-requirements.txt', 'tox.ini'], 'message': 'Updates for caracal tox.ini\n\nUpdate the tox.ini file(s) to use the constraints file from\nzaza-openstack-tests.\n\nChange-Id: I951e0a2b9e44158dd0d2586554d5380c981f46f6\n'}]",910097,63d0ffc1570dc3de0e95bcc31ac5dd02528db9d8,20870,Alex Kavanagh,ajkavanagh,0,"Updates for caracal tox.ini

Update the tox.ini file(s) to use the constraints file from
zaza-openstack-tests.

Change-Id: I951e0a2b9e44158dd0d2586554d5380c981f46f6
","['build-requirements.txt', 'tox.ini']"
openstack%2Fzaqar~809568,openstack/zaqar,stable/wallaby,Id4c6a44417276950bd1fb92c2abc7c943960818a,Run TripleO jobs on CentOS8 instead of CentOS7,ABANDONED,2021-09-17 12:33:58.000000000,2024-03-05 19:10:04.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-09-17 12:33:58.000000000', 'files': ['.zuul.yaml'], 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Id4c6a44417276950bd1fb92c2abc7c943960818a\n'}]",809568,9e1cfc9ebb3522d8ee6140fa5ba705af97fe3a24,20182,Bhagyashri Shewale,bhagyashris,0,"Run TripleO jobs on CentOS8 instead of CentOS7

As we are cleaning up the c7 jobs and obselete featuresets [1].
This change replaces usage of CentOS7 in TripleO jobs by CentOS8.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: Id4c6a44417276950bd1fb92c2abc7c943960818a
",['.zuul.yaml']
openstack%2Fzaqar~892307,openstack/zaqar,stable/wallaby,I16436aa19da2cf53951c9ad27bca14033194651a,Use processutils to fix TypeError in subprocess,ABANDONED,2023-08-22 13:12:00.000000000,2024-03-05 19:09:53.000000000,15,10,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 3, 'created': '2023-08-23 03:07:36.000000000', 'files': ['requirements.txt', 'zaqar/tests/unit/notification/test_notifier.py', 'zaqar/notification/tasks/mailto.py', 'lower-constraints.txt'], 'message': 'Use processutils to fix TypeError in subprocess\n\nCalling processutils.execute() other than subprocess to\nfix bytes-like and str issue in python3.\n\nCloses-bug: #2029392\nChange-Id: I16436aa19da2cf53951c9ad27bca14033194651a\n(cherry picked from commit e0937b1f097f72238033ccc7182c88ab870bc23f)\n'}]",892307,08a8e625ff838ffbcf152c1a9120f2a9b0b7d896,21757,Xing Zhang,angeiv,0,"Use processutils to fix TypeError in subprocess

Calling processutils.execute() other than subprocess to
fix bytes-like and str issue in python3.

Closes-bug: #2029392
Change-Id: I16436aa19da2cf53951c9ad27bca14033194651a
(cherry picked from commit e0937b1f097f72238033ccc7182c88ab870bc23f)
","['requirements.txt', 'zaqar/tests/unit/notification/test_notifier.py', 'zaqar/notification/tasks/mailto.py', 'lower-constraints.txt']"
openstack%2Fpython-zaqarclient~780222,openstack/python-zaqarclient,stable/wallaby,I1ac89e8946e36a563adaa0daaa8172b13875fac5,Update .gitreview for stable/wallaby,ABANDONED,2021-03-12 11:07:57.000000000,2024-03-05 19:09:36.000000000,1,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-03-12 11:07:57.000000000', 'files': ['.gitreview'], 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I1ac89e8946e36a563adaa0daaa8172b13875fac5\n'}]",780222,33719d777eb65d19eca7886e9e62f75db51173c1,22816,OpenStack Release Bot,release,1,"Update .gitreview for stable/wallaby

Change-Id: I1ac89e8946e36a563adaa0daaa8172b13875fac5
",['.gitreview']
openstack%2Fpython-zaqarclient~780223,openstack/python-zaqarclient,stable/wallaby,Ic6cb5dd2d98e8ccc61f6e5aac8f46366741d0315,Update TOX_CONSTRAINTS_FILE for stable/wallaby,ABANDONED,2021-03-12 11:08:00.000000000,2024-03-05 19:09:29.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-03-12 11:08:00.000000000', 'files': ['tox.ini'], 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic6cb5dd2d98e8ccc61f6e5aac8f46366741d0315\n'}]",780223,8bf8ec13b71271fd3cc66f4c0d940eecde9dce4d,22816,OpenStack Release Bot,release,1,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ic6cb5dd2d98e8ccc61f6e5aac8f46366741d0315
",['tox.ini']
openstack%2Fpython-zaqarclient~855861,openstack/python-zaqarclient,stable/wallaby,I7b6fc7af500f77a3e38ba98ef5960913ec60131f,Stable-only: Fix missing updates for stable branch creation,ABANDONED,2022-09-05 09:07:29.000000000,2024-03-05 19:09:21.000000000,4,3,"[{'_account_id': 9816, 'name': 'Takashi Kajinami', 'email': 'kajinamit@oss.nttdata.com', 'username': 'kajinamit'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 2, 'created': '2022-09-05 09:48:05.000000000', 'files': ['.gitreview', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'message': 'Stable-only: Fix missing updates for stable branch creation\n\nThis change fixes the following items still outdated in stable\nbranches.\n - .gitreview\n - TOX_CONSTRAINTS_FILE\n - supported python runtimes\n - job template\n\nThis also removes the broken lower constraints job.\n\nChange-Id: I7b6fc7af500f77a3e38ba98ef5960913ec60131f\n'}]",855861,7ab6274befaa6626bf028be22e754a581b4b28d2,9816,Takashi Kajinami,kajinamit,0,"Stable-only: Fix missing updates for stable branch creation

This change fixes the following items still outdated in stable
branches.
 - .gitreview
 - TOX_CONSTRAINTS_FILE
 - supported python runtimes
 - job template

This also removes the broken lower constraints job.

Change-Id: I7b6fc7af500f77a3e38ba98ef5960913ec60131f
","['.gitreview', '.zuul.yaml', 'setup.cfg', 'tox.ini']"
openstack%2Fos-vif~887017,openstack/os-vif,stable/wallaby,I1acd74efc100c6f949b5c72525c455aebfa2c50e,Move mtu update request into ovsdb transaction,ABANDONED,2023-06-27 05:39:02.000000000,2024-03-05 19:08:58.000000000,62,24,"[{'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 2, 'created': '2023-06-27 18:39:12.000000000', 'files': ['vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/tests/unit/ovsdb/test_ovsdb_lib.py'], 'message': 'Move mtu update request into ovsdb transaction\n\nos-vif currently set the requested mtu as part of separate request\nto the port add command. As a result the port is initially created\nwith mbufer pool for the jumboframe size, which results in an\nerror in openvswitch-vswitch logs.\n\nThis change moves the mtu update request into ovsdb transaction.\n\nConflicts:\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n\nNOTE(auniyal):\nupdated update_device_mtu to accept transaction var to set mtu request\n\nCloses-Bug: #1959586\nChange-Id: I1acd74efc100c6f949b5c72525c455aebfa2c50e\n(cherry picked from commit 2f55e9ea06f975240e3ff5aff21195ec6af76193)\n(cherry picked from commit 51b7f486318d1b2d61f2079b615cc406dca10188)\n(cherry picked from commit cf9c15d034b534e50b456a8a2f6b6a4d5b89a24b)\n(cherry picked from commit 8d14a1c6a9eeaef0fdae9ea1210d3310a3498d78)\n'}]",887017,f816b9909364fa74bb965d1cc5a67c2283eb04c4,34860,Amit Uniyal,auniyal,0,"Move mtu update request into ovsdb transaction

os-vif currently set the requested mtu as part of separate request
to the port add command. As a result the port is initially created
with mbufer pool for the jumboframe size, which results in an
error in openvswitch-vswitch logs.

This change moves the mtu update request into ovsdb transaction.

Conflicts:
      vif_plug_ovs/ovsdb/ovsdb_lib.py

NOTE(auniyal):
updated update_device_mtu to accept transaction var to set mtu request

Closes-Bug: #1959586
Change-Id: I1acd74efc100c6f949b5c72525c455aebfa2c50e
(cherry picked from commit 2f55e9ea06f975240e3ff5aff21195ec6af76193)
(cherry picked from commit 51b7f486318d1b2d61f2079b615cc406dca10188)
(cherry picked from commit cf9c15d034b534e50b456a8a2f6b6a4d5b89a24b)
(cherry picked from commit 8d14a1c6a9eeaef0fdae9ea1210d3310a3498d78)
","['vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/tests/unit/ovsdb/test_ovsdb_lib.py']"
openstack%2Fos-vif~886778,openstack/os-vif,stable/wallaby,Id9ef7074634a0f23d67a4401fa8fca363b51bb43,set default qos policy,ABANDONED,2023-06-22 18:30:20.000000000,2024-03-05 19:08:50.000000000,543,30,"[{'_account_id': 8864, 'name': 'Artom Lifshitz', 'email': 'notartom@gmail.com', 'username': 'artom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34860, 'name': 'Amit Uniyal', 'email': 'auniyal@redhat.com', 'username': 'auniyal'}]",,6,"[{'number': 7, 'created': '2023-06-27 18:39:12.000000000', 'files': ['vif_plug_ovs/tests/functional/test_plugin.py', 'vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'releasenotes/notes/default-qos-policy-for-ovs-26f8806046a59c82.yaml', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/tests/functional/base.py', 'vif_plug_ovs/ovsdb/impl_idl.py', 'os_vif/tests/functional/internal/command/ip/test_impl_pyroute2.py'], 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts: Zed to Yoga\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/base.py\n      vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal):\novs.py: added _get_qos_type config option\novsdb_lib.py: updated delete_ovs_vif_port\nadded funtional test module test_plugin\n\nConflicts: Xena to Wallaby\n\t  vif_plug_ovs/ovs.py\n\t  vif_plug_ovs/ovsdb/ovsdb_lib.py\n\t  vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py\n\t  vif_plug_ovs/tests/unit/test_plugin.py\n\nNOTE(auniyal):\novs.py: adds config option default_qos_type\novsdb_lib.py: updated create ovs vif port\ntest_ovsdb_lib.py: added tests for vif port and qos\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n(cherry picked from commit 57df00f746c9faf5416b02160fdfa277bc4ca388)\n(cherry picked from commit 4490c4d97f397b99f1804b7dac564b8626d132a2)\n'}]",886778,b68632a43fd7fa276bc1674da6861462c01127f8,34860,Amit Uniyal,auniyal,0,"set default qos policy

This change modifies the os-vif ovs plugin to set a default
tc qdisc on ovs interface when the host os is not windows
and the system datapath is used.

This change fixes a ""silent"" bug in the functional test code due
to a change in an ovsdbapp function signiture to accpet a new paramater.

Conflicts: Zed to Yoga
      vif_plug_ovs/ovs.py
      vif_plug_ovs/ovsdb/ovsdb_lib.py
      vif_plug_ovs/tests/functional/base.py
      vif_plug_ovs/tests/functional/test_plugin.py

NOTE(auniyal):
ovs.py: added _get_qos_type config option
ovsdb_lib.py: updated delete_ovs_vif_port
added funtional test module test_plugin

Conflicts: Xena to Wallaby
	  vif_plug_ovs/ovs.py
	  vif_plug_ovs/ovsdb/ovsdb_lib.py
	  vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py
	  vif_plug_ovs/tests/unit/test_plugin.py

NOTE(auniyal):
ovs.py: adds config option default_qos_type
ovsdb_lib.py: updated create ovs vif port
test_ovsdb_lib.py: added tests for vif port and qos

Closes-Bug: #2017868
Change-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43
(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)
(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)
(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)
(cherry picked from commit 57df00f746c9faf5416b02160fdfa277bc4ca388)
(cherry picked from commit 4490c4d97f397b99f1804b7dac564b8626d132a2)
","['vif_plug_ovs/tests/functional/test_plugin.py', 'vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'releasenotes/notes/default-qos-policy-for-ovs-26f8806046a59c82.yaml', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/tests/functional/base.py', 'vif_plug_ovs/ovsdb/impl_idl.py', 'os_vif/tests/functional/internal/command/ip/test_impl_pyroute2.py']"
openstack%2Foctavia~835780,openstack/octavia,stable/wallaby,I658a4097e120d4f6a49fa1a7945a8d999709d1bd,Switch centos8 jobs to centos-8-stream,ABANDONED,2022-03-30 06:38:55.000000000,2024-03-05 19:08:40.000000000,10,10,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29244, 'name': 'Gregory Thiemonge', 'email': 'gthiemon@redhat.com', 'username': 'gthiemonge'}]",,1,"[{'number': 1, 'created': '2022-03-30 06:38:55.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'message': 'Switch centos8 jobs to centos-8-stream\n\nChange-Id: I658a4097e120d4f6a49fa1a7945a8d999709d1bd\n(cherry picked from commit 76617f883e535a77008aac80d5350d0f0c889f8d)\n(cherry picked from commit 1755832a309c84050499d66768060f0ff237e29c)\n'}]",835780,455f7276b54682eb4811cc9533d8cf064aaac4f0,29244,Gregory Thiemonge,gthiemonge,0,"Switch centos8 jobs to centos-8-stream

Change-Id: I658a4097e120d4f6a49fa1a7945a8d999709d1bd
(cherry picked from commit 76617f883e535a77008aac80d5350d0f0c889f8d)
(cherry picked from commit 1755832a309c84050499d66768060f0ff237e29c)
","['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']"
openstack%2Foctavia~900983,openstack/octavia,stable/wallaby,I3fe9bb584c8522482e9d7289ae8ea1aab205dd4d,Fix incorrect removal of IP rules in the amphora,ABANDONED,2023-11-15 08:13:33.000000000,2024-03-05 19:08:33.000000000,117,12,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27442, 'name': 'Quentin GROLLEAU', 'email': 'quentin.grolleau@corp.ovh.com', 'username': 'QG'}, {'_account_id': 34429, 'name': 'Tom Weininger', 'email': 'dienste@weinimo.de', 'username': 'tweining'}]",,2,"[{'number': 1, 'created': '2023-11-15 08:13:33.000000000', 'files': ['octavia/common/constants.py', 'octavia/amphorae/backends/utils/interface.py', 'octavia/tests/unit/amphorae/backends/utils/test_interface.py', 'octavia/tests/unit/amphorae/backends/utils/test_interface_file.py', 'octavia/tests/unit/cmd/test_interface.py', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py', 'octavia/amphorae/backends/utils/interface_file.py', 'releasenotes/notes/fix-ip-rules-in-amphora-b74b7b616752c13b.yaml'], 'message': ""Fix incorrect removal of IP rules in the amphora\n\nWhen plugging a member, an IP rule was deleted from the amphora. It\ntriggered connectivity issue when a client on subnet1 sends a request to\nthe VIP (on subnet2) while subnet1 is also plugged to the amp as a\nmember subnet.\nThe IP rules should be updated only when plugging/updating the VIP\ninterface. The JSON files that store the configuration of the interfaces\nnow contain the type of the interface ('vip', 'lo' or 'member') and the\nrules update step is skipped when the type is not 'vip'.\n\nCloses-Bug: #2016475\n\nChange-Id: I3fe9bb584c8522482e9d7289ae8ea1aab205dd4d\n(cherry picked from commit b3bf1779929eebdcf66d38cdd386fb5d785698f5)\n""}]",900983,9d07f5b0744a8ec2a05d230c800ee2f249c951c9,29244,Gregory Thiemonge,gthiemonge,0,"Fix incorrect removal of IP rules in the amphora

When plugging a member, an IP rule was deleted from the amphora. It
triggered connectivity issue when a client on subnet1 sends a request to
the VIP (on subnet2) while subnet1 is also plugged to the amp as a
member subnet.
The IP rules should be updated only when plugging/updating the VIP
interface. The JSON files that store the configuration of the interfaces
now contain the type of the interface ('vip', 'lo' or 'member') and the
rules update step is skipped when the type is not 'vip'.

Closes-Bug: #2016475

Change-Id: I3fe9bb584c8522482e9d7289ae8ea1aab205dd4d
(cherry picked from commit b3bf1779929eebdcf66d38cdd386fb5d785698f5)
","['octavia/common/constants.py', 'octavia/amphorae/backends/utils/interface.py', 'octavia/tests/unit/amphorae/backends/utils/test_interface.py', 'octavia/tests/unit/amphorae/backends/utils/test_interface_file.py', 'octavia/tests/unit/cmd/test_interface.py', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py', 'octavia/amphorae/backends/utils/interface_file.py', 'releasenotes/notes/fix-ip-rules-in-amphora-b74b7b616752c13b.yaml']"
openstack%2Foctavia~905486,openstack/octavia,stable/wallaby,I5698558857cbaa585f8a3d7ac37aaa31c0189d46,Fix health-monitors with ALPN members,ABANDONED,2024-01-12 15:54:49.000000000,2024-03-05 19:08:25.000000000,30,18,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27442, 'name': 'Quentin GROLLEAU', 'email': 'quentin.grolleau@corp.ovh.com', 'username': 'QG'}, {'_account_id': 34429, 'name': 'Tom Weininger', 'email': 'dienste@weinimo.de', 'username': 'tweining'}]",,0,"[{'number': 1, 'created': '2024-01-12 15:54:49.000000000', 'files': ['releasenotes/notes/fix-http-https-healthmonitor-with-alpn-pools-82249b2b9a025068.yaml', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2'], 'message': 'Fix health-monitors with ALPN members\n\nUsing HTTP or HTTPS health-monitor on a ALPN pool failed with SSL\nerrors.\nhaproxy doc mentions that when using ""check"" with ALPN servers, the\ncheck-alpn option must be enabled.\n\n[0] https://docs.haproxy.org/2.8/configuration.html#5.2-check\n\nCloses-Bug: #2043812\n\nChange-Id: I5698558857cbaa585f8a3d7ac37aaa31c0189d46\n(cherry picked from commit c28eb84dcafcb066746b04e9e6ef7a51decb68cd)\n(cherry picked from commit 7c468ca4c4d9ea89ba208e8287538ed4d5d1dee3)\n(cherry picked from commit 121e0533d0cdcf07327ef4894cb32400f5bdde78)\n(cherry picked from commit 778859a297299c39d05f69538b50e00c29a7d4d4)\n(cherry picked from commit 937bb928aa61e51ce38743921a1434770f4d844b)\n(cherry picked from commit b9f57923c81aba0cb187ac21c363d8405f95fad0)\n'}]",905486,8234ef7de7e636331e4599158492192b62c8c6c1,29244,Gregory Thiemonge,gthiemonge,0,"Fix health-monitors with ALPN members

Using HTTP or HTTPS health-monitor on a ALPN pool failed with SSL
errors.
haproxy doc mentions that when using ""check"" with ALPN servers, the
check-alpn option must be enabled.

[0] https://docs.haproxy.org/2.8/configuration.html#5.2-check

Closes-Bug: #2043812

Change-Id: I5698558857cbaa585f8a3d7ac37aaa31c0189d46
(cherry picked from commit c28eb84dcafcb066746b04e9e6ef7a51decb68cd)
(cherry picked from commit 7c468ca4c4d9ea89ba208e8287538ed4d5d1dee3)
(cherry picked from commit 121e0533d0cdcf07327ef4894cb32400f5bdde78)
(cherry picked from commit 778859a297299c39d05f69538b50e00c29a7d4d4)
(cherry picked from commit 937bb928aa61e51ce38743921a1434770f4d844b)
(cherry picked from commit b9f57923c81aba0cb187ac21c363d8405f95fad0)
","['releasenotes/notes/fix-http-https-healthmonitor-with-alpn-pools-82249b2b9a025068.yaml', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2']"
openstack%2Foctavia~905487,openstack/octavia,stable/wallaby,Ia681679e24437832e1e23e7399e1a34da8ab54c5,Fix TLS-HELLO healthmonitors in the amphora-driver,ABANDONED,2024-01-12 15:54:49.000000000,2024-03-05 19:08:17.000000000,4,4,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27442, 'name': 'Quentin GROLLEAU', 'email': 'quentin.grolleau@corp.ovh.com', 'username': 'QG'}, {'_account_id': 34429, 'name': 'Tom Weininger', 'email': 'dienste@weinimo.de', 'username': 'tweining'}]",,0,"[{'number': 1, 'created': '2024-01-12 15:54:49.000000000', 'files': ['octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'releasenotes/notes/fix-tls-hello-healthmonitors-a4b98a80f6de8394.yaml', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2'], 'message': 'Fix TLS-HELLO healthmonitors in the amphora-driver\n\nTLS-HELLO HMs were based on the ssl-hello-chk option of haproxy, which\nuses SSLv3 messages. SSLv3 is deprecated and most distributions have\ndisabled it, remove this option and rely only on the default checker\nwhen ssl is enabled [0]\n\n[0] https://docs.haproxy.org/2.8/configuration.html#5.2-check\n\nRelated-Bug: #2043812\n\nChange-Id: Ia681679e24437832e1e23e7399e1a34da8ab54c5\n(cherry picked from commit 8e7c2737b6c6c9ca08f9fce0867955c4c3740332)\n(cherry picked from commit 0f9bc3b8c68bd818bc5307186f7e0e78761fcb65)\n(cherry picked from commit 353cafd8d4663357d4ded57a87493d1ad00d2410)\n(cherry picked from commit beb6453413d1ac533283a1837bb093bfa924276f)\n(cherry picked from commit 714ef1c802d7d9ad16eb0ea726f6deb7575c6f44)\n(cherry picked from commit d0bb5a80729f9bff59dacf294d5ebcdc6d4f68e1)\n'}]",905487,a6014820abca8bc7fe072813a2d4aa76d777ab0b,29244,Gregory Thiemonge,gthiemonge,0,"Fix TLS-HELLO healthmonitors in the amphora-driver

TLS-HELLO HMs were based on the ssl-hello-chk option of haproxy, which
uses SSLv3 messages. SSLv3 is deprecated and most distributions have
disabled it, remove this option and rely only on the default checker
when ssl is enabled [0]

[0] https://docs.haproxy.org/2.8/configuration.html#5.2-check

Related-Bug: #2043812

Change-Id: Ia681679e24437832e1e23e7399e1a34da8ab54c5
(cherry picked from commit 8e7c2737b6c6c9ca08f9fce0867955c4c3740332)
(cherry picked from commit 0f9bc3b8c68bd818bc5307186f7e0e78761fcb65)
(cherry picked from commit 353cafd8d4663357d4ded57a87493d1ad00d2410)
(cherry picked from commit beb6453413d1ac533283a1837bb093bfa924276f)
(cherry picked from commit 714ef1c802d7d9ad16eb0ea726f6deb7575c6f44)
(cherry picked from commit d0bb5a80729f9bff59dacf294d5ebcdc6d4f68e1)
","['octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'releasenotes/notes/fix-tls-hello-healthmonitors-a4b98a80f6de8394.yaml', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2']"
openstack%2Foctavia~880446,openstack/octavia,stable/wallaby,Ic08ad89b4e07e0fe8a80b3e5db6d50276aafff82,Rename Context to RequestContext,ABANDONED,2023-04-14 06:01:57.000000000,2024-03-05 19:08:08.000000000,303,154,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27442, 'name': 'Quentin GROLLEAU', 'email': 'quentin.grolleau@corp.ovh.com', 'username': 'QG'}, {'_account_id': 34429, 'name': 'Tom Weininger', 'email': 'dienste@weinimo.de', 'username': 'tweining'}]",,0,"[{'number': 1, 'created': '2023-04-14 06:01:57.000000000', 'files': ['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/common/context.py', 'octavia/tests/functional/api/v2/test_quotas.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/tests/functional/api/v2/test_flavors.py', 'octavia/tests/functional/api/v2/test_l7policy.py', 'octavia/tests/functional/api/v2/test_flavor_profiles.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/tests/functional/api/v2/test_availability_zones.py', 'octavia/tests/unit/common/test_policy.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/common/hooks.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/tests/functional/api/v2/test_provider.py', 'octavia/tests/functional/api/v2/test_availability_zone_profiles.py'], 'message': 'Rename Context to RequestContext\n\nIf castellan is used, it requires one of the following context types to\nbe provided during init: KeystonePassword, KeystoneToken or\nRequestContext [1]\n\nAlso it makes sense to be consistent across projects and with\noslo_context regarding context class naming.\n\n[1] https://opendev.org/openstack/castellan/src/commit/86712360f345866e108e12eda1075101635dd1ec/castellan/key_manager/barbican_key_manager.py#L208-L210\n\nConflicts:\n\toctavia/controller/worker/v2/tasks/notification_tasks.py\n\toctavia/tests/unit/controller/worker/v2/tasks/test_notification_tasks.py\n\toctavia/tests/unit/common/test_policy.py\n\nChange-Id: Ic08ad89b4e07e0fe8a80b3e5db6d50276aafff82\n(cherry picked from commit 62e1d871cbbbeefc4919c0c12a3cfff606c53557)\n(cherry picked from commit 48b9d42a571659240dfa737d99781c9713edaf0b)\n(cherry picked from commit 111194847f0c0bc2fe672513485ba9ce70767db4)\n(cherry picked from commit 15b01f4c3d94d00017bab87035dc90d42922b900)\n'}]",880446,a1e909db4e94c5422244f7ab1a7bf3545a7e9e37,29244,Gregory Thiemonge,gthiemonge,0,"Rename Context to RequestContext

If castellan is used, it requires one of the following context types to
be provided during init: KeystonePassword, KeystoneToken or
RequestContext [1]

Also it makes sense to be consistent across projects and with
oslo_context regarding context class naming.

[1] https://opendev.org/openstack/castellan/src/commit/86712360f345866e108e12eda1075101635dd1ec/castellan/key_manager/barbican_key_manager.py#L208-L210

Conflicts:
	octavia/controller/worker/v2/tasks/notification_tasks.py
	octavia/tests/unit/controller/worker/v2/tasks/test_notification_tasks.py
	octavia/tests/unit/common/test_policy.py

Change-Id: Ic08ad89b4e07e0fe8a80b3e5db6d50276aafff82
(cherry picked from commit 62e1d871cbbbeefc4919c0c12a3cfff606c53557)
(cherry picked from commit 48b9d42a571659240dfa737d99781c9713edaf0b)
(cherry picked from commit 111194847f0c0bc2fe672513485ba9ce70767db4)
(cherry picked from commit 15b01f4c3d94d00017bab87035dc90d42922b900)
","['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/common/context.py', 'octavia/tests/functional/api/v2/test_quotas.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/tests/functional/api/v2/test_flavors.py', 'octavia/tests/functional/api/v2/test_l7policy.py', 'octavia/tests/functional/api/v2/test_flavor_profiles.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/tests/functional/api/v2/test_availability_zones.py', 'octavia/tests/unit/common/test_policy.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/common/hooks.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/tests/functional/api/v2/test_provider.py', 'octavia/tests/functional/api/v2/test_availability_zone_profiles.py']"
openstack%2Foctavia~906264,openstack/octavia,stable/wallaby,Iccae6ec561603653183911146a638272df631e92,Don't update the management port when calculating delta,ABANDONED,2024-01-22 12:47:46.000000000,2024-03-05 19:07:56.000000000,17,24,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27442, 'name': 'Quentin GROLLEAU', 'email': 'quentin.grolleau@corp.ovh.com', 'username': 'QG'}, {'_account_id': 34429, 'name': 'Tom Weininger', 'email': 'dienste@weinimo.de', 'username': 'tweining'}]",,1,"[{'number': 1, 'created': '2024-01-22 12:47:46.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'releasenotes/notes/fix-bad-management-port-update-3fa157f74ee8c7b2.yaml'], 'message': ""Don't update the management port when calculating delta\n\nCalculateDelta should be used to get the list of subnets/networks to\nplug (or unplug) into the amphora for the VIP and the members.\nIt should never reconfigure the management port.\n\nStory 2010623\nTask 47564\n\nChange-Id: Iccae6ec561603653183911146a638272df631e92\n(cherry picked from commit 8ccc0d01764c234ce9d3dc0191b5a0952111e2ef)\n(cherry picked from commit 53a38d625d11b08ddfabcb9a3317f003367b1527)\n(cherry picked from commit ec1c9697620e427f5c4954024512bdcc5e361f63)\n""}]",906264,d520aed5c327b3c4fdbb9212718bf3ef331ef6e1,29244,Gregory Thiemonge,gthiemonge,0,"Don't update the management port when calculating delta

CalculateDelta should be used to get the list of subnets/networks to
plug (or unplug) into the amphora for the VIP and the members.
It should never reconfigure the management port.

Story 2010623
Task 47564

Change-Id: Iccae6ec561603653183911146a638272df631e92
(cherry picked from commit 8ccc0d01764c234ce9d3dc0191b5a0952111e2ef)
(cherry picked from commit 53a38d625d11b08ddfabcb9a3317f003367b1527)
(cherry picked from commit ec1c9697620e427f5c4954024512bdcc5e361f63)
","['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'releasenotes/notes/fix-bad-management-port-update-3fa157f74ee8c7b2.yaml']"
openstack%2Fnova~791477,openstack/nova,stable/wallaby,I7fa75a0d2e2555d99c3d2c16b333a21462837580,Add regression test for bug #1922053,ABANDONED,2021-05-14 13:16:17.000000000,2024-03-05 19:07:48.000000000,108,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-05-14 13:16:17.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1922053.py'], 'message': 'Add regression test for bug #1922053\n\nRelated-Bug: #1922053\nChange-Id: I7fa75a0d2e2555d99c3d2c16b333a21462837580\n(cherry picked from commit db333070b61caef62ea5b68e5bf75f92d879db74)\n'}]",791477,1a82ee80e6c213e741fa6ed9d6f3de7f0ce27d4c,10135,Lee Yarwood,lyarwood,0,"Add regression test for bug #1922053

Related-Bug: #1922053
Change-Id: I7fa75a0d2e2555d99c3d2c16b333a21462837580
(cherry picked from commit db333070b61caef62ea5b68e5bf75f92d879db74)
",['nova/tests/functional/regressions/test_bug_1922053.py']
openstack%2Fnova~792501,openstack/nova,stable/wallaby,Ib6c8fc1e3d90b79b10066c429670fcb957bddd23,Use the new type HostDomainOpt.,ABANDONED,2021-05-21 05:54:46.000000000,2024-03-05 19:07:44.000000000,4,4,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-05-21 05:54:46.000000000', 'files': ['requirements.txt', 'nova/conf/netconf.py', 'nova/conf/libvirt.py', 'lower-constraints.txt'], 'message': 'Use the new type HostDomainOpt.\n\nUse the new oslo.confg type HostDomainOpt to support underscore in the\nname. You can see the bugzilla[1] to have more information.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1868940\n\nRelated-Bug: #1892044\nChange-Id: Ib6c8fc1e3d90b79b10066c429670fcb957bddd23\n(cherry picked from commit 0d84833e9688e0df97f3d24e06025e512bca3ce3)\n'}]",792501,0712c108ebb11d0a022393ea2a511d9d03e1dc03,31245,Daniel Bengtsson,damani42,0,"Use the new type HostDomainOpt.

Use the new oslo.confg type HostDomainOpt to support underscore in the
name. You can see the bugzilla[1] to have more information.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1868940

Related-Bug: #1892044
Change-Id: Ib6c8fc1e3d90b79b10066c429670fcb957bddd23
(cherry picked from commit 0d84833e9688e0df97f3d24e06025e512bca3ce3)
","['requirements.txt', 'nova/conf/netconf.py', 'nova/conf/libvirt.py', 'lower-constraints.txt']"
openstack%2Fnova~792902,openstack/nova,stable/wallaby,Ieb19b4e5ffde56b7f72805aa231f595f45989e60,Add regression test for bug #1928063,ABANDONED,2021-05-25 08:01:35.000000000,2024-03-05 19:07:40.000000000,69,0,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-05-25 10:51:05.000000000', 'date': '2021-05-25 10:51:05.000000000'}]",0,"[{'number': 1, 'created': '2021-05-25 08:01:35.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1928063.py'], 'message': 'Add regression test for bug #1928063\n\nRelated-Bug: #1928063\nChange-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60\n(cherry picked from commit e1cc0ed978d40596d368ba19063fb5b51e96421e)\n'}]",792902,75f223097f9744edb93db0fedb0b16a0e4860c01,10135,Lee Yarwood,lyarwood,0,"Add regression test for bug #1928063

Related-Bug: #1928063
Change-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60
(cherry picked from commit e1cc0ed978d40596d368ba19063fb5b51e96421e)
",['nova/tests/functional/regressions/test_bug_1928063.py']
openstack%2Fnova~793956,openstack/nova,stable/wallaby,I66299e97bdb5b95e149b1780231a1c1bbdbd9865,hardware: Use image_meta.id within get_mem_encryption_constraint,ABANDONED,2021-06-01 12:15:15.000000000,2024-03-05 19:07:37.000000000,7,15,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-06-07 21:29:08.000000000', 'date': '2021-06-07 21:29:08.000000000'}]",0,"[{'number': 1, 'created': '2021-06-01 12:15:15.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/functional/regressions/test_bug_1928063.py'], 'message': 'hardware: Use image_meta.id within get_mem_encryption_constraint\n\nThis change resolves bug #1928063 by replacing the use of\nimage_meta.name with image_meta.id as\nI55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea should ensure it is always\navailable. The removal of other references to image_meta.name within\nvirt.hardware is left for follow ups to keep this change small and\nbackportable.\n\nNOTE(lyarwood): A simple func test conflict caused by\nI921c812ac03f7d32eec31200772020c17f292851 not being present in\nstable/wallaby.\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1928063.py\n\nCloses-Bug: #1928063\nChange-Id: I66299e97bdb5b95e149b1780231a1c1bbdbd9865\n(cherry picked from commit e98994027f0af0b22277bcfaed4ab6e6f4a2c74e)\n'}]",793956,625e4e0fab5a34aa9f0b2f4a94f1559362821a37,10135,Lee Yarwood,lyarwood,0,"hardware: Use image_meta.id within get_mem_encryption_constraint

This change resolves bug #1928063 by replacing the use of
image_meta.name with image_meta.id as
I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea should ensure it is always
available. The removal of other references to image_meta.name within
virt.hardware is left for follow ups to keep this change small and
backportable.

NOTE(lyarwood): A simple func test conflict caused by
I921c812ac03f7d32eec31200772020c17f292851 not being present in
stable/wallaby.

Conflicts:
    nova/tests/functional/regressions/test_bug_1928063.py

Closes-Bug: #1928063
Change-Id: I66299e97bdb5b95e149b1780231a1c1bbdbd9865
(cherry picked from commit e98994027f0af0b22277bcfaed4ab6e6f4a2c74e)
","['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/functional/regressions/test_bug_1928063.py']"
openstack%2Fnova~793354,openstack/nova,stable/wallaby,I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea,image_meta: Provide image_ref as the id when fetching from instance,ABANDONED,2021-05-27 09:54:41.000000000,2024-03-05 19:07:33.000000000,149,105,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-05-27 12:56:20.000000000', 'date': '2021-05-27 12:56:20.000000000'}, {'rev_nbr': 1, 'author': '2021-08-23 20:44:12.000000000', 'date': '2021-08-23 20:44:12.000000000'}]",0,"[{'number': 1, 'created': '2021-05-27 09:54:41.000000000', 'files': ['nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_machine_type_utils.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/virt/test_configdrive.py', 'nova/objects/image_meta.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/objects/test_instance.py'], 'message': 'image_meta: Provide image_ref as the id when fetching from instance\n\nAt present various users of instance.image_meta expect it to be a fully\npopulated ImageMeta object. However when the instance is pulled from the\ndatabase the ImageMeta object is only partially populated via\ninstance.system_metadata with a limited set of attributes such as\nmin_ram, min_disk, disk_format and container_format. This can result in\nNotImplementedErrors being raised by o.vo as seen in bug #1928063 when\nan attempt is made to access common attributes such as id or name.\n\nTo avoid this the id is now provided by instance.image_ref when\navailable.\n\nThe majority of the change is test fallout and ensuring that valid UUIDs\nare provided as instance.image_ref and used by instance.image_meta.\n\nRelated-Bug: #1928063\nChange-Id: I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea\n(cherry picked from commit 9d037f7d199443da0f2c6c1755704e589d52e730)\n'}]",793354,a2791fb5d2ae30d2861c2f04627eb48df01a30e7,10135,Lee Yarwood,lyarwood,0,"image_meta: Provide image_ref as the id when fetching from instance

At present various users of instance.image_meta expect it to be a fully
populated ImageMeta object. However when the instance is pulled from the
database the ImageMeta object is only partially populated via
instance.system_metadata with a limited set of attributes such as
min_ram, min_disk, disk_format and container_format. This can result in
NotImplementedErrors being raised by o.vo as seen in bug #1928063 when
an attempt is made to access common attributes such as id or name.

To avoid this the id is now provided by instance.image_ref when
available.

The majority of the change is test fallout and ensuring that valid UUIDs
are provided as instance.image_ref and used by instance.image_meta.

Related-Bug: #1928063
Change-Id: I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea
(cherry picked from commit 9d037f7d199443da0f2c6c1755704e589d52e730)
","['nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_machine_type_utils.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/virt/test_configdrive.py', 'nova/objects/image_meta.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/objects/test_instance.py']"
openstack%2Fnova~805997,openstack/nova,stable/wallaby,I887417967365a076db4b0ef97dee302cf7ff9152,nova-api add flavorid value to server's flavor part,ABANDONED,2021-08-25 13:29:57.000000000,2024-03-05 19:07:29.000000000,1,0,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 33154, 'name': 'Lubos Mercl', 'display_name': 'Lubos Mercl', 'email': 'lubos.mercl@gmail.com', 'username': 'lmercl'}]",,0,"[{'number': 1, 'created': '2021-08-25 13:29:57.000000000', 'files': ['nova/api/openstack/compute/views/servers.py'], 'message': ""nova-api add flavorid value to server's flavor part\n\nChange-Id: I887417967365a076db4b0ef97dee302cf7ff9152\n""}]",805997,9349de07afaa51cbd918efdf887ca0075c88b1a9,33154,Lubos Mercl,lmercl,0,"nova-api add flavorid value to server's flavor part

Change-Id: I887417967365a076db4b0ef97dee302cf7ff9152
",['nova/api/openstack/compute/views/servers.py']
openstack%2Fnova~791478,openstack/nova,stable/wallaby,I95882ea28564a31a6b4f8b665de462774d84edfc,api: Reject requests to force up computes when `done` evacuation records exist,ABANDONED,2021-05-14 13:16:17.000000000,2024-03-05 19:07:26.000000000,40,12,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-05-19 14:17:31.000000000', 'date': '2021-05-19 14:17:31.000000000'}, {'rev_nbr': 1, 'author': '2021-05-21 10:56:59.000000000', 'date': '2021-05-21 10:56:59.000000000'}]",0,"[{'number': 1, 'created': '2021-05-14 13:16:17.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/functional/regressions/test_bug_1922053.py', 'nova/api/openstack/compute/services.py', 'nova/tests/functional/test_servers.py'], 'message': 'api: Reject requests to force up computes when `done` evacuation records exist\n\nWhen evacuating an instance the evacuation migration record moves from a\nstate of `accepted` to `pre-migrating` and eventually `done` once the\ninstance has been rebuilt on the new compute host. At present the\nmigration record remains in this state until the original compute host\nis restarted and the service cleans up any leftovers of the instance\nbefore it is moved to a state of `completed`.\n\nBug #1922053 details a use case where an operator might unintentionally\nforget to ensure the compute service is restarted before forcing the\nservice up leaving evacuation migration records stuck as `done`.\n\nThis could become an issue in the future if the instance is moved back\nto this compute before the service is restarted. Any future restart\ninvoking the cleanup logic and potentially damaging the running\ninstance.\n\nThis change aims to address this by blocking requests to force up\ncomputes associated to `done` evacuation records. Forcing operators to\nrestart the service allowing them to move to a `completed` state before\nthe service can be forced up again.\n\nTo allow this to be backportable these requests are rejected with a 400\nBadRequest return code from the API. A TODO is left to move this to a\n409 Conflict during the Xena release under a new microversion.\n\nFinally, some additional functional tests have been updated to ensure\nthey restart the source compute service of an evacuation before\nattempting to force up the service, ensuring any migration records are\nmarked as completed.\n\nCloses-Bug: #1922053\nChange-Id: I95882ea28564a31a6b4f8b665de462774d84edfc\n(cherry picked from commit bf89a23d91f01a29ba9b19bd0accf8de8c05f2f7)\n'}]",791478,f9b1c1f9b046745276046b6e940d01211a323913,10135,Lee Yarwood,lyarwood,0,"api: Reject requests to force up computes when `done` evacuation records exist

When evacuating an instance the evacuation migration record moves from a
state of `accepted` to `pre-migrating` and eventually `done` once the
instance has been rebuilt on the new compute host. At present the
migration record remains in this state until the original compute host
is restarted and the service cleans up any leftovers of the instance
before it is moved to a state of `completed`.

Bug #1922053 details a use case where an operator might unintentionally
forget to ensure the compute service is restarted before forcing the
service up leaving evacuation migration records stuck as `done`.

This could become an issue in the future if the instance is moved back
to this compute before the service is restarted. Any future restart
invoking the cleanup logic and potentially damaging the running
instance.

This change aims to address this by blocking requests to force up
computes associated to `done` evacuation records. Forcing operators to
restart the service allowing them to move to a `completed` state before
the service can be forced up again.

To allow this to be backportable these requests are rejected with a 400
BadRequest return code from the API. A TODO is left to move this to a
409 Conflict during the Xena release under a new microversion.

Finally, some additional functional tests have been updated to ensure
they restart the source compute service of an evacuation before
attempting to force up the service, ensuring any migration records are
marked as completed.

Closes-Bug: #1922053
Change-Id: I95882ea28564a31a6b4f8b665de462774d84edfc
(cherry picked from commit bf89a23d91f01a29ba9b19bd0accf8de8c05f2f7)
","['nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/functional/regressions/test_bug_1922053.py', 'nova/api/openstack/compute/services.py', 'nova/tests/functional/test_servers.py']"
openstack%2Fnova~827896,openstack/nova,stable/wallaby,Iae13b0ffcded76ef1712fdbad3fbff3dc774336c,Add check job for FIPS,ABANDONED,2022-02-04 20:01:24.000000000,2024-03-05 19:07:22.000000000,3,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 3, 'author': '2022-02-05 00:31:20.000000000', 'date': '2022-02-05 00:31:20.000000000'}, {'rev_nbr': 3, 'author': '2022-02-07 23:59:39.000000000', 'date': '2022-02-07 23:59:39.000000000'}, {'rev_nbr': 4, 'author': '2022-02-10 18:44:41.000000000', 'date': '2022-02-10 18:44:41.000000000'}, {'rev_nbr': 4, 'author': '2022-03-01 22:35:46.000000000', 'date': '2022-03-01 22:35:46.000000000'}]",4,"[{'number': 4, 'created': '2022-02-10 16:29:40.000000000', 'files': ['.zuul.yaml'], 'message': 'Add check job for FIPS\n\nThe job makes sure that integration tests pass when the nodes are\nset to be in fips mode.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/828752\n\nChange-Id: Iae13b0ffcded76ef1712fdbad3fbff3dc774336c\n(cherry picked from commit 82c91e8cd8e7ebc2d6d0b49fa22bdf6a1660a5bc)\n'}]",827896,97c2187213caae7c0c3fea381f32e6ddbd8db3b1,9914,Ade Lee,alee,0,"Add check job for FIPS

The job makes sure that integration tests pass when the nodes are
set to be in fips mode.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/828752

Change-Id: Iae13b0ffcded76ef1712fdbad3fbff3dc774336c
(cherry picked from commit 82c91e8cd8e7ebc2d6d0b49fa22bdf6a1660a5bc)
",['.zuul.yaml']
openstack%2Fnova~827121,openstack/nova,stable/wallaby,Ie90fb83662dd06e7188f042fc6340596f93c5ef9,api: Reject duplicate port IDs in server create,ABANDONED,2022-01-31 15:07:54.000000000,2024-03-05 19:07:18.000000000,56,16,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-01-31 18:25:26.000000000', 'date': '2022-01-31 18:25:26.000000000'}, {'rev_nbr': 1, 'author': '2022-02-02 16:52:51.000000000', 'date': '2022-02-02 16:52:51.000000000'}, {'rev_nbr': 1, 'author': '2022-03-03 19:10:35.000000000', 'date': '2022-03-03 19:10:35.000000000'}]",5,"[{'number': 1, 'created': '2022-01-31 15:07:54.000000000', 'files': ['releasenotes/notes/bug-1821088-reject-duplicate-port-ids-a38739d67d5d7c5d.yaml', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/api/openstack/compute/servers.py'], 'message': 'api: Reject duplicate port IDs in server create\n\nSpecifying a duplicate port ID is currently ""allowed"" but results in an\nintegrity error when nova attempts to create a duplicate\n\'VirtualInterface\' entry. Start rejecting these requests by checking for\nduplicate IDs and rejecting offending requests. This is arguably an API\nchange because there isn\'t a HTTP 5xx error (server create is an async\noperation), however, users shouldn\'t have to opt in to non-broken\nbehavior and the underlying instance was never actually created\npreviously, meaning automation that relied on this ""feature"" was always\ngoing to fail in a later step. We\'re also silently failing to do what\nthe user asked (per flow chart at [1]).\n\n[1] https://docs.openstack.org/nova/latest/contributor/microversions.html#when-do-i-need-a-new-microversion\n\nConflicts:\n  nova/tests/unit/api/openstack/compute/test_servers.py\n\nNOTE(stephenfin): Conflicts are due to the absence of change\nIe09969a26ad03cb29ed717ea86bd5ae7ec761586 (""tests: Speed up \'servers\'\nAPI tests"") which we don\'t want to backport.\n\nChange-Id: Ie90fb83662dd06e7188f042fc6340596f93c5ef9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1821088\n(cherry picked from commit 9fe465427310f8215890d26bf169617653605e23)\n(cherry picked from commit d4c92bc2314c6402c4e3464a5aa61a94293eaf91)\n'}]",827121,fcbe6eecd7358dfa22b2dca8eca2afaa11f882f3,15334,Stephen Finucane,sfinucan,0,"api: Reject duplicate port IDs in server create

Specifying a duplicate port ID is currently ""allowed"" but results in an
integrity error when nova attempts to create a duplicate
'VirtualInterface' entry. Start rejecting these requests by checking for
duplicate IDs and rejecting offending requests. This is arguably an API
change because there isn't a HTTP 5xx error (server create is an async
operation), however, users shouldn't have to opt in to non-broken
behavior and the underlying instance was never actually created
previously, meaning automation that relied on this ""feature"" was always
going to fail in a later step. We're also silently failing to do what
the user asked (per flow chart at [1]).

[1] https://docs.openstack.org/nova/latest/contributor/microversions.html#when-do-i-need-a-new-microversion

Conflicts:
  nova/tests/unit/api/openstack/compute/test_servers.py

NOTE(stephenfin): Conflicts are due to the absence of change
Ie09969a26ad03cb29ed717ea86bd5ae7ec761586 (""tests: Speed up 'servers'
API tests"") which we don't want to backport.

Change-Id: Ie90fb83662dd06e7188f042fc6340596f93c5ef9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1821088
(cherry picked from commit 9fe465427310f8215890d26bf169617653605e23)
(cherry picked from commit d4c92bc2314c6402c4e3464a5aa61a94293eaf91)
","['releasenotes/notes/bug-1821088-reject-duplicate-port-ids-a38739d67d5d7c5d.yaml', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/api/openstack/compute/servers.py']"
openstack%2Fnova~828148,openstack/nova,stable/wallaby,I014c5a81752f86c6b99d19d769c42f318e18e676,libvirt: Always delegate OVS plug to os-vif,ABANDONED,2022-02-08 00:58:43.000000000,2024-03-05 19:07:14.000000000,3,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-02-14 04:12:34.000000000', 'date': '2022-02-14 04:12:34.000000000'}, {'rev_nbr': 1, 'author': '2022-03-29 03:53:56.000000000', 'date': '2022-03-29 03:53:56.000000000'}]",3,"[{'number': 1, 'created': '2022-02-08 00:58:43.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py'], 'message': ""libvirt: Always delegate OVS plug to os-vif\n\nIn change I11fb5d3ada7f27b39c183157ea73c8b72b4e672e, we started\ndelegating plugging of OVS ports to os-vif to work around a number of\nbugs. However, this was only introduced for live migration. Plugging is\nstill handled by libvirt for spawn. This results in an odd situation,\nwhereby an interface of type 'bridge' will be use when creating the\ninstance initially, only for this to change to 'ethernet' on live\nmigration. Resolve this by *always* delegating plugging to os-vif. This\nis achieved by consistently setting the 'delegate_create' attribute of\n'nova.network.model.VIF' to 'True', which will later get transformed to\nthe 'create_port' attribute of the 'os_vif.objects.vif.VIFOpenVSwitch'\nobject(s) created in 'nova.network.os_vif_util._nova_to_osvif_vif_ovs'\nand ultimately result in delegate port creation.\n\nNote that we don't need to worry about making the setting of\n'delegate_create' conditional on whether we're looking at an OVS port or\nnot: this will be handled by '_nova_to_osvif_vif_ovs'. We also don't\nneed to worry about unsetting this attribute before a live migration:\nthe 'delegate_create' attribute is always overridden as part of\n'nova.objects.migrate_data.VIFMigrateData.get_dest_vif'.\n\nChange-Id: I014c5a81752f86c6b99d19d769c42f318e18e676\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1734320\nRelated-Bug: #1815989\n(cherry picked from commit fa0fb2fe3d61de1cb871c48ee97053cf2fb5827a)\n""}]",828148,78676e626ec60af411bb3a20fba771248612c4b8,25613,Keigo Noha,knoha,0,"libvirt: Always delegate OVS plug to os-vif

In change I11fb5d3ada7f27b39c183157ea73c8b72b4e672e, we started
delegating plugging of OVS ports to os-vif to work around a number of
bugs. However, this was only introduced for live migration. Plugging is
still handled by libvirt for spawn. This results in an odd situation,
whereby an interface of type 'bridge' will be use when creating the
instance initially, only for this to change to 'ethernet' on live
migration. Resolve this by *always* delegating plugging to os-vif. This
is achieved by consistently setting the 'delegate_create' attribute of
'nova.network.model.VIF' to 'True', which will later get transformed to
the 'create_port' attribute of the 'os_vif.objects.vif.VIFOpenVSwitch'
object(s) created in 'nova.network.os_vif_util._nova_to_osvif_vif_ovs'
and ultimately result in delegate port creation.

Note that we don't need to worry about making the setting of
'delegate_create' conditional on whether we're looking at an OVS port or
not: this will be handled by '_nova_to_osvif_vif_ovs'. We also don't
need to worry about unsetting this attribute before a live migration:
the 'delegate_create' attribute is always overridden as part of
'nova.objects.migrate_data.VIFMigrateData.get_dest_vif'.

Change-Id: I014c5a81752f86c6b99d19d769c42f318e18e676
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1734320
Related-Bug: #1815989
(cherry picked from commit fa0fb2fe3d61de1cb871c48ee97053cf2fb5827a)
","['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py']"
openstack%2Fnova~838946,openstack/nova,stable/wallaby,I184ed3ad3d578780524fbaa3a0392607d1a50cdc,enable locking test fixture,ABANDONED,2022-04-21 19:55:47.000000000,2024-03-05 19:07:11.000000000,7,0,[],"[{'rev_nbr': 1, 'author': '2022-04-21 22:29:12.000000000', 'date': '2022-04-21 22:29:12.000000000'}]",0,"[{'number': 1, 'created': '2022-04-21 19:55:47.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/test_block_device.py'], 'message': 'enable locking test fixture\n\nos-brick now uses file system locks by default.\nAs such we shoudl be enabling the locking fixture\nin the compute manager and block device unit tests.\n\nChange-Id: I184ed3ad3d578780524fbaa3a0392607d1a50cdc\nCloses-Bug: #1947370\n(cherry picked from commit aa5b8cff2b8154b04e89a0a284a598ea777f2321)\n(cherry picked from commit 6c22388c76173fc5ed52dde4bea06e6678452fa0)\n(cherry picked from commit d42262c8f0218b18d26506f242bb1d46b491f980)\n'}]",838946,a6478aec99aa162595cbcf6b726ee603ce477cdb,11604,sean mooney,sean-k-mooney,0,"enable locking test fixture

os-brick now uses file system locks by default.
As such we shoudl be enabling the locking fixture
in the compute manager and block device unit tests.

Change-Id: I184ed3ad3d578780524fbaa3a0392607d1a50cdc
Closes-Bug: #1947370
(cherry picked from commit aa5b8cff2b8154b04e89a0a284a598ea777f2321)
(cherry picked from commit 6c22388c76173fc5ed52dde4bea06e6678452fa0)
(cherry picked from commit d42262c8f0218b18d26506f242bb1d46b491f980)
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/test_block_device.py']"
openstack%2Fnova~842587,openstack/nova,stable/wallaby,Id04e0df12829df4d8929e03a8b76b5cbe0549059,neutron: Unbind remaining ports after PortNotFound,ABANDONED,2022-05-19 17:57:20.000000000,2024-03-05 19:07:07.000000000,64,23,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-05-19 21:03:44.000000000', 'date': '2022-05-19 21:03:44.000000000'}, {'rev_nbr': 1, 'author': '2022-05-23 12:19:11.000000000', 'date': '2022-05-23 12:19:11.000000000'}]",1,"[{'number': 1, 'created': '2022-05-19 17:57:20.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py'], 'message': 'neutron: Unbind remaining ports after PortNotFound\n\nJust because we encountered a PortNotFound error when unbinding a port\ndoesn\'t mean we should stop unbinding the remaining ports. If this error\nis encountered, simply continue with the other ports.\n\nWhile we\'re here, we clean up some other tests related to \'_unbind_port\'\nsince they\'re clearly duplicates.\n\nConflicts:\n  nova/network/neutron.py\n  nova/tests/unit/network/test_neutron.py\n\nNOTE(stephenfin): Conflicts are due to the absence of change\nI82705e035c49fc88ed0dc0df4db135f51c4c7fbf (""Turn on mypy for\nnova/network/neutron.py"") and change\nIdaf92c54df0f39d177d7acaabbfcf254ff5a4d0f (""smartnic support - create\narqs""), neither of which we want to backport.\n\nChange-Id: Id04e0df12829df4d8929e03a8b76b5cbe0549059\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1974173\n(cherry picked from commit 9e0dcb52ab308a63c6a18e47d1850cc3ade4d807)\n(cherry picked from commit 6f32b118640ee466b58155b5ecd50e041b4a2e7e)\n(cherry picked from commit d322f8e8b5a95fd60dab9c6c543b4c77ea893836)\n'}]",842587,a49a0b970a0072bfddc1b403c75c3c4cd6636f83,15334,Stephen Finucane,sfinucan,0,"neutron: Unbind remaining ports after PortNotFound

Just because we encountered a PortNotFound error when unbinding a port
doesn't mean we should stop unbinding the remaining ports. If this error
is encountered, simply continue with the other ports.

While we're here, we clean up some other tests related to '_unbind_port'
since they're clearly duplicates.

Conflicts:
  nova/network/neutron.py
  nova/tests/unit/network/test_neutron.py

NOTE(stephenfin): Conflicts are due to the absence of change
I82705e035c49fc88ed0dc0df4db135f51c4c7fbf (""Turn on mypy for
nova/network/neutron.py"") and change
Idaf92c54df0f39d177d7acaabbfcf254ff5a4d0f (""smartnic support - create
arqs""), neither of which we want to backport.

Change-Id: Id04e0df12829df4d8929e03a8b76b5cbe0549059
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1974173
(cherry picked from commit 9e0dcb52ab308a63c6a18e47d1850cc3ade4d807)
(cherry picked from commit 6f32b118640ee466b58155b5ecd50e041b4a2e7e)
(cherry picked from commit d322f8e8b5a95fd60dab9c6c543b4c77ea893836)
","['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py']"
openstack%2Fnova~811414,openstack/nova,stable/wallaby,I7db075145435ed4e832aca197a48c56264ac56ce,Reproduce bug 1945310,ABANDONED,2021-09-28 13:20:19.000000000,2024-03-05 19:07:03.000000000,83,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2021-11-02 18:26:49.000000000', 'date': '2021-11-02 18:26:49.000000000'}]",0,"[{'number': 3, 'created': '2022-04-21 09:45:45.000000000', 'files': ['nova/tests/fixtures.py', 'nova/tests/functional/test_servers.py'], 'message': ""Reproduce bug 1945310\n\nTo properly reproduce the bug we need to modify nova's neutron fixture\nto act like a real neutron when a port is queried with a non-admin\nclient.\n\nA wide set of tests are added to exercise all the resource request\ndependent nova code paths with a non-admin user.\n\nstable/wallaby: It is not a direct backport from stable/xena due to a\nsizable change in the functional tests. But logically this patch tries\nto add the same test coverage. However it turned out that not all the\nissues exists in stable/wallaby. The interface attach and detach issue\nare present but the live migration issue is not present as in the\nstable/wallaby code the binding profile update during live migration\ndoes not query neutron. During Xena the query is introduced and with it\nthe bug as well [1]\n\n[1] https://review.opendev.org/c/openstack/nova/+/800087/23/nova/conductor/tasks/live_migrate.py\n\nChange-Id: I7db075145435ed4e832aca197a48c56264ac56ce\nRelated-Bug: #1945310\n(cherry picked from commit 6b1e624bed074c4eee529bd03210862657e9b7de)\n(cherry picked from commit 1066353d19862b87b51946119cf5d4f1bf9d841e)\n""}]",811414,4e9a7a8dd09783a4630669c215051b2829851f13,9708,Balazs Gibizer,gibi,0,"Reproduce bug 1945310

To properly reproduce the bug we need to modify nova's neutron fixture
to act like a real neutron when a port is queried with a non-admin
client.

A wide set of tests are added to exercise all the resource request
dependent nova code paths with a non-admin user.

stable/wallaby: It is not a direct backport from stable/xena due to a
sizable change in the functional tests. But logically this patch tries
to add the same test coverage. However it turned out that not all the
issues exists in stable/wallaby. The interface attach and detach issue
are present but the live migration issue is not present as in the
stable/wallaby code the binding profile update during live migration
does not query neutron. During Xena the query is introduced and with it
the bug as well [1]

[1] https://review.opendev.org/c/openstack/nova/+/800087/23/nova/conductor/tasks/live_migrate.py

Change-Id: I7db075145435ed4e832aca197a48c56264ac56ce
Related-Bug: #1945310
(cherry picked from commit 6b1e624bed074c4eee529bd03210862657e9b7de)
(cherry picked from commit 1066353d19862b87b51946119cf5d4f1bf9d841e)
","['nova/tests/fixtures.py', 'nova/tests/functional/test_servers.py']"
openstack%2Fnova~811416,openstack/nova,stable/wallaby,Icb35e20179572fb713a397b4605312cf3294b41b,Query ports with admin client to get resource_request,ABANDONED,2021-09-28 13:21:37.000000000,2024-03-05 19:07:00.000000000,24,16,"[{'_account_id': 6062, 'name': 'jichenjc', 'email': 'jichenjc@cn.ibm.com', 'username': 'jichenjc'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 5, 'author': '2021-11-02 18:27:07.000000000', 'date': '2021-11-02 18:27:07.000000000'}, {'rev_nbr': 5, 'author': '2021-12-13 15:41:18.000000000', 'date': '2021-12-13 15:41:18.000000000'}, {'rev_nbr': 5, 'author': '2022-01-11 17:19:08.000000000', 'date': '2022-01-11 17:19:08.000000000'}, {'rev_nbr': 6, 'author': '2022-04-21 11:08:18.000000000', 'date': '2022-04-21 11:08:18.000000000'}, {'rev_nbr': 6, 'author': '2022-04-21 12:15:32.000000000', 'date': '2022-04-21 12:15:32.000000000'}, {'rev_nbr': 6, 'author': '2022-04-25 15:12:17.000000000', 'date': '2022-04-25 15:12:17.000000000'}, {'rev_nbr': 6, 'author': '2022-04-25 15:58:23.000000000', 'date': '2022-04-25 15:58:23.000000000'}]",7,"[{'number': 6, 'created': '2022-04-21 09:45:45.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'message': 'Query ports with admin client to get resource_request\n\nThe port.resource_request field is admin only. Nova depends on the\nvalue of this field to do a proper scheduling and resource allocation\nand deallocation for ports with resource request as well as to update\nthe port.binding:profile.allocation field with the resource providers\nthe requested resources are fulfilled from. However in some cases nova\ndoes not use a neutron admin client / elevated context to read the\nport. In this case neutron returns None for the port.resource_request\nfield and nova thinks that the port has no resource request.\n\nThis patch fixes all the places where previous testing showed that\ncontext elevation was missing.\n\nstable/wallaby: This is not a direct backport of the stable/xena change\nas parts of the original bug does not exists on stable/wallaby. Namely\nthe live migration issue is not reproducible as the bug there only\nintroduced during Xena [1]\n\n[1] https://review.opendev.org/c/openstack/nova/+/800087/23/nova/conductor/tasks/live_migrate.py\n\nChange-Id: Icb35e20179572fb713a397b4605312cf3294b41b\nCloses-Bug: #1945310\n(cherry picked from commit 49b481ec98087351ce1366d3afb9f4a79cd16ae3)\n(cherry picked from commit d960c24130baf27921ef9231c1f962b6486a3523)\n'}]",811416,bb9323b7ec8c06da39222921c38d6e95fde30dc1,9708,Balazs Gibizer,gibi,0,"Query ports with admin client to get resource_request

The port.resource_request field is admin only. Nova depends on the
value of this field to do a proper scheduling and resource allocation
and deallocation for ports with resource request as well as to update
the port.binding:profile.allocation field with the resource providers
the requested resources are fulfilled from. However in some cases nova
does not use a neutron admin client / elevated context to read the
port. In this case neutron returns None for the port.resource_request
field and nova thinks that the port has no resource request.

This patch fixes all the places where previous testing showed that
context elevation was missing.

stable/wallaby: This is not a direct backport of the stable/xena change
as parts of the original bug does not exists on stable/wallaby. Namely
the live migration issue is not reproducible as the bug there only
introduced during Xena [1]

[1] https://review.opendev.org/c/openstack/nova/+/800087/23/nova/conductor/tasks/live_migrate.py

Change-Id: Icb35e20179572fb713a397b4605312cf3294b41b
Closes-Bug: #1945310
(cherry picked from commit 49b481ec98087351ce1366d3afb9f4a79cd16ae3)
(cherry picked from commit d960c24130baf27921ef9231c1f962b6486a3523)
","['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']"
openstack%2Fnova~840841,openstack/nova,stable/wallaby,I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318,Isolate PCI tracker unit tests,ABANDONED,2022-05-06 09:01:55.000000000,2024-03-05 19:06:56.000000000,30,33,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-05-06 12:24:30.000000000', 'date': '2022-05-06 12:24:30.000000000'}]",0,"[{'number': 1, 'created': '2022-05-06 09:01:55.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'message': 'Isolate PCI tracker unit tests\n\nDuring the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed\nthat the unit test cases of PciTracker._set_hvdev are changing and\nleaking global state leading to unstable tests.\n\nTo reproduce on master, duplicate the\ntest_set_hvdev_remove_tree_maintained_with_allocations test case and run\nPciDevTrackerTestCase serially. The duplicated test case will fail with\n\n  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object\n  setattr(pci_device, key, db_dev[key])\n  KeyError: \'id\'\n\nThis is caused by the fact that the test data is defined on module\nlevel, both _create_tracker and _set_hvdevs modifies the devices\npassed to them, and some test mixes passing db dicts to _set_hvdevs\nthat expects pci dicts from the hypervisor.\n\nThis patch fixes multiple related issues:\n* always deepcopy what _create_tracker takes as that list is later\n  returned to the PciTracker via a mock and the tracker might modify\n  what it got\n\n* ensure that _create_tracker takes db dicts (with id field) while\n  _set_hvdevs takes pci dicts in the hypervisor format (without id\n  field)\n\n* always deepcopy what is passed to _set_hvdevs as the PciTracker modify\n  what it gets.\n\n* normalize when the deepcopy happens to give a safe patter for future\n  test cases\n\nConflicts:\n      nova/tests/unit/pci/test_manager.py due to\n      Iad2e4da4546b80a016e477577d23accb2606a6e4 is not in stable/wallaby\n\nChange-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318\n(cherry picked from commit c58376db75917444831934963fa75b4b57f08818)\n(cherry picked from commit f04cfd42359d555e746df0e2c48d989d0c3244f1)\n(cherry picked from commit 1023580f6d9008f5e56f6d3905b6e227bd2bff67)\n'}]",840841,3335d9317994ea3490fbc9945e0e961c42aef907,9708,Balazs Gibizer,gibi,0,"Isolate PCI tracker unit tests

During the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed
that the unit test cases of PciTracker._set_hvdev are changing and
leaking global state leading to unstable tests.

To reproduce on master, duplicate the
test_set_hvdev_remove_tree_maintained_with_allocations test case and run
PciDevTrackerTestCase serially. The duplicated test case will fail with

  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object
  setattr(pci_device, key, db_dev[key])
  KeyError: 'id'

This is caused by the fact that the test data is defined on module
level, both _create_tracker and _set_hvdevs modifies the devices
passed to them, and some test mixes passing db dicts to _set_hvdevs
that expects pci dicts from the hypervisor.

This patch fixes multiple related issues:
* always deepcopy what _create_tracker takes as that list is later
  returned to the PciTracker via a mock and the tracker might modify
  what it got

* ensure that _create_tracker takes db dicts (with id field) while
  _set_hvdevs takes pci dicts in the hypervisor format (without id
  field)

* always deepcopy what is passed to _set_hvdevs as the PciTracker modify
  what it gets.

* normalize when the deepcopy happens to give a safe patter for future
  test cases

Conflicts:
      nova/tests/unit/pci/test_manager.py due to
      Iad2e4da4546b80a016e477577d23accb2606a6e4 is not in stable/wallaby

Change-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318
(cherry picked from commit c58376db75917444831934963fa75b4b57f08818)
(cherry picked from commit f04cfd42359d555e746df0e2c48d989d0c3244f1)
(cherry picked from commit 1023580f6d9008f5e56f6d3905b6e227bd2bff67)
",['nova/tests/unit/pci/test_manager.py']
openstack%2Fnova~840843,openstack/nova,stable/wallaby,I7b432d7a32aeb1ab765d1f731691c7841a8f1440,Simulate bug 1969496,ABANDONED,2022-05-06 09:01:55.000000000,2024-03-05 19:06:52.000000000,56,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-05-06 13:49:33.000000000', 'date': '2022-05-06 13:49:33.000000000'}]",0,"[{'number': 1, 'created': '2022-05-06 09:01:55.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'message': ""Simulate bug 1969496\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail to\nwhen try to mark the dependent VFs unavailable.\n\nThis patch adds a test case that shows the error.\n\nRelated-Bug: #1969496\n\nChange-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440\n(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)\n(cherry picked from commit 23c48b670668e9cae886b5113c776077780f5581)\n(cherry picked from commit 96e00c30fc7356874a13f75eb5ee46c87fb448d0)\n""}]",840843,e153335a5e70f7e694d344665614279fc6d58136,9708,Balazs Gibizer,gibi,0,"Simulate bug 1969496

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail to
when try to mark the dependent VFs unavailable.

This patch adds a test case that shows the error.

Related-Bug: #1969496

Change-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440
(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)
(cherry picked from commit 23c48b670668e9cae886b5113c776077780f5581)
(cherry picked from commit 96e00c30fc7356874a13f75eb5ee46c87fb448d0)
",['nova/tests/unit/pci/test_manager.py']
openstack%2Fnova~840842,openstack/nova,stable/wallaby,If9ab424cc7375a1f0d41b03f01c4a823216b3eb8,Remove unavailable but not reported PCI devices at startup,ABANDONED,2022-05-06 09:01:55.000000000,2024-03-05 19:06:48.000000000,123,7,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-05-06 11:33:28.000000000', 'date': '2022-05-06 11:33:28.000000000'}]",0,"[{'number': 1, 'created': '2022-05-06 09:01:55.000000000', 'files': ['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/pci/test_manager.py'], 'message': 'Remove unavailable but not reported PCI devices at startup\n\nWe saw in the field that the pci_devices table can end up in\ninconsistent state after a compute node HW failure and re-deployment.\nThere could be dependent devices where the parent PF is in available\nstate while the children VFs are in unavailable state. (Before the HW\nfault the PF was allocated hence the VFs was marked unavailable).\n\nIn this state this PF is still schedulable but during the\nPCI claim the handling of dependent devices in the PCI tracker fill fail\nwith the error: ""Attempt to consume PCI device XXX from empty pool"".\n\nThe reason of the failure is that when the PF is claimed, all the\nchildren VFs are marked unavailable. But if the VF is already\nunavailable such step fails.\n\nOne way the deployer might try to recover from this state is to remove\nthe VFs from the hypervisor and restart the compute agent. The compute\nstartup already has a logic to delete PCI devices that are unused and\nnot reported by the hypervisor. However this logic only removed devices\nin \'available\' state and ignored devices in \'unavailable\' state.\n\nIf a device is unused and the hypervisor is not reporting the device any\nmore then it is safe to delete that device from the PCI tracker. So this\npatch extends the logic to allow deleting \'unavailable\' devices. There\nis a small window when dependent PCI device is in \'unclaimable\' state.\nFrom cleanup perspective this is an analogous state. So it is also\nadded to the cleanup logic.\n\nRelated-Bug: #1969496\nChange-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8\n(cherry picked from commit 284ea72e96604bdf16d1c5c4db47247334841b2f)\n(cherry picked from commit d7bca631fea348fb56cc46c5680643bacd82513e)\n(cherry picked from commit 580a4b14ae367e327229482decca0cb6cdf6e9d8)\n'}]",840842,59ae44754ebce106b23bc697a822d181cdda41c6,9708,Balazs Gibizer,gibi,0,"Remove unavailable but not reported PCI devices at startup

We saw in the field that the pci_devices table can end up in
inconsistent state after a compute node HW failure and re-deployment.
There could be dependent devices where the parent PF is in available
state while the children VFs are in unavailable state. (Before the HW
fault the PF was allocated hence the VFs was marked unavailable).

In this state this PF is still schedulable but during the
PCI claim the handling of dependent devices in the PCI tracker fill fail
with the error: ""Attempt to consume PCI device XXX from empty pool"".

The reason of the failure is that when the PF is claimed, all the
children VFs are marked unavailable. But if the VF is already
unavailable such step fails.

One way the deployer might try to recover from this state is to remove
the VFs from the hypervisor and restart the compute agent. The compute
startup already has a logic to delete PCI devices that are unused and
not reported by the hypervisor. However this logic only removed devices
in 'available' state and ignored devices in 'unavailable' state.

If a device is unused and the hypervisor is not reporting the device any
more then it is safe to delete that device from the PCI tracker. So this
patch extends the logic to allow deleting 'unavailable' devices. There
is a small window when dependent PCI device is in 'unclaimable' state.
From cleanup perspective this is an analogous state. So it is also
added to the cleanup logic.

Related-Bug: #1969496
Change-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8
(cherry picked from commit 284ea72e96604bdf16d1c5c4db47247334841b2f)
(cherry picked from commit d7bca631fea348fb56cc46c5680643bacd82513e)
(cherry picked from commit 580a4b14ae367e327229482decca0cb6cdf6e9d8)
","['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/pci/test_manager.py']"
openstack%2Fnova~840844,openstack/nova,stable/wallaby,I575ce06bcc913add7db0849f85728371da2032fc,Allow claiming PCI PF if child VF is unavailable,ABANDONED,2022-05-06 09:01:55.000000000,2024-03-05 19:06:45.000000000,162,26,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-05-06 12:35:32.000000000', 'date': '2022-05-06 12:35:32.000000000'}, {'rev_nbr': 1, 'author': '2022-05-06 13:51:51.000000000', 'date': '2022-05-06 13:51:51.000000000'}, {'rev_nbr': 1, 'author': '2022-05-31 14:42:40.000000000', 'date': '2022-05-31 14:42:40.000000000'}, {'rev_nbr': 1, 'author': '2022-06-01 13:48:19.000000000', 'date': '2022-06-01 13:48:19.000000000'}, {'rev_nbr': 1, 'author': '2022-06-01 14:53:06.000000000', 'date': '2022-06-01 14:53:06.000000000'}]",2,"[{'number': 1, 'created': '2022-05-06 09:01:55.000000000', 'files': ['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py'], 'message': ""Allow claiming PCI PF if child VF is unavailable\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail\nwhen try to mark the dependent VFs unavailable.\n\nThis patch changes the PCI claim logic to allow claiming the parent PF\nin the inconsistent situation as we assume that it is safe to do so.\nThis claim also fixed the inconsistency so that when the parent PF is\nfreed the children VFs become available again.\n\nCloses-Bug: #1969496\nChange-Id: I575ce06bcc913add7db0849f85728371da2032fc\n(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)\n(cherry picked from commit 4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270)\n(cherry picked from commit 1dbd45be4556c034eb469462698804984d95b503)\n""}]",840844,a763104217f2188b398d7eddaf3d21b91c66d2fa,9708,Balazs Gibizer,gibi,0,"Allow claiming PCI PF if child VF is unavailable

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail
when try to mark the dependent VFs unavailable.

This patch changes the PCI claim logic to allow claiming the parent PF
in the inconsistent situation as we assume that it is safe to do so.
This claim also fixed the inconsistency so that when the parent PF is
freed the children VFs become available again.

Closes-Bug: #1969496
Change-Id: I575ce06bcc913add7db0849f85728371da2032fc
(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)
(cherry picked from commit 4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270)
(cherry picked from commit 1dbd45be4556c034eb469462698804984d95b503)
","['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py']"
openstack%2Fnova~845838,openstack/nova,stable/wallaby,Ic46345ceeb445164aea6ae9b35c457c6150765f6,Fix eventlet.tpool import,ABANDONED,2022-06-15 10:43:27.000000000,2024-03-05 19:06:41.000000000,2,1,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-06-15 11:37:35.000000000', 'date': '2022-06-15 11:37:35.000000000'}, {'rev_nbr': 1, 'author': '2022-06-17 11:00:58.000000000', 'date': '2022-06-17 11:00:58.000000000'}]",2,"[{'number': 1, 'created': '2022-06-15 10:43:27.000000000', 'files': ['nova/utils.py'], 'message': 'Fix eventlet.tpool import\n\nCurrently nova.utils.tpool_execute() only works by chance. And as the\nbug report shows there are env where it fails.\n\nThe nova.utils.tpool_execute() call tries to uses eventlet.tpool.execute\nbut the tpool module is not imported by the utils module only eventlet.\nIn devstack it works by chance as the wsgi init actually imports\neventlet.tpool indirectly via:\n\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\n  File ""/opt/stack/nova/nova/api/openstack/compute/__init__.py"", line 21, in <module>\n    from nova.api.openstack.compute.routes import APIRouterV21 # noqa\n  File ""/opt/stack/nova/nova/api/openstack/compute/routes.py"", line 20, in <module>\n    from nova.api.openstack.compute import admin_actions\n  File ""/opt/stack/nova/nova/api/openstack/compute/admin_actions.py"", line 17, in <module>\n    from nova.api.openstack import common\n  File ""/opt/stack/nova/nova/api/openstack/common.py"", line 27, in <module>\n    from nova.compute import task_states\n  File ""/opt/stack/nova/nova/compute/task_states.py"", line 26, in <module>\n    from nova.objects import fields\n  File ""/opt/stack/nova/nova/objects/fields.py"", line 24, in <module>\n    from nova.network import model as network_model\n  File ""/opt/stack/nova/nova/network/model.py"", line 23, in <module>\n    from nova import utils\n  File ""/opt/stack/nova/nova/utils.py"", line 39, in <module>\n    from oslo_concurrency import processutils\n  File ""/usr/local/lib/python3.8/dist-packages/oslo_concurrency/processutils.py"", line 57, in <module>\n    from eventlet import tpool\n\nThis was broken since I8dbc579e0037969aab4f2bb500fccfbde4190726. This\npatch adds the correct import statement.\n\nChange-Id: Ic46345ceeb445164aea6ae9b35c457c6150765f6\nCloses-Bug: #1915400\n(cherry picked from commit b2d28f890872747d099a262e4a208e146b882f3f)\n(cherry picked from commit a9f444a997cd0a26aae3dac821299adf0e944121)\n(cherry picked from commit b57fce8d14b94059c65526450468d48dab736983)\n'}]",845838,33663379018907ae8c931978ee5608eb93881bea,9708,Balazs Gibizer,gibi,0,"Fix eventlet.tpool import

Currently nova.utils.tpool_execute() only works by chance. And as the
bug report shows there are env where it fails.

The nova.utils.tpool_execute() call tries to uses eventlet.tpool.execute
but the tpool module is not imported by the utils module only eventlet.
In devstack it works by chance as the wsgi init actually imports
eventlet.tpool indirectly via:

Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/opt/stack/nova/nova/api/openstack/compute/__init__.py"", line 21, in <module>
    from nova.api.openstack.compute.routes import APIRouterV21 # noqa
  File ""/opt/stack/nova/nova/api/openstack/compute/routes.py"", line 20, in <module>
    from nova.api.openstack.compute import admin_actions
  File ""/opt/stack/nova/nova/api/openstack/compute/admin_actions.py"", line 17, in <module>
    from nova.api.openstack import common
  File ""/opt/stack/nova/nova/api/openstack/common.py"", line 27, in <module>
    from nova.compute import task_states
  File ""/opt/stack/nova/nova/compute/task_states.py"", line 26, in <module>
    from nova.objects import fields
  File ""/opt/stack/nova/nova/objects/fields.py"", line 24, in <module>
    from nova.network import model as network_model
  File ""/opt/stack/nova/nova/network/model.py"", line 23, in <module>
    from nova import utils
  File ""/opt/stack/nova/nova/utils.py"", line 39, in <module>
    from oslo_concurrency import processutils
  File ""/usr/local/lib/python3.8/dist-packages/oslo_concurrency/processutils.py"", line 57, in <module>
    from eventlet import tpool

This was broken since I8dbc579e0037969aab4f2bb500fccfbde4190726. This
patch adds the correct import statement.

Change-Id: Ic46345ceeb445164aea6ae9b35c457c6150765f6
Closes-Bug: #1915400
(cherry picked from commit b2d28f890872747d099a262e4a208e146b882f3f)
(cherry picked from commit a9f444a997cd0a26aae3dac821299adf0e944121)
(cherry picked from commit b57fce8d14b94059c65526450468d48dab736983)
",['nova/utils.py']
openstack%2Fnova~819180,openstack/nova,stable/wallaby,Iae4fd0579f71d3ba6793dbdb037275352d7e57b0,Retry image download if it's corrupted,ABANDONED,2021-11-25 13:55:23.000000000,2024-03-05 19:06:38.000000000,23,1,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-11-25 16:37:56.000000000', 'date': '2021-11-25 16:37:56.000000000'}, {'rev_nbr': 2, 'author': '2022-10-27 14:13:16.000000000', 'date': '2022-10-27 14:13:16.000000000'}, {'rev_nbr': 2, 'author': '2022-10-27 15:54:51.000000000', 'date': '2022-10-27 15:54:51.000000000'}]",1,"[{'number': 2, 'created': '2022-10-27 13:21:30.000000000', 'files': ['nova/image/glance.py', 'releasenotes/notes/bug-retry-corrupted-download-5798b0df44a00e4e.yaml', 'nova/tests/unit/image/test_glance.py'], 'message': 'Retry image download if it\'s corrupted\n\nAdding IOError in list of catching exceptions in order to\nfix behavior when nova-compute wouldn\'t retry image download\nwhen got ""Corrupt image download"" error from glanceclient\nand had num_retries config option set.\n\nCloses-Bug: #1950657\nChange-Id: Iae4fd0579f71d3ba6793dbdb037275352d7e57b0\n(cherry picked from commit ce493273b9404530dfa8ecfe3eaa3d6c81a20e39)\n(cherry picked from commit b44ec0dc4927046d15525af78ab9d534cea9ce69)\n'}]",819180,8e05222fd221501aac004d64f59783eb01bddf29,30609,Stanislav Dmitriev,sdmitriev,0,"Retry image download if it's corrupted

Adding IOError in list of catching exceptions in order to
fix behavior when nova-compute wouldn't retry image download
when got ""Corrupt image download"" error from glanceclient
and had num_retries config option set.

Closes-Bug: #1950657
Change-Id: Iae4fd0579f71d3ba6793dbdb037275352d7e57b0
(cherry picked from commit ce493273b9404530dfa8ecfe3eaa3d6c81a20e39)
(cherry picked from commit b44ec0dc4927046d15525af78ab9d534cea9ce69)
","['nova/image/glance.py', 'releasenotes/notes/bug-retry-corrupted-download-5798b0df44a00e4e.yaml', 'nova/tests/unit/image/test_glance.py']"
openstack%2Fnova~842925,openstack/nova,stable/wallaby,I8f7f26e10519c87e06de47bd4d9845151f889129,Reproducer unit test for bug 1934094,ABANDONED,2022-05-23 09:11:55.000000000,2024-03-05 19:06:34.000000000,24,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29037, 'name': 'Pierre-Samuel Le Stang', 'email': 'pierre-samuel.le-stang@corp.ovh.com', 'username': 'pslestang'}, {'_account_id': 34860, 'name': 'Amit Uniyal', 'email': 'auniyal@redhat.com', 'username': 'auniyal'}]",,2,"[{'number': 1, 'created': '2022-05-23 09:11:55.000000000', 'files': ['nova/tests/unit/compute/test_shelve.py'], 'message': 'Reproducer unit test for bug 1934094\n\nRelated bug: #1934094\n\nSigned-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>\nChange-Id: I8f7f26e10519c87e06de47bd4d9845151f889129\n(cherry picked from commit 78e10f5f14a018fd1d96ea242923631459acb62c)\n(cherry picked from commit ec73ff1f78714eb62686d0f39fc4e79ffdf559af)\n'}]",842925,77b9bbd0e5926ffad382ae97099cc829153000a5,9708,Balazs Gibizer,gibi,0,"Reproducer unit test for bug 1934094

Related bug: #1934094

Signed-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>
Change-Id: I8f7f26e10519c87e06de47bd4d9845151f889129
(cherry picked from commit 78e10f5f14a018fd1d96ea242923631459acb62c)
(cherry picked from commit ec73ff1f78714eb62686d0f39fc4e79ffdf559af)
",['nova/tests/unit/compute/test_shelve.py']
openstack%2Fnova~842926,openstack/nova,stable/wallaby,Id908a7224ff3378b3b51726bbfa8b5805d38ca59,Fix instance's image_ref lost on failed unshelving,ABANDONED,2022-05-23 09:11:55.000000000,2024-03-05 19:06:30.000000000,6,6,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29037, 'name': 'Pierre-Samuel Le Stang', 'email': 'pierre-samuel.le-stang@corp.ovh.com', 'username': 'pslestang'}, {'_account_id': 34860, 'name': 'Amit Uniyal', 'email': 'auniyal@redhat.com', 'username': 'auniyal'}]","[{'rev_nbr': 1, 'author': '2022-05-23 12:21:25.000000000', 'date': '2022-05-23 12:21:25.000000000'}]",2,"[{'number': 1, 'created': '2022-05-23 09:11:55.000000000', 'files': ['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py'], 'message': ""Fix instance's image_ref lost on failed unshelving\n\nCloses-Bug: #1934094\n\nSigned-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>\nChange-Id: Id908a7224ff3378b3b51726bbfa8b5805d38ca59\n(cherry picked from commit 518b952bdeb6ec29252b56527b8c8d7b32abe1b5)\n(cherry picked from commit 076f95371a093a0e594c0d08e410676c9a73c9d0)\n""}]",842926,328cf1073dca4c092f29cf192aaab14eae03143b,9708,Balazs Gibizer,gibi,0,"Fix instance's image_ref lost on failed unshelving

Closes-Bug: #1934094

Signed-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>
Change-Id: Id908a7224ff3378b3b51726bbfa8b5805d38ca59
(cherry picked from commit 518b952bdeb6ec29252b56527b8c8d7b32abe1b5)
(cherry picked from commit 076f95371a093a0e594c0d08e410676c9a73c9d0)
","['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py']"
openstack%2Fnova~838332,openstack/nova,stable/wallaby,Ia208ef0dd0bab1c59d025234f4da7537c39cda61,Adds regression test for bug LP#1944619,ABANDONED,2022-04-18 18:02:43.000000000,2024-03-05 19:06:26.000000000,82,0,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2022-04-18 22:09:23.000000000', 'date': '2022-04-18 22:09:23.000000000'}]",8,"[{'number': 6, 'created': '2022-10-21 19:18:38.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1944619.py'], 'message': 'Adds regression test for bug LP#1944619\n\nRelated-bug: #1944619\nCloses-bug: #1964472\nChange-Id: Ia208ef0dd0bab1c59d025234f4da7537c39cda61\n(cherry picked from commit 2ddb8bf53fdf9a17c09afc4987ab6efe8ba97696)\n(cherry picked from commit 3402aa7a53a48e6abc0fb8a2620cd449fd3f75fe)\n'}]",838332,311ac46f3003fc541aef57211efdba0bd3420d6c,10058,Erlon R. Cruz,sombrafam,0,"Adds regression test for bug LP#1944619

Related-bug: #1944619
Closes-bug: #1964472
Change-Id: Ia208ef0dd0bab1c59d025234f4da7537c39cda61
(cherry picked from commit 2ddb8bf53fdf9a17c09afc4987ab6efe8ba97696)
(cherry picked from commit 3402aa7a53a48e6abc0fb8a2620cd449fd3f75fe)
",['nova/tests/functional/regressions/test_bug_1944619.py']
openstack%2Fnova~836016,openstack/nova,stable/wallaby,I784190ac356695dd508e0ad8ec31d8eaa3ebee56,Fix pre_live_migration rollback,ABANDONED,2022-03-31 13:10:17.000000000,2024-03-05 19:06:22.000000000,27,13,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-03-31 17:13:01.000000000', 'date': '2022-03-31 17:13:01.000000000'}, {'rev_nbr': 3, 'author': '2022-04-18 20:59:42.000000000', 'date': '2022-04-18 20:59:42.000000000'}, {'rev_nbr': 3, 'author': '2022-04-18 21:47:12.000000000', 'date': '2022-04-18 21:47:12.000000000'}, {'rev_nbr': 4, 'author': '2022-04-19 15:30:34.000000000', 'date': '2022-04-19 15:30:34.000000000'}, {'rev_nbr': 4, 'author': '2022-05-25 19:09:36.000000000', 'date': '2022-05-25 19:09:36.000000000'}]",3,"[{'number': 6, 'created': '2022-10-21 19:18:38.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1944619.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1944619-fix-live-migration-rollback.yaml', 'nova/compute/manager.py'], 'message': ""Fix pre_live_migration rollback\n\nDuring the pre live migration process, Nova performs most of the\ntasks related to the creation and operation of the VM in the destination\nhost. That is done without interrupting any of the hardware in the source\nhost. If the pre_live_migration fails, those same operations should be\nrolled back.\n\nCurrently nova is sharing the _rollback_live_migration for both\nlive and pre_live migration rollbacks, and that is causing the source\nhost to try to re-attach network interfaces on the source host where\nthey weren't actually de-attached.\n\nThis patch fixes that by adding a conditional to allow nova to do\ndifferent paths for migration and pre_live_migration rollbacks.\n\nCloses-bug: #1944619\nChange-Id: I784190ac356695dd508e0ad8ec31d8eaa3ebee56\n(cherry picked from commit 63ffba7496182f6f6f49a380f3c639fc3ded9772)\n(cherry picked from commit 29b94aa34ad954e617c2a0d6df0809765dced188)\n""}]",836016,9042eb9810487bbdf99b2a287e5b9b39201c87e5,10058,Erlon R. Cruz,sombrafam,0,"Fix pre_live_migration rollback

During the pre live migration process, Nova performs most of the
tasks related to the creation and operation of the VM in the destination
host. That is done without interrupting any of the hardware in the source
host. If the pre_live_migration fails, those same operations should be
rolled back.

Currently nova is sharing the _rollback_live_migration for both
live and pre_live migration rollbacks, and that is causing the source
host to try to re-attach network interfaces on the source host where
they weren't actually de-attached.

This patch fixes that by adding a conditional to allow nova to do
different paths for migration and pre_live_migration rollbacks.

Closes-bug: #1944619
Change-Id: I784190ac356695dd508e0ad8ec31d8eaa3ebee56
(cherry picked from commit 63ffba7496182f6f6f49a380f3c639fc3ded9772)
(cherry picked from commit 29b94aa34ad954e617c2a0d6df0809765dced188)
","['nova/tests/functional/regressions/test_bug_1944619.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1944619-fix-live-migration-rollback.yaml', 'nova/compute/manager.py']"
openstack%2Fnova~867914,openstack/nova,stable/wallaby,Iab92124b5776a799c7f90d07281d28fcf191c8fe,Ironic nodes with instance reserved in placement,ABANDONED,2022-12-15 23:24:13.000000000,2024-03-05 19:06:19.000000000,89,11,"[{'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,15,"[{'number': 4, 'created': '2022-12-16 18:07:46.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/fix-ironic-scheduler-race-08cf8aba0365f512.yaml', 'nova/conf/workarounds.py'], 'message': ""Ironic nodes with instance reserved in placement\n\nCurrently, when you delete an ironic instance, we trigger\nand undeploy in ironic and we release our allocation in placement.\nWe do this well before the ironic node is actually available.\n\nWe have attempted to fix this my marking unavailable nodes\nas reserved in placement. This works great until you try\nand re-image lots of nodes.\n\nIt turns out, ironic nodes that are waiting for their automatic\nclean to finish, are returned as a valid allocation candidates\nfor quite some time. Eventually we mark then as reserved.\n\nThis patch takes a strange approach, if we mark all nodes as\nreserved as soon as the instance lands, we close the race.\nThat is, when the allocation is removed the node is still\nunavailable until the next update of placement is done and\nnotices that the node has become available. That may or may\nnot have been after automatic cleaning. The trade off is\nthat when you don't have automatic cleaning, we wait a bit\nlonger to notice the node is available again.\n\nNote, this is also useful when a broken Ironic node is\nmarked as in-maintainance while it is in-use by a nova\ninstance. In a similar way, we mark the Nova as reserved\nimmmeidately, rather than first waiting for the instance to be\ndeleted before reserving the resources in Placement.\n\nCloses-Bug: #1974070\nChange-Id: Iab92124b5776a799c7f90d07281d28fcf191c8fe\n(cherry picked from commit 3c022e968375c1b2eadf3c2dd7190b9434c6d4c1)\n(cherry picked from commit c9de185ea1ac1e8d4435c5863b2ad7cefdb28c76)\n(cherry picked from commit 7fe4a7ab47086570a027e9c6d6664db8ae2340ab)\n(cherry picked from commit 0fb7da36f17f4aee1b7c139867f8a531be84ec43)\n""}]",867914,e3b95a54fea7d31905dff14b74ef7ed69bc8a857,6618,Ruby Loo,rloo,0,"Ironic nodes with instance reserved in placement

Currently, when you delete an ironic instance, we trigger
and undeploy in ironic and we release our allocation in placement.
We do this well before the ironic node is actually available.

We have attempted to fix this my marking unavailable nodes
as reserved in placement. This works great until you try
and re-image lots of nodes.

It turns out, ironic nodes that are waiting for their automatic
clean to finish, are returned as a valid allocation candidates
for quite some time. Eventually we mark then as reserved.

This patch takes a strange approach, if we mark all nodes as
reserved as soon as the instance lands, we close the race.
That is, when the allocation is removed the node is still
unavailable until the next update of placement is done and
notices that the node has become available. That may or may
not have been after automatic cleaning. The trade off is
that when you don't have automatic cleaning, we wait a bit
longer to notice the node is available again.

Note, this is also useful when a broken Ironic node is
marked as in-maintainance while it is in-use by a nova
instance. In a similar way, we mark the Nova as reserved
immmeidately, rather than first waiting for the instance to be
deleted before reserving the resources in Placement.

Closes-Bug: #1974070
Change-Id: Iab92124b5776a799c7f90d07281d28fcf191c8fe
(cherry picked from commit 3c022e968375c1b2eadf3c2dd7190b9434c6d4c1)
(cherry picked from commit c9de185ea1ac1e8d4435c5863b2ad7cefdb28c76)
(cherry picked from commit 7fe4a7ab47086570a027e9c6d6664db8ae2340ab)
(cherry picked from commit 0fb7da36f17f4aee1b7c139867f8a531be84ec43)
","['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/fix-ironic-scheduler-race-08cf8aba0365f512.yaml', 'nova/conf/workarounds.py']"
openstack%2Fnova~859002,openstack/nova,stable/wallaby,Idb7fcbce0c9562e7b9bd3e80f2a6d4b9bc286830,Avoid n-cond startup abort for keystone failures,ABANDONED,2022-09-22 23:23:39.000000000,2024-03-05 19:06:15.000000000,87,1,"[{'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-09-23 02:41:37.000000000', 'date': '2022-09-23 02:41:37.000000000'}]",1,"[{'number': 1, 'created': '2022-09-22 23:23:39.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/conductor/manager.py'], 'message': 'Avoid n-cond startup abort for keystone failures\n\nConductor creates a placement client for the potential case where\nit needs to make a call for certain operations. A transient network\nor keystone failure will currently cause it to abort startup, which\nmeans it is not available for other unrelated activities, such as\nDB proxying for compute.\n\nThis makes conductor test the placement client on startup, but only\nabort startup on errors that are highly likely to be permanent\nconfiguration errors, and only warn about things like being unable\nto contact keystone/placement during initialization. If a non-fatal\nerror is encountered at startup, later operations needing the\nplacement client will retry initialization.\n\nCloses-Bug: #1846820\nChange-Id: Idb7fcbce0c9562e7b9bd3e80f2a6d4b9bc286830\n(cherry picked from commit 232684b44022f1bc4d72b07045900780de456e63)\n(cherry picked from commit 19346082058d51c78bb157ca5e1304d15691dd9a)\n(cherry picked from commit 6027a097caf51428425dc4616898302460f833a1)\n'}]",859002,b90eaf45d8c948992599ad6f25e7ff8b35cbec04,4690,melanie witt,melwitt,0,"Avoid n-cond startup abort for keystone failures

Conductor creates a placement client for the potential case where
it needs to make a call for certain operations. A transient network
or keystone failure will currently cause it to abort startup, which
means it is not available for other unrelated activities, such as
DB proxying for compute.

This makes conductor test the placement client on startup, but only
abort startup on errors that are highly likely to be permanent
configuration errors, and only warn about things like being unable
to contact keystone/placement during initialization. If a non-fatal
error is encountered at startup, later operations needing the
placement client will retry initialization.

Closes-Bug: #1846820
Change-Id: Idb7fcbce0c9562e7b9bd3e80f2a6d4b9bc286830
(cherry picked from commit 232684b44022f1bc4d72b07045900780de456e63)
(cherry picked from commit 19346082058d51c78bb157ca5e1304d15691dd9a)
(cherry picked from commit 6027a097caf51428425dc4616898302460f833a1)
","['nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/conductor/manager.py']"
openstack%2Fnova~802766,openstack/nova,stable/wallaby,Ibed67854a693c930effd4dba7aca6cd03b65bd92,Add --task-log option to nova-manage db archive_deleted_rows,ABANDONED,2021-07-28 18:00:27.000000000,2024-03-05 19:06:11.000000000,463,47,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 3, 'author': '2022-09-16 22:38:11.000000000', 'date': '2022-09-16 22:38:11.000000000'}]",3,"[{'number': 3, 'created': '2022-09-16 20:06:40.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/db/test_archive.py', 'nova/tests/unit/cmd/test_manage.py', 'releasenotes/notes/archive-task-logs-fa9dd7c5859b5e30.yaml', 'doc/source/cli/nova-manage.rst', 'nova/test.py', 'nova/cmd/manage.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'message': 'Add --task-log option to nova-manage db archive_deleted_rows\n\nNOTE(melwitt): This is a combination of 4 changes to avoid\nnondeterminstic test failure that was introduced by the original bug\nfix and was fixed by changes:\n\n  * I9b16a3a849937aba5b90ed1ab9a80b7f0103f673 (Make\n    test_archive_task_logs deterministic)\n\n  * Ic28d2e53d5f50e89635e19df08699f2b8c5cea84 (Restore original time\n    override in test_archive_task_logs)\n\nIt also contains a followup change to correct the release note in the\noriginal bug fix.\n\nThe task_log table contains instance usage audit records if\nnova-compute has been configured with [DEFAULT]instance_usage_audit =\nTrue. This will be the case if OpenStack Telemetry is being used in the\ndeployment, as the option causes nova to generate audit information\nthat Telemetry then retrieves from the server usage audit log API [1].\n\nHistorically, there has been no way to delete task_log table records\nother than manual database modification. Because of this, task_log\nrecords could pile up over time and operators are forced to perform\nmanual steps to periodically truncate the table.\n\nThis adds a --task-log option to the \'nova-manage db\narchive_deleted_rows\' CLI to also archive task_log records while\narchiving the database. --task-log works in conjunction with --before\nif operators desire archving only records that are older than <date>.\nThe \'updated_at\' field is used by --task-log --before <date> to\ndetermine the age of a task_log record for archival.\n\nConflicts:\n    doc/source/cli/nova-manage.rst\n\nNOTE(melwitt): The conflict is because change\nI84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df (docs: Rewrite \'nova-manage\ndb\' docs to use proper directives) is not in Wallaby.\n\nCloses-Bug: #1877189\n\n[1] https://docs.openstack.org/api-ref/compute/#server-usage-audit-log-os-instance-usage-audit-log\n\nMake test_archive_task_logs deterministic\n\nThe \'nova-manage db archive_deleted_rows --task-log\' functional tests\ninvolve manipulating time to assert archive behaviors when the --before\nflag is also used.\n\nWhile timedelta was used, set_time_override was not, so depending on\nthe date the test ran on + the number of days in the current month and\nnext two months, the test could fail. Task log audit periods are one\ncalendar month by default and the compute manager calls\nlast_completed_audit_period() without specifying a unit.\n\nThis changes the tests to use a time override to ensure predictable\nbehavior with regard to the audit period boundaries. The tests were\nmoved into their own test case classes in order to override the time\nbefore services were started, so that the ""service up"" calculations\nwork as expected.\n\nCloses-Bug: #1934519\n\nChange-Id: I9b16a3a849937aba5b90ed1ab9a80b7f0103f673\n(cherry picked from commit 87dba379aca6ec4613986cfa4e749a3ada2b44d0)\n\nCorrect reno for archiving task_log database records\n\nThe release note incorrectly stated that the Telemetry service calls\nthe /os-instance_usage_audit_log REST API to retrieve instance usage\ndata. Telemetry rather consumes the notifications that are only generated\nwhen [DEFAULT]instance_usage_audit=True.\n\nRelated-Bug: #1877189\n\nChange-Id: Iea358090c42877bedfdcc4a04019f6dc406176c2\n(cherry picked from commit d093849c3c70e46bf409b1051454cbf70bc12a1f)\n\nRestore original time override in test_archive_task_logs\n\nChange I9b16a3a849937aba5b90ed1ab9a80b7f0103f673 attempted to fix a\nnon-determinstic failure in the test_archive_task_logs functional test\nby adding a time override. That fix however missed that the\nosloutils_fixture.TimeFixture clears the time override when it exits\nand that does not mean a previous time override will be restored.\n\nThis removes usage of the osloutils_fixture.TimeFixture and instead\nsets time overrides and restores previous time overrides. Restoration\nof the original time overrides also made an adjustment to the --before\noption value necessary in order to pick up the first task_log record.\n\nCloses-Bug: #1934519\n\nChange-Id: Ic28d2e53d5f50e89635e19df08699f2b8c5cea84\n(cherry picked from commit 39ef1ad774859562183190f74831a115698e6836)\n\nChange-Id: Ibed67854a693c930effd4dba7aca6cd03b65bd92\n(cherry picked from commit bc71331bcaa92718fce06ac3d2ecda6a4c9d2d20)\n'}]",802766,58cda0f1075b6f06aeebfe492ba522e23597fcf2,4690,melanie witt,melwitt,0,"Add --task-log option to nova-manage db archive_deleted_rows

NOTE(melwitt): This is a combination of 4 changes to avoid
nondeterminstic test failure that was introduced by the original bug
fix and was fixed by changes:

  * I9b16a3a849937aba5b90ed1ab9a80b7f0103f673 (Make
    test_archive_task_logs deterministic)

  * Ic28d2e53d5f50e89635e19df08699f2b8c5cea84 (Restore original time
    override in test_archive_task_logs)

It also contains a followup change to correct the release note in the
original bug fix.

The task_log table contains instance usage audit records if
nova-compute has been configured with [DEFAULT]instance_usage_audit =
True. This will be the case if OpenStack Telemetry is being used in the
deployment, as the option causes nova to generate audit information
that Telemetry then retrieves from the server usage audit log API [1].

Historically, there has been no way to delete task_log table records
other than manual database modification. Because of this, task_log
records could pile up over time and operators are forced to perform
manual steps to periodically truncate the table.

This adds a --task-log option to the 'nova-manage db
archive_deleted_rows' CLI to also archive task_log records while
archiving the database. --task-log works in conjunction with --before
if operators desire archving only records that are older than <date>.
The 'updated_at' field is used by --task-log --before <date> to
determine the age of a task_log record for archival.

Conflicts:
    doc/source/cli/nova-manage.rst

NOTE(melwitt): The conflict is because change
I84d54a246fecbd2f7d2950d6c6044f7cd1b8e9df (docs: Rewrite 'nova-manage
db' docs to use proper directives) is not in Wallaby.

Closes-Bug: #1877189

[1] https://docs.openstack.org/api-ref/compute/#server-usage-audit-log-os-instance-usage-audit-log

Make test_archive_task_logs deterministic

The 'nova-manage db archive_deleted_rows --task-log' functional tests
involve manipulating time to assert archive behaviors when the --before
flag is also used.

While timedelta was used, set_time_override was not, so depending on
the date the test ran on + the number of days in the current month and
next two months, the test could fail. Task log audit periods are one
calendar month by default and the compute manager calls
last_completed_audit_period() without specifying a unit.

This changes the tests to use a time override to ensure predictable
behavior with regard to the audit period boundaries. The tests were
moved into their own test case classes in order to override the time
before services were started, so that the ""service up"" calculations
work as expected.

Closes-Bug: #1934519

Change-Id: I9b16a3a849937aba5b90ed1ab9a80b7f0103f673
(cherry picked from commit 87dba379aca6ec4613986cfa4e749a3ada2b44d0)

Correct reno for archiving task_log database records

The release note incorrectly stated that the Telemetry service calls
the /os-instance_usage_audit_log REST API to retrieve instance usage
data. Telemetry rather consumes the notifications that are only generated
when [DEFAULT]instance_usage_audit=True.

Related-Bug: #1877189

Change-Id: Iea358090c42877bedfdcc4a04019f6dc406176c2
(cherry picked from commit d093849c3c70e46bf409b1051454cbf70bc12a1f)

Restore original time override in test_archive_task_logs

Change I9b16a3a849937aba5b90ed1ab9a80b7f0103f673 attempted to fix a
non-determinstic failure in the test_archive_task_logs functional test
by adding a time override. That fix however missed that the
osloutils_fixture.TimeFixture clears the time override when it exits
and that does not mean a previous time override will be restored.

This removes usage of the osloutils_fixture.TimeFixture and instead
sets time overrides and restores previous time overrides. Restoration
of the original time overrides also made an adjustment to the --before
option value necessary in order to pick up the first task_log record.

Closes-Bug: #1934519

Change-Id: Ic28d2e53d5f50e89635e19df08699f2b8c5cea84
(cherry picked from commit 39ef1ad774859562183190f74831a115698e6836)

Change-Id: Ibed67854a693c930effd4dba7aca6cd03b65bd92
(cherry picked from commit bc71331bcaa92718fce06ac3d2ecda6a4c9d2d20)
","['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/db/test_archive.py', 'nova/tests/unit/cmd/test_manage.py', 'releasenotes/notes/archive-task-logs-fa9dd7c5859b5e30.yaml', 'doc/source/cli/nova-manage.rst', 'nova/test.py', 'nova/cmd/manage.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']"
openstack%2Fnova~859001,openstack/nova,stable/wallaby,Iab8a791f64323f996e1d6e6d5a7e7a7c34eb4fb3,Unify placement client singleton implementations,ABANDONED,2022-09-22 23:23:39.000000000,2024-03-05 19:06:07.000000000,113,40,"[{'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-09-23 02:11:15.000000000', 'date': '2022-09-23 02:11:15.000000000'}]",2,"[{'number': 1, 'created': '2022-09-22 23:23:39.000000000', 'files': ['nova/scheduler/manager.py', 'nova/scheduler/client/report.py', 'nova/tests/unit/compute/test_compute.py', 'nova/cmd/manage.py', 'nova/tests/unit/compute/test_api.py', 'nova/test.py', 'nova/conductor/tasks/migrate.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/request_filter.py', 'nova/conductor/manager.py', 'nova/quota.py', 'nova/api/openstack/compute/services.py', 'nova/compute/manager.py', 'nova/compute/api.py', 'nova/compute/resource_tracker.py'], 'message': ""Unify placement client singleton implementations\n\nWe have many places where we implement singleton behavior for the\nplacement client. This unifies them into a single place and\nimplementation. Not only does this DRY things up, but may cause us\nto initialize it fewer times and also allows for emitting a common\nset of error messages about expected failures for better\ntroubleshooting.\n\nConflicts:\n    nova/compute/api.py\n    nova/scheduler/manager.py\n\nNOTE(melwitt): The conflicts are because the following changes are not\nin Wallaby:\n\n  * I216cabcde5311abd46fdad9c95bb72c31b414010\n    (db: Remove'nova.db.base' module)\n\n  * I609df5b707e05ea70c8a738701423ca751682575\n    (scheduler: Merge driver into manager)\n\nChange-Id: Iab8a791f64323f996e1d6e6d5a7e7a7c34eb4fb3\nRelated-Bug: #1846820\n(cherry picked from commit c178d9360665c219cbcc71c9f37b9e6e3055a5e5)\n(cherry picked from commit 77273f067d96a4ec401c3b36f2922d63c4ad7103)\n(cherry picked from commit 87f67df721a4a46bf145f217525cc001582764ca)\n""}]",859001,0046e186cbecb9b4c729e5f90634bc088a721554,4690,melanie witt,melwitt,0,"Unify placement client singleton implementations

We have many places where we implement singleton behavior for the
placement client. This unifies them into a single place and
implementation. Not only does this DRY things up, but may cause us
to initialize it fewer times and also allows for emitting a common
set of error messages about expected failures for better
troubleshooting.

Conflicts:
    nova/compute/api.py
    nova/scheduler/manager.py

NOTE(melwitt): The conflicts are because the following changes are not
in Wallaby:

  * I216cabcde5311abd46fdad9c95bb72c31b414010
    (db: Remove'nova.db.base' module)

  * I609df5b707e05ea70c8a738701423ca751682575
    (scheduler: Merge driver into manager)

Change-Id: Iab8a791f64323f996e1d6e6d5a7e7a7c34eb4fb3
Related-Bug: #1846820
(cherry picked from commit c178d9360665c219cbcc71c9f37b9e6e3055a5e5)
(cherry picked from commit 77273f067d96a4ec401c3b36f2922d63c4ad7103)
(cherry picked from commit 87f67df721a4a46bf145f217525cc001582764ca)
","['nova/scheduler/manager.py', 'nova/scheduler/client/report.py', 'nova/tests/unit/compute/test_compute.py', 'nova/cmd/manage.py', 'nova/tests/unit/compute/test_api.py', 'nova/test.py', 'nova/conductor/tasks/migrate.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/request_filter.py', 'nova/conductor/manager.py', 'nova/quota.py', 'nova/api/openstack/compute/services.py', 'nova/compute/manager.py', 'nova/compute/api.py', 'nova/compute/resource_tracker.py']"
openstack%2Fnova~868012,openstack/nova,stable/wallaby,Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d,Ironic: retry when node not available,ABANDONED,2022-12-16 21:33:30.000000000,2024-03-05 19:06:03.000000000,70,3,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2022-12-16 21:36:13.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/compute/manager.py'], 'message': 'Ironic: retry when node not available\n\nAfter a baremetal instance is deleted, and its allocation is removed\nin placement, the ironic node might start cleaning. Eventually nova\nwill notice and update the inventory to be reserved.\nDuring this window, a new instance may have already picked this\nironic node.\n\nWhen that race happens today the build fails with an error:\n""Failed to reserve node ...""\n\nThis change tries to ensure the remaining alternative hosts are\nattempted before aborting the build.\nClearly the race is still there, but this makes it less painful.\n\nRelated-Bug: #1974070\nChange-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d\n(cherry picked from commit 8a476061c5e034016668cd9e5a20c4430ef6b68d)\n(cherry picked from commit d71e9f6ec4933f9430db55537a36678b16ce895a)\n(cherry picked from commit b881dd25b4abb3c54934d8ebbccb2ac602c83177)\n(cherry picked from commit 8aa6f4f6685279bd314b1b50d614d02188124dd4)\n'}]",868012,3570136e4baf04815007626cbcc23a447429790e,6618,Ruby Loo,rloo,0,"Ironic: retry when node not available

After a baremetal instance is deleted, and its allocation is removed
in placement, the ironic node might start cleaning. Eventually nova
will notice and update the inventory to be reserved.
During this window, a new instance may have already picked this
ironic node.

When that race happens today the build fails with an error:
""Failed to reserve node ...""

This change tries to ensure the remaining alternative hosts are
attempted before aborting the build.
Clearly the race is still there, but this makes it less painful.

Related-Bug: #1974070
Change-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d
(cherry picked from commit 8a476061c5e034016668cd9e5a20c4430ef6b68d)
(cherry picked from commit d71e9f6ec4933f9430db55537a36678b16ce895a)
(cherry picked from commit b881dd25b4abb3c54934d8ebbccb2ac602c83177)
(cherry picked from commit 8aa6f4f6685279bd314b1b50d614d02188124dd4)
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/compute/manager.py']"
openstack%2Fnova~859320,openstack/nova,stable/wallaby,I9367b7ed475917bdb05eb3f209ce1a4e646534e2,Reproduce bug 1981813 in func env,ABANDONED,2022-09-26 16:54:19.000000000,2024-03-05 19:06:00.000000000,80,3,"[{'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2022-10-17 20:36:33.000000000', 'date': '2022-10-17 20:36:33.000000000'}]",2,"[{'number': 4, 'created': '2023-01-25 16:34:58.000000000', 'files': ['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py'], 'message': 'Reproduce bug 1981813 in func env\n\nThere stable/yoga only change in test_pci_sriov_servers.py due to\nunittest.mock switch[1] only happened in zed.\n\n[1] https://review.opendev.org/q/topic:unittest.mock+status:merged+project:openstack/nova\n\nRelated-Bug: #1981813\nChange-Id: I9367b7ed475917bdb05eb3f209ce1a4e646534e2\n(cherry picked from commit f8c91eb75fc5504a37fc3b4be1d65d33dbc9b511)\n(cherry picked from commit 4954f993680c75fd9d3d507f2dcd00300c9b3d44)\n(cherry picked from commit 0c87681135cfb3ce61d2a0392928c1dbc1fe5fde)\n'}]",859320,cb4c2b6c04232901f4c5adae724697fec3aed4e8,9708,Balazs Gibizer,gibi,0,"Reproduce bug 1981813 in func env

There stable/yoga only change in test_pci_sriov_servers.py due to
unittest.mock switch[1] only happened in zed.

[1] https://review.opendev.org/q/topic:unittest.mock+status:merged+project:openstack/nova

Related-Bug: #1981813
Change-Id: I9367b7ed475917bdb05eb3f209ce1a4e646534e2
(cherry picked from commit f8c91eb75fc5504a37fc3b4be1d65d33dbc9b511)
(cherry picked from commit 4954f993680c75fd9d3d507f2dcd00300c9b3d44)
(cherry picked from commit 0c87681135cfb3ce61d2a0392928c1dbc1fe5fde)
","['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py']"
openstack%2Fnova~861832,openstack/nova,stable/wallaby,I03c4db3c36a780aac19841b750ff59acd3572ec6,Fix to implement 'pack' or 'spread' VM's NUMA cells,ABANDONED,2022-10-19 10:53:11.000000000,2024-03-05 19:05:56.000000000,389,17,"[{'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-10-19 11:43:20.000000000', 'date': '2022-10-19 11:43:20.000000000'}, {'rev_nbr': 1, 'author': '2022-10-19 13:20:14.000000000', 'date': '2022-10-19 13:20:14.000000000'}, {'rev_nbr': 2, 'author': '2023-02-08 05:18:46.000000000', 'date': '2023-02-08 05:18:46.000000000'}]",2,"[{'number': 2, 'created': '2023-02-07 17:37:03.000000000', 'files': ['nova/conf/compute.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'releasenotes/notes/extra-sorting-for-host-cells-c03e37de1e57043b.yaml', 'doc/source/admin/cpu-topologies.rst'], 'message': ""Fix to implement 'pack' or 'spread' VM's NUMA cells\n\nCells mean NUMA cells below in text.\n\nBy default, first instance's cell are placed to the host's cell with\nid 0, so it will be exhausted first. Than host's cell with id 1 will\nbe used and exhausted. It will lead to error placing instance with\nnumber of cells in NUMA topology equal to host's cells number if\nsome instances with one cell topology are placed on cell with id 0\nbefore. Fix will perform several sorts to put less used cells at\nthe beginning of host_cells list based on PCI devices, memory and\ncpu usage when packing_host_numa_cells_allocation_strategy is set\nto False (so called 'spread strategy'), or will try to place all\nVM's cell to the same host's cell untill it will be completely\nexhausted and only after will start to use next available host's\ncell (so called 'pack strategy'), when the configuration option\npacking_host_numa_cells_allocation_strategy is set to True.\n\nPartial-Bug: #1940668\nChange-Id: I03c4db3c36a780aac19841b750ff59acd3572ec6\n(cherry picked from commit d13412648d011994a146dac1e7214ead3b82b31b)\n""}]",861832,1fad29725789fe0aaafb2a9d85209ef915b54574,22629,Michal Nasiadka,mnasiadka,0,"Fix to implement 'pack' or 'spread' VM's NUMA cells

Cells mean NUMA cells below in text.

By default, first instance's cell are placed to the host's cell with
id 0, so it will be exhausted first. Than host's cell with id 1 will
be used and exhausted. It will lead to error placing instance with
number of cells in NUMA topology equal to host's cells number if
some instances with one cell topology are placed on cell with id 0
before. Fix will perform several sorts to put less used cells at
the beginning of host_cells list based on PCI devices, memory and
cpu usage when packing_host_numa_cells_allocation_strategy is set
to False (so called 'spread strategy'), or will try to place all
VM's cell to the same host's cell untill it will be completely
exhausted and only after will start to use next available host's
cell (so called 'pack strategy'), when the configuration option
packing_host_numa_cells_allocation_strategy is set to True.

Partial-Bug: #1940668
Change-Id: I03c4db3c36a780aac19841b750ff59acd3572ec6
(cherry picked from commit d13412648d011994a146dac1e7214ead3b82b31b)
","['nova/conf/compute.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'releasenotes/notes/extra-sorting-for-host-cells-c03e37de1e57043b.yaml', 'doc/source/admin/cpu-topologies.rst']"
openstack%2Fnova~836604,openstack/nova,stable/wallaby,Id0539d2ee909d86ffef07ae566697db8ae0f83b4,extend_volume of libvirt/volume/iscsi should not use device_path,ABANDONED,2022-04-05 19:16:49.000000000,2024-03-05 19:05:52.000000000,1,2,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 26286, 'name': 'huanhongda', 'email': 'hongda.xun@easystack.cn', 'username': 'huanhongda'}]","[{'rev_nbr': 1, 'author': '2022-04-05 21:35:32.000000000', 'date': '2022-04-05 21:35:32.000000000'}]",2,"[{'number': 1, 'created': '2022-04-05 19:16:49.000000000', 'files': ['nova/virt/libvirt/volume/iscsi.py'], 'message': ""extend_volume of libvirt/volume/iscsi should not use device_path\n\nThe connection_info['data']['device_path'] field is not always\navailable. In cases that it was not available, it would cause\nthe debug code to raise a KeyError instead of proceeding.\n\nOther similar debug messages in the same file do not include\ndevice_path. As a simple fix, just drop the device_path from\nthe log.\n\nCloses-Bug: #1936439\n\nChange-Id: Id0539d2ee909d86ffef07ae566697db8ae0f83b4\nSigned-off-by: Mark Mielke <mark.mielke@gmail.com>\n(cherry picked from commit ad60f23be3d562422b350aade04aa92ade39fb32)\n""}]",836604,8b82298b03bec3a0d58d62c99116179642f0c18d,8864,Artom Lifshitz,artom,0,"extend_volume of libvirt/volume/iscsi should not use device_path

The connection_info['data']['device_path'] field is not always
available. In cases that it was not available, it would cause
the debug code to raise a KeyError instead of proceeding.

Other similar debug messages in the same file do not include
device_path. As a simple fix, just drop the device_path from
the log.

Closes-Bug: #1936439

Change-Id: Id0539d2ee909d86ffef07ae566697db8ae0f83b4
Signed-off-by: Mark Mielke <mark.mielke@gmail.com>
(cherry picked from commit ad60f23be3d562422b350aade04aa92ade39fb32)
",['nova/virt/libvirt/volume/iscsi.py']
openstack%2Fnova~872402,openstack/nova,stable/wallaby,I8ef9db851b37c5249d2efbe09a15a1ddbae8205d,libvirt: At start-up rework compareCPU() usage with a workaround,ABANDONED,2023-02-01 11:47:30.000000000,2024-03-05 19:05:49.000000000,45,30,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-02-01 19:11:42.000000000', 'date': '2023-02-01 19:11:42.000000000'}, {'rev_nbr': 2, 'author': '2023-02-18 02:22:20.000000000', 'date': '2023-02-18 02:22:20.000000000'}]",0,"[{'number': 2, 'created': '2023-02-17 13:41:16.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': 'libvirt: At start-up rework compareCPU() usage with a workaround\n\nIn this patch:\n\n  - Remove the first compareCPU() call (called via the wrapper\n    _compare_cpu()) in _check_cpu_compatibility(), and let libvirt\n    handle it.  (QEMU >=2.9 and libvirt >= 4.4.0 are the mininum\n    required versions, and upstream Nova satisfies them by a good\n    margin.)\n\n  - Validate the user-configured CPU models from\n    _get_cpu_model_mapping().  And take into account all the CPU flags\n    before calling _compare_cpu().\n\n    (Suggested-by: Sean Mooney -- thanks!)\n\n  - Add a workaround to allow skipping the remaining compareCPU() call\n    in _check_cpu_compatibility() as a potential future-proof (because\n    we cannot test all possible CPU models and hardware).  Unlike the\n    removed first call, this call takes into account the extra CPU flags\n    provided by the user into account when evaluating guest CPU model\n    compatibility.\n\nAs a follow up comes the patch[1] that replaces the older libvirt CPU\nAPI with the newer one.\n\nConflicts (Xena):\n  - Remove mock for _register_all_undefined_instance_details() as it\n    does not exist in Xena release\n\n[1] https://review.opendev.org/c/openstack/nova/+/869950 -- libvirt:\n    Replace usage of compareCPU() with compareHypervisorCPU()\n\nChange-Id: I8ef9db851b37c5249d2efbe09a15a1ddbae8205d\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n(cherry picked from commit 9caaaf1f221063a4329c72c8b67a6015648644a2)\n(cherry picked from commit 7c7c8442d3b02f7bb296b79574610e6b6036aefa)\n(cherry picked from commit 023244c83043b3cb1b1c2725e80b2955498e7971)\n'}]",872402,06c98bdbec975f751c102d6216fe9c52f9310bc1,6962,Kashyap Chamarthy,kashyapc,0,"libvirt: At start-up rework compareCPU() usage with a workaround

In this patch:

  - Remove the first compareCPU() call (called via the wrapper
    _compare_cpu()) in _check_cpu_compatibility(), and let libvirt
    handle it.  (QEMU >=2.9 and libvirt >= 4.4.0 are the mininum
    required versions, and upstream Nova satisfies them by a good
    margin.)

  - Validate the user-configured CPU models from
    _get_cpu_model_mapping().  And take into account all the CPU flags
    before calling _compare_cpu().

    (Suggested-by: Sean Mooney -- thanks!)

  - Add a workaround to allow skipping the remaining compareCPU() call
    in _check_cpu_compatibility() as a potential future-proof (because
    we cannot test all possible CPU models and hardware).  Unlike the
    removed first call, this call takes into account the extra CPU flags
    provided by the user into account when evaluating guest CPU model
    compatibility.

As a follow up comes the patch[1] that replaces the older libvirt CPU
API with the newer one.

Conflicts (Xena):
  - Remove mock for _register_all_undefined_instance_details() as it
    does not exist in Xena release

[1] https://review.opendev.org/c/openstack/nova/+/869950 -- libvirt:
    Replace usage of compareCPU() with compareHypervisorCPU()

Change-Id: I8ef9db851b37c5249d2efbe09a15a1ddbae8205d
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
(cherry picked from commit 9caaaf1f221063a4329c72c8b67a6015648644a2)
(cherry picked from commit 7c7c8442d3b02f7bb296b79574610e6b6036aefa)
(cherry picked from commit 023244c83043b3cb1b1c2725e80b2955498e7971)
","['nova/virt/libvirt/driver.py', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~851206,openstack/nova,stable/wallaby,Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1,Add a workaround to skip hypervisor version check on LM,ABANDONED,2022-07-27 10:36:41.000000000,2024-03-05 19:05:44.000000000,53,2,"[{'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-07-27 12:00:07.000000000', 'date': '2022-07-27 12:00:07.000000000'}, {'rev_nbr': 1, 'author': '2022-07-27 13:48:09.000000000', 'date': '2022-07-27 13:48:09.000000000'}, {'rev_nbr': 2, 'author': '2023-02-01 19:16:11.000000000', 'date': '2023-02-01 19:16:11.000000000'}, {'rev_nbr': 3, 'author': '2023-02-18 18:16:49.000000000', 'date': '2023-02-18 18:16:49.000000000'}]",4,"[{'number': 3, 'created': '2023-02-17 13:41:16.000000000', 'files': ['releasenotes/notes/skip-hypervisor-version-check-on-lm-a87f2dcb4f8bf0f2.yaml', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/workarounds.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'message': ""Add a workaround to skip hypervisor version check on LM\n\nWhen turned on, this will disable the version-checking of hypervisors\nduring live-migration.  This can be useful for operators in certain\nscenarios when upgrading.  E.g. if you want to relocate all instances\noff a compute node due to an emergency hardware issue, and you only have\nanother old compute node ready at the time.\n\nNote, though: libvirt will do its own internal compatibility checks, and\nmight still reject live migration if the destination is incompatible.\n\nConflicts: nova/conf/workarounds.py\n - The other config 'skip_cpu_compare_on_dest' was not backported to\n   'stable/yoga' branch\n\nConflicts (stable/xena): nova/conf/workarounds.py\n - The config attribute 'unified_limits_count_pcpu_as_vcpu' is not\n   present in 'stable/xena'\n\nCloses-Bug: #1982853\n\nChange-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n(cherry picked from commit 5032cb62e6458282e1282ac64cf7dd49a2497ac1)\n(cherry picked from commit 0e3b4424b7f587e3e274a5ef81ac35cfd14f0c96)\n(cherry picked from commit 21f92d4b576fc2c309713c369041dd434d605cc6)\n""}]",851206,bc1d2865df042b58680994b0c522b678f2399cf8,6962,Kashyap Chamarthy,kashyapc,0,"Add a workaround to skip hypervisor version check on LM

When turned on, this will disable the version-checking of hypervisors
during live-migration.  This can be useful for operators in certain
scenarios when upgrading.  E.g. if you want to relocate all instances
off a compute node due to an emergency hardware issue, and you only have
another old compute node ready at the time.

Note, though: libvirt will do its own internal compatibility checks, and
might still reject live migration if the destination is incompatible.

Conflicts: nova/conf/workarounds.py
 - The other config 'skip_cpu_compare_on_dest' was not backported to
   'stable/yoga' branch

Conflicts (stable/xena): nova/conf/workarounds.py
 - The config attribute 'unified_limits_count_pcpu_as_vcpu' is not
   present in 'stable/xena'

Closes-Bug: #1982853

Change-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
(cherry picked from commit 5032cb62e6458282e1282ac64cf7dd49a2497ac1)
(cherry picked from commit 0e3b4424b7f587e3e274a5ef81ac35cfd14f0c96)
(cherry picked from commit 21f92d4b576fc2c309713c369041dd434d605cc6)
","['releasenotes/notes/skip-hypervisor-version-check-on-lm-a87f2dcb4f8bf0f2.yaml', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/workarounds.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']"
openstack%2Fnova~877284,openstack/nova,stable/wallaby,I4d6dfca1efe10caebb017b6ec96820979018203f,Nova resize don't extend disk in one specific case,ABANDONED,2023-03-13 13:50:41.000000000,2024-03-05 19:05:41.000000000,70,3,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 33607, 'name': 'Pierre Libeau', 'email': 'pierre.libeau@corp.ovh.com', 'username': 'plibeau'}]","[{'rev_nbr': 1, 'author': '2023-03-13 16:13:47.000000000', 'date': '2023-03-13 16:13:47.000000000'}]",0,"[{'number': 1, 'created': '2023-03-13 13:50:41.000000000', 'files': ['nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': ""Nova resize don't extend disk in one specific case\n\nNova resize not apply extend virtual size of the instance if the image\nis not accessible by the customer (public image use to build the\ninstance is now private image because this image is deprecated) and the\nsource compute of the resize don't have anymore the base image.\n\nRelated-Bug: #1558880\nChange-Id: I4d6dfca1efe10caebb017b6ec96820979018203f\n(cherry picked from commit f7af85dd7431eea61cdd2b1723a5dbcc3d9471ed)\n(cherry picked from commit 122b407ee6e41bd123eb401e167957bfbeeab521)\n""}]",877284,5041e9a8d7ae86abc19c070f6a9bd61587ae5c94,11604,sean mooney,sean-k-mooney,0,"Nova resize don't extend disk in one specific case

Nova resize not apply extend virtual size of the instance if the image
is not accessible by the customer (public image use to build the
instance is now private image because this image is deprecated) and the
source compute of the resize don't have anymore the base image.

Related-Bug: #1558880
Change-Id: I4d6dfca1efe10caebb017b6ec96820979018203f
(cherry picked from commit f7af85dd7431eea61cdd2b1723a5dbcc3d9471ed)
(cherry picked from commit 122b407ee6e41bd123eb401e167957bfbeeab521)
","['nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~860735,openstack/nova,stable/wallaby,I77fdfa9cffbd44b2889f49f266b2582bcc6a4267,"Handle ""no RAM info was set"" migration case",ABANDONED,2022-10-07 18:46:07.000000000,2024-03-05 19:05:37.000000000,40,0,"[{'_account_id': 7634, 'name': 'Takashi Natsume', 'email': 'takanattie@gmail.com', 'username': 'natsumet'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-01-17 14:56:02.000000000', 'date': '2023-01-17 14:56:02.000000000'}, {'rev_nbr': 1, 'author': '2023-03-18 09:19:38.000000000', 'date': '2023-03-18 09:19:38.000000000'}]",3,"[{'number': 1, 'created': '2022-10-07 18:46:07.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'releasenotes/notes/bug-1982284-libvirt-handle-no-ram-info-was-set-99784934ed80fd72.yaml'], 'message': 'Handle ""no RAM info was set"" migration case\n\nThis handles the case where the live migration monitoring thread may\nrace and call jobStats() after the migration has completed resulting in\nthe following error:\n\n    libvirt.libvirtError: internal error: migration was active, but no\n    RAM info was set\n\nCloses-Bug: #1982284\nChange-Id: I77fdfa9cffbd44b2889f49f266b2582bcc6a4267\n(cherry picked from commit 9fea934c71d3c2fa7fdd80c67d94e18466c5cf9a)\n(cherry picked from commit 00396fa9396324780c09161ed57a86b7e458c26f)\n(cherry picked from commit 4316234e63b76e4f9877ec6e924b5c54ea761bbb)\n(cherry picked from commit 98d9936e54b900db1bd2d5477a9a1d7e5a7be104)\n'}]",860735,6d68aee626875a165667e04c4ccc54ff3073e4ff,4690,melanie witt,melwitt,0,"Handle ""no RAM info was set"" migration case

This handles the case where the live migration monitoring thread may
race and call jobStats() after the migration has completed resulting in
the following error:

    libvirt.libvirtError: internal error: migration was active, but no
    RAM info was set

Closes-Bug: #1982284
Change-Id: I77fdfa9cffbd44b2889f49f266b2582bcc6a4267
(cherry picked from commit 9fea934c71d3c2fa7fdd80c67d94e18466c5cf9a)
(cherry picked from commit 00396fa9396324780c09161ed57a86b7e458c26f)
(cherry picked from commit 4316234e63b76e4f9877ec6e924b5c54ea761bbb)
(cherry picked from commit 98d9936e54b900db1bd2d5477a9a1d7e5a7be104)
","['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'releasenotes/notes/bug-1982284-libvirt-handle-no-ram-info-was-set-99784934ed80fd72.yaml']"
openstack%2Fnova~859321,openstack/nova,stable/wallaby,I1719f8eda04e8d15a3b01f0612977164c4e55e85,Gracefully ERROR in _init_instance if vnic_type changed,ABANDONED,2022-09-26 16:54:19.000000000,2024-03-05 19:05:33.000000000,252,7,"[{'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 7634, 'name': 'Takashi Natsume', 'email': 'takanattie@gmail.com', 'username': 'natsumet'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-09-26 19:51:46.000000000', 'date': '2022-09-26 19:51:46.000000000'}, {'rev_nbr': 2, 'author': '2022-10-17 17:27:08.000000000', 'date': '2022-10-17 17:27:08.000000000'}, {'rev_nbr': 2, 'author': '2022-10-17 20:32:05.000000000', 'date': '2022-10-17 20:32:05.000000000'}, {'rev_nbr': 4, 'author': '2023-01-26 10:21:14.000000000', 'date': '2023-01-26 10:21:14.000000000'}, {'rev_nbr': 4, 'author': '2023-02-07 17:11:53.000000000', 'date': '2023-02-07 17:11:53.000000000'}, {'rev_nbr': 4, 'author': '2023-03-18 05:02:12.000000000', 'date': '2023-03-18 05:02:12.000000000'}, {'rev_nbr': 4, 'author': '2023-03-20 09:38:10.000000000', 'date': '2023-03-20 09:38:10.000000000'}]",7,"[{'number': 4, 'created': '2023-01-25 16:34:58.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py', 'releasenotes/notes/bug-1981813-vnic-type-change-9f3e16fae885b57f.yaml', 'nova/compute/manager.py'], 'message': 'Gracefully ERROR in _init_instance if vnic_type changed\n\nIf the vnic_type of a bound port changes from ""direct"" to ""macvtap"" and\nthen the compute service is restarted then during _init_instance nova\ntries to plug the vif of the changed port. However as it now has macvtap\nvnic_type nova tries to look up the netdev of the parent VF. Still that\nVF is consumed by the instance so there is no such netdev on the host\nOS. This error killed the compute service at startup due to unhandled\nexception. This patch adds the exception handler, logs an ERROR and\ncontinue initializing other instances on the host.\n\nAlso this patch adds a detailed ERROR log when nova detects that the\nvnic_type changed during _heal_instance_info_cache periodic.\n\nCloses-Bug: #1981813\nChange-Id: I1719f8eda04e8d15a3b01f0612977164c4e55e85\n(cherry picked from commit e43bf900dc8ca66578603bed333c56b215b1876e)\n(cherry picked from commit a28c82719545d5c8ee7f3ff1361b3a796e05095a)\n(cherry picked from commit 1a98a1a650d065a8ab3e1c474f3b9fd537dc2206)\n'}]",859321,e5838298e7189f01a1eb99e90a9b4da6e1925c36,9708,Balazs Gibizer,gibi,0,"Gracefully ERROR in _init_instance if vnic_type changed

If the vnic_type of a bound port changes from ""direct"" to ""macvtap"" and
then the compute service is restarted then during _init_instance nova
tries to plug the vif of the changed port. However as it now has macvtap
vnic_type nova tries to look up the netdev of the parent VF. Still that
VF is consumed by the instance so there is no such netdev on the host
OS. This error killed the compute service at startup due to unhandled
exception. This patch adds the exception handler, logs an ERROR and
continue initializing other instances on the host.

Also this patch adds a detailed ERROR log when nova detects that the
vnic_type changed during _heal_instance_info_cache periodic.

Closes-Bug: #1981813
Change-Id: I1719f8eda04e8d15a3b01f0612977164c4e55e85
(cherry picked from commit e43bf900dc8ca66578603bed333c56b215b1876e)
(cherry picked from commit a28c82719545d5c8ee7f3ff1361b3a796e05095a)
(cherry picked from commit 1a98a1a650d065a8ab3e1c474f3b9fd537dc2206)
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py', 'releasenotes/notes/bug-1981813-vnic-type-change-9f3e16fae885b57f.yaml', 'nova/compute/manager.py']"
openstack%2Fnova~882536,openstack/nova,stable/wallaby,I52ee068377cc48ef4b4cdcb4b05fdc8d926faddf,Reproduce asym NUMA mixed CPU policy bug,ABANDONED,2023-05-08 09:01:39.000000000,2024-03-05 19:05:29.000000000,74,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-05-08 09:01:39.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'message': 'Reproduce asym NUMA mixed CPU policy bug\n\nRelated-Bug: #1994526\nChange-Id: I52ee068377cc48ef4b4cdcb4b05fdc8d926faddf\n(cherry picked from commit 182c5be122868d4fe910309a868b044b0e71316b)\n(cherry picked from commit 2cf835be82e11505ae8609deba83d61a34ecaa8d)\n(cherry picked from commit 4fd163f698cc4991f731adc06f3e8601f9fbdce9)\n(cherry picked from commit a00f00a32af4072b37319fe82d36dbff7e59b355)\n(cherry picked from commit b4d111eabf13bce571cb15be5d2e772ff88ee69e)\n'}]",882536,89fc59ac9d270add8fec8f226f2c1875bf42b3c9,9708,Balazs Gibizer,gibi,0,"Reproduce asym NUMA mixed CPU policy bug

Related-Bug: #1994526
Change-Id: I52ee068377cc48ef4b4cdcb4b05fdc8d926faddf
(cherry picked from commit 182c5be122868d4fe910309a868b044b0e71316b)
(cherry picked from commit 2cf835be82e11505ae8609deba83d61a34ecaa8d)
(cherry picked from commit 4fd163f698cc4991f731adc06f3e8601f9fbdce9)
(cherry picked from commit a00f00a32af4072b37319fe82d36dbff7e59b355)
(cherry picked from commit b4d111eabf13bce571cb15be5d2e772ff88ee69e)
",['nova/tests/functional/libvirt/test_numa_servers.py']
openstack%2Fnova~882537,openstack/nova,stable/wallaby,I5a35a45abfcfbbb858a94927853777f112e73e5b,Handle zero pinned CPU in a cell with mixed policy,ABANDONED,2023-05-08 09:01:39.000000000,2024-03-05 19:05:26.000000000,25,27,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-05-08 18:20:16.000000000', 'date': '2023-05-08 18:20:16.000000000'}]",1,"[{'number': 1, 'created': '2023-05-08 09:01:39.000000000', 'files': ['nova/virt/hardware.py', 'nova/tests/functional/libvirt/test_numa_servers.py'], 'message': 'Handle zero pinned CPU in a cell with mixed policy\n\nWhen cpu_policy is mixed the scheduler tries to find a valid CPU pinning\nfor each instance NUMA cell. However if there is an instance NUMA cell\nthat does not request any pinned CPUs then such logic will calculate\nempty pinning information for that cell. Then the scheduler logic\nwrongly assumes that an empty pinning result means there was no valid\npinning. However there is difference between a None result when no valid\npinning found, from an empty result [] which means there was nothing to\npin.\n\nThis patch makes sure that pinning == None is differentiated from\npinning == [].\n\nCloses-Bug: #1994526\nChange-Id: I5a35a45abfcfbbb858a94927853777f112e73e5b\n(cherry picked from commit cffe3971ce585a1ddc374a3ed067347857338831)\n(cherry picked from commit fa2ba3ab2c566337f5ad6ebd8fbcecc6aa930a40)\n(cherry picked from commit 9d11b6ae82b9dc709f3b856e50587d9713a70495)\n(cherry picked from commit c4e10fd7c1e928e94441b827504f49e94ad53676)\n(cherry picked from commit 201435b1595914e44dd9f24fa345f1a15775c83d)\n'}]",882537,7eb06119ad2417d55c86a0eaa67d4d7772d6becd,9708,Balazs Gibizer,gibi,0,"Handle zero pinned CPU in a cell with mixed policy

When cpu_policy is mixed the scheduler tries to find a valid CPU pinning
for each instance NUMA cell. However if there is an instance NUMA cell
that does not request any pinned CPUs then such logic will calculate
empty pinning information for that cell. Then the scheduler logic
wrongly assumes that an empty pinning result means there was no valid
pinning. However there is difference between a None result when no valid
pinning found, from an empty result [] which means there was nothing to
pin.

This patch makes sure that pinning == None is differentiated from
pinning == [].

Closes-Bug: #1994526
Change-Id: I5a35a45abfcfbbb858a94927853777f112e73e5b
(cherry picked from commit cffe3971ce585a1ddc374a3ed067347857338831)
(cherry picked from commit fa2ba3ab2c566337f5ad6ebd8fbcecc6aa930a40)
(cherry picked from commit 9d11b6ae82b9dc709f3b856e50587d9713a70495)
(cherry picked from commit c4e10fd7c1e928e94441b827504f49e94ad53676)
(cherry picked from commit 201435b1595914e44dd9f24fa345f1a15775c83d)
","['nova/virt/hardware.py', 'nova/tests/functional/libvirt/test_numa_servers.py']"
openstack%2Fnova~882321,openstack/nova,stable/wallaby,I63f4e3dfa38f65b73d0051b8e52b1abd0f027e9b,Reproduce bug 1995153,ABANDONED,2023-05-04 14:21:05.000000000,2024-03-05 19:05:16.000000000,109,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 4, 'created': '2023-05-26 16:10:03.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1995153.py'], 'message': 'Reproduce bug 1995153\n\nIf we first boot an instance with NUMA topology on a host, any\nsubsequent attempts to boot instances with the `socket` PCI NUMA\npolicy will fail with `Cannot load \'socket\' in the base class`.\nDemonstrate this in a functional test.\n\nNOTE(artom) In wallaby fakelibvirt lives in\nnova.tests.unit.virt.libvirt, fix the import path.\n\nNOTE(artom) In wallaby the ""path"" to the scheduler host_manager is\nscheduler.manager.driver.host_manager, this had to be changed from the\noriginal scheduler.manager.host_manager.\n\nChange-Id: I63f4e3dfa38f65b73d0051b8e52b1abd0f027e9b\nRelated-bug: 1995153\n(cherry picked from commit 63d6ecd99b7dec06cf0cf8358b43b0d8fa607504)\n(cherry picked from commit 29e3f2f2ab69157d938cfe6895df352ef9a08d8c)\n(cherry picked from commit d9dfd0e0445ae82933eb75a38127186659041673)\n(cherry picked from commit 8d717df2e7b26d7cf6e393089e989ce81fd5a209)\n(cherry picked from commit ff903d6a75cf2ad80621ed6f584630e36fa4ad86)\n'}]",882321,5bf3cc3e5968b780951d1e81982dcca50f509e1a,8864,Artom Lifshitz,artom,0,"Reproduce bug 1995153

If we first boot an instance with NUMA topology on a host, any
subsequent attempts to boot instances with the `socket` PCI NUMA
policy will fail with `Cannot load 'socket' in the base class`.
Demonstrate this in a functional test.

NOTE(artom) In wallaby fakelibvirt lives in
nova.tests.unit.virt.libvirt, fix the import path.

NOTE(artom) In wallaby the ""path"" to the scheduler host_manager is
scheduler.manager.driver.host_manager, this had to be changed from the
original scheduler.manager.host_manager.

Change-Id: I63f4e3dfa38f65b73d0051b8e52b1abd0f027e9b
Related-bug: 1995153
(cherry picked from commit 63d6ecd99b7dec06cf0cf8358b43b0d8fa607504)
(cherry picked from commit 29e3f2f2ab69157d938cfe6895df352ef9a08d8c)
(cherry picked from commit d9dfd0e0445ae82933eb75a38127186659041673)
(cherry picked from commit 8d717df2e7b26d7cf6e393089e989ce81fd5a209)
(cherry picked from commit ff903d6a75cf2ad80621ed6f584630e36fa4ad86)
",['nova/tests/functional/regressions/test_bug_1995153.py']
openstack%2Fnova~882322,openstack/nova,stable/wallaby,I9ed3c31ccd3220b02d951fc6dbc5ea049a240a68,Save cell socket correctly when updating host NUMA topology,ABANDONED,2023-05-04 14:21:05.000000000,2024-03-05 19:05:12.000000000,53,19,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 3, 'author': '2023-05-07 02:09:31.000000000', 'date': '2023-05-07 02:09:31.000000000'}]",0,"[{'number': 4, 'created': '2023-05-26 16:10:03.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1995153.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/scheduler/fakes.py'], 'message': 'Save cell socket correctly when updating host NUMA topology\n\nPreviously, in numa_usage_from_instance_numa(), any new NUMACell\nobjects we created did not have the `socket` attribute. In some cases\nthis was persisted all the way down to the database. Fix this by\ncopying `socket` from the old_cell.\n\nChange-Id: I9ed3c31ccd3220b02d951fc6dbc5ea049a240a68\nCloses-Bug: 1995153\n(cherry picked from commit 04ebae9dc01ebd24552b5aacd1a0f8b129013a9e)\n(cherry picked from commit acb511652c1afb8253c66c29ca10f790f035229e)\n(cherry picked from commit 693318573cb7bbbcf074c3cc01339f07fe04ff24)\n(cherry picked from commit f7b2577620cfbbaf02a483a2f19a4bac35d4fa6b)\n(cherry picked from commit 72ea89b4836ff218060c780af561f260588d48fb)\n'}]",882322,99962e5ba4cc647e46b13958f1ffa62dff33eba8,8864,Artom Lifshitz,artom,0,"Save cell socket correctly when updating host NUMA topology

Previously, in numa_usage_from_instance_numa(), any new NUMACell
objects we created did not have the `socket` attribute. In some cases
this was persisted all the way down to the database. Fix this by
copying `socket` from the old_cell.

Change-Id: I9ed3c31ccd3220b02d951fc6dbc5ea049a240a68
Closes-Bug: 1995153
(cherry picked from commit 04ebae9dc01ebd24552b5aacd1a0f8b129013a9e)
(cherry picked from commit acb511652c1afb8253c66c29ca10f790f035229e)
(cherry picked from commit 693318573cb7bbbcf074c3cc01339f07fe04ff24)
(cherry picked from commit f7b2577620cfbbaf02a483a2f19a4bac35d4fa6b)
(cherry picked from commit 72ea89b4836ff218060c780af561f260588d48fb)
","['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1995153.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/scheduler/fakes.py']"
openstack%2Fnova~829434,openstack/nova,stable/wallaby,I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527,Gracefull recovery when attaching volume fails,ABANDONED,2022-02-16 08:57:39.000000000,2024-03-05 19:05:09.000000000,56,4,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 7634, 'name': 'Takashi Natsume', 'email': 'takanattie@gmail.com', 'username': 'natsumet'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-02-16 11:25:52.000000000', 'date': '2022-02-16 11:25:52.000000000'}, {'rev_nbr': 1, 'author': '2022-02-17 10:22:16.000000000', 'date': '2022-02-17 10:22:16.000000000'}, {'rev_nbr': 2, 'author': '2022-08-02 13:35:27.000000000', 'date': '2022-08-02 13:35:27.000000000'}]",16,"[{'number': 2, 'created': '2022-08-02 11:36:52.000000000', 'files': ['releasenotes/notes/bug-1960401-504eb255253d966a.yaml', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'message': 'Gracefull recovery when attaching volume fails\n\nWhen trying to attach a volume to an already running instance the nova-api\nrequests the nova-compute service to create a BlockDeviceMapping. If the\nnova-api does not receive a response within `rpc_response_timeout` it will\ntreat the request as failed and raise an exception.\n\nThere are multiple cases where nova-compute actually already processed the\nrequest and just the reply did not reach the nova-api in time (see bug report).\nAfter the failed request the database will contain a BlockDeviceMapping entry\nfor the volume + instance combination that will never be cleaned up again.\nThis entry also causes the nova-api to reject all future attachments of this\nvolume to this instance (as it assumes it is already attached).\n\nTo work around this we check if a BlockDeviceMapping has already been created\nwhen we see a messaging timeout. If this is the case we can safely delete it\nas the compute node has already finished processing and we will no longer pick\nit up.\nThis allows users to try the request again.\n\nA previous fix was abandoned but without a clear reason ([1]).\n\n[1]: https://review.opendev.org/c/openstack/nova/+/731804\n\nCloses-Bug: 1960401\nChange-Id: I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527\n(cherry picked from commit 9eb116b99ce32bc69c4abf8ec3b0179ef89a8860)\n(cherry picked from commit a46fc40aa4edde4d426c95999bdac1c315d0276d)\n'}]",829434,f50ae3c614dbe04efbdbbdaead099982d1175169,29074,Felix Huettner,felix.huettner,0,"Gracefull recovery when attaching volume fails

When trying to attach a volume to an already running instance the nova-api
requests the nova-compute service to create a BlockDeviceMapping. If the
nova-api does not receive a response within `rpc_response_timeout` it will
treat the request as failed and raise an exception.

There are multiple cases where nova-compute actually already processed the
request and just the reply did not reach the nova-api in time (see bug report).
After the failed request the database will contain a BlockDeviceMapping entry
for the volume + instance combination that will never be cleaned up again.
This entry also causes the nova-api to reject all future attachments of this
volume to this instance (as it assumes it is already attached).

To work around this we check if a BlockDeviceMapping has already been created
when we see a messaging timeout. If this is the case we can safely delete it
as the compute node has already finished processing and we will no longer pick
it up.
This allows users to try the request again.

A previous fix was abandoned but without a clear reason ([1]).

[1]: https://review.opendev.org/c/openstack/nova/+/731804

Closes-Bug: 1960401
Change-Id: I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527
(cherry picked from commit 9eb116b99ce32bc69c4abf8ec3b0179ef89a8860)
(cherry picked from commit a46fc40aa4edde4d426c95999bdac1c315d0276d)
","['releasenotes/notes/bug-1960401-504eb255253d966a.yaml', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']"
openstack%2Fnova~887987,openstack/nova,stable/wallaby,If39f6afb6359c67aa38cf315ec90ffa386d5c142,testing: Fix and robustify archive_deleted_rows test,ABANDONED,2023-07-07 18:42:00.000000000,2024-03-05 19:05:05.000000000,54,40,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-07-07 18:42:00.000000000', 'files': ['nova/tests/functional/test_nova_manage.py'], 'message': 'testing: Fix and robustify archive_deleted_rows test\n\nThe regexes in test_archive_deleted_rows for multiple cells were\nincorrect in that they were not isolating the search pattern and rather\ncould match with other rows in the result table as well, resulting in a\nfalse positive.\n\nThis fixes the regexes and also adds one more server to the test\nscenario in order to make sure archive_deleted_rows iterates at least\nonce to expose bugs that may be present in its internal iteration.\n\nThis patch is in preparation for a future patch that will change the\nlogic in archive_deleted_rows. Making this test more robust will more\nthoroughly test for regression.\n\nConflicts:\n    nova/tests/functional/test_nova_manage.py\n\nNOTE(melwitt): The conflict is because change\nIbed67854a693c930effd4dba7aca6cd03b65bd92 (Add --task-log option to\nnova-manage db archive_deleted_rows) is not in Wallaby.\n\nChange-Id: If39f6afb6359c67aa38cf315ec90ffa386d5c142\n(cherry picked from commit f6620d48c86fb1c5034c09da6411ea46b4d9c2ed)\n(cherry picked from commit 8823da84e9d07309b860c3ce3ad4c9ebd3652f86)\n(cherry picked from commit ecfa7c405710451247018f189416ada7bba6fd36)\n(cherry picked from commit 956208d879ef2d49ac5a6f6c2067ff299114d193)\n(cherry picked from commit 600dba5571e830c1e274e391fe86d498efcd7e53)\n'}]",887987,7287070758e7f99c35eb4827b5552df784084a09,4690,melanie witt,melwitt,0,"testing: Fix and robustify archive_deleted_rows test

The regexes in test_archive_deleted_rows for multiple cells were
incorrect in that they were not isolating the search pattern and rather
could match with other rows in the result table as well, resulting in a
false positive.

This fixes the regexes and also adds one more server to the test
scenario in order to make sure archive_deleted_rows iterates at least
once to expose bugs that may be present in its internal iteration.

This patch is in preparation for a future patch that will change the
logic in archive_deleted_rows. Making this test more robust will more
thoroughly test for regression.

Conflicts:
    nova/tests/functional/test_nova_manage.py

NOTE(melwitt): The conflict is because change
Ibed67854a693c930effd4dba7aca6cd03b65bd92 (Add --task-log option to
nova-manage db archive_deleted_rows) is not in Wallaby.

Change-Id: If39f6afb6359c67aa38cf315ec90ffa386d5c142
(cherry picked from commit f6620d48c86fb1c5034c09da6411ea46b4d9c2ed)
(cherry picked from commit 8823da84e9d07309b860c3ce3ad4c9ebd3652f86)
(cherry picked from commit ecfa7c405710451247018f189416ada7bba6fd36)
(cherry picked from commit 956208d879ef2d49ac5a6f6c2067ff299114d193)
(cherry picked from commit 600dba5571e830c1e274e391fe86d498efcd7e53)
",['nova/tests/functional/test_nova_manage.py']
openstack%2Fnova~887988,openstack/nova,stable/wallaby,I2209bf1b3320901cf603ec39163cf923b25b0359,"database: Archive parent and child rows ""trees"" one at a time",ABANDONED,2023-07-07 18:42:00.000000000,2024-03-05 19:05:02.000000000,200,43,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-07-07 20:49:02.000000000', 'files': ['nova/tests/functional/db/test_archive.py', 'releasenotes/notes/db-archive-performance-degradation-3fdabc43398149b1.yaml', 'nova/tests/unit/cmd/test_manage.py', 'nova/cmd/manage.py', 'nova/db/sqlalchemy/api.py'], 'message': 'database: Archive parent and child rows ""trees"" one at a time\n\nPreviously, we archived deleted rows in batches of max_rows parents +\ntheir child rows in a single database transaction. Doing it that way\nlimited how high a value of max_rows could be specified by the caller\nbecause of the size of the database transaction it could generate.\n\nFor example, in a large scale deployment with hundreds of thousands of\ndeleted rows and constant server creation and deletion activity, a\nvalue of max_rows=1000 might exceed the database\'s configured maximum\npacket size or timeout due to a database deadlock, forcing the operator\nto use a much lower max_rows value like 100 or 50.\n\nAnd when the operator has e.g. 500,000 deleted instances rows (and\nmillions of deleted rows total) they are trying to archive, being\nforced to use a max_rows value several orders of magnitude lower than\nthe number of rows they need to archive was a poor user experience.\n\nThis changes the logic to archive one parent row and its foreign key\nrelated child rows one at a time in a single database transaction\nwhile limiting the total number of rows per table as soon as it reaches\n>= max_rows. Doing this will allow operators to choose more predictable\nvalues for max_rows and get more progress per invocation of\narchive_deleted_rows.\n\nConflicts:\n    nova/cmd/manage.py\n\nNOTE(melwitt): The conflict is because change\nIbed67854a693c930effd4dba7aca6cd03b65bd92 (Add --task-log option to\nnova-manage db archive_deleted_rows) is not in Wallaby.\n\nCloses-Bug: #2024258\n\nChange-Id: I2209bf1b3320901cf603ec39163cf923b25b0359\n(cherry picked from commit 697fa3c000696da559e52b664c04cbd8d261c037)\n(cherry picked from commit 75e4c86d90ae0229069fc2eb06bfb41436be7319)\n(cherry picked from commit 6972efdaa94d05952eb5b90e456b566c4c73360c)\n(cherry picked from commit b555279add583e6b0cee1bddb8d5642c68ad84a6)\n(cherry picked from commit 4dc6ec9dccba2695536cb3cbd5534e64003904c9)\n'}]",887988,2d073fdd935d3df6511c16b0203dcc7933e68a89,4690,melanie witt,melwitt,0,"database: Archive parent and child rows ""trees"" one at a time

Previously, we archived deleted rows in batches of max_rows parents +
their child rows in a single database transaction. Doing it that way
limited how high a value of max_rows could be specified by the caller
because of the size of the database transaction it could generate.

For example, in a large scale deployment with hundreds of thousands of
deleted rows and constant server creation and deletion activity, a
value of max_rows=1000 might exceed the database's configured maximum
packet size or timeout due to a database deadlock, forcing the operator
to use a much lower max_rows value like 100 or 50.

And when the operator has e.g. 500,000 deleted instances rows (and
millions of deleted rows total) they are trying to archive, being
forced to use a max_rows value several orders of magnitude lower than
the number of rows they need to archive was a poor user experience.

This changes the logic to archive one parent row and its foreign key
related child rows one at a time in a single database transaction
while limiting the total number of rows per table as soon as it reaches
>= max_rows. Doing this will allow operators to choose more predictable
values for max_rows and get more progress per invocation of
archive_deleted_rows.

Conflicts:
    nova/cmd/manage.py

NOTE(melwitt): The conflict is because change
Ibed67854a693c930effd4dba7aca6cd03b65bd92 (Add --task-log option to
nova-manage db archive_deleted_rows) is not in Wallaby.

Closes-Bug: #2024258

Change-Id: I2209bf1b3320901cf603ec39163cf923b25b0359
(cherry picked from commit 697fa3c000696da559e52b664c04cbd8d261c037)
(cherry picked from commit 75e4c86d90ae0229069fc2eb06bfb41436be7319)
(cherry picked from commit 6972efdaa94d05952eb5b90e456b566c4c73360c)
(cherry picked from commit b555279add583e6b0cee1bddb8d5642c68ad84a6)
(cherry picked from commit 4dc6ec9dccba2695536cb3cbd5534e64003904c9)
","['nova/tests/functional/db/test_archive.py', 'releasenotes/notes/db-archive-performance-degradation-3fdabc43398149b1.yaml', 'nova/tests/unit/cmd/test_manage.py', 'nova/cmd/manage.py', 'nova/db/sqlalchemy/api.py']"
openstack%2Fnova~888103,openstack/nova,stable/wallaby,Icc9b6366aebba2f8468e2127da7b7e099098513a,Reproducer for bug 2003991 unshelving offloaded instance,ABANDONED,2023-07-11 02:58:51.000000000,2024-03-05 19:04:58.000000000,84,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-07-11 02:58:51.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'message': 'Reproducer for bug 2003991 unshelving offloaded instance\n\nThis adds test coverage for:\n\n  * Shelve/unshelve offloaded with legacy quota usage\n  * Shelve/unshelve offloaded with quota usage from placement\n  * Shelve/unshelve with legacy quota usage\n  * Shelve/unshelve with quota usage from placement\n\nRelated-Bug: #2003991\n\nChange-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a\n(cherry picked from commit 427b2cb4d61cdfaf18b2467eb50b3772dffd3def)\n(cherry picked from commit 004a773a3a286f39889519bb5b2009fb9bf44fb1)\n(cherry picked from commit 710116f4beadb1553c9ad7991ea69b0e286657d6)\n(cherry picked from commit 291c02a7d51585551266fe5b7e7afd9726317671)\n(cherry picked from commit dc2d308118a126e087431d5c7810e1f958cbe895)\n'}]",888103,1d91e71e74b57b0f2f108faeb522244a03540485,4690,melanie witt,melwitt,0,"Reproducer for bug 2003991 unshelving offloaded instance

This adds test coverage for:

  * Shelve/unshelve offloaded with legacy quota usage
  * Shelve/unshelve offloaded with quota usage from placement
  * Shelve/unshelve with legacy quota usage
  * Shelve/unshelve with quota usage from placement

Related-Bug: #2003991

Change-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a
(cherry picked from commit 427b2cb4d61cdfaf18b2467eb50b3772dffd3def)
(cherry picked from commit 004a773a3a286f39889519bb5b2009fb9bf44fb1)
(cherry picked from commit 710116f4beadb1553c9ad7991ea69b0e286657d6)
(cherry picked from commit 291c02a7d51585551266fe5b7e7afd9726317671)
(cherry picked from commit dc2d308118a126e087431d5c7810e1f958cbe895)
",['nova/tests/functional/test_servers.py']
openstack%2Fnova~888104,openstack/nova,stable/wallaby,I4ab97626c10052c7af9934a80ff8db9ddab82738,Enforce quota usage from placement when unshelving,ABANDONED,2023-07-11 02:58:51.000000000,2024-03-05 19:04:54.000000000,214,22,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-07-11 02:58:51.000000000', 'files': ['releasenotes/notes/quota-unshelve-offloaded-e4ea2d6a1449f549.yaml', 'nova/api/openstack/compute/shelve.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = true or\n[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota\nusage are counted from placement. When an instance is SHELVED_OFFLOADED,\nit will not have allocations in placement, so its cores and ram should\nnot count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being properly enforced during\nunshelve of a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nConflicts:\n    nova/compute/api.py\n\nNOTE(melwitt): The conflict is because change\nIbcf703e254e720b9a6de17527325758676628d48 (Support move ops with\nextended resource request) is not in Wallaby. The difference in\nnova/conductor/manager.py is because change\nIfe3c7a5a95c5d707983ab33fd2fbfc1cfb72f676 (Add force kwarg to\ndelete_allocation_for_instance) is not in Wallaby.\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)\n(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)\n(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)\n(cherry picked from commit da4b7d1e70486402635a009724b263981cd22861)\n(cherry picked from commit 746bc7222276a8c6bb4f0f9317802e332d25b756)\n'}]",888104,c13c26f88edea2d762aef97013662859496dd3e6,4690,melanie witt,melwitt,0,"Enforce quota usage from placement when unshelving

When [quota]count_usage_from_placement = true or
[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota
usage are counted from placement. When an instance is SHELVED_OFFLOADED,
it will not have allocations in placement, so its cores and ram should
not count against quota during that time.

This means however that when an instance is unshelved, there is a
possibility of going over quota if the cores and ram it needs were
allocated by some other instance(s) while it was SHELVED_OFFLOADED.

This fixes a bug where quota was not being properly enforced during
unshelve of a SHELVED_OFFLOADED instance when quota usage is counted
from placement. Test coverage is also added for the ""recheck"" quota
cases.

Conflicts:
    nova/compute/api.py

NOTE(melwitt): The conflict is because change
Ibcf703e254e720b9a6de17527325758676628d48 (Support move ops with
extended resource request) is not in Wallaby. The difference in
nova/conductor/manager.py is because change
Ife3c7a5a95c5d707983ab33fd2fbfc1cfb72f676 (Add force kwarg to
delete_allocation_for_instance) is not in Wallaby.

Closes-Bug: #2003991

Change-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738
(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)
(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)
(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)
(cherry picked from commit da4b7d1e70486402635a009724b263981cd22861)
(cherry picked from commit 746bc7222276a8c6bb4f0f9317802e332d25b756)
","['releasenotes/notes/quota-unshelve-offloaded-e4ea2d6a1449f549.yaml', 'nova/api/openstack/compute/shelve.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']"
openstack%2Fnova~843339,openstack/nova,stable/wallaby,I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9,Fix LM rollback w/o multi port bindings extension,ABANDONED,2022-05-25 18:52:35.000000000,2024-03-05 19:04:51.000000000,11,13,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 20733, 'name': 'Rajesh Tailor', 'email': 'ratailor@redhat.com', 'username': 'rajesht'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-05-25 21:54:57.000000000', 'date': '2022-05-25 21:54:57.000000000'}, {'rev_nbr': 2, 'author': '2022-05-26 18:12:27.000000000', 'date': '2022-05-26 18:12:27.000000000'}, {'rev_nbr': 2, 'author': '2022-05-26 18:16:17.000000000', 'date': '2022-05-26 18:16:17.000000000'}]",1,"[{'number': 2, 'created': '2022-05-26 14:58:21.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/functional/regressions/test_bug_1888395.py'], 'message': ""Fix LM rollback w/o multi port bindings extension\n\nPreviously, the libvirt driver's live migration rollback code would\nunconditionally refer to migrate_data.vifs. This field would only be\nset if the Neutron multiple port bindings extension was in use. When\nit is not in use, the reference would fail with a NotImplementedError.\nThis patch wraps the migrate_data.vifs reference in a conditional that\nchecks if the vifs field is actually set. This is the only way to do\nit, as in the libvirt driver we do not have access to the network\nAPI's has_port_binding_extension() helper.\n\nCloses-bug: 1969980\nChange-Id: I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9\n(cherry picked from commit aa1b0a7ccb1fcf3644784125bfff6950993e1697)\n(cherry picked from commit 5f086d437e8e467ab8c90605c904470c37098227)\n(cherry picked from commit f9dec7e2f528e67e7a062200ad6f4526158ad944)\n""}]",843339,b85e114e55a11d3c82a8406b0e1ddf506f9f2138,8864,Artom Lifshitz,artom,0,"Fix LM rollback w/o multi port bindings extension

Previously, the libvirt driver's live migration rollback code would
unconditionally refer to migrate_data.vifs. This field would only be
set if the Neutron multiple port bindings extension was in use. When
it is not in use, the reference would fail with a NotImplementedError.
This patch wraps the migrate_data.vifs reference in a conditional that
checks if the vifs field is actually set. This is the only way to do
it, as in the libvirt driver we do not have access to the network
API's has_port_binding_extension() helper.

Closes-bug: 1969980
Change-Id: I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9
(cherry picked from commit aa1b0a7ccb1fcf3644784125bfff6950993e1697)
(cherry picked from commit 5f086d437e8e467ab8c90605c904470c37098227)
(cherry picked from commit f9dec7e2f528e67e7a062200ad6f4526158ad944)
","['nova/virt/libvirt/driver.py', 'nova/tests/functional/regressions/test_bug_1888395.py']"
openstack%2Fnova~843338,openstack/nova,stable/wallaby,Ieef773453ed9f3ced564c1a352fbefbcc6a653ec,Reproduce live migration rollback w/o multi port bindings error,ABANDONED,2022-05-25 18:52:35.000000000,2024-03-05 19:04:47.000000000,38,7,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2022-05-26 18:23:07.000000000', 'date': '2022-05-26 18:23:07.000000000'}]",2,"[{'number': 2, 'created': '2022-05-26 14:58:21.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1888395.py'], 'message': 'Reproduce live migration rollback w/o multi port bindings error\n\nWhen the libvirt driver does live migration rollback of an instance\nwith network interfaces, it unconditionally refers to\nmigrate_data.vifs. These will only be set when Neutron has the\nmultiple port bindings extension. We don\'t handle the case of the\nextension not being present, and currently the rollback will fail with\na ""NotImplementedError: Cannot load \'vifs\' in the base class"" error.\n\nNOTE(artom) has_port_binding_extension() replaced with\nsupports_port_binding_extension to fit the stable/xena method name.\n\nRelated-bug: 1969980\nChange-Id: Ieef773453ed9f3ced564c1a352fbefbcc6a653ec\n(cherry picked from commit 5181bae923bdae2b536affc87d39ddf2c5f7835d)\n(cherry picked from commit 2be1570c96697bdb917a086ccdc5a05d3d21e9db)\n(cherry picked from commit acd8edfb5a75c633b21ede56e2888691845d9113)\n'}]",843338,c8c70438459c6de84ce47c7951eff7019b404246,8864,Artom Lifshitz,artom,0,"Reproduce live migration rollback w/o multi port bindings error

When the libvirt driver does live migration rollback of an instance
with network interfaces, it unconditionally refers to
migrate_data.vifs. These will only be set when Neutron has the
multiple port bindings extension. We don't handle the case of the
extension not being present, and currently the rollback will fail with
a ""NotImplementedError: Cannot load 'vifs' in the base class"" error.

NOTE(artom) has_port_binding_extension() replaced with
supports_port_binding_extension to fit the stable/xena method name.

Related-bug: 1969980
Change-Id: Ieef773453ed9f3ced564c1a352fbefbcc6a653ec
(cherry picked from commit 5181bae923bdae2b536affc87d39ddf2c5f7835d)
(cherry picked from commit 2be1570c96697bdb917a086ccdc5a05d3d21e9db)
(cherry picked from commit acd8edfb5a75c633b21ede56e2888691845d9113)
",['nova/tests/functional/regressions/test_bug_1888395.py']
openstack%2Fnova~882939,openstack/nova,stable/wallaby,I99b57c27c8a4425389bec2b7f05af660bab85610,Have host look for CPU controller of cgroupsv2 location.,ABANDONED,2023-05-11 10:32:51.000000000,2024-03-05 19:04:43.000000000,176,54,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2023-05-13 19:44:32.000000000', 'date': '2023-05-13 19:44:32.000000000'}, {'rev_nbr': 2, 'author': '2023-05-17 07:03:18.000000000', 'date': '2023-05-17 07:03:18.000000000'}]",8,"[{'number': 2, 'created': '2023-05-11 13:28:39.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/fixtures.py', 'nova/tests/functional/libvirt/base.py', 'nova/virt/libvirt/host.py', 'nova/tests/functional/libvirt/test_vpmem.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/functional/regressions/test_bug_1595962.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': ""Have host look for CPU controller of cgroupsv2 location.\n\nMake the host class look under '/sys/fs/cgroup/cgroup.controllers' for support of the cpu controller. The host will try searching through cgroupsv1 first, just like up until now, and in the case that fails, it will try cgroupsv2 then. The host will not support the feature if both checks fail.\n\nThis new check needs to be mocked by all tests that focus on this piece of code, as it touches a system file that requires privileges. For such thing, the CGroupsFixture is defined to easily add suck mocking to all test cases that require so.\n\nI also removed old mocking at test_driver.py in favor of the fixture from above.\n\nConflicts:\n    nova/tests/unit/virt/libvirt/test_driver.py\n\nNOTE(auniyal):\n- as new cgroup fixture is added, removed old mocking in few more unit test cases in test_driver\n- did not remove test_guest_cpu_shares_with_multi_vcpu from test_driver\n\nConflicts:\n    nova/tests/fixtures/nova.py\n    nova/tests/functional/libvirt/base.py\n    nova/tests/functional/libvirt/test_vpmem.py\n    nova/tests/functional/regressions/test_bug_1595962.py\n    nova/tests/unit/virt/libvirt/test_driver.py\n\nNOTE(auniyal): backport to stable/wallaby\n- tests/fixtures.py: Added CGroupsFixture in tests/fixtures as tests/fixtures/nova.py does\nnot exists in stable/wallaby\n- fixed/updated imports for cgroup fixture in unit and functionl test\n\nPartial-Bug: #2008102\nChange-Id: I99b57c27c8a4425389bec2b7f05af660bab85610\n(cherry picked from commit 973ff4fc1a0586937d13f2b39e517422713b1003)\n(cherry picked from commit eb3fe4ddc621380afa32ec9aec0c285f36f99ee3)\n(cherry picked from commit 9e86be5a5365b1896d489de7149e471fd22881d6)\n(cherry picked from commit aa295b4ad71b59ba9ba612f07f1f108a8a25473b)\n(cherry picked from commit 722ddc4796c6f3705cc1b724c2a56f8b5ab905cc)\n""}]",882939,4859768a49875bac414a743558fbda506636d7fc,34860,Amit Uniyal,auniyal,0,"Have host look for CPU controller of cgroupsv2 location.

Make the host class look under '/sys/fs/cgroup/cgroup.controllers' for support of the cpu controller. The host will try searching through cgroupsv1 first, just like up until now, and in the case that fails, it will try cgroupsv2 then. The host will not support the feature if both checks fail.

This new check needs to be mocked by all tests that focus on this piece of code, as it touches a system file that requires privileges. For such thing, the CGroupsFixture is defined to easily add suck mocking to all test cases that require so.

I also removed old mocking at test_driver.py in favor of the fixture from above.

Conflicts:
    nova/tests/unit/virt/libvirt/test_driver.py

NOTE(auniyal):
- as new cgroup fixture is added, removed old mocking in few more unit test cases in test_driver
- did not remove test_guest_cpu_shares_with_multi_vcpu from test_driver

Conflicts:
    nova/tests/fixtures/nova.py
    nova/tests/functional/libvirt/base.py
    nova/tests/functional/libvirt/test_vpmem.py
    nova/tests/functional/regressions/test_bug_1595962.py
    nova/tests/unit/virt/libvirt/test_driver.py

NOTE(auniyal): backport to stable/wallaby
- tests/fixtures.py: Added CGroupsFixture in tests/fixtures as tests/fixtures/nova.py does
not exists in stable/wallaby
- fixed/updated imports for cgroup fixture in unit and functionl test

Partial-Bug: #2008102
Change-Id: I99b57c27c8a4425389bec2b7f05af660bab85610
(cherry picked from commit 973ff4fc1a0586937d13f2b39e517422713b1003)
(cherry picked from commit eb3fe4ddc621380afa32ec9aec0c285f36f99ee3)
(cherry picked from commit 9e86be5a5365b1896d489de7149e471fd22881d6)
(cherry picked from commit aa295b4ad71b59ba9ba612f07f1f108a8a25473b)
(cherry picked from commit 722ddc4796c6f3705cc1b724c2a56f8b5ab905cc)
","['nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/fixtures.py', 'nova/tests/functional/libvirt/base.py', 'nova/virt/libvirt/host.py', 'nova/tests/functional/libvirt/test_vpmem.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/functional/regressions/test_bug_1595962.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~879704,openstack/nova,stable/wallaby,Ib775c2210349b72b3dc033554ac6d8b35b8d2d79,Don't provide MTU value in metadata service if DHCP is enabled,ABANDONED,2023-04-06 13:52:16.000000000,2024-03-05 19:04:39.000000000,36,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-04-06 17:59:38.000000000', 'date': '2023-04-06 17:59:38.000000000'}]",1,"[{'number': 2, 'created': '2023-08-29 15:01:55.000000000', 'files': ['releasenotes/notes/Do-not-send-mtu-value-in-metadata-for-networks-with-enabled-dhcp-641506f2a13b540f.yaml', 'nova/tests/unit/virt/test_netutils.py', 'nova/virt/netutils.py'], 'message': 'Don\'t provide MTU value in metadata service if DHCP is enabled\n\nFor networks with subnets with enabled DHCP service don\'t provide\nmtu value in the metadata. That way cloud-init will not configure it\n""statically"" in e.g. netplan\'s config file and guest OS will use MTU\nvalue provided by the DHCP service.\n\nCloses-Bug: #1899487\nChange-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79\n(cherry picked from commit 6bdc79af30151f683c0f462bc6c69da30ebcbcf9)\n(cherry picked from commit ec15df83d2d8eb9744438c7129f64a00e5c5694e)\n(cherry picked from commit 0aac193fe3f427eb5ca32e70df77dadaebd55bb9)\n(cherry picked from commit ebae52aefcc9d5c4882668ce1375e940ce46a675)\n'}]",879704,9f49bd1142a9e0e7351490556b9d97fc34ea70d1,16207,ribaudr,uggla,0,"Don't provide MTU value in metadata service if DHCP is enabled

For networks with subnets with enabled DHCP service don't provide
mtu value in the metadata. That way cloud-init will not configure it
""statically"" in e.g. netplan's config file and guest OS will use MTU
value provided by the DHCP service.

Closes-Bug: #1899487
Change-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79
(cherry picked from commit 6bdc79af30151f683c0f462bc6c69da30ebcbcf9)
(cherry picked from commit ec15df83d2d8eb9744438c7129f64a00e5c5694e)
(cherry picked from commit 0aac193fe3f427eb5ca32e70df77dadaebd55bb9)
(cherry picked from commit ebae52aefcc9d5c4882668ce1375e940ce46a675)
","['releasenotes/notes/Do-not-send-mtu-value-in-metadata-for-networks-with-enabled-dhcp-641506f2a13b540f.yaml', 'nova/tests/unit/virt/test_netutils.py', 'nova/virt/netutils.py']"
openstack%2Fnova~897300,openstack/nova,stable/wallaby,Ia10ccdd9fbed3870d0592e3cbbff17f292651dd2,fix sr-iov support on Cavium ThunderX hosts.,ABANDONED,2023-10-05 13:29:19.000000000,2024-03-05 19:04:36.000000000,29,4,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-10-05 13:29:19.000000000', 'files': ['nova/virt/libvirt/host.py', 'releasenotes/notes/fix-pci-passthrough-for-cavium-thunderx-8fbd1c40718569e2.yaml'], 'message': ""fix sr-iov support on Cavium ThunderX hosts.\n\nThis change is a partial revert of\nIbf8dca4bd57b3bddb39955b53cc03564506f5754\nto reintoduce a try-except which is required for\nsome non standard hardware.\n\nOn the Cavium ThunderX platform, it's possible to have\nvirutal functions which are netdevs which are not associated\nto a PF. This causes the PF name lookup to fail.\nPrior to Ibf8dca4bd57b3bddb39955b53cc03564506f5754\nwhen the lookup failed it was caught and we skipped\npopulating the parent PF interface name.\n\nThis change restores that behavior.\n\nCloses-Bug: #1915255\nChange-Id: Ia10ccdd9fbed3870d0592e3cbbff17f292651dd2\n(cherry picked from commit a569a51fedd058fdae2eb0066e087c37688987f8)\n""}]",897300,fbf1433c1ada26df5373120eb23b4024bc1ed0c6,11604,sean mooney,sean-k-mooney,0,"fix sr-iov support on Cavium ThunderX hosts.

This change is a partial revert of
Ibf8dca4bd57b3bddb39955b53cc03564506f5754
to reintoduce a try-except which is required for
some non standard hardware.

On the Cavium ThunderX platform, it's possible to have
virutal functions which are netdevs which are not associated
to a PF. This causes the PF name lookup to fail.
Prior to Ibf8dca4bd57b3bddb39955b53cc03564506f5754
when the lookup failed it was caught and we skipped
populating the parent PF interface name.

This change restores that behavior.

Closes-Bug: #1915255
Change-Id: Ia10ccdd9fbed3870d0592e3cbbff17f292651dd2
(cherry picked from commit a569a51fedd058fdae2eb0066e087c37688987f8)
","['nova/virt/libvirt/host.py', 'releasenotes/notes/fix-pci-passthrough-for-cavium-thunderx-8fbd1c40718569e2.yaml']"
openstack%2Fnova~885348,openstack/nova,stable/wallaby,I2ba035c09ace20e9835d9d12a5c5bee17d616718,Fix failed count for anti-affinity check,ABANDONED,2023-06-06 08:57:27.000000000,2024-03-05 19:04:32.000000000,265,14,"[{'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 20733, 'name': 'Rajesh Tailor', 'email': 'ratailor@redhat.com', 'username': 'rajesht'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34860, 'name': 'Amit Uniyal', 'email': 'auniyal@redhat.com', 'username': 'auniyal'}, {'_account_id': 34951, 'name': 'Yusuke Okada', 'email': 'okada.yusuke@fujitsu.com', 'username': 'yusokada'}]",,4,"[{'number': 1, 'created': '2023-06-06 08:57:27.000000000', 'files': ['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py'], 'message': 'Fix failed count for anti-affinity check\n\nThe late anti-affinity check runs in the compute manager to avoid\nparallel scheduling requests to invalidate the anti-affinity server\ngroup policy. When the check fails the instance is re-scheduled.\nHowever this failure counted as a real instance boot failure of the\ncompute host and can lead to de-prioritization of the compute host\nin the scheduler via BuildFailureWeigher. As the late anti-affinity\ncheck does not indicate any fault of the compute host itself it\nshould not be counted towards the build failure counter.\nThis patch adds new build results to handle this case.\n\nConflicts:\n  nova/exception.py due to ShadowTableExists not exists in later\n  releases\n  nova/tests/functional/test_server_group.py due to db code moved\n  around in xena causing import differences\n\nCloses-Bug: #1996732\nChange-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718\nSigned-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>\n(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)\n(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)\n(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)\n(cherry picked from commit cd0403dd3b1099bd13da503500a50249db8e49ea)\n(cherry picked from commit 87488180e5633db5ef8d684684a4355de48ef428)\n'}]",885348,e48fb15aaa462813fe9334a83bc76b43eb465fbd,9708,Balazs Gibizer,gibi,0,"Fix failed count for anti-affinity check

The late anti-affinity check runs in the compute manager to avoid
parallel scheduling requests to invalidate the anti-affinity server
group policy. When the check fails the instance is re-scheduled.
However this failure counted as a real instance boot failure of the
compute host and can lead to de-prioritization of the compute host
in the scheduler via BuildFailureWeigher. As the late anti-affinity
check does not indicate any fault of the compute host itself it
should not be counted towards the build failure counter.
This patch adds new build results to handle this case.

Conflicts:
  nova/exception.py due to ShadowTableExists not exists in later
  releases
  nova/tests/functional/test_server_group.py due to db code moved
  around in xena causing import differences

Closes-Bug: #1996732
Change-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718
Signed-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>
(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)
(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)
(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)
(cherry picked from commit cd0403dd3b1099bd13da503500a50249db8e49ea)
(cherry picked from commit 87488180e5633db5ef8d684684a4355de48ef428)
","['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py']"
openstack%2Fnova~865334,openstack/nova,stable/wallaby,I34dae6fdb746205f0baa4997e69eec55634bec4d,refactor: remove duplicated logic,ABANDONED,2022-11-22 20:59:56.000000000,2024-03-05 19:04:28.000000000,14,12,"[{'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 3, 'created': '2023-10-11 13:03:14.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py'], 'message': 'refactor: remove duplicated logic\n\nRemove _update_port_pci_binding_profile and replace its usage with\n_get_pci_device_profile.\n\nchanges from yoga are due to a partial backport of\nare due to a partial backport of\nI9a1532e9a98f89db69b9ae3b41b06318a43519b3\nwhich is required to resolve conflict due to the lack\nof the remote managed ports feature in xena\n\nspecificaly _get_port_pci_slot was refactored to\n_get_port_pci_dev\n\nChange-Id: I34dae6fdb746205f0baa4997e69eec55634bec4d\n(cherry picked from commit 8d2776fb34339b311c713992a39507452c4ae42f)\n(cherry picked from commit 683cbd06336bba37d033c292c4c0ea83e06d9c07)\n(cherry picked from commit e7c2e55c6685ccda23ad5c020db5b204f82d296e)\n'}]",865334,04086b9ce44ae5e54d4469d7040ecc159b6ebcb1,11604,sean mooney,sean-k-mooney,0,"refactor: remove duplicated logic

Remove _update_port_pci_binding_profile and replace its usage with
_get_pci_device_profile.

changes from yoga are due to a partial backport of
are due to a partial backport of
I9a1532e9a98f89db69b9ae3b41b06318a43519b3
which is required to resolve conflict due to the lack
of the remote managed ports feature in xena

specificaly _get_port_pci_slot was refactored to
_get_port_pci_dev

Change-Id: I34dae6fdb746205f0baa4997e69eec55634bec4d
(cherry picked from commit 8d2776fb34339b311c713992a39507452c4ae42f)
(cherry picked from commit 683cbd06336bba37d033c292c4c0ea83e06d9c07)
(cherry picked from commit e7c2e55c6685ccda23ad5c020db5b204f82d296e)
","['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py']"
openstack%2Fnova~865571,openstack/nova,stable/wallaby,Ic717dc42ac6b6cace59d344acaf12f9d1ee35564,Add compute restart capability for libvirt func tests,ABANDONED,2022-11-24 14:37:25.000000000,2024-03-05 19:04:24.000000000,117,46,"[{'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,9,"[{'number': 6, 'created': '2023-10-11 13:03:14.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/libvirt/test_reshape.py'], 'message': 'Add compute restart capability for libvirt func tests\n\nThe existing generic restart_compute_service() call in the nova test\nbase class is not appropriate for the libvirt functional test that needs\nto reconfigure the libvirt connection as it is not aware of the libvirt\nspecific mocking needed when a compute service is started.\n\nSo this patch adds a specific restart_compute_service() call\nto nova.tests.functional.libvirt.base.ServersTestBase. This will be used\nby a later patch testing [pci]device_spec reconfiguration scenarios.\n\nThis change showed that some of the existing libvirt functional test\nused the incomplete restart_compute_service from the base class. Others\nused local mocking to inject new pci config to the restart. I moved all\nthese to the new function and removed the local mocking.\n\nConflicts:\n    nova/tests/functional/libvirt/base.py\n    nova/tests/functional/libvirt/test_vgpu.py\n\nConflicts are due to not backporting the removal of double mocking\nand the lack of generic mdev feature added in xena.\n\nChange-Id: Ic717dc42ac6b6cace59d344acaf12f9d1ee35564\n(cherry picked from commit 57c253a609e859fa21ba05b264f0ba4d0ade7b8b)\n(cherry picked from commit f98858aa77e4443164fc09fae3667fb0f66edfbf)\n(cherry picked from commit afc55c564f90ea8a6e9a03f1f3052bf2e618b02b)\n'}]",865571,bcc52de5ac8c7e9d8fb733496ec1654c0d01a6f6,11604,sean mooney,sean-k-mooney,0,"Add compute restart capability for libvirt func tests

The existing generic restart_compute_service() call in the nova test
base class is not appropriate for the libvirt functional test that needs
to reconfigure the libvirt connection as it is not aware of the libvirt
specific mocking needed when a compute service is started.

So this patch adds a specific restart_compute_service() call
to nova.tests.functional.libvirt.base.ServersTestBase. This will be used
by a later patch testing [pci]device_spec reconfiguration scenarios.

This change showed that some of the existing libvirt functional test
used the incomplete restart_compute_service from the base class. Others
used local mocking to inject new pci config to the restart. I moved all
these to the new function and removed the local mocking.

Conflicts:
    nova/tests/functional/libvirt/base.py
    nova/tests/functional/libvirt/test_vgpu.py

Conflicts are due to not backporting the removal of double mocking
and the lack of generic mdev feature added in xena.

Change-Id: Ic717dc42ac6b6cace59d344acaf12f9d1ee35564
(cherry picked from commit 57c253a609e859fa21ba05b264f0ba4d0ade7b8b)
(cherry picked from commit f98858aa77e4443164fc09fae3667fb0f66edfbf)
(cherry picked from commit afc55c564f90ea8a6e9a03f1f3052bf2e618b02b)
","['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/libvirt/test_reshape.py']"
openstack%2Fnova~865572,openstack/nova,stable/wallaby,I6e220cf3231670d156632e075fcf7701df744773,enable blocked VDPA move operations,ABANDONED,2022-11-24 14:37:25.000000000,2024-03-05 19:04:21.000000000,388,29,"[{'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 6, 'created': '2023-10-11 13:03:14.000000000', 'files': ['doc/source/admin/vdpa.rst', 'doc/source/admin/index.rst', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'releasenotes/notes/vdpa-move-ops-a7b3799807807a92.yaml', 'nova/compute/api.py'], 'message': 'enable blocked VDPA move operations\n\nThis change adds functional test for operations on servers with VDPA\ndevices that are expected to work but currently blocked due to lack\nof testing or qemu bugs.\n\ncold-migrate, resize, evacuate,and shelve are enabled\nand tested by this patch\n\nConflicts:\n    nova/compute/api.py\n\nThe conflict was trivial related to the removal of the decorators\n\nCloses-Bug: #1970467\nChange-Id: I6e220cf3231670d156632e075fcf7701df744773\n(cherry picked from commit 95f96ed3aa201bc5b90e589b288fa4039bc9c0d2)\n(cherry picked from commit 041939361e393b808724b8590eb76b3aa075814e)\n(cherry picked from commit c3092e3ee791d9e291f829cc3eaa8123560a13ef)\n'}]",865572,13f75c0d1afb43d8ea5f7305c5688fbce2298b83,11604,sean mooney,sean-k-mooney,0,"enable blocked VDPA move operations

This change adds functional test for operations on servers with VDPA
devices that are expected to work but currently blocked due to lack
of testing or qemu bugs.

cold-migrate, resize, evacuate,and shelve are enabled
and tested by this patch

Conflicts:
    nova/compute/api.py

The conflict was trivial related to the removal of the decorators

Closes-Bug: #1970467
Change-Id: I6e220cf3231670d156632e075fcf7701df744773
(cherry picked from commit 95f96ed3aa201bc5b90e589b288fa4039bc9c0d2)
(cherry picked from commit 041939361e393b808724b8590eb76b3aa075814e)
(cherry picked from commit c3092e3ee791d9e291f829cc3eaa8123560a13ef)
","['doc/source/admin/vdpa.rst', 'doc/source/admin/index.rst', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'releasenotes/notes/vdpa-move-ops-a7b3799807807a92.yaml', 'nova/compute/api.py']"
openstack%2Fnova~866157,openstack/nova,stable/wallaby,I0f785178b132dfef668829558dea9f7e674abadb,Reproducer for bug 1951656,ABANDONED,2022-11-30 13:08:45.000000000,2024-03-05 19:04:17.000000000,120,0,"[{'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,4,"[{'number': 8, 'created': '2023-10-11 13:03:14.000000000', 'files': ['nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/functional/regressions/test_bug_1951656.py'], 'message': ""Reproducer for bug 1951656\n\nDue to a new mdev naming, we can't parse it.\n\nBackport-only for Wallaby:\n* Note on wallaby we do not have a seperate\n  fixtures module so this patch is adapted\n  to the old fakelibvirt location\n* due to Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0\n  missing, we need to change the config option to\n  be enabled_vgpu_types and we also need to directly\n  add the assert_mdev_usage() helper method.\n\nChange-Id: I0f785178b132dfef668829558dea9f7e674abadb\nRelated-Bug: #1951656\n(cherry picked from commit 185201974775bab966f4e5ca3bbdc31b8269fa4c)\n(cherry picked from commit 857df72d3166a8f7e8a8cdfeabb62ad6ead46565)\n(cherry picked from commit a820ab50076e4ca0655e8d7a4ffc4d480c12335b)\n(cherry picked from commit 726c0217ef8140a949510b0a0bbbe6e82704cd40)\n""}]",866157,5c852c3326c8c89cbb8c37fbc1e8baf45efcba8d,7166,Sylvain Bauza,sbauza,0,"Reproducer for bug 1951656

Due to a new mdev naming, we can't parse it.

Backport-only for Wallaby:
* Note on wallaby we do not have a seperate
  fixtures module so this patch is adapted
  to the old fakelibvirt location
* due to Ibccbb93352f93dba7e15e1f77be9ee0fc466fee0
  missing, we need to change the config option to
  be enabled_vgpu_types and we also need to directly
  add the assert_mdev_usage() helper method.

Change-Id: I0f785178b132dfef668829558dea9f7e674abadb
Related-Bug: #1951656
(cherry picked from commit 185201974775bab966f4e5ca3bbdc31b8269fa4c)
(cherry picked from commit 857df72d3166a8f7e8a8cdfeabb62ad6ead46565)
(cherry picked from commit a820ab50076e4ca0655e8d7a4ffc4d480c12335b)
(cherry picked from commit 726c0217ef8140a949510b0a0bbbe6e82704cd40)
","['nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/functional/regressions/test_bug_1951656.py']"
openstack%2Fnova~853275,openstack/nova,stable/wallaby,I16ed1143ead3779c87698aa29bac005678db2993,Add reno for fixing bug 1941005,ABANDONED,2022-08-16 11:30:37.000000000,2024-03-05 19:04:13.000000000,6,0,"[{'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 3, 'created': '2023-05-23 11:35:35.000000000', 'files': ['releasenotes/notes/bug-1983753-update-requestspec-pci_request-for-resize-a3c6b0a979db723f.yaml'], 'message': 'Add reno for fixing bug 1941005\n\nRelated-Bug: #1941005\nRelated-Bug: #1983753\nChange-Id: I16ed1143ead3779c87698aa29bac005678db2993\n(cherry picked from commit 82cdfa23c7a0e269ab038e241bb7428b7f1391aa)\n(cherry picked from commit 19bac6e9c362ee692f4be92041bb3f6c3b9b6c23)\n(cherry picked from commit cbf785709968fffc0a760e28f1cdb5c38b254232)\n'}]",853275,63c21cf68502a6c61727d9080e13a3882b9e7c11,9708,Balazs Gibizer,gibi,0,"Add reno for fixing bug 1941005

Related-Bug: #1941005
Related-Bug: #1983753
Change-Id: I16ed1143ead3779c87698aa29bac005678db2993
(cherry picked from commit 82cdfa23c7a0e269ab038e241bb7428b7f1391aa)
(cherry picked from commit 19bac6e9c362ee692f4be92041bb3f6c3b9b6c23)
(cherry picked from commit cbf785709968fffc0a760e28f1cdb5c38b254232)
",['releasenotes/notes/bug-1983753-update-requestspec-pci_request-for-resize-a3c6b0a979db723f.yaml']
openstack%2Fnova~853274,openstack/nova,stable/wallaby,I73c9ae27e9c42ee211a53bed3d849650b65f08be,Update RequestSpec.pci_request for resize,ABANDONED,2022-08-16 11:30:37.000000000,2024-03-05 19:04:09.000000000,20,22,"[{'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 7634, 'name': 'Takashi Natsume', 'email': 'takanattie@gmail.com', 'username': 'natsumet'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-08-16 14:05:45.000000000', 'date': '2022-08-16 14:05:45.000000000'}, {'rev_nbr': 1, 'author': '2022-10-27 09:12:02.000000000', 'date': '2022-10-27 09:12:02.000000000'}, {'rev_nbr': 1, 'author': '2022-10-27 11:17:51.000000000', 'date': '2022-10-27 11:17:51.000000000'}, {'rev_nbr': 3, 'author': '2023-05-31 12:35:29.000000000', 'date': '2023-05-31 12:35:29.000000000'}]",11,"[{'number': 3, 'created': '2023-05-23 11:35:35.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1983753.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'message': 'Update RequestSpec.pci_request for resize\n\nNova uses the RequestSpec.pci_request in the PciPassthroughFilter to\ndecide if the PCI devicesm, requested via the pci_alias in the flavor\nextra_spec, are available on a potential target host. During resize the\nnew flavor might contain different pci_alias request than the old flavor\nof the instance. In this case Nova should use the pci_alias from the new\nflavor to scheduler the destination host of the resize. However this\nlogic was missing and Nova used the old pci_request value based on the\nold flavor. This patch adds the missing logic.\n\nConflicts:\n       nova/compute/api.py due to flavor was still named instance_type\n       in wallaby\n       nova/tests/functional/libvirt/test_pci_sriov_servers.py due to\n       not having the original reproduction test in wallaby\n\nCloses-Bug: #1983753\nCloses-Bug: #1941005\nChange-Id: I73c9ae27e9c42ee211a53bed3d849650b65f08be\n(cherry picked from commit a93092e0d5c1483f9ad48276708ee35c54ce44fe)\n(cherry picked from commit b6c7ee07ad2a6503b8aad0921cca70e61e60259d)\n(cherry picked from commit 696d27a0e2ccf0916fc6bd3eabf73f2b007e7830)\n'}]",853274,35ad4bbaf8b383436d3b972daa58e05a47e36d82,9708,Balazs Gibizer,gibi,0,"Update RequestSpec.pci_request for resize

Nova uses the RequestSpec.pci_request in the PciPassthroughFilter to
decide if the PCI devicesm, requested via the pci_alias in the flavor
extra_spec, are available on a potential target host. During resize the
new flavor might contain different pci_alias request than the old flavor
of the instance. In this case Nova should use the pci_alias from the new
flavor to scheduler the destination host of the resize. However this
logic was missing and Nova used the old pci_request value based on the
old flavor. This patch adds the missing logic.

Conflicts:
       nova/compute/api.py due to flavor was still named instance_type
       in wallaby
       nova/tests/functional/libvirt/test_pci_sriov_servers.py due to
       not having the original reproduction test in wallaby

Closes-Bug: #1983753
Closes-Bug: #1941005
Change-Id: I73c9ae27e9c42ee211a53bed3d849650b65f08be
(cherry picked from commit a93092e0d5c1483f9ad48276708ee35c54ce44fe)
(cherry picked from commit b6c7ee07ad2a6503b8aad0921cca70e61e60259d)
(cherry picked from commit 696d27a0e2ccf0916fc6bd3eabf73f2b007e7830)
","['nova/tests/functional/regressions/test_bug_1983753.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']"
openstack%2Fnova~900832,openstack/nova,stable/wallaby,I4bf83d1642b62ab103716aff6dae7438646e2b31,Decorate only Flavor.get_* methods that execute queries,ABANDONED,2023-11-13 23:26:45.000000000,2024-03-05 19:04:06.000000000,5,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-11-13 23:26:45.000000000', 'files': ['nova/objects/flavor.py'], 'message': ""Decorate only Flavor.get_* methods that execute queries\n\nThe get_* methods on the Flavor object use a common helper method to\nbuild a query object to execute later.\n\nCurrently, the @api_db_api.context_manager.reader decorator which\nmanages the session is located on the helper method instead of on the\nmethods that actually execute the database queries. Part of the context\nmanager's job is to close the session after the query is executed.\nBecause the decorator is not on the methods that actually execute the\nqueries, those database connections are not being closed and it will\neventually lead to errors like:\n\n  sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 50\n  reached, connection timed out, timeout 30.00 (Background on this\n  error at: https://sqlalche.me/e/14/3o7r)\n\nwhich means the connection pool size plus the overflow size has been\nreached and the pool will block for a fixed period of time before\ntiming out and raising this error.\n\nThis removes the @api_db_api.context_manager.reader decorator from the\nquery build helper method and adds it to the Flavor.get_* methods that\nexecute the database queries.\n\nConflicts:\n    nova/objects/flavor.py\n\nNOTE(melwitt): The conflicts are because change\nIa5304c552ce552ae3c5223a2bfb3a9cd543ec57c (db: Post reshuffle cleanup)\nis not in Wallaby.\n\nCloses-Bug: #2027755\n\nChange-Id: I4bf83d1642b62ab103716aff6dae7438646e2b31\n(cherry picked from commit 9ae6240c92e212b2fa96d5163f68ef1b30ee03b7)\n(cherry picked from commit 4f4f27be27cb202be6a8fb949ad21021a5cd735d)\n(cherry picked from commit 53e3afe3a6024be6ead35132230dc468dd808850)\n(cherry picked from commit 5f1f22c07a00021cacf97d74031c1033916f9b44)\n(cherry picked from commit 47f9606e00d78a7ef8fd5115eada1959b3773c75)\n""}]",900832,640d2363832b42b3882d640dc168685e5a71fc9b,4690,melanie witt,melwitt,0,"Decorate only Flavor.get_* methods that execute queries

The get_* methods on the Flavor object use a common helper method to
build a query object to execute later.

Currently, the @api_db_api.context_manager.reader decorator which
manages the session is located on the helper method instead of on the
methods that actually execute the database queries. Part of the context
manager's job is to close the session after the query is executed.
Because the decorator is not on the methods that actually execute the
queries, those database connections are not being closed and it will
eventually lead to errors like:

  sqlalchemy.exc.TimeoutError: QueuePool limit of size 5 overflow 50
  reached, connection timed out, timeout 30.00 (Background on this
  error at: https://sqlalche.me/e/14/3o7r)

which means the connection pool size plus the overflow size has been
reached and the pool will block for a fixed period of time before
timing out and raising this error.

This removes the @api_db_api.context_manager.reader decorator from the
query build helper method and adds it to the Flavor.get_* methods that
execute the database queries.

Conflicts:
    nova/objects/flavor.py

NOTE(melwitt): The conflicts are because change
Ia5304c552ce552ae3c5223a2bfb3a9cd543ec57c (db: Post reshuffle cleanup)
is not in Wallaby.

Closes-Bug: #2027755

Change-Id: I4bf83d1642b62ab103716aff6dae7438646e2b31
(cherry picked from commit 9ae6240c92e212b2fa96d5163f68ef1b30ee03b7)
(cherry picked from commit 4f4f27be27cb202be6a8fb949ad21021a5cd735d)
(cherry picked from commit 53e3afe3a6024be6ead35132230dc468dd808850)
(cherry picked from commit 5f1f22c07a00021cacf97d74031c1033916f9b44)
(cherry picked from commit 47f9606e00d78a7ef8fd5115eada1959b3773c75)
",['nova/objects/flavor.py']
openstack%2Fnova~900838,openstack/nova,stable/wallaby,I24a269f9809063f864a4f0443d6724dfa8703d9d,Fix exception catch when volume mount fails,ABANDONED,2023-11-14 01:15:43.000000000,2024-03-05 19:04:02.000000000,27,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-11-14 01:15:43.000000000', 'files': ['nova/tests/unit/virt/libvirt/volume/test_mount.py', 'nova/virt/libvirt/volume/mount.py'], 'message': 'Fix exception catch when volume mount fails\n\nWhen we call nova.privsep.fs.mount(), we are catching\nProcessExecutionError() (an instance of a class) and that is not allowed\nin python3.\n\nThis changes the except statement to catch ProcessExecutionError\n(class) instead.\n\nCloses-Bug: #1984736\n\nChange-Id: I24a269f9809063f864a4f0443d6724dfa8703d9d\n(cherry picked from commit f996674c36fe1a109853d88113e27b44a7a5cf45)\n(cherry picked from commit baa0b4ff87a044228438cc32c27d4424fa6bc0c4)\n(cherry picked from commit 70f8d05947c9fb0ad3b3022b33efe6e823115a56)\n(cherry picked from commit 8ca7fcb6d9e9202019e3f317d3ba0821b1612422)\n(cherry picked from commit 6a15fad96483f7907bcfa747e4b3a39a56ac1c4f)\n'}]",900838,ff3f29beac6d3cf3f3dddfd5b494340eac2d486f,4690,melanie witt,melwitt,0,"Fix exception catch when volume mount fails

When we call nova.privsep.fs.mount(), we are catching
ProcessExecutionError() (an instance of a class) and that is not allowed
in python3.

This changes the except statement to catch ProcessExecutionError
(class) instead.

Closes-Bug: #1984736

Change-Id: I24a269f9809063f864a4f0443d6724dfa8703d9d
(cherry picked from commit f996674c36fe1a109853d88113e27b44a7a5cf45)
(cherry picked from commit baa0b4ff87a044228438cc32c27d4424fa6bc0c4)
(cherry picked from commit 70f8d05947c9fb0ad3b3022b33efe6e823115a56)
(cherry picked from commit 8ca7fcb6d9e9202019e3f317d3ba0821b1612422)
(cherry picked from commit 6a15fad96483f7907bcfa747e4b3a39a56ac1c4f)
","['nova/tests/unit/virt/libvirt/volume/test_mount.py', 'nova/virt/libvirt/volume/mount.py']"
openstack%2Fnova~900845,openstack/nova,stable/wallaby,I4d45f383b3c4794f8a114047455efb764f60f2a2,Improve logging at '_numa_cells_support_network_metadata',ABANDONED,2023-11-14 01:41:36.000000000,2024-03-05 19:03:58.000000000,25,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2023-11-14 01:41:36.000000000', 'files': ['nova/virt/hardware.py'], 'message': ""Improve logging at '_numa_cells_support_network_metadata'\n\nThis adds 'debug' level messages at the branches of the function that\nlead to a 'False' result. These branches are:\n\n  - Physnet found affinity on a NUMA cell outside the chosen ones\n  - Tunneled networks found affinity on a NUMA cell outside the\n    chosen ones\n\nPartial-Bug: #1751784\n\nChange-Id: I4d45f383b3c4794f8a114047455efb764f60f2a2\n(cherry picked from commit 1915a3122a1df1f0dbe5edbaf25919f8875733af)\n(cherry picked from commit 0d970bfa5a73ef20dcedce4336140850fd4ea363)\n(cherry picked from commit 43273631d8dec01f25c622b9ac93fcd78aed8dd5)\n(cherry picked from commit 4b6f880e24115b50a54bd10a5d0930efd4def978)\n(cherry picked from commit b15ef7926c7f1d09754ed210717bf45f964d338d)\n(cherry picked from commit 9f6b9397a39670fd9b3f6213cff1d835d83781d2)\n""}]",900845,9c7eb771333454561365587ebfcc179d3a202022,4690,melanie witt,melwitt,0,"Improve logging at '_numa_cells_support_network_metadata'

This adds 'debug' level messages at the branches of the function that
lead to a 'False' result. These branches are:

  - Physnet found affinity on a NUMA cell outside the chosen ones
  - Tunneled networks found affinity on a NUMA cell outside the
    chosen ones

Partial-Bug: #1751784

Change-Id: I4d45f383b3c4794f8a114047455efb764f60f2a2
(cherry picked from commit 1915a3122a1df1f0dbe5edbaf25919f8875733af)
(cherry picked from commit 0d970bfa5a73ef20dcedce4336140850fd4ea363)
(cherry picked from commit 43273631d8dec01f25c622b9ac93fcd78aed8dd5)
(cherry picked from commit 4b6f880e24115b50a54bd10a5d0930efd4def978)
(cherry picked from commit b15ef7926c7f1d09754ed210717bf45f964d338d)
(cherry picked from commit 9f6b9397a39670fd9b3f6213cff1d835d83781d2)
",['nova/virt/hardware.py']
openstack%2Fnova~865336,openstack/nova,stable/wallaby,Iad5e70b43a65c076134e1874cb8e75d1ba214fde,Record SRIOV PF MAC in the binding profile,ABANDONED,2022-11-22 20:59:56.000000000,2024-03-05 19:03:54.000000000,911,150,"[{'_account_id': 4393, 'name': 'Dan Smith', 'email': 'dms@danplanet.com', 'username': 'danms'}, {'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,14,"[{'number': 4, 'created': '2023-10-11 13:03:14.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/virt/fake.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/objects/pci_device.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py', 'releasenotes/notes/bug-1942329-22b08fa4b322881d.yaml'], 'message': 'Record SRIOV PF MAC in the binding profile\n\nToday Nova updates the mac_address of a direct-physical port to reflect\nthe MAC address of the physical device the port is bound to. But this\ncan only be done before the port is bound. However during migration Nova\ndoes not update the MAC when the port is bound to a different physical\ndevice on the destination host.\n\nThis patch extends the libvirt virt driver to provide the MAC address of\nthe PF in the pci_info returned to the resource tracker. This\ninformation will be then persisted in the extra_info field of the\nPciDevice object.\n\nThen the port update logic during migration, resize, live\nmigration, evacuation and unshelve is also extended to record the MAC of\nphysical device in the port binding profile according to the device on\nthe destination host.\n\nThe related neutron change Ib0638f5db69cb92daf6932890cb89e83cf84f295\nuses this info from the binding profile to update the mac_address field\nof the port when the binding is activated.\n\nCloses-Bug: #1942329\n\nChange-Id: Iad5e70b43a65c076134e1874cb8e75d1ba214fde\n(cherry picked from commit cd03bbc1c33e33872594cf002f0e7011ab8ea047)\n(cherry picked from commit 813377077bd0173bdf128823e46b5df7c0a575b9)\n(cherry picked from commit a340630c5c78e5f5856004d0a551dfa93df7f28d)\n'}]",865336,434391b75c05adf292b752c07fb420816a92b0a9,11604,sean mooney,sean-k-mooney,0,"Record SRIOV PF MAC in the binding profile

Today Nova updates the mac_address of a direct-physical port to reflect
the MAC address of the physical device the port is bound to. But this
can only be done before the port is bound. However during migration Nova
does not update the MAC when the port is bound to a different physical
device on the destination host.

This patch extends the libvirt virt driver to provide the MAC address of
the PF in the pci_info returned to the resource tracker. This
information will be then persisted in the extra_info field of the
PciDevice object.

Then the port update logic during migration, resize, live
migration, evacuation and unshelve is also extended to record the MAC of
physical device in the port binding profile according to the device on
the destination host.

The related neutron change Ib0638f5db69cb92daf6932890cb89e83cf84f295
uses this info from the binding profile to update the mac_address field
of the port when the binding is activated.

Closes-Bug: #1942329

Change-Id: Iad5e70b43a65c076134e1874cb8e75d1ba214fde
(cherry picked from commit cd03bbc1c33e33872594cf002f0e7011ab8ea047)
(cherry picked from commit 813377077bd0173bdf128823e46b5df7c0a575b9)
(cherry picked from commit a340630c5c78e5f5856004d0a551dfa93df7f28d)
","['nova/tests/unit/network/test_neutron.py', 'nova/virt/fake.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/objects/pci_device.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py', 'releasenotes/notes/bug-1942329-22b08fa4b322881d.yaml']"
openstack%2Fnova~866158,openstack/nova,stable/wallaby,Ifed0fa16053228990a6a8df8d4c666521db7e329,Handle mdev devices in libvirt 7.7+,ABANDONED,2022-11-30 13:08:45.000000000,2024-03-05 19:03:50.000000000,96,26,"[{'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 8, 'created': '2023-10-11 13:03:14.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1951656.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/virt/libvirt/utils.py'], 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n(cherry picked from commit a28b907c4f0dbba6e141a8fbea807e6cb0438977)\n(cherry picked from commit 98d8c9eaa3c415cc234193e6a9115db887751363)\n(cherry picked from commit db8061a56095f364bee4760a58f4416cb36e026e)\n(cherry picked from commit 3f423dacd34edf9c8d628cc0acd0d2a1f3a211db)\n""}]",866158,4a0581ab4468cf19196bcd2081c7c02df62b9116,7166,Sylvain Bauza,sbauza,0,"Handle mdev devices in libvirt 7.7+

Libvirt 7.7 changed the mdev device naming to include the parent PCI
device when listing node devices. The domain, however, will still only
see the UUID and not see the parent PCI device. Changing the parsing to
simply drop the PCI identifier is not enough as the device cannot be
found when attempting to lookup the new ID.

Modify the Libvirt Driver's _get_mediated_device_information to tolerate
different formats of the mdev name. This first uses the legacy behavior
by trying to lookup the device name that is passed in (typically
mdev_<uuid> format) and if that is not found, iterates the list of mdev
node devices until the right UUID is found and selects that one.

Note that the lookup of the mdev device by UUID are needed in order
to keep the ability to recreate assigned mediated devices on a reboot of
the compute node.

Additionally, the libvirt utils parsing method mdev_name2uuid, has
been updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>
formats.

Closes-Bug: 1951656

Change-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329
(cherry picked from commit a28b907c4f0dbba6e141a8fbea807e6cb0438977)
(cherry picked from commit 98d8c9eaa3c415cc234193e6a9115db887751363)
(cherry picked from commit db8061a56095f364bee4760a58f4416cb36e026e)
(cherry picked from commit 3f423dacd34edf9c8d628cc0acd0d2a1f3a211db)
","['nova/tests/functional/regressions/test_bug_1951656.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/virt/libvirt/utils.py']"
openstack%2Fnova~904082,openstack/nova,stable/wallaby,I300a3e29ba56584f4c99d534a6cf8ee7dc0ed4b7,Fixed an error when caching multiple images in aggregate,ABANDONED,2023-12-20 07:45:33.000000000,2024-03-05 19:03:47.000000000,26,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-12-20 07:45:33.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/api/openstack/compute/aggregates.py'], 'message': 'Fixed an error when caching multiple images in aggregate\n\nBecause in the process of judging whether the image id is Duplicate,there is only deduplication without sorting, so no duplicate image error is judged as duplicate and an error ""Duplicate images in request"" is reported.\n\nNow it is changed to sort after deduplication and then compare.\n\nTwo unit test cases were added to verify the fix\n\nRelated-Bug: #2034702\nChange-Id: I300a3e29ba56584f4c99d534a6cf8ee7dc0ed4b7\n(cherry picked from commit aa500fbb31d2f7129c048460e57a3dff229cabc8)\n'}]",904082,8902eee0fa95b75d79c952cd041a19d14eee0731,36115,liwenjian,liwenjian,0,"Fixed an error when caching multiple images in aggregate

Because in the process of judging whether the image id is Duplicate,there is only deduplication without sorting, so no duplicate image error is judged as duplicate and an error ""Duplicate images in request"" is reported.

Now it is changed to sort after deduplication and then compare.

Two unit test cases were added to verify the fix

Related-Bug: #2034702
Change-Id: I300a3e29ba56584f4c99d534a6cf8ee7dc0ed4b7
(cherry picked from commit aa500fbb31d2f7129c048460e57a3dff229cabc8)
","['nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/api/openstack/compute/aggregates.py']"
openstack%2Fnova~888164,openstack/nova,stable/wallaby,I093de2839c1bb7c949a0812e07b63de4cc5ed167,Add debug logging when Instance raises OrphanedObjectError,ABANDONED,2023-07-11 22:56:41.000000000,2024-03-05 19:03:43.000000000,20,0,"[{'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 20733, 'name': 'Rajesh Tailor', 'email': 'ratailor@redhat.com', 'username': 'rajesht'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34860, 'name': 'Amit Uniyal', 'email': 'auniyal@redhat.com', 'username': 'auniyal'}]",,11,"[{'number': 1, 'created': '2023-07-11 22:56:41.000000000', 'files': ['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'message': 'Add debug logging when Instance raises OrphanedObjectError\n\nThis logging would be helpful in debugging issues when\nOrphanedObjectError is raised by an instance. Currently, there is\nnot a way to identify which instance is attempting to lazy-load a\nfield while orphaned. Being able to locate the instance in the\ndatabase could also help with recovery/cleanup when a problematic\nrecord is disrupting operation of a deployment.\n\nChange-Id: I093de2839c1bb7c949a0812e07b63de4cc5ed167\n(cherry picked from commit e0fbb6fc06d3b08b938af2e36b11f04c57fe6954)\n(cherry picked from commit f32deaa617286e4b0dc2d01585ccb5ac821a571c)\n(cherry picked from commit 9e8456297681ad21680acd35718e3cb97f8458f2)\n(cherry picked from commit 8aa6723fa4355c9e609ab449c28ea3cbe356c839)\n(cherry picked from commit cc75f91aac22199419cc64959cf86e3d41ac5b20)\n'}]",888164,b3e0cfa413bd2be08fd332ccd32114adbc719b88,4690,melanie witt,melwitt,0,"Add debug logging when Instance raises OrphanedObjectError

This logging would be helpful in debugging issues when
OrphanedObjectError is raised by an instance. Currently, there is
not a way to identify which instance is attempting to lazy-load a
field while orphaned. Being able to locate the instance in the
database could also help with recovery/cleanup when a problematic
record is disrupting operation of a deployment.

Change-Id: I093de2839c1bb7c949a0812e07b63de4cc5ed167
(cherry picked from commit e0fbb6fc06d3b08b938af2e36b11f04c57fe6954)
(cherry picked from commit f32deaa617286e4b0dc2d01585ccb5ac821a571c)
(cherry picked from commit 9e8456297681ad21680acd35718e3cb97f8458f2)
(cherry picked from commit 8aa6723fa4355c9e609ab449c28ea3cbe356c839)
(cherry picked from commit cc75f91aac22199419cc64959cf86e3d41ac5b20)
","['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py']"
openstack%2Fnova~875346,openstack/nova,stable/wallaby,Ia738a0972b050f549f446c85171d3f33e60ada4f,Handle InstanceInvalidState exception,ABANDONED,2023-02-27 12:30:10.000000000,2024-03-05 19:03:39.000000000,35,0,"[{'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 8864, 'name': 'Artom Lifshitz', 'email': 'notartom@gmail.com', 'username': 'artom'}, {'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-02-27 17:03:31.000000000', 'date': '2023-02-27 17:03:31.000000000'}, {'rev_nbr': 1, 'author': '2023-02-28 11:54:03.000000000', 'date': '2023-02-28 11:54:03.000000000'}, {'rev_nbr': 1, 'author': '2023-03-01 11:31:57.000000000', 'date': '2023-03-01 11:31:57.000000000'}]",2,"[{'number': 1, 'created': '2023-02-27 12:30:10.000000000', 'files': ['nova/api/openstack/compute/remote_consoles.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/tests/functional/api_sample_tests/test_remote_consoles.py'], 'message': ""Handle InstanceInvalidState exception\n\nWhen instance task state is 'deleting' or 'migrating', then\nget_vnc_console throws 500 error, as InstanceInvalidState\nexception is not handled there.\n\nThis change handles InstanceInvalidState in api layer in\nget_vnc_console call.\n\nCloses-Bug: #1968618\nChange-Id: Ia738a0972b050f549f446c85171d3f33e60ada4f\n(cherry picked from commit ec40d5aee34e9428e2a19231fc3df4d23d75b779)\n(cherry picked from commit 71855163a944e437f9c48a5765f683b55a28c720)\n(cherry picked from commit 286aadf289ef1b001ba7816e20b8cd53ba7a8618)\n(cherry picked from commit bb696a3274f7891dc7def0a33ef9528f6df7b085)\n""}]",875346,1c809f744ea7cde185bbd86041cb58a730be65b0,20733,Rajesh Tailor,rajesht,0,"Handle InstanceInvalidState exception

When instance task state is 'deleting' or 'migrating', then
get_vnc_console throws 500 error, as InstanceInvalidState
exception is not handled there.

This change handles InstanceInvalidState in api layer in
get_vnc_console call.

Closes-Bug: #1968618
Change-Id: Ia738a0972b050f549f446c85171d3f33e60ada4f
(cherry picked from commit ec40d5aee34e9428e2a19231fc3df4d23d75b779)
(cherry picked from commit 71855163a944e437f9c48a5765f683b55a28c720)
(cherry picked from commit 286aadf289ef1b001ba7816e20b8cd53ba7a8618)
(cherry picked from commit bb696a3274f7891dc7def0a33ef9528f6df7b085)
","['nova/api/openstack/compute/remote_consoles.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/tests/functional/api_sample_tests/test_remote_consoles.py']"
openstack%2Fnova~875344,openstack/nova,stable/wallaby,Id4c8c5f3b32985ac7d3d7c833b82e0876f7367c1,Fix rescue volume-based instance,ABANDONED,2023-02-27 12:27:53.000000000,2024-03-05 19:03:36.000000000,220,11,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 8864, 'name': 'Artom Lifshitz', 'email': 'notartom@gmail.com', 'username': 'artom'}, {'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-03-02 11:22:55.000000000', 'date': '2023-03-02 11:22:55.000000000'}, {'rev_nbr': 1, 'author': '2023-04-27 13:50:58.000000000', 'date': '2023-04-27 13:50:58.000000000'}]",6,"[{'number': 1, 'created': '2023-02-27 12:27:53.000000000', 'files': ['releasenotes/notes/rescue-volume-based-instance-c6e3fba236d90be7.yaml', 'nova/tests/functional/test_server_rescue.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'message': 'Fix rescue volume-based instance\n\nAs of now, when attempting to rescue a volume-based instance\nusing an image without the hw_rescue_device and/or hw_rescue_bus\nproperties set, the rescue api call fails (as non-stable rescue\nfor volume-based instances are not supported) leaving the instance\nin error state.\n\nThis change checks for hw_rescue_device/hw_rescue_bus image\nproperties before attempting to rescue and if the property\nis not set, then fail with proper error message, without changing\ninstance state.\n\nRelated-Bug: #1978958\nCloses-Bug: #1926601\nChange-Id: Id4c8c5f3b32985ac7d3d7c833b82e0876f7367c1\n(cherry picked from commit 6eed55bf55469f4ceaa7d4d4eb1be635e14bc73b)\n(cherry picked from commit d00a848a735f98b028f5930798ee69ef205c8e2e)\n(cherry picked from commit 4073aa51f79be54e2e6e8143666a7c1f9a00e03d)\n(cherry picked from commit c977027b1933e408c58508e883f6a799ffacc4cc)\n'}]",875344,99164cb1401bcf29d0e00263bc8d09ec5291468e,20733,Rajesh Tailor,rajesht,0,"Fix rescue volume-based instance

As of now, when attempting to rescue a volume-based instance
using an image without the hw_rescue_device and/or hw_rescue_bus
properties set, the rescue api call fails (as non-stable rescue
for volume-based instances are not supported) leaving the instance
in error state.

This change checks for hw_rescue_device/hw_rescue_bus image
properties before attempting to rescue and if the property
is not set, then fail with proper error message, without changing
instance state.

Related-Bug: #1978958
Closes-Bug: #1926601
Change-Id: Id4c8c5f3b32985ac7d3d7c833b82e0876f7367c1
(cherry picked from commit 6eed55bf55469f4ceaa7d4d4eb1be635e14bc73b)
(cherry picked from commit d00a848a735f98b028f5930798ee69ef205c8e2e)
(cherry picked from commit 4073aa51f79be54e2e6e8143666a7c1f9a00e03d)
(cherry picked from commit c977027b1933e408c58508e883f6a799ffacc4cc)
","['releasenotes/notes/rescue-volume-based-instance-c6e3fba236d90be7.yaml', 'nova/tests/functional/test_server_rescue.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']"
openstack%2Fdesignate~860964,openstack/designate,stable/wallaby,If7aa4f2172b07a3538f3aea3a7df5a291d8c93b1,Restrict virtualenv to avoid suds-jurko dep issue,ABANDONED,2022-10-11 16:26:43.000000000,2024-03-05 19:03:18.000000000,2,1,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,14,"[{'number': 4, 'created': '2022-10-13 16:05:02.000000000', 'files': ['tox.ini'], 'message': 'Restrict virtualenv to avoid suds-jurko dep issue\n\nSince an unconstrained virtualenv can cause breakage in downstream\nCI systems using much later versions of packages, constrain it in\ntox.ini.  This resolves an issue for stable/wallaby that was later\nresolved in yoga [1] without requiring an invasive backport.\n\nThis also implies a bump of tox version to one released in 2018.\n\n[1] https://review.opendev.org/c/openstack/designate/+/813380\n\nChange-Id: If7aa4f2172b07a3538f3aea3a7df5a291d8c93b1\nCloses-Bug: #1992825\n'}]",860964,2559524b710c6c85afc7915765c8eaff04b3392b,13995,Nate Johnston,natejohnston,0,"Restrict virtualenv to avoid suds-jurko dep issue

Since an unconstrained virtualenv can cause breakage in downstream
CI systems using much later versions of packages, constrain it in
tox.ini.  This resolves an issue for stable/wallaby that was later
resolved in yoga [1] without requiring an invasive backport.

This also implies a bump of tox version to one released in 2018.

[1] https://review.opendev.org/c/openstack/designate/+/813380

Change-Id: If7aa4f2172b07a3538f3aea3a7df5a291d8c93b1
Closes-Bug: #1992825
",['tox.ini']
openstack%2Fzaqar~892308,openstack/zaqar,stable/victoria,I16436aa19da2cf53951c9ad27bca14033194651a,Use processutils to fix TypeError in subprocess,ABANDONED,2023-08-22 13:12:42.000000000,2024-03-05 19:01:19.000000000,15,10,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 5, 'created': '2023-08-23 03:08:29.000000000', 'files': ['requirements.txt', 'zaqar/tests/unit/notification/test_notifier.py', 'zaqar/notification/tasks/mailto.py', 'lower-constraints.txt'], 'message': 'Use processutils to fix TypeError in subprocess\n\nCalling processutils.execute() other than subprocess to\nfix bytes-like and str issue in python3.\n\nCloses-bug: #2029392\nChange-Id: I16436aa19da2cf53951c9ad27bca14033194651a\n(cherry picked from commit e0937b1f097f72238033ccc7182c88ab870bc23f)\n'}]",892308,82bd7ad580d319392a0da1a246b0f68d14c90fae,21757,Xing Zhang,angeiv,0,"Use processutils to fix TypeError in subprocess

Calling processutils.execute() other than subprocess to
fix bytes-like and str issue in python3.

Closes-bug: #2029392
Change-Id: I16436aa19da2cf53951c9ad27bca14033194651a
(cherry picked from commit e0937b1f097f72238033ccc7182c88ab870bc23f)
","['requirements.txt', 'zaqar/tests/unit/notification/test_notifier.py', 'zaqar/notification/tasks/mailto.py', 'lower-constraints.txt']"
openstack%2Fplacement~845770,openstack/placement,stable/victoria,Ia9dce4590d5656f8d5f777e158a1ff67c059c87a,Add periodic-stable-jobs template,ABANDONED,2022-06-14 15:02:10.000000000,2024-03-05 19:00:50.000000000,1,0,"[{'_account_id': 7634, 'name': 'Takashi Natsume', 'email': 'takanattie@gmail.com', 'username': 'natsumet'}, {'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2022-06-14 15:02:10.000000000', 'files': ['.zuul.yaml'], 'message': 'Add periodic-stable-jobs template\n\nPeriodic stable jobs (one py3 and a docs job) are not running towards\nplacement. This patch adds the template to .zuul.yaml\n\nConflicts:\n  .zuul.yaml\n\nNOTE(elod.illes): conflict is due to branch specific job template name.\n\nChange-Id: Ia9dce4590d5656f8d5f777e158a1ff67c059c87a\n(cherry picked from commit a0749aec17d1663c58b23d470ad9f56684d5d590)\n(cherry picked from commit e7b22c3e92db0e57f69b0e647ccf57670f5d357f)\n'}]",845770,3ef8dabaf7011ed3dc47ac11257f88abc34508a5,17685,Elod Illes,elod.illes,0,"Add periodic-stable-jobs template

Periodic stable jobs (one py3 and a docs job) are not running towards
placement. This patch adds the template to .zuul.yaml

Conflicts:
  .zuul.yaml

NOTE(elod.illes): conflict is due to branch specific job template name.

Change-Id: Ia9dce4590d5656f8d5f777e158a1ff67c059c87a
(cherry picked from commit a0749aec17d1663c58b23d470ad9f56684d5d590)
(cherry picked from commit e7b22c3e92db0e57f69b0e647ccf57670f5d357f)
",['.zuul.yaml']
openstack%2Foctavia~849513,openstack/octavia,stable/victoria,I1b4c18d3bec5ff62adf48d3d751d553eb359ccbe,Use run_flow for failover functions in v2 control worker,ABANDONED,2022-07-12 12:55:13.000000000,2024-03-05 19:00:20.000000000,3,3,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29244, 'name': 'Gregory Thiemonge', 'email': 'gthiemon@redhat.com', 'username': 'gthiemonge'}]",,0,"[{'number': 1, 'created': '2022-07-12 12:55:13.000000000', 'files': ['octavia/controller/worker/v2/controller_worker.py'], 'message': 'Use run_flow for failover functions in v2 control worker\n\nAlign failover_amphora and failover_loadbalancer to use\nrun_flow.\n\nAlso avoid NoneType error in logging of create_health_monitor.\n\nChange-Id: I1b4c18d3bec5ff62adf48d3d751d553eb359ccbe\n(cherry picked from commit a9a817e428a5ec71c478a48b4e29378b9daeb410)\n'}]",849513,a5aedba7fb7a4e906ebe365137e654b43c1bb40f,29244,Gregory Thiemonge,gthiemonge,0,"Use run_flow for failover functions in v2 control worker

Align failover_amphora and failover_loadbalancer to use
run_flow.

Also avoid NoneType error in logging of create_health_monitor.

Change-Id: I1b4c18d3bec5ff62adf48d3d751d553eb359ccbe
(cherry picked from commit a9a817e428a5ec71c478a48b4e29378b9daeb410)
",['octavia/controller/worker/v2/controller_worker.py']
openstack%2Fnova~754688,openstack/nova,stable/victoria,Ic28b568f3f8a657d1b391d46fc35b4b3aab853a6,[stable-only] nova-live-migration: Disable libvirtd during negative tests,ABANDONED,2020-09-28 10:55:23.000000000,2024-03-05 19:00:12.000000000,2,2,"[{'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 10118, 'name': 'IBM PowerKVM CI', 'email': 'kvmpower@linux.vnet.ibm.com', 'username': 'powerkvm', 'tags': ['SERVICE_USER']}, {'_account_id': 10135, 'name': 'Lee Yarwood', 'display_name': 'Lee Yarwood', 'email': 'lyarwood@redhat.com', 'username': 'lyarwood'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 26515, 'name': 'Cloudbase Nova Hyper-V CI', 'email': 'nova_hyperv_ci@cloudbasesolutions.com', 'username': 'nova_hyperv_ci'}, {'_account_id': 29963, 'name': 'Intel_Zuul', 'display_name': 'Intel Corporation CI', 'email': 'intel-openstack-ci@intel.com', 'username': 'Intel_Zuul'}]","[{'rev_nbr': 1, 'author': '2020-09-28 16:02:55.000000000', 'date': '2020-09-28 16:02:55.000000000'}, {'rev_nbr': 1, 'author': '2020-09-28 21:34:59.000000000', 'date': '2020-09-28 21:34:59.000000000'}, {'rev_nbr': 2, 'author': '2020-09-30 19:36:03.000000000', 'date': '2020-09-30 19:36:03.000000000'}, {'rev_nbr': 4, 'author': '2020-10-01 10:04:42.000000000', 'date': '2020-10-01 10:04:42.000000000'}, {'rev_nbr': 4, 'author': '2020-10-14 23:58:46.000000000', 'date': '2020-10-14 23:58:46.000000000'}, {'rev_nbr': 4, 'author': '2020-10-15 04:49:48.000000000', 'date': '2020-10-15 04:49:48.000000000'}, {'rev_nbr': 4, 'author': '2020-10-15 05:35:19.000000000', 'date': '2020-10-15 05:35:19.000000000'}, {'rev_nbr': 4, 'author': '2020-12-17 11:48:11.000000000', 'date': '2020-12-17 11:48:11.000000000'}, {'rev_nbr': 4, 'author': '2020-12-17 12:09:28.000000000', 'date': '2020-12-17 12:09:28.000000000'}, {'rev_nbr': 4, 'author': '2021-01-27 14:24:02.000000000', 'date': '2021-01-27 14:24:02.000000000'}, {'rev_nbr': 4, 'author': '2021-01-27 14:59:38.000000000', 'date': '2021-01-27 14:59:38.000000000'}]",0,"[{'number': 4, 'created': '2020-10-01 08:35:11.000000000', 'files': ['gate/test_evacuate.sh'], 'message': '[stable-only] nova-live-migration: Disable libvirtd during negative tests\n\nAs with I2333872670e9e6c905efad7461af4d149f8216b6 on master now that\nstable/victoria is running on Focal we need to ensure both the libvirtd\nservice and associated sockets are disabled during the negative\nevacuation tests and re-enabled for the positive tests.\n\nDepends-On: https://review.opendev.org/#/c/749618/\nChange-Id: Ic28b568f3f8a657d1b391d46fc35b4b3aab853a6\n'}]",754688,9290531b089f8c851cc94fc534c633f76b73189a,10135,Lee Yarwood,lyarwood,0,"[stable-only] nova-live-migration: Disable libvirtd during negative tests

As with I2333872670e9e6c905efad7461af4d149f8216b6 on master now that
stable/victoria is running on Focal we need to ensure both the libvirtd
service and associated sockets are disabled during the negative
evacuation tests and re-enabled for the positive tests.

Depends-On: https://review.opendev.org/#/c/749618/
Change-Id: Ic28b568f3f8a657d1b391d46fc35b4b3aab853a6
",['gate/test_evacuate.sh']
openstack%2Fnova~758240,openstack/nova,stable/victoria,Ie8bb5e5622bd37dfe8073cca12f77174e8e7d98c,libvirt: Log exception when unable to import rbd or rados,ABANDONED,2020-10-14 20:18:19.000000000,2024-03-05 19:00:08.000000000,40,15,"[{'_account_id': 9732, 'name': 'Mellanox CI', 'email': 'mlnx-openstack-ci@dev.mellanox.co.il', 'username': 'mellanox', 'tags': ['SERVICE_USER']}, {'_account_id': 10118, 'name': 'IBM PowerKVM CI', 'email': 'kvmpower@linux.vnet.ibm.com', 'username': 'powerkvm', 'tags': ['SERVICE_USER']}, {'_account_id': 10135, 'name': 'Lee Yarwood', 'display_name': 'Lee Yarwood', 'email': 'lyarwood@redhat.com', 'username': 'lyarwood'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 26515, 'name': 'Cloudbase Nova Hyper-V CI', 'email': 'nova_hyperv_ci@cloudbasesolutions.com', 'username': 'nova_hyperv_ci'}, {'_account_id': 29963, 'name': 'Intel_Zuul', 'display_name': 'Intel Corporation CI', 'email': 'intel-openstack-ci@intel.com', 'username': 'Intel_Zuul'}]","[{'rev_nbr': 1, 'author': '2020-10-14 22:49:10.000000000', 'date': '2020-10-14 22:49:10.000000000'}, {'rev_nbr': 1, 'author': '2020-10-14 22:59:48.000000000', 'date': '2020-10-14 22:59:48.000000000'}, {'rev_nbr': 1, 'author': '2020-10-16 15:15:20.000000000', 'date': '2020-10-16 15:15:20.000000000'}, {'rev_nbr': 1, 'author': '2020-10-16 15:33:45.000000000', 'date': '2020-10-16 15:33:45.000000000'}, {'rev_nbr': 1, 'author': '2020-10-16 16:31:39.000000000', 'date': '2020-10-16 16:31:39.000000000'}, {'rev_nbr': 2, 'author': '2021-04-13 13:25:02.000000000', 'date': '2021-04-13 13:25:02.000000000'}, {'rev_nbr': 2, 'author': '2021-04-13 15:13:14.000000000', 'date': '2021-04-13 15:13:14.000000000'}]",0,"[{'number': 2, 'created': '2021-04-13 10:51:08.000000000', 'files': ['nova/storage/rbd_utils.py', 'nova/tests/unit/image/test_glance.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': ""libvirt: Log exception when unable to import rbd or rados\n\nThis should help provide some context when the RbdDriver later raises a\nRuntimeError if rbd or rados hasn't been imported correctly.\n\nNOTE(lyarwood): This includes the following change squashed in to reduce\nnoise in the logs and limit these warnings to times that the RbdDriver\nis actually used.\n\nrbd: Only log import failures when the RbdDriver is used\n\nRework Ie8bb5e5622bd37dfe8073cca12f77174e8e7d98c so we only log failures\nto import the rbd or rados modules when the RbdDriver is used.\n\nThis should reduce noise in the logs at runtime as well as during unit\nand functional tests runs where these modules are not present.\n\nChange-Id: I150e70629f6ae579ccfe0bf585c8a27df14fb51d\nCloses-Bug: #1903316\n(cherry picked from commit 4916ab7a4cb67edc0b54a8ee67c58b1302769792)\n\nChange-Id: Ie8bb5e5622bd37dfe8073cca12f77174e8e7d98c\n(cherry picked from commit aa16dd09ebeb21d0b81682b0b6026de0fe4f23b7)\n""}]",758240,09ab9df83b1d7323b94477245db08e2b99f1f3ce,10135,Lee Yarwood,lyarwood,0,"libvirt: Log exception when unable to import rbd or rados

This should help provide some context when the RbdDriver later raises a
RuntimeError if rbd or rados hasn't been imported correctly.

NOTE(lyarwood): This includes the following change squashed in to reduce
noise in the logs and limit these warnings to times that the RbdDriver
is actually used.

rbd: Only log import failures when the RbdDriver is used

Rework Ie8bb5e5622bd37dfe8073cca12f77174e8e7d98c so we only log failures
to import the rbd or rados modules when the RbdDriver is used.

This should reduce noise in the logs at runtime as well as during unit
and functional tests runs where these modules are not present.

Change-Id: I150e70629f6ae579ccfe0bf585c8a27df14fb51d
Closes-Bug: #1903316
(cherry picked from commit 4916ab7a4cb67edc0b54a8ee67c58b1302769792)

Change-Id: Ie8bb5e5622bd37dfe8073cca12f77174e8e7d98c
(cherry picked from commit aa16dd09ebeb21d0b81682b0b6026de0fe4f23b7)
","['nova/storage/rbd_utils.py', 'nova/tests/unit/image/test_glance.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~791482,openstack/nova,stable/victoria,I7fa75a0d2e2555d99c3d2c16b333a21462837580,Add regression test for bug #1922053,ABANDONED,2021-05-14 13:31:31.000000000,2024-03-05 19:00:04.000000000,108,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-05-14 13:31:31.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1922053.py'], 'message': 'Add regression test for bug #1922053\n\nRelated-Bug: #1922053\nChange-Id: I7fa75a0d2e2555d99c3d2c16b333a21462837580\n(cherry picked from commit db333070b61caef62ea5b68e5bf75f92d879db74)\n(cherry picked from commit 1a82ee80e6c213e741fa6ed9d6f3de7f0ce27d4c)\n'}]",791482,1d144f9de1768ab5fff034f459e49bd68e758893,10135,Lee Yarwood,lyarwood,0,"Add regression test for bug #1922053

Related-Bug: #1922053
Change-Id: I7fa75a0d2e2555d99c3d2c16b333a21462837580
(cherry picked from commit db333070b61caef62ea5b68e5bf75f92d879db74)
(cherry picked from commit 1a82ee80e6c213e741fa6ed9d6f3de7f0ce27d4c)
",['nova/tests/functional/regressions/test_bug_1922053.py']
openstack%2Fnova~791483,openstack/nova,stable/victoria,I95882ea28564a31a6b4f8b665de462774d84edfc,api: Reject requests to force up computes when `done` evacuation records exist,ABANDONED,2021-05-14 13:31:31.000000000,2024-03-05 19:00:00.000000000,40,12,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-05-14 15:47:10.000000000', 'date': '2021-05-14 15:47:10.000000000'}, {'rev_nbr': 1, 'author': '2021-05-14 17:58:11.000000000', 'date': '2021-05-14 17:58:11.000000000'}]",0,"[{'number': 1, 'created': '2021-05-14 13:31:31.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/functional/regressions/test_bug_1922053.py', 'nova/api/openstack/compute/services.py', 'nova/tests/functional/test_servers.py'], 'message': 'api: Reject requests to force up computes when `done` evacuation records exist\n\nWhen evacuating an instance the evacuation migration record moves from a\nstate of `accepted` to `pre-migrating` and eventually `done` once the\ninstance has been rebuilt on the new compute host. At present the\nmigration record remains in this state until the original compute host\nis restarted and the service cleans up any leftovers of the instance\nbefore it is moved to a state of `completed`.\n\nBug #1922053 details a use case where an operator might unintentionally\nforget to ensure the compute service is restarted before forcing the\nservice up leaving evacuation migration records stuck as `done`.\n\nThis could become an issue in the future if the instance is moved back\nto this compute before the service is restarted. Any future restart\ninvoking the cleanup logic and potentially damaging the running\ninstance.\n\nThis change aims to address this by blocking requests to force up\ncomputes associated to `done` evacuation records. Forcing operators to\nrestart the service allowing them to move to a `completed` state before\nthe service can be forced up again.\n\nTo allow this to be backportable these requests are rejected with a 400\nBadRequest return code from the API. A TODO is left to move this to a\n409 Conflict during the Xena release under a new microversion.\n\nFinally, some additional functional tests have been updated to ensure\nthey restart the source compute service of an evacuation before\nattempting to force up the service, ensuring any migration records are\nmarked as completed.\n\nCloses-Bug: #1922053\nChange-Id: I95882ea28564a31a6b4f8b665de462774d84edfc\n(cherry picked from commit bf89a23d91f01a29ba9b19bd0accf8de8c05f2f7)\n(cherry picked from commit f9b1c1f9b046745276046b6e940d01211a323913)\n'}]",791483,25993dfcad4bdab169a71425db191550f6a6699f,10135,Lee Yarwood,lyarwood,0,"api: Reject requests to force up computes when `done` evacuation records exist

When evacuating an instance the evacuation migration record moves from a
state of `accepted` to `pre-migrating` and eventually `done` once the
instance has been rebuilt on the new compute host. At present the
migration record remains in this state until the original compute host
is restarted and the service cleans up any leftovers of the instance
before it is moved to a state of `completed`.

Bug #1922053 details a use case where an operator might unintentionally
forget to ensure the compute service is restarted before forcing the
service up leaving evacuation migration records stuck as `done`.

This could become an issue in the future if the instance is moved back
to this compute before the service is restarted. Any future restart
invoking the cleanup logic and potentially damaging the running
instance.

This change aims to address this by blocking requests to force up
computes associated to `done` evacuation records. Forcing operators to
restart the service allowing them to move to a `completed` state before
the service can be forced up again.

To allow this to be backportable these requests are rejected with a 400
BadRequest return code from the API. A TODO is left to move this to a
409 Conflict during the Xena release under a new microversion.

Finally, some additional functional tests have been updated to ensure
they restart the source compute service of an evacuation before
attempting to force up the service, ensuring any migration records are
marked as completed.

Closes-Bug: #1922053
Change-Id: I95882ea28564a31a6b4f8b665de462774d84edfc
(cherry picked from commit bf89a23d91f01a29ba9b19bd0accf8de8c05f2f7)
(cherry picked from commit f9b1c1f9b046745276046b6e940d01211a323913)
","['nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/functional/regressions/test_bug_1922053.py', 'nova/api/openstack/compute/services.py', 'nova/tests/functional/test_servers.py']"
openstack%2Fnova~788467,openstack/nova,stable/victoria,I0e068043d8267ab91535413d950a3e154c2234f7,libvirt: Ignore device already in the process of unplug errors,ABANDONED,2021-04-28 10:24:09.000000000,2024-03-05 18:59:56.000000000,54,0,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-04-28 12:57:27.000000000', 'date': '2021-04-28 12:57:27.000000000'}, {'rev_nbr': 1, 'author': '2021-04-29 17:16:46.000000000', 'date': '2021-04-29 17:16:46.000000000'}, {'rev_nbr': 1, 'author': '2021-04-29 17:59:14.000000000', 'date': '2021-04-29 17:59:14.000000000'}, {'rev_nbr': 1, 'author': '2021-04-30 09:58:25.000000000', 'date': '2021-04-30 09:58:25.000000000'}, {'rev_nbr': 1, 'author': '2021-04-30 10:19:28.000000000', 'date': '2021-04-30 10:19:28.000000000'}, {'rev_nbr': 3, 'author': '2021-05-21 09:54:12.000000000', 'date': '2021-05-21 09:54:12.000000000'}, {'rev_nbr': 3, 'author': '2021-05-21 11:26:43.000000000', 'date': '2021-05-21 11:26:43.000000000'}]",1,"[{'number': 3, 'created': '2021-05-21 08:16:42.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py'], 'message': 'libvirt: Ignore device already in the process of unplug errors\n\nAt present QEMU will raise an error to libvirt when a device_del request\nis made for a device that has already partially detached through a\nprevious request. This is outlined in more detail in the following\ndownstream Red Hat QEMU bug report:\n\nGet libvirtError ""Device XX is already in the process of unplug"" [..]\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1878659\n\nWithin Nova we can actually ignore this error and allow our existing\nretry logic to attempt again after a short wait, hopefully allowing the\noriginal request to complete removing the device from the domain.\n\nThis change does this and should result in one of the following\ndevice_del requests raising a VIR_ERR_DEVICE_MISSING error from libvirt.\n_try_detach_device should then translate that libvirt error into a\nDeviceNotFound exception which is itself then ignored by all\ndetach_device_with_retry callers and taken to mean that the device has\ndetached successfully.\n\nNOTE(lyarwood): For stable/victoria the conditional has been inlined\nwithin some VIR_ERR_DEVICE_MISSING compat code removed in stable/wallaby\nby I181b3bf433b0fcef92ef4d430e9858506f24153c. Additionally the\nsupports_device_missing_error_code kwarg is added to the\ndetach_device_with_retry call within the test to ensure the exception is\nchecked.\n\nConflicts:\n    nova/virt/libvirt/guest.py\n\nCloses-Bug: #1923206\nChange-Id: I0e068043d8267ab91535413d950a3e154c2234f7\n(cherry picked from commit 0a7d3794c6dc39976b4cbfe12b1688230ac895a8)\n(cherry picked from commit 972a86d61f6b6f0f3d1af549b081854e6ff016bc)\n'}]",788467,798e3ef2d5b65f96dfb39e8b0bba4aaacbc1e235,10135,Lee Yarwood,lyarwood,0,"libvirt: Ignore device already in the process of unplug errors

At present QEMU will raise an error to libvirt when a device_del request
is made for a device that has already partially detached through a
previous request. This is outlined in more detail in the following
downstream Red Hat QEMU bug report:

Get libvirtError ""Device XX is already in the process of unplug"" [..]
https://bugzilla.redhat.com/show_bug.cgi?id=1878659

Within Nova we can actually ignore this error and allow our existing
retry logic to attempt again after a short wait, hopefully allowing the
original request to complete removing the device from the domain.

This change does this and should result in one of the following
device_del requests raising a VIR_ERR_DEVICE_MISSING error from libvirt.
_try_detach_device should then translate that libvirt error into a
DeviceNotFound exception which is itself then ignored by all
detach_device_with_retry callers and taken to mean that the device has
detached successfully.

NOTE(lyarwood): For stable/victoria the conditional has been inlined
within some VIR_ERR_DEVICE_MISSING compat code removed in stable/wallaby
by I181b3bf433b0fcef92ef4d430e9858506f24153c. Additionally the
supports_device_missing_error_code kwarg is added to the
detach_device_with_retry call within the test to ensure the exception is
checked.

Conflicts:
    nova/virt/libvirt/guest.py

Closes-Bug: #1923206
Change-Id: I0e068043d8267ab91535413d950a3e154c2234f7
(cherry picked from commit 0a7d3794c6dc39976b4cbfe12b1688230ac895a8)
(cherry picked from commit 972a86d61f6b6f0f3d1af549b081854e6ff016bc)
","['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py']"
openstack%2Fnova~796611,openstack/nova,stable/victoria,I11131a3f90b8af85e7151b519fb26d225629c391,libvirt: Set driver_iommu when attaching virtio devices to SEV instance,ABANDONED,2021-06-16 09:18:59.000000000,2024-03-05 18:59:45.000000000,214,73,"[{'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-06-16 12:12:28.000000000', 'date': '2021-06-16 12:12:28.000000000'}, {'rev_nbr': 1, 'author': '2021-06-16 15:10:55.000000000', 'date': '2021-06-16 15:10:55.000000000'}]",5,"[{'number': 1, 'created': '2021-06-16 09:18:59.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/virt/libvirt/designer.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': 'libvirt: Set driver_iommu when attaching virtio devices to SEV instance\n\nAs called out in the original spec [1] virtio devices attached to a SEV\nenabled instance must have the iommu attribute enabled. This was done\nwithin the original implementation of the spec for all virtio devices\ndefined when initially spawning the instance but does not include volume\nand interfaces that are later hot plugged.\n\nThis change corrects this for both volumes and nics and in doing so\nslightly refactors the original designer code to make it usable in both\ncases.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/amd-sev-libvirt-support.html#proposed-change\n\nNOTE(lyarwood): Conflicts caused by I45f1df4935905170957c2ea2496c8a698a7464a2\nand I017083b27cd9d145eecb01106388d4ce880ba823 not being present on\nstable/victoria.\n\nConflicts:\n  nova/tests/unit/virt/libvirt/test_driver.py\n  nova/virt/libvirt/driver.py\n\nCloses-Bug: #1930734\nChange-Id: I11131a3f90b8af85e7151b519fb26d225629c391\n(cherry picked from commit 4d8bf15fec15dc3416023e577e0f2c277c216506)\n(cherry picked from commit 5d65680095298764466af532381b81b604429426)\n'}]",796611,4985667efced966d0a47ac9f8d31d73ae7409b0a,10135,Lee Yarwood,lyarwood,0,"libvirt: Set driver_iommu when attaching virtio devices to SEV instance

As called out in the original spec [1] virtio devices attached to a SEV
enabled instance must have the iommu attribute enabled. This was done
within the original implementation of the spec for all virtio devices
defined when initially spawning the instance but does not include volume
and interfaces that are later hot plugged.

This change corrects this for both volumes and nics and in doing so
slightly refactors the original designer code to make it usable in both
cases.

[1] https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/amd-sev-libvirt-support.html#proposed-change

NOTE(lyarwood): Conflicts caused by I45f1df4935905170957c2ea2496c8a698a7464a2
and I017083b27cd9d145eecb01106388d4ce880ba823 not being present on
stable/victoria.

Conflicts:
  nova/tests/unit/virt/libvirt/test_driver.py
  nova/virt/libvirt/driver.py

Closes-Bug: #1930734
Change-Id: I11131a3f90b8af85e7151b519fb26d225629c391
(cherry picked from commit 4d8bf15fec15dc3416023e577e0f2c277c216506)
(cherry picked from commit 5d65680095298764466af532381b81b604429426)
","['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/virt/libvirt/designer.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~785579,openstack/nova,stable/victoria,I212a2db8d71702d330b146dc6f871b402a309e74,compute: Reject requests to commit intermediary snapshot of an inactive instance,ABANDONED,2021-04-09 09:07:29.000000000,2024-03-05 18:59:34.000000000,66,9,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-04-09 12:25:24.000000000', 'date': '2021-04-09 12:25:24.000000000'}, {'rev_nbr': 1, 'author': '2021-04-11 00:57:27.000000000', 'date': '2021-04-11 00:57:27.000000000'}, {'rev_nbr': 1, 'author': '2021-04-27 09:06:07.000000000', 'date': '2021-04-27 09:06:07.000000000'}, {'rev_nbr': 1, 'author': '2021-04-30 10:35:17.000000000', 'date': '2021-04-30 10:35:17.000000000'}]",0,"[{'number': 1, 'created': '2021-04-09 09:07:29.000000000', 'files': ['nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'message': ""compute: Reject requests to commit intermediary snapshot of an inactive instance\n\nIntroduced by I76eb2e4da027a13525314bd58264f482374d270d the\nos-assisted-volume-snapshots API is only implemented by the libvirt virt\ndriver and should only be called by c-vol as part of an orchestrated\nremotefs based volume snapshot creation or deletion workflow.\n\nWhile not documented clearly in the current api-ref there are code\ncomments within the compute API suggesting that this API can be called\nagainst a volume attached to an instance that is in *any* vm_state.\n\nThis however is not correct when deleting and in turn committing an\nintermediary volume snapshot of an instance that is not running given\nthe current implementation within the libvirt driver. With a request to\nvirDomainBlockCommit being made that fails if the instance and\nunderlying domain is not running.\n\nAdding support for an offline commit isn't trivial and would be\nconsidered a new feature and not something we could backport on the\nstable branches. As such this change seeks to ensure requests to commit\nan intermediary volume snapshot from an inactive instance are rejected\nquickly and clearly by the compute API to the caller before we cast to\nthe compute.\n\nCloses-Bug: #1919487\nChange-Id: I212a2db8d71702d330b146dc6f871b402a309e74\n(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)\n(cherry picked from commit 200c743400ed3fd5240fd25d0396eb6180b3f26a)\n""}]",785579,8a41605a78173207746a38350d7fb554f2701b7a,10135,Lee Yarwood,lyarwood,0,"compute: Reject requests to commit intermediary snapshot of an inactive instance

Introduced by I76eb2e4da027a13525314bd58264f482374d270d the
os-assisted-volume-snapshots API is only implemented by the libvirt virt
driver and should only be called by c-vol as part of an orchestrated
remotefs based volume snapshot creation or deletion workflow.

While not documented clearly in the current api-ref there are code
comments within the compute API suggesting that this API can be called
against a volume attached to an instance that is in *any* vm_state.

This however is not correct when deleting and in turn committing an
intermediary volume snapshot of an instance that is not running given
the current implementation within the libvirt driver. With a request to
virDomainBlockCommit being made that fails if the instance and
underlying domain is not running.

Adding support for an offline commit isn't trivial and would be
considered a new feature and not something we could backport on the
stable branches. As such this change seeks to ensure requests to commit
an intermediary volume snapshot from an inactive instance are rejected
quickly and clearly by the compute API to the caller before we cast to
the compute.

Closes-Bug: #1919487
Change-Id: I212a2db8d71702d330b146dc6f871b402a309e74
(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)
(cherry picked from commit 200c743400ed3fd5240fd25d0396eb6180b3f26a)
","['nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']"
openstack%2Fnova~773320,openstack/nova,stable/victoria,If93fb19db766ebe1fa669d6826acedd0ae21cd20,Add regression test for bug #1909120,ABANDONED,2021-02-01 09:22:02.000000000,2024-03-05 18:59:30.000000000,65,0,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-02-01 12:05:41.000000000', 'date': '2021-02-01 12:05:41.000000000'}, {'rev_nbr': 2, 'author': '2021-07-08 13:28:54.000000000', 'date': '2021-07-08 13:28:54.000000000'}]",0,"[{'number': 2, 'created': '2021-07-08 10:55:57.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1909120.py'], 'message': 'Add regression test for bug #1909120\n\nRelated-Bug: #1909120\nChange-Id: If93fb19db766ebe1fa669d6826acedd0ae21cd20\n(cherry picked from commit a3697ed013372733615d0e6d7f6088ad2591429c)\n'}]",773320,c028d2c2662cba29cedaf098261141642698f8f0,10135,Lee Yarwood,lyarwood,0,"Add regression test for bug #1909120

Related-Bug: #1909120
Change-Id: If93fb19db766ebe1fa669d6826acedd0ae21cd20
(cherry picked from commit a3697ed013372733615d0e6d7f6088ad2591429c)
",['nova/tests/functional/regressions/test_bug_1909120.py']
openstack%2Fnova~773321,openstack/nova,stable/victoria,I759aa36dc00a6c0612b9755dacd9aa414c408498,api: Reject requests to detach a volume when the compute is down,ABANDONED,2021-02-01 09:22:02.000000000,2024-03-05 18:59:26.000000000,50,20,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 32291, 'name': 'wushiming', 'email': 'wushiming@yovole.com', 'username': 'wushiming'}]","[{'rev_nbr': 1, 'author': '2021-02-01 10:47:50.000000000', 'date': '2021-02-01 10:47:50.000000000'}, {'rev_nbr': 1, 'author': '2021-03-22 18:36:57.000000000', 'date': '2021-03-22 18:36:57.000000000'}, {'rev_nbr': 2, 'author': '2021-07-08 11:23:44.000000000', 'date': '2021-07-08 11:23:44.000000000'}, {'rev_nbr': 2, 'author': '2021-07-08 13:21:34.000000000', 'date': '2021-07-08 13:21:34.000000000'}]",0,"[{'number': 2, 'created': '2021-07-08 10:55:57.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/functional/regressions/test_bug_1909120.py', 'nova/tests/unit/compute/test_compute.py', 'nova/api/openstack/compute/volumes.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'message': 'api: Reject requests to detach a volume when the compute is down\n\nWhen detaching a volume from an instance Nova will currently always\nattempt to make a cast RPC call before returning a successful 202\nresponse to the caller.\n\nThe lack of checking here regarding the underlying compute can lead to\nrequests never being acted upon and has often confused callers when the\ncompute itself is down.\n\nThis change aims to correct this by having the state of the compute\nhosting the instance checked in the compute API layer. When the compute\nis down the initial request is now rejected with a 409 conflict to the\ncaller so they understand why the volume still appears attached.\n\nConflicts:\n    nova/tests/unit/compute/test_api.py\n\nNOTE(lyarwood): Conflict due to\nIbd0ffd9906e7d7f22a9233539091d450e8023f07 not being present in\nstable/victoria.\n\nCloses-Bug: #1909120\nChange-Id: I759aa36dc00a6c0612b9755dacd9aa414c408498\n(cherry picked from commit db8213af8341989354231f9b67dd983365899015)\n'}]",773321,2c7fd70eb799c44f997e9fde09ecd23aadb32e8c,10135,Lee Yarwood,lyarwood,0,"api: Reject requests to detach a volume when the compute is down

When detaching a volume from an instance Nova will currently always
attempt to make a cast RPC call before returning a successful 202
response to the caller.

The lack of checking here regarding the underlying compute can lead to
requests never being acted upon and has often confused callers when the
compute itself is down.

This change aims to correct this by having the state of the compute
hosting the instance checked in the compute API layer. When the compute
is down the initial request is now rejected with a 409 conflict to the
caller so they understand why the volume still appears attached.

Conflicts:
    nova/tests/unit/compute/test_api.py

NOTE(lyarwood): Conflict due to
Ibd0ffd9906e7d7f22a9233539091d450e8023f07 not being present in
stable/victoria.

Closes-Bug: #1909120
Change-Id: I759aa36dc00a6c0612b9755dacd9aa414c408498
(cherry picked from commit db8213af8341989354231f9b67dd983365899015)
","['nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/functional/regressions/test_bug_1909120.py', 'nova/tests/unit/compute/test_compute.py', 'nova/api/openstack/compute/volumes.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']"
openstack%2Fnova~792903,openstack/nova,stable/victoria,Ieb19b4e5ffde56b7f72805aa231f595f45989e60,Add regression test for bug #1928063,ABANDONED,2021-05-25 08:03:14.000000000,2024-03-05 18:59:19.000000000,69,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-05-25 10:41:22.000000000', 'date': '2021-05-25 10:41:22.000000000'}]",0,"[{'number': 1, 'created': '2021-05-25 08:03:14.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1928063.py'], 'message': 'Add regression test for bug #1928063\n\nRelated-Bug: #1928063\nChange-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60\n(cherry picked from commit e1cc0ed978d40596d368ba19063fb5b51e96421e)\n(cherry picked from commit 75f223097f9744edb93db0fedb0b16a0e4860c01)\n'}]",792903,464e5a3dd8a823fc0efa4e2d630fb66179b2ddf5,10135,Lee Yarwood,lyarwood,0,"Add regression test for bug #1928063

Related-Bug: #1928063
Change-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60
(cherry picked from commit e1cc0ed978d40596d368ba19063fb5b51e96421e)
(cherry picked from commit 75f223097f9744edb93db0fedb0b16a0e4860c01)
",['nova/tests/functional/regressions/test_bug_1928063.py']
openstack%2Fnova~793957,openstack/nova,stable/victoria,I66299e97bdb5b95e149b1780231a1c1bbdbd9865,hardware: Use image_meta.id within get_mem_encryption_constraint,ABANDONED,2021-06-01 12:16:25.000000000,2024-03-05 18:59:15.000000000,7,15,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-06-01 14:13:27.000000000', 'date': '2021-06-01 14:13:27.000000000'}]",0,"[{'number': 1, 'created': '2021-06-01 12:16:25.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/functional/regressions/test_bug_1928063.py'], 'message': 'hardware: Use image_meta.id within get_mem_encryption_constraint\n\nThis change resolves bug #1928063 by replacing the use of\nimage_meta.name with image_meta.id as\nI55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea should ensure it is always\navailable. The removal of other references to image_meta.name within\nvirt.hardware is left for follow ups to keep this change small and\nbackportable.\n\nNOTE(lyarwood): A simple func test conflict caused by\nI921c812ac03f7d32eec31200772020c17f292851 not being present in\nstable/wallaby.\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1928063.py\n\nCloses-Bug: #1928063\nChange-Id: I66299e97bdb5b95e149b1780231a1c1bbdbd9865\n(cherry picked from commit e98994027f0af0b22277bcfaed4ab6e6f4a2c74e)\n(cherry picked from commit 625e4e0fab5a34aa9f0b2f4a94f1559362821a37)\n'}]",793957,880a7d77a66f89ff9e95029c5f1f4a22bb5777b3,10135,Lee Yarwood,lyarwood,0,"hardware: Use image_meta.id within get_mem_encryption_constraint

This change resolves bug #1928063 by replacing the use of
image_meta.name with image_meta.id as
I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea should ensure it is always
available. The removal of other references to image_meta.name within
virt.hardware is left for follow ups to keep this change small and
backportable.

NOTE(lyarwood): A simple func test conflict caused by
I921c812ac03f7d32eec31200772020c17f292851 not being present in
stable/wallaby.

Conflicts:
    nova/tests/functional/regressions/test_bug_1928063.py

Closes-Bug: #1928063
Change-Id: I66299e97bdb5b95e149b1780231a1c1bbdbd9865
(cherry picked from commit e98994027f0af0b22277bcfaed4ab6e6f4a2c74e)
(cherry picked from commit 625e4e0fab5a34aa9f0b2f4a94f1559362821a37)
","['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/functional/regressions/test_bug_1928063.py']"
openstack%2Fnova~783654,openstack/nova,stable/victoria,I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a,api: Reject volume attach requests when an active bdm exists,ABANDONED,2021-03-29 14:08:56.000000000,2024-03-05 18:59:11.000000000,89,27,"[{'_account_id': 9373, 'name': 'Vlad Gusev', 'email': 'vlad.esten@gmail.com', 'username': 's10'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-03-29 16:48:12.000000000', 'date': '2021-03-29 16:48:12.000000000'}, {'rev_nbr': 1, 'author': '2021-03-30 11:47:11.000000000', 'date': '2021-03-30 11:47:11.000000000'}]",0,"[{'number': 1, 'created': '2021-03-29 14:08:56.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1908075.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'message': 'api: Reject volume attach requests when an active bdm exists\n\nWhen attaching volumes to instances Nova has previously relied on checks\ncarried out by c-api to ensure that a single non-multiattach volume is\nnot attached to multiple instances at once. While this works well in\nmost cases it does not handle PEBKAC issues when admins reset the state\nof a volume to available, allowing users to request that Nova attach the\nvolume to another instance.\n\nThis change aims to address this by including a simple check in the\nattach flow for non-multiattach volumes ensuring that there are no\nexisting active block device mapping records for the volume already\npresent within Nova.\n\nCloses-Bug: #1908075\nChange-Id: I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a\n(cherry picked from commit 1252588d4e48da1d3a753639a8a4d937acf3e037)\n'}]",783654,75cdbdd9c64353e8b73c36b184ea2140f0a4861d,10135,Lee Yarwood,lyarwood,0,"api: Reject volume attach requests when an active bdm exists

When attaching volumes to instances Nova has previously relied on checks
carried out by c-api to ensure that a single non-multiattach volume is
not attached to multiple instances at once. While this works well in
most cases it does not handle PEBKAC issues when admins reset the state
of a volume to available, allowing users to request that Nova attach the
volume to another instance.

This change aims to address this by including a simple check in the
attach flow for non-multiattach volumes ensuring that there are no
existing active block device mapping records for the volume already
present within Nova.

Closes-Bug: #1908075
Change-Id: I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a
(cherry picked from commit 1252588d4e48da1d3a753639a8a4d937acf3e037)
","['nova/tests/functional/regressions/test_bug_1908075.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']"
openstack%2Fnova~783653,openstack/nova,stable/victoria,I639dd5af7c039da546eaf9ccce56cbaaa38fa79a,Add regression test for bug #1908075,ABANDONED,2021-03-29 14:08:56.000000000,2024-03-05 18:59:08.000000000,102,0,"[{'_account_id': 9373, 'name': 'Vlad Gusev', 'email': 'vlad.esten@gmail.com', 'username': 's10'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2021-03-29 14:08:56.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1908075.py'], 'message': 'Add regression test for bug #1908075\n\nRelated-Bug: #1908075\nChange-Id: I639dd5af7c039da546eaf9ccce56cbaaa38fa79a\n(cherry picked from commit ee3a8f02253f1f652785c07ea0be6464ab4bcc11)\n'}]",783653,8e2a3dd2f08a2f0c420bc1da9c02ff6b128c06c5,10135,Lee Yarwood,lyarwood,0,"Add regression test for bug #1908075

Related-Bug: #1908075
Change-Id: I639dd5af7c039da546eaf9ccce56cbaaa38fa79a
(cherry picked from commit ee3a8f02253f1f652785c07ea0be6464ab4bcc11)
",['nova/tests/functional/regressions/test_bug_1908075.py']
openstack%2Fnova~817636,openstack/nova,stable/victoria,I27bd36b7983e704c78c690f441d2f96bedb955d1,DNM - Testing volume detach failures,ABANDONED,2021-11-11 18:14:57.000000000,2024-03-05 18:59:04.000000000,0,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-11-11 20:37:32.000000000', 'date': '2021-11-11 20:37:32.000000000'}, {'rev_nbr': 1, 'author': '2021-11-11 20:50:51.000000000', 'date': '2021-11-11 20:50:51.000000000'}, {'rev_nbr': 1, 'author': '2021-11-12 11:23:26.000000000', 'date': '2021-11-12 11:23:26.000000000'}, {'rev_nbr': 1, 'author': '2021-11-12 14:12:17.000000000', 'date': '2021-11-12 14:12:17.000000000'}, {'rev_nbr': 2, 'author': '2021-11-17 17:25:48.000000000', 'date': '2021-11-17 17:25:48.000000000'}]",3,"[{'number': 2, 'created': '2021-11-17 13:30:11.000000000', 'files': ['.DNM'], 'message': 'DNM - Testing volume detach failures\n\nChange-Id: I27bd36b7983e704c78c690f441d2f96bedb955d1\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/817772\n'}]",817636,567e4541c7e8542992351ff5699d01a6e592945e,10135,Lee Yarwood,lyarwood,0,"DNM - Testing volume detach failures

Change-Id: I27bd36b7983e704c78c690f441d2f96bedb955d1
Depends-On: https://review.opendev.org/c/openstack/tempest/+/817772
",['.DNM']
openstack%2Fnova~805629,openstack/nova,stable/victoria,I2da867f2734b590a884b1fe1200c402cbf7e9e1c,workarounds: Add libvirt_disable_apic,ABANDONED,2021-08-23 12:55:25.000000000,2024-03-05 18:59:00.000000000,52,1,"[{'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-08-23 13:16:01.000000000', 'date': '2021-08-23 13:16:01.000000000'}, {'rev_nbr': 2, 'author': '2021-08-23 15:04:27.000000000', 'date': '2021-08-23 15:04:27.000000000'}, {'rev_nbr': 2, 'author': '2021-08-23 17:48:17.000000000', 'date': '2021-08-23 17:48:17.000000000'}, {'rev_nbr': 2, 'author': '2021-08-24 13:56:48.000000000', 'date': '2021-08-24 13:56:48.000000000'}, {'rev_nbr': 2, 'author': '2021-08-24 16:25:12.000000000', 'date': '2021-08-24 16:25:12.000000000'}]",0,"[{'number': 2, 'created': '2021-08-23 14:30:27.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt-disable-apic-39599bdc2d110a1f.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': 'workarounds: Add libvirt_disable_apic\n\nThis change adds a new workaround config option to allow disabling the\nguest apic.\n\nCo-authored-by: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1939108\nChange-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c\n(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)\n(cherry picked from commit caeecdec5f32e4c63f3edf6442734e44cfb06f14)\n'}]",805629,0c5d9d1d257b6afa88f3e5d1bd2c0f6b42e161a2,10135,Lee Yarwood,lyarwood,0,"workarounds: Add libvirt_disable_apic

This change adds a new workaround config option to allow disabling the
guest apic.

Co-authored-by: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1939108
Change-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c
(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)
(cherry picked from commit caeecdec5f32e4c63f3edf6442734e44cfb06f14)
","['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt-disable-apic-39599bdc2d110a1f.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~829504,openstack/nova,stable/victoria,I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527,Gracefull recovery when attaching volume fails,ABANDONED,2022-02-16 09:24:08.000000000,2024-03-05 18:58:56.000000000,57,4,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-02-16 11:58:17.000000000', 'date': '2022-02-16 11:58:17.000000000'}, {'rev_nbr': 1, 'author': '2022-02-16 12:17:04.000000000', 'date': '2022-02-16 12:17:04.000000000'}, {'rev_nbr': 2, 'author': '2022-02-18 10:31:16.000000000', 'date': '2022-02-18 10:31:16.000000000'}, {'rev_nbr': 2, 'author': '2022-02-18 10:48:57.000000000', 'date': '2022-02-18 10:48:57.000000000'}]",0,"[{'number': 2, 'created': '2022-02-18 07:56:01.000000000', 'files': ['releasenotes/notes/bug-1960401-504eb255253d966a.yaml', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'message': 'Gracefull recovery when attaching volume fails\n\nWhen trying to attach a volume to an already running instance the nova-api\nrequests the nova-compute service to create a BlockDeviceMapping. If the\nnova-api does not receive a response within `rpc_response_timeout` it will\ntreat the request as failed and raise an exception.\n\nThere are multiple cases where nova-compute actually already processed the\nrequest and just the reply did not reach the nova-api in time (see bug report).\nAfter the failed request the database will contain a BlockDeviceMapping entry\nfor the volume + instance combination that will never be cleaned up again.\nThis entry also causes the nova-api to reject all future attachments of this\nvolume to this instance (as it assumes it is already attached).\n\nTo work around this we check if a BlockDeviceMapping has already been created\nwhen we see a messaging timeout. If this is the case we can safely delete it\nas the compute node has already finished processing and we will no longer pick\nit up.\nThis allows users to try the request again.\n\nA previous fix was abandoned but without a clear reason ([1]).\n\n[1]: https://review.opendev.org/c/openstack/nova/+/731804\n\nCloses-Bug: 1960401\nChange-Id: I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527\n(cherry picked from commit 9eb116b99ce32bc69c4abf8ec3b0179ef89a8860)\n'}]",829504,d2edbfb918ede14ff6f40420b8fde7f0cb4fb660,29074,Felix Huettner,felix.huettner,0,"Gracefull recovery when attaching volume fails

When trying to attach a volume to an already running instance the nova-api
requests the nova-compute service to create a BlockDeviceMapping. If the
nova-api does not receive a response within `rpc_response_timeout` it will
treat the request as failed and raise an exception.

There are multiple cases where nova-compute actually already processed the
request and just the reply did not reach the nova-api in time (see bug report).
After the failed request the database will contain a BlockDeviceMapping entry
for the volume + instance combination that will never be cleaned up again.
This entry also causes the nova-api to reject all future attachments of this
volume to this instance (as it assumes it is already attached).

To work around this we check if a BlockDeviceMapping has already been created
when we see a messaging timeout. If this is the case we can safely delete it
as the compute node has already finished processing and we will no longer pick
it up.
This allows users to try the request again.

A previous fix was abandoned but without a clear reason ([1]).

[1]: https://review.opendev.org/c/openstack/nova/+/731804

Closes-Bug: 1960401
Change-Id: I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527
(cherry picked from commit 9eb116b99ce32bc69c4abf8ec3b0179ef89a8860)
","['releasenotes/notes/bug-1960401-504eb255253d966a.yaml', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']"
openstack%2Fnova~836605,openstack/nova,stable/victoria,Id0539d2ee909d86ffef07ae566697db8ae0f83b4,extend_volume of libvirt/volume/iscsi should not use device_path,ABANDONED,2022-04-05 19:17:20.000000000,2024-03-05 18:58:52.000000000,1,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-04-05 21:16:51.000000000', 'date': '2022-04-05 21:16:51.000000000'}, {'rev_nbr': 1, 'author': '2022-04-05 22:06:46.000000000', 'date': '2022-04-05 22:06:46.000000000'}]",0,"[{'number': 1, 'created': '2022-04-05 19:17:20.000000000', 'files': ['nova/virt/libvirt/volume/iscsi.py'], 'message': ""extend_volume of libvirt/volume/iscsi should not use device_path\n\nThe connection_info['data']['device_path'] field is not always\navailable. In cases that it was not available, it would cause\nthe debug code to raise a KeyError instead of proceeding.\n\nOther similar debug messages in the same file do not include\ndevice_path. As a simple fix, just drop the device_path from\nthe log.\n\nCloses-Bug: #1936439\n\nChange-Id: Id0539d2ee909d86ffef07ae566697db8ae0f83b4\nSigned-off-by: Mark Mielke <mark.mielke@gmail.com>\n(cherry picked from commit ad60f23be3d562422b350aade04aa92ade39fb32)\n""}]",836605,ea8ba7859bf7fbab62857e357986eb16f63e868b,8864,Artom Lifshitz,artom,0,"extend_volume of libvirt/volume/iscsi should not use device_path

The connection_info['data']['device_path'] field is not always
available. In cases that it was not available, it would cause
the debug code to raise a KeyError instead of proceeding.

Other similar debug messages in the same file do not include
device_path. As a simple fix, just drop the device_path from
the log.

Closes-Bug: #1936439

Change-Id: Id0539d2ee909d86ffef07ae566697db8ae0f83b4
Signed-off-by: Mark Mielke <mark.mielke@gmail.com>
(cherry picked from commit ad60f23be3d562422b350aade04aa92ade39fb32)
",['nova/virt/libvirt/volume/iscsi.py']
openstack%2Fnova~791480,openstack/nova,stable/victoria,Id8dd11dc45bfc090b966ead0c69e46a17154dadb,Remove self.server dependency form _evacuate_server,ABANDONED,2021-05-14 13:31:31.000000000,2024-03-05 18:58:48.000000000,1,2,"[{'_account_id': 8864, 'name': 'Artom Lifshitz', 'email': 'notartom@gmail.com', 'username': 'artom'}, {'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-05-14 17:13:28.000000000', 'date': '2021-05-14 17:13:28.000000000'}]",0,"[{'number': 1, 'created': '2021-05-14 13:31:31.000000000', 'files': ['nova/tests/functional/integrated_helpers.py'], 'message': 'Remove self.server dependency form _evacuate_server\n\nThis has not been caused trouble yet as the only caller called it with\nself.server anyhow.\n\nChange-Id: Id8dd11dc45bfc090b966ead0c69e46a17154dadb\n(cherry picked from commit 1f0641854904417f018cb5746bfcb6a62d1d6bc1)\n'}]",791480,e4d17926008209a1c79983b01d5405682b77bd3e,10135,Lee Yarwood,lyarwood,0,"Remove self.server dependency form _evacuate_server

This has not been caused trouble yet as the only caller called it with
self.server anyhow.

Change-Id: Id8dd11dc45bfc090b966ead0c69e46a17154dadb
(cherry picked from commit 1f0641854904417f018cb5746bfcb6a62d1d6bc1)
",['nova/tests/functional/integrated_helpers.py']
openstack%2Fnova~842588,openstack/nova,stable/victoria,Id04e0df12829df4d8929e03a8b76b5cbe0549059,neutron: Unbind remaining ports after PortNotFound,ABANDONED,2022-05-19 17:57:44.000000000,2024-03-05 18:58:44.000000000,64,23,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2022-05-19 21:24:17.000000000', 'date': '2022-05-19 21:24:17.000000000'}, {'rev_nbr': 2, 'author': '2022-05-19 21:56:16.000000000', 'date': '2022-05-19 21:56:16.000000000'}, {'rev_nbr': 2, 'author': '2022-05-23 12:19:04.000000000', 'date': '2022-05-23 12:19:04.000000000'}]",1,"[{'number': 2, 'created': '2022-05-19 17:58:27.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py'], 'message': ""neutron: Unbind remaining ports after PortNotFound\n\nJust because we encountered a PortNotFound error when unbinding a port\ndoesn't mean we should stop unbinding the remaining ports. If this error\nis encountered, simply continue with the other ports.\n\nWhile we're here, we clean up some other tests related to '_unbind_port'\nsince they're clearly duplicates.\n\nChange-Id: Id04e0df12829df4d8929e03a8b76b5cbe0549059\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1974173\n(cherry picked from commit 9e0dcb52ab308a63c6a18e47d1850cc3ade4d807)\n(cherry picked from commit 6f32b118640ee466b58155b5ecd50e041b4a2e7e)\n(cherry picked from commit d322f8e8b5a95fd60dab9c6c543b4c77ea893836)\n(cherry picked from commit a49a0b970a0072bfddc1b403c75c3c4cd6636f83)\n""}]",842588,581cffad7ba0a4f9950943bc029903d40f581207,15334,Stephen Finucane,sfinucan,0,"neutron: Unbind remaining ports after PortNotFound

Just because we encountered a PortNotFound error when unbinding a port
doesn't mean we should stop unbinding the remaining ports. If this error
is encountered, simply continue with the other ports.

While we're here, we clean up some other tests related to '_unbind_port'
since they're clearly duplicates.

Change-Id: Id04e0df12829df4d8929e03a8b76b5cbe0549059
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1974173
(cherry picked from commit 9e0dcb52ab308a63c6a18e47d1850cc3ade4d807)
(cherry picked from commit 6f32b118640ee466b58155b5ecd50e041b4a2e7e)
(cherry picked from commit d322f8e8b5a95fd60dab9c6c543b4c77ea893836)
(cherry picked from commit a49a0b970a0072bfddc1b403c75c3c4cd6636f83)
","['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py']"
openstack%2Fnova~842952,openstack/nova,stable/victoria,I8f7f26e10519c87e06de47bd4d9845151f889129,Reproducer unit test for bug 1934094,ABANDONED,2022-05-23 09:49:18.000000000,2024-03-05 18:58:40.000000000,24,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2022-05-23 12:43:37.000000000', 'date': '2022-05-23 12:43:37.000000000'}]",0,"[{'number': 2, 'created': '2022-05-23 09:58:35.000000000', 'files': ['nova/tests/unit/compute/test_shelve.py'], 'message': 'Reproducer unit test for bug 1934094\n\nmodified:   nova/tests/unit/compute/test_shelve.py due to\nI258df4d77f6d86df1d867a8fe27360731c21d237 is not in stable/victoria\n\nRelated bug: #1934094\n\nSigned-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>\nChange-Id: I8f7f26e10519c87e06de47bd4d9845151f889129\n(cherry picked from commit 78e10f5f14a018fd1d96ea242923631459acb62c)\n(cherry picked from commit ec73ff1f78714eb62686d0f39fc4e79ffdf559af)\n(cherry picked from commit 77b9bbd0e5926ffad382ae97099cc829153000a5)\n'}]",842952,7cda2f49ff93011b6f8a3bccf2a4c8b7fa73fc20,9708,Balazs Gibizer,gibi,0,"Reproducer unit test for bug 1934094

modified:   nova/tests/unit/compute/test_shelve.py due to
I258df4d77f6d86df1d867a8fe27360731c21d237 is not in stable/victoria

Related bug: #1934094

Signed-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>
Change-Id: I8f7f26e10519c87e06de47bd4d9845151f889129
(cherry picked from commit 78e10f5f14a018fd1d96ea242923631459acb62c)
(cherry picked from commit ec73ff1f78714eb62686d0f39fc4e79ffdf559af)
(cherry picked from commit 77b9bbd0e5926ffad382ae97099cc829153000a5)
",['nova/tests/unit/compute/test_shelve.py']
openstack%2Fnova~840845,openstack/nova,stable/victoria,I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318,Isolate PCI tracker unit tests,ABANDONED,2022-05-06 09:12:18.000000000,2024-03-05 18:58:36.000000000,31,34,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2022-05-06 09:12:18.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'message': 'Isolate PCI tracker unit tests\n\nDuring the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed\nthat the unit test cases of PciTracker._set_hvdev are changing and\nleaking global state leading to unstable tests.\n\nTo reproduce on master, duplicate the\ntest_set_hvdev_remove_tree_maintained_with_allocations test case and run\nPciDevTrackerTestCase serially. The duplicated test case will fail with\n\n  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object\n  setattr(pci_device, key, db_dev[key])\n  KeyError: \'id\'\n\nThis is caused by the fact that the test data is defined on module\nlevel, both _create_tracker and _set_hvdevs modifies the devices\npassed to them, and some test mixes passing db dicts to _set_hvdevs\nthat expects pci dicts from the hypervisor.\n\nThis patch fixes multiple related issues:\n* always deepcopy what _create_tracker takes as that list is later\n  returned to the PciTracker via a mock and the tracker might modify\n  what it got\n\n* ensure that _create_tracker takes db dicts (with id field) while\n  _set_hvdevs takes pci dicts in the hypervisor format (without id\n  field)\n\n* always deepcopy what is passed to _set_hvdevs as the PciTracker modify\n  what it gets.\n\n* normalize when the deepcopy happens to give a safe patter for future\n  test cases\n\nConflicts:\n      nova/tests/unit/pci/test_manager.py due to\n      I1d270cc3e88a74097eefe3b887106222ae06fe1c is not in\n      stable/victoria\n\nChange-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318\n(cherry picked from commit c58376db75917444831934963fa75b4b57f08818)\n(cherry picked from commit f04cfd42359d555e746df0e2c48d989d0c3244f1)\n(cherry picked from commit 1023580f6d9008f5e56f6d3905b6e227bd2bff67)\n(cherry picked from commit 3335d9317994ea3490fbc9945e0e961c42aef907)\n'}]",840845,2fb300f71e87490f3e91d03dd5ce8eb88a5996a7,9708,Balazs Gibizer,gibi,0,"Isolate PCI tracker unit tests

During the testing If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 we noticed
that the unit test cases of PciTracker._set_hvdev are changing and
leaking global state leading to unstable tests.

To reproduce on master, duplicate the
test_set_hvdev_remove_tree_maintained_with_allocations test case and run
PciDevTrackerTestCase serially. The duplicated test case will fail with

  File ""/nova/nova/objects/pci_device.py"", line 238, in _from_db_object
  setattr(pci_device, key, db_dev[key])
  KeyError: 'id'

This is caused by the fact that the test data is defined on module
level, both _create_tracker and _set_hvdevs modifies the devices
passed to them, and some test mixes passing db dicts to _set_hvdevs
that expects pci dicts from the hypervisor.

This patch fixes multiple related issues:
* always deepcopy what _create_tracker takes as that list is later
  returned to the PciTracker via a mock and the tracker might modify
  what it got

* ensure that _create_tracker takes db dicts (with id field) while
  _set_hvdevs takes pci dicts in the hypervisor format (without id
  field)

* always deepcopy what is passed to _set_hvdevs as the PciTracker modify
  what it gets.

* normalize when the deepcopy happens to give a safe patter for future
  test cases

Conflicts:
      nova/tests/unit/pci/test_manager.py due to
      I1d270cc3e88a74097eefe3b887106222ae06fe1c is not in
      stable/victoria

Change-Id: I20fb4ea96d5dfabfc4be3b5ecec0e4e6c5b3a318
(cherry picked from commit c58376db75917444831934963fa75b4b57f08818)
(cherry picked from commit f04cfd42359d555e746df0e2c48d989d0c3244f1)
(cherry picked from commit 1023580f6d9008f5e56f6d3905b6e227bd2bff67)
(cherry picked from commit 3335d9317994ea3490fbc9945e0e961c42aef907)
",['nova/tests/unit/pci/test_manager.py']
openstack%2Fnova~827872,openstack/nova,stable/victoria,I672af45a1d1c7fb428b1c4983d4f856852829fb9,Reproduce bug 1952941,ABANDONED,2022-02-04 14:37:12.000000000,2024-03-05 18:58:33.000000000,69,5,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 32761, 'name': 'panhongyin', 'display_name': 'panhongyin', 'email': 'panhongyin@yovole.com', 'username': 'panhongyin'}]","[{'rev_nbr': 1, 'author': '2022-02-04 17:12:23.000000000', 'date': '2022-02-04 17:12:23.000000000'}]",1,"[{'number': 1, 'created': '2022-02-04 14:37:12.000000000', 'files': ['nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/fake_request_spec.py'], 'message': 'Reproduce bug 1952941\n\nThe added unit test proves that pre-Victoria RequestSpec objects\ndescribing a cpu pinned Instance are not migrated to a proper format\nin Victoria or newer.\n\nRelated-Bug: #1952941\n\nChange-Id: I672af45a1d1c7fb428b1c4983d4f856852829fb9\n(cherry picked from commit 05e8977cb2fd660dcf6af32c5804f7548bf722a7)\n(cherry picked from commit d860615527a4f492251c363b2092674d55228a40)\n(cherry picked from commit b190c30f005bd1b1a7e3d9bf35648e65ff472f02)\n'}]",827872,e937afbdcd4db0e2377b479b7b6f04bea82d8c7b,9708,Balazs Gibizer,gibi,0,"Reproduce bug 1952941

The added unit test proves that pre-Victoria RequestSpec objects
describing a cpu pinned Instance are not migrated to a proper format
in Victoria or newer.

Related-Bug: #1952941

Change-Id: I672af45a1d1c7fb428b1c4983d4f856852829fb9
(cherry picked from commit 05e8977cb2fd660dcf6af32c5804f7548bf722a7)
(cherry picked from commit d860615527a4f492251c363b2092674d55228a40)
(cherry picked from commit b190c30f005bd1b1a7e3d9bf35648e65ff472f02)
","['nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/fake_request_spec.py']"
openstack%2Fnova~840847,openstack/nova,stable/victoria,I7b432d7a32aeb1ab765d1f731691c7841a8f1440,Simulate bug 1969496,ABANDONED,2022-05-06 09:12:18.000000000,2024-03-05 18:58:29.000000000,56,0,"[{'_account_id': 19234, 'name': 'Alexey Stupnikov', 'email': 'aleksey.stupnikov@gmail.com', 'username': 'astupnikov'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-05-06 14:13:28.000000000', 'date': '2022-05-06 14:13:28.000000000'}]",0,"[{'number': 1, 'created': '2022-05-06 09:12:18.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'message': ""Simulate bug 1969496\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail to\nwhen try to mark the dependent VFs unavailable.\n\nThis patch adds a test case that shows the error.\n\nRelated-Bug: #1969496\n\nChange-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440\n(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)\n(cherry picked from commit 23c48b670668e9cae886b5113c776077780f5581)\n(cherry picked from commit 96e00c30fc7356874a13f75eb5ee46c87fb448d0)\n(cherry picked from commit e153335a5e70f7e694d344665614279fc6d58136)\n""}]",840847,0c671b354ca99aaadf2f3eaab8c40490c6c76707,9708,Balazs Gibizer,gibi,0,"Simulate bug 1969496

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail to
when try to mark the dependent VFs unavailable.

This patch adds a test case that shows the error.

Related-Bug: #1969496

Change-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440
(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)
(cherry picked from commit 23c48b670668e9cae886b5113c776077780f5581)
(cherry picked from commit 96e00c30fc7356874a13f75eb5ee46c87fb448d0)
(cherry picked from commit e153335a5e70f7e694d344665614279fc6d58136)
",['nova/tests/unit/pci/test_manager.py']
openstack%2Fnova~840846,openstack/nova,stable/victoria,If9ab424cc7375a1f0d41b03f01c4a823216b3eb8,Remove unavailable but not reported PCI devices at startup,ABANDONED,2022-05-06 09:12:18.000000000,2024-03-05 18:58:25.000000000,123,7,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-05-06 11:38:45.000000000', 'date': '2022-05-06 11:38:45.000000000'}, {'rev_nbr': 1, 'author': '2022-05-06 13:39:29.000000000', 'date': '2022-05-06 13:39:29.000000000'}, {'rev_nbr': 1, 'author': '2022-05-31 15:18:58.000000000', 'date': '2022-05-31 15:18:58.000000000'}, {'rev_nbr': 1, 'author': '2022-06-01 11:36:04.000000000', 'date': '2022-06-01 11:36:04.000000000'}]",2,"[{'number': 1, 'created': '2022-05-06 09:12:18.000000000', 'files': ['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/pci/test_manager.py'], 'message': 'Remove unavailable but not reported PCI devices at startup\n\nWe saw in the field that the pci_devices table can end up in\ninconsistent state after a compute node HW failure and re-deployment.\nThere could be dependent devices where the parent PF is in available\nstate while the children VFs are in unavailable state. (Before the HW\nfault the PF was allocated hence the VFs was marked unavailable).\n\nIn this state this PF is still schedulable but during the\nPCI claim the handling of dependent devices in the PCI tracker fill fail\nwith the error: ""Attempt to consume PCI device XXX from empty pool"".\n\nThe reason of the failure is that when the PF is claimed, all the\nchildren VFs are marked unavailable. But if the VF is already\nunavailable such step fails.\n\nOne way the deployer might try to recover from this state is to remove\nthe VFs from the hypervisor and restart the compute agent. The compute\nstartup already has a logic to delete PCI devices that are unused and\nnot reported by the hypervisor. However this logic only removed devices\nin \'available\' state and ignored devices in \'unavailable\' state.\n\nIf a device is unused and the hypervisor is not reporting the device any\nmore then it is safe to delete that device from the PCI tracker. So this\npatch extends the logic to allow deleting \'unavailable\' devices. There\nis a small window when dependent PCI device is in \'unclaimable\' state.\nFrom cleanup perspective this is an analogous state. So it is also\nadded to the cleanup logic.\n\nRelated-Bug: #1969496\nChange-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8\n(cherry picked from commit 284ea72e96604bdf16d1c5c4db47247334841b2f)\n(cherry picked from commit d7bca631fea348fb56cc46c5680643bacd82513e)\n(cherry picked from commit 580a4b14ae367e327229482decca0cb6cdf6e9d8)\n(cherry picked from commit 59ae44754ebce106b23bc697a822d181cdda41c6)\n'}]",840846,fdf52a1b099683ec65f6f0488ef73c952d90e002,9708,Balazs Gibizer,gibi,0,"Remove unavailable but not reported PCI devices at startup

We saw in the field that the pci_devices table can end up in
inconsistent state after a compute node HW failure and re-deployment.
There could be dependent devices where the parent PF is in available
state while the children VFs are in unavailable state. (Before the HW
fault the PF was allocated hence the VFs was marked unavailable).

In this state this PF is still schedulable but during the
PCI claim the handling of dependent devices in the PCI tracker fill fail
with the error: ""Attempt to consume PCI device XXX from empty pool"".

The reason of the failure is that when the PF is claimed, all the
children VFs are marked unavailable. But if the VF is already
unavailable such step fails.

One way the deployer might try to recover from this state is to remove
the VFs from the hypervisor and restart the compute agent. The compute
startup already has a logic to delete PCI devices that are unused and
not reported by the hypervisor. However this logic only removed devices
in 'available' state and ignored devices in 'unavailable' state.

If a device is unused and the hypervisor is not reporting the device any
more then it is safe to delete that device from the PCI tracker. So this
patch extends the logic to allow deleting 'unavailable' devices. There
is a small window when dependent PCI device is in 'unclaimable' state.
From cleanup perspective this is an analogous state. So it is also
added to the cleanup logic.

Related-Bug: #1969496
Change-Id: If9ab424cc7375a1f0d41b03f01c4a823216b3eb8
(cherry picked from commit 284ea72e96604bdf16d1c5c4db47247334841b2f)
(cherry picked from commit d7bca631fea348fb56cc46c5680643bacd82513e)
(cherry picked from commit 580a4b14ae367e327229482decca0cb6cdf6e9d8)
(cherry picked from commit 59ae44754ebce106b23bc697a822d181cdda41c6)
","['nova/objects/pci_device.py', 'nova/pci/manager.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/pci/test_manager.py']"
openstack%2Fnova~842953,openstack/nova,stable/victoria,Id908a7224ff3378b3b51726bbfa8b5805d38ca59,Fix instance's image_ref lost on failed unshelving,ABANDONED,2022-05-23 09:49:18.000000000,2024-03-05 18:58:21.000000000,6,6,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2022-05-23 10:24:58.000000000', 'date': '2022-05-23 10:24:58.000000000'}, {'rev_nbr': 2, 'author': '2022-05-31 13:48:55.000000000', 'date': '2022-05-31 13:48:55.000000000'}, {'rev_nbr': 2, 'author': '2022-06-01 11:27:35.000000000', 'date': '2022-06-01 11:27:35.000000000'}]",2,"[{'number': 2, 'created': '2022-05-23 09:58:35.000000000', 'files': ['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py'], 'message': ""Fix instance's image_ref lost on failed unshelving\n\nmodified:   nova/tests/unit/compute/test_shelve.py due to\nI258df4d77f6d86df1d867a8fe27360731c21d237 is not in stable/victoria\n\nCloses-Bug: #1934094\n\nSigned-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>\nChange-Id: Id908a7224ff3378b3b51726bbfa8b5805d38ca59\n(cherry picked from commit 518b952bdeb6ec29252b56527b8c8d7b32abe1b5)\n(cherry picked from commit 076f95371a093a0e594c0d08e410676c9a73c9d0)\n(cherry picked from commit 328cf1073dca4c092f29cf192aaab14eae03143b)\n""}]",842953,f03334323c212a6f98ca94643ec258139068a071,9708,Balazs Gibizer,gibi,0,"Fix instance's image_ref lost on failed unshelving

modified:   nova/tests/unit/compute/test_shelve.py due to
I258df4d77f6d86df1d867a8fe27360731c21d237 is not in stable/victoria

Closes-Bug: #1934094

Signed-off-by: Pierre-Samuel Le Stang <pierre-samuel.le-stang@corp.ovh.com>
Change-Id: Id908a7224ff3378b3b51726bbfa8b5805d38ca59
(cherry picked from commit 518b952bdeb6ec29252b56527b8c8d7b32abe1b5)
(cherry picked from commit 076f95371a093a0e594c0d08e410676c9a73c9d0)
(cherry picked from commit 328cf1073dca4c092f29cf192aaab14eae03143b)
","['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py']"
openstack%2Fnova~840848,openstack/nova,stable/victoria,I575ce06bcc913add7db0849f85728371da2032fc,Allow claiming PCI PF if child VF is unavailable,ABANDONED,2022-05-06 09:12:18.000000000,2024-03-05 18:58:18.000000000,162,26,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-05-06 12:11:55.000000000', 'date': '2022-05-06 12:11:55.000000000'}, {'rev_nbr': 1, 'author': '2022-05-06 14:13:22.000000000', 'date': '2022-05-06 14:13:22.000000000'}, {'rev_nbr': 1, 'author': '2022-05-31 15:06:20.000000000', 'date': '2022-05-31 15:06:20.000000000'}, {'rev_nbr': 1, 'author': '2022-06-01 11:36:32.000000000', 'date': '2022-06-01 11:36:32.000000000'}]",2,"[{'number': 1, 'created': '2022-05-06 09:12:18.000000000', 'files': ['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py'], 'message': ""Allow claiming PCI PF if child VF is unavailable\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail\nwhen try to mark the dependent VFs unavailable.\n\nThis patch changes the PCI claim logic to allow claiming the parent PF\nin the inconsistent situation as we assume that it is safe to do so.\nThis claim also fixed the inconsistency so that when the parent PF is\nfreed the children VFs become available again.\n\nConflicts:\n      nova/pci/stats.py due to I91dd7993395f693c7d26c1caa44fa365f5cbec12\n      is not in stable/victoria\n\nCloses-Bug: #1969496\nChange-Id: I575ce06bcc913add7db0849f85728371da2032fc\n(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)\n(cherry picked from commit 4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270)\n(cherry picked from commit 1dbd45be4556c034eb469462698804984d95b503)\n(cherry picked from commit a763104217f2188b398d7eddaf3d21b91c66d2fa)\n""}]",840848,5d484576efca56aebc36a60abaf410c4e3bb2727,9708,Balazs Gibizer,gibi,0,"Allow claiming PCI PF if child VF is unavailable

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail
when try to mark the dependent VFs unavailable.

This patch changes the PCI claim logic to allow claiming the parent PF
in the inconsistent situation as we assume that it is safe to do so.
This claim also fixed the inconsistency so that when the parent PF is
freed the children VFs become available again.

Conflicts:
      nova/pci/stats.py due to I91dd7993395f693c7d26c1caa44fa365f5cbec12
      is not in stable/victoria

Closes-Bug: #1969496
Change-Id: I575ce06bcc913add7db0849f85728371da2032fc
(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)
(cherry picked from commit 4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270)
(cherry picked from commit 1dbd45be4556c034eb469462698804984d95b503)
(cherry picked from commit a763104217f2188b398d7eddaf3d21b91c66d2fa)
","['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py']"
openstack%2Fnova~843948,openstack/nova,stable/victoria,I3f1073d70e4332737e33f3c9c00cf129d0ef76b4,Add a regression test for bug 1939545,ABANDONED,2022-05-30 18:33:49.000000000,2024-03-05 18:58:14.000000000,154,13,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 33493, 'name': 'chenwei', 'display_name': 'chenwei', 'email': 'jzpcoming@163.com', 'username': 'chenwei'}]","[{'rev_nbr': 2, 'author': '2022-05-30 21:55:05.000000000', 'date': '2022-05-30 21:55:05.000000000'}]",9,"[{'number': 6, 'created': '2022-06-17 21:15:43.000000000', 'files': ['nova/tests/fixtures.py', 'nova/tests/functional/regressions/test_bug_1939545.py'], 'message': ""Add a regression test for bug 1939545\n\nAssert the behaviour of the libvirt driver during pre_live_migration\nwith instances that have block based volumes attached.\n\nBug #1939545 covering the case where the returned path from os-brick\nisn't being saved into the connection_info of the associated bdm in\nNova.\n\nThe cinder fixture is extended as part of this change to offer\nconnection_info listing the iscsi volume type in order to correctly\nassert the behaviour of the associated libvirt volume driver.\n\nMinor conflict in nova/tests/fixtures.py around the new\nfake connection_info. Small adjustements in test_bug_1939545.py to\naccount for location of fakelibvirt and removal of useless imports.\n\nRelated-Bug: #1939545\nChange-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4\n(cherry picked from commit 268b7169554f871d3813d78e79861934d086484d)\n(cherry picked from commit 9f7b81c4cfe9f6a41fb28ec3b9d20616817ceab5)\n""}]",843948,02854cc4458f1a68deaf840a49f7cab7aed0cb05,8864,Artom Lifshitz,artom,0,"Add a regression test for bug 1939545

Assert the behaviour of the libvirt driver during pre_live_migration
with instances that have block based volumes attached.

Bug #1939545 covering the case where the returned path from os-brick
isn't being saved into the connection_info of the associated bdm in
Nova.

The cinder fixture is extended as part of this change to offer
connection_info listing the iscsi volume type in order to correctly
assert the behaviour of the associated libvirt volume driver.

Minor conflict in nova/tests/fixtures.py around the new
fake connection_info. Small adjustements in test_bug_1939545.py to
account for location of fakelibvirt and removal of useless imports.

Related-Bug: #1939545
Change-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4
(cherry picked from commit 268b7169554f871d3813d78e79861934d086484d)
(cherry picked from commit 9f7b81c4cfe9f6a41fb28ec3b9d20616817ceab5)
","['nova/tests/fixtures.py', 'nova/tests/functional/regressions/test_bug_1939545.py']"
openstack%2Fnova~844598,openstack/nova,stable/victoria,Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa,fup: Make connection_info returned by CinderFixture unique per attachment,ABANDONED,2022-06-03 14:15:00.000000000,2024-03-05 18:58:10.000000000,22,12,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 4, 'created': '2022-06-17 21:15:43.000000000', 'files': ['nova/tests/fixtures.py'], 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)\n(cherry picked from commit 8e008925343f27f017b8c3d6d49a2cfa2aea8aeb)\n'}]",844598,a26bdac24c1eb2e6503bd2683c935799096d93e9,8864,Artom Lifshitz,artom,0,"fup: Make connection_info returned by CinderFixture unique per attachment

Change-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa
(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)
(cherry picked from commit 8e008925343f27f017b8c3d6d49a2cfa2aea8aeb)
",['nova/tests/fixtures.py']
openstack%2Fnova~844599,openstack/nova,stable/victoria,Ib8009f38f20b008d08148f7f591af13b1ca5b420,fup: Assert state of connection_info during LM rollback in func tests,ABANDONED,2022-06-03 14:15:00.000000000,2024-03-05 18:58:06.000000000,72,10,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 4, 'created': '2022-06-17 21:15:43.000000000', 'files': ['nova/tests/functional/compute/test_live_migration.py'], 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit c248986eeb8e9b9c3586c83b01663d3585132c3f)\n'}]",844599,212ef3e9753a3bc6cd1dbd6aa1bd48fd56fbbf96,8864,Artom Lifshitz,artom,0,"fup: Assert state of connection_info during LM rollback in func tests

This came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as
something we should be asserting in our func tests somewhere. I had
thought it already was but this is as close as we got. Add that coverage
here.

Change-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420
(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)
(cherry picked from commit c248986eeb8e9b9c3586c83b01663d3585132c3f)
",['nova/tests/functional/compute/test_live_migration.py']
openstack%2Fnova~843949,openstack/nova,stable/victoria,Iea8896682fc28e3a5cd25afa45238272bee745e1,compute: Ensure updates to bdms during pre_live_migration are saved,ABANDONED,2022-05-30 18:33:49.000000000,2024-03-05 18:58:02.000000000,18,3,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 26311, 'name': 'tianhui', 'email': 'tianhui@awcloud.com', 'username': 'tianhui'}]","[{'rev_nbr': 2, 'author': '2022-05-30 21:26:43.000000000', 'date': '2022-05-30 21:26:43.000000000'}, {'rev_nbr': 2, 'author': '2022-05-30 21:58:12.000000000', 'date': '2022-05-30 21:58:12.000000000'}, {'rev_nbr': 3, 'author': '2022-06-01 03:02:57.000000000', 'date': '2022-06-01 03:02:57.000000000'}, {'rev_nbr': 4, 'author': '2022-06-03 17:52:05.000000000', 'date': '2022-06-03 17:52:05.000000000'}, {'rev_nbr': 4, 'author': '2022-06-14 02:47:59.000000000', 'date': '2022-06-14 02:47:59.000000000'}, {'rev_nbr': 7, 'author': '2022-06-17 22:59:32.000000000', 'date': '2022-06-17 22:59:32.000000000'}, {'rev_nbr': 7, 'author': '2022-07-14 22:01:48.000000000', 'date': '2022-07-14 22:01:48.000000000'}]",6,"[{'number': 7, 'created': '2022-06-17 21:15:43.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1939545.py'], 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit 9bccc5a04354b0490fbe7e0f0b98cf55d4b7c9c4)\n'}]",843949,911d1063e06684137952aec6b260cc54738ee5de,8864,Artom Lifshitz,artom,0,"compute: Ensure updates to bdms during pre_live_migration are saved

When connecting volumes to the underlying host the virt drivers can
attempt to stash additional metadata returned from os-brick into the
connection_info associated with a bdm. This pretty janky behaviour
relies on someone later calling .save() against the underlying
BlockDeviceMapping object to persist these changes into the database as
happens in the driver block device layer during a standard volume
attach.

However during pre_live_migration no call was made to .save() resulting
in the changes made to the connection_info being lost. This change
simply introduces this call at the end of the pre_live_migration method
on the destination via the driver bdm objects we provide in
block_device_info.

Closes-Bug: #1939545
Change-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1
(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)
(cherry picked from commit 9bccc5a04354b0490fbe7e0f0b98cf55d4b7c9c4)
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1939545.py']"
openstack%2Fnova~851223,openstack/nova,stable/victoria,Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1,Add a workaround to skip hypervisor version check on LM,ABANDONED,2022-07-27 13:27:55.000000000,2024-03-05 18:57:58.000000000,53,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2022-07-27 16:12:54.000000000', 'date': '2022-07-27 16:12:54.000000000'}]",0,"[{'number': 2, 'created': '2022-07-27 13:31:52.000000000', 'files': ['releasenotes/notes/skip-hypervisor-version-check-on-lm-a87f2dcb4f8bf0f2.yaml', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/workarounds.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'message': ""Add a workaround to skip hypervisor version check on LM\n\nWhen turned on, this will disable the version-checking of hypervisors\nduring live-migration.  This can be useful for operators in certain\nscenarios when upgrading.  E.g. if you want to relocate all instances\noff a compute node due to an emergency hardware issue, and you only have\nanother old compute node ready at the time.\n\nNote, though: libvirt will do its own internal compatibility checks, and\nmight still reject live migration if the destination is incompatible.\n\nConflicts: nova/conf/workarounds.py\n - Some of the config options are not present in 'stable/victoria'\n\nCloses-Bug: #1982853\n\nChange-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n(cherry picked from commit 5032cb62e6458282e1282ac64cf7dd49a2497ac1)\n(cherry picked from commit 0e3b4424b7f587e3e274a5ef81ac35cfd14f0c96)\n(cherry picked from commit 21f92d4b576fc2c309713c369041dd434d605cc6)\n(cherry picked from commit d04e925a029f38c3d38f52e40d5bc5d8db41cf9f)\n""}]",851223,6bb930fee89bdaa0023f0f9ded34ef91e1b099a9,6962,Kashyap Chamarthy,kashyapc,0,"Add a workaround to skip hypervisor version check on LM

When turned on, this will disable the version-checking of hypervisors
during live-migration.  This can be useful for operators in certain
scenarios when upgrading.  E.g. if you want to relocate all instances
off a compute node due to an emergency hardware issue, and you only have
another old compute node ready at the time.

Note, though: libvirt will do its own internal compatibility checks, and
might still reject live migration if the destination is incompatible.

Conflicts: nova/conf/workarounds.py
 - Some of the config options are not present in 'stable/victoria'

Closes-Bug: #1982853

Change-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
(cherry picked from commit 5032cb62e6458282e1282ac64cf7dd49a2497ac1)
(cherry picked from commit 0e3b4424b7f587e3e274a5ef81ac35cfd14f0c96)
(cherry picked from commit 21f92d4b576fc2c309713c369041dd434d605cc6)
(cherry picked from commit d04e925a029f38c3d38f52e40d5bc5d8db41cf9f)
","['releasenotes/notes/skip-hypervisor-version-check-on-lm-a87f2dcb4f8bf0f2.yaml', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/workarounds.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']"
openstack%2Fnova~803720,openstack/nova,stable/victoria,I332d4f33ea6b9506cc24ac12e5c0994f208a3107,Add functional test for bug 1937375,ABANDONED,2021-08-06 10:03:26.000000000,2024-03-05 18:57:54.000000000,95,0,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29074, 'name': 'Felix Huettner', 'email': 'felix.huettner@stackit.cloud', 'username': 'felix.huettner'}]","[{'rev_nbr': 1, 'author': '2021-08-06 12:39:22.000000000', 'date': '2021-08-06 12:39:22.000000000'}]",1,"[{'number': 1, 'created': '2021-08-06 10:03:26.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1937375.py'], 'message': 'Add functional test for bug 1937375\n\nRelated-Bug: #1937375\nChange-Id: I332d4f33ea6b9506cc24ac12e5c0994f208a3107\n(cherry picked from commit 2ffd9738602531e93495a1feca76bbb687c3e72c)\n(cherry picked from commit 7a9e3dcd172f187cf93f406b09f49d2ded9bd90d)\n'}]",803720,68b2d5f797896768229db1cf28feb22a984daf81,10135,Lee Yarwood,lyarwood,0,"Add functional test for bug 1937375

Related-Bug: #1937375
Change-Id: I332d4f33ea6b9506cc24ac12e5c0994f208a3107
(cherry picked from commit 2ffd9738602531e93495a1feca76bbb687c3e72c)
(cherry picked from commit 7a9e3dcd172f187cf93f406b09f49d2ded9bd90d)
",['nova/tests/functional/regressions/test_bug_1937375.py']
openstack%2Fnova~803721,openstack/nova,stable/victoria,I92f35514efddcb071c7094370b79d91d34c5bc72,compute: Avoid duplicate BDMs during reserve_block_device_name,ABANDONED,2021-08-06 10:03:26.000000000,2024-03-05 18:57:50.000000000,41,6,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29074, 'name': 'Felix Huettner', 'email': 'felix.huettner@stackit.cloud', 'username': 'felix.huettner'}]","[{'rev_nbr': 1, 'author': '2021-08-06 12:13:35.000000000', 'date': '2021-08-06 12:13:35.000000000'}, {'rev_nbr': 1, 'author': '2021-08-06 12:37:50.000000000', 'date': '2021-08-06 12:37:50.000000000'}, {'rev_nbr': 1, 'author': '2021-08-06 17:01:48.000000000', 'date': '2021-08-06 17:01:48.000000000'}, {'rev_nbr': 1, 'author': '2021-08-06 18:58:25.000000000', 'date': '2021-08-06 18:58:25.000000000'}, {'rev_nbr': 1, 'author': '2021-08-09 08:10:47.000000000', 'date': '2021-08-09 08:10:47.000000000'}, {'rev_nbr': 1, 'author': '2021-08-09 08:53:44.000000000', 'date': '2021-08-09 08:53:44.000000000'}]",1,"[{'number': 1, 'created': '2021-08-06 10:03:26.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1937375.py', 'nova/compute/manager.py'], 'message': 'compute: Avoid duplicate BDMs during reserve_block_device_name\n\nWhen attaching a volume to a running instance the nova-api validates\nthat the volume is not already attached to the instance. However\nnova-compute is responsible for actually creating the BDM entry in the\ndatabase. If sending attach requests fast enough it can be possible\nthat the same ""attach_volume"" request can be sent to nova-compute for\nthe same volume/instance combination.\n\nTo work around this we add a check in nova-compute to validate that\nthe volume has not been attached in the mean time.\n\nCloses-Bug: #1937375\nChange-Id: I92f35514efddcb071c7094370b79d91d34c5bc72\n(cherry picked from commit 2209b0007fe85d7c5439e0bfdfe2120c63898fa2)\n(cherry picked from commit 2bee83b8a980b2bd9e276b75aa74253f8c0d0a70)\n'}]",803721,303c7a7c35044240f1546a5f960c1a4e6482f385,10135,Lee Yarwood,lyarwood,0,"compute: Avoid duplicate BDMs during reserve_block_device_name

When attaching a volume to a running instance the nova-api validates
that the volume is not already attached to the instance. However
nova-compute is responsible for actually creating the BDM entry in the
database. If sending attach requests fast enough it can be possible
that the same ""attach_volume"" request can be sent to nova-compute for
the same volume/instance combination.

To work around this we add a check in nova-compute to validate that
the volume has not been attached in the mean time.

Closes-Bug: #1937375
Change-Id: I92f35514efddcb071c7094370b79d91d34c5bc72
(cherry picked from commit 2209b0007fe85d7c5439e0bfdfe2120c63898fa2)
(cherry picked from commit 2bee83b8a980b2bd9e276b75aa74253f8c0d0a70)
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1937375.py', 'nova/compute/manager.py']"
openstack%2Fnova~825175,openstack/nova,stable/victoria,I7a6a6fe5f5b23e76948b59a85ca9be075a1c2d6d,libvirt: Add announce-self post live-migration workaround,ABANDONED,2022-01-18 21:32:53.000000000,2024-03-05 18:57:46.000000000,52,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2022-01-19 00:32:54.000000000', 'date': '2022-01-19 00:32:54.000000000'}, {'rev_nbr': 2, 'author': '2022-01-19 00:56:44.000000000', 'date': '2022-01-19 00:56:44.000000000'}, {'rev_nbr': 3, 'author': '2022-01-28 11:26:21.000000000', 'date': '2022-01-28 11:26:21.000000000'}, {'rev_nbr': 3, 'author': '2022-02-09 14:23:34.000000000', 'date': '2022-02-09 14:23:34.000000000'}, {'rev_nbr': 3, 'author': '2022-02-09 14:48:33.000000000', 'date': '2022-02-09 14:48:33.000000000'}, {'rev_nbr': 4, 'author': '2022-03-04 18:36:56.000000000', 'date': '2022-03-04 18:36:56.000000000'}, {'rev_nbr': 4, 'author': '2022-03-04 18:43:59.000000000', 'date': '2022-03-04 18:43:59.000000000'}, {'rev_nbr': 4, 'author': '2022-05-05 22:20:51.000000000', 'date': '2022-05-05 22:20:51.000000000'}, {'rev_nbr': 4, 'author': '2022-05-05 23:07:59.000000000', 'date': '2022-05-05 23:07:59.000000000'}]",2,"[{'number': 4, 'created': '2022-03-04 16:26:54.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/announce-self-post-live-migration-936721b1ab887514.yaml', 'nova/conf/workarounds.py', 'nova/virt/libvirt/guest.py'], 'message': 'libvirt: Add announce-self post live-migration workaround\n\nNOTE(melwitt): This is the combination of two commits, the workaround\nconfig option and a followup change to add a note that enabling the\nworkaround will cause the guest domain to be considered tainted by\nlibvirt.\n\nThis patch adds a workaround that can be enabled\nto send an announce_self QEMU monitor command\npost live-migration to send out RARP frames\nthat was lost due to port binding or flows not\nbeing installed.\n\nPlease note that this makes marks the domain\nin libvirt as tainted.\n\nSee previous information about this issue in\nthe [1] bug.\n\n[1] https://bugs.launchpad.net/nova/+bug/1815989\n\nRelated-Bug: 1815989\n\nUpdate announce self workaround opt description\n\nThis updates the announce self workaround config opt\ndescription to include info about instance being set\nas tainted by libvirt.\n\nChange-Id: I8140c8fe592dd54fc09a9510723892806db49a56\n(cherry picked from commit 2aa1ed5810b67b9a8f18b2ec5e21004f93831168)\n\nChange-Id: I7a6a6fe5f5b23e76948b59a85ca9be075a1c2d6d\n(cherry picked from commit d44e24efe28e825fbfd2c75a032bf2d10109a439)\n(cherry picked from commit a8981422afdd09f8cfea053e592c15e771fbe969)\n(cherry picked from commit c578b5d094a37719aa8e22e52fdd0c3a525011e0)\n'}]",825175,410cfb07bd08efac6d2073141211c3195808e87a,11604,sean mooney,sean-k-mooney,0,"libvirt: Add announce-self post live-migration workaround

NOTE(melwitt): This is the combination of two commits, the workaround
config option and a followup change to add a note that enabling the
workaround will cause the guest domain to be considered tainted by
libvirt.

This patch adds a workaround that can be enabled
to send an announce_self QEMU monitor command
post live-migration to send out RARP frames
that was lost due to port binding or flows not
being installed.

Please note that this makes marks the domain
in libvirt as tainted.

See previous information about this issue in
the [1] bug.

[1] https://bugs.launchpad.net/nova/+bug/1815989

Related-Bug: 1815989

Update announce self workaround opt description

This updates the announce self workaround config opt
description to include info about instance being set
as tainted by libvirt.

Change-Id: I8140c8fe592dd54fc09a9510723892806db49a56
(cherry picked from commit 2aa1ed5810b67b9a8f18b2ec5e21004f93831168)

Change-Id: I7a6a6fe5f5b23e76948b59a85ca9be075a1c2d6d
(cherry picked from commit d44e24efe28e825fbfd2c75a032bf2d10109a439)
(cherry picked from commit a8981422afdd09f8cfea053e592c15e771fbe969)
(cherry picked from commit c578b5d094a37719aa8e22e52fdd0c3a525011e0)
","['nova/virt/libvirt/driver.py', 'releasenotes/notes/announce-self-post-live-migration-936721b1ab887514.yaml', 'nova/conf/workarounds.py', 'nova/virt/libvirt/guest.py']"
openstack%2Fnova~819181,openstack/nova,stable/victoria,Iae4fd0579f71d3ba6793dbdb037275352d7e57b0,Retry image download if it's corrupted,ABANDONED,2021-11-25 13:55:35.000000000,2024-03-05 18:57:42.000000000,23,1,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-11-25 16:36:12.000000000', 'date': '2021-11-25 16:36:12.000000000'}, {'rev_nbr': 1, 'author': '2021-11-25 16:36:34.000000000', 'date': '2021-11-25 16:36:34.000000000'}, {'rev_nbr': 2, 'author': '2022-10-27 14:01:39.000000000', 'date': '2022-10-27 14:01:39.000000000'}]",2,"[{'number': 2, 'created': '2022-10-27 13:23:10.000000000', 'files': ['nova/image/glance.py', 'releasenotes/notes/bug-retry-corrupted-download-5798b0df44a00e4e.yaml', 'nova/tests/unit/image/test_glance.py'], 'message': 'Retry image download if it\'s corrupted\n\nAdding IOError in list of catching exceptions in order to\nfix behavior when nova-compute wouldn\'t retry image download\nwhen got ""Corrupt image download"" error from glanceclient\nand had num_retries config option set.\n\nCloses-Bug: #1950657\nChange-Id: Iae4fd0579f71d3ba6793dbdb037275352d7e57b0\n(cherry picked from commit ce493273b9404530dfa8ecfe3eaa3d6c81a20e39)\n(cherry picked from commit b44ec0dc4927046d15525af78ab9d534cea9ce69)\n(cherry picked from commit 8e05222fd221501aac004d64f59783eb01bddf29)\n'}]",819181,663d642c71cd5c69c239e6657baf7c8e97b3a7b7,30609,Stanislav Dmitriev,sdmitriev,0,"Retry image download if it's corrupted

Adding IOError in list of catching exceptions in order to
fix behavior when nova-compute wouldn't retry image download
when got ""Corrupt image download"" error from glanceclient
and had num_retries config option set.

Closes-Bug: #1950657
Change-Id: Iae4fd0579f71d3ba6793dbdb037275352d7e57b0
(cherry picked from commit ce493273b9404530dfa8ecfe3eaa3d6c81a20e39)
(cherry picked from commit b44ec0dc4927046d15525af78ab9d534cea9ce69)
(cherry picked from commit 8e05222fd221501aac004d64f59783eb01bddf29)
","['nova/image/glance.py', 'releasenotes/notes/bug-retry-corrupted-download-5798b0df44a00e4e.yaml', 'nova/tests/unit/image/test_glance.py']"
openstack%2Fnova~838334,openstack/nova,stable/victoria,Ia208ef0dd0bab1c59d025234f4da7537c39cda61,Adds regression test for bug LP#1944619,ABANDONED,2022-04-18 18:04:22.000000000,2024-03-05 18:57:39.000000000,114,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2022-04-18 22:05:23.000000000', 'date': '2022-04-18 22:05:23.000000000'}]",1,"[{'number': 3, 'created': '2022-04-19 13:26:49.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1944619.py', 'nova/tests/functional/libvirt/base.py'], 'message': 'Adds regression test for bug LP#1944619\n\nRelated-bug: #1944619\nChange-Id: Ia208ef0dd0bab1c59d025234f4da7537c39cda61\n(cherry picked from commit d43538712c034023bdb3e25cd7adfdee409ed596)\n(cherry picked from commit fd6b8da64e7d0cb6bc1c7c5e8221ea5e7d7de97e)\n(cherry picked from commit 44a0023e8a86ec1011f2cfc4abd234b6ffa3a622)\n'}]",838334,0343d3824ba70bca2f8ae6b9af026396ae3bcd18,10058,Erlon R. Cruz,sombrafam,0,"Adds regression test for bug LP#1944619

Related-bug: #1944619
Change-Id: Ia208ef0dd0bab1c59d025234f4da7537c39cda61
(cherry picked from commit d43538712c034023bdb3e25cd7adfdee409ed596)
(cherry picked from commit fd6b8da64e7d0cb6bc1c7c5e8221ea5e7d7de97e)
(cherry picked from commit 44a0023e8a86ec1011f2cfc4abd234b6ffa3a622)
","['nova/tests/functional/regressions/test_bug_1944619.py', 'nova/tests/functional/libvirt/base.py']"
openstack%2Fnova~836017,openstack/nova,stable/victoria,I784190ac356695dd508e0ad8ec31d8eaa3ebee56,Fix pre_live_migration rollback,ABANDONED,2022-03-31 13:10:29.000000000,2024-03-05 18:57:35.000000000,41,33,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-03-31 15:27:35.000000000', 'date': '2022-03-31 15:27:35.000000000'}, {'rev_nbr': 1, 'author': '2022-03-31 17:10:01.000000000', 'date': '2022-03-31 17:10:01.000000000'}, {'rev_nbr': 1, 'author': '2022-04-01 16:15:34.000000000', 'date': '2022-04-01 16:15:34.000000000'}, {'rev_nbr': 1, 'author': '2022-04-01 16:38:35.000000000', 'date': '2022-04-01 16:38:35.000000000'}, {'rev_nbr': 3, 'author': '2022-04-18 21:33:40.000000000', 'date': '2022-04-18 21:33:40.000000000'}, {'rev_nbr': 3, 'author': '2022-04-18 22:43:10.000000000', 'date': '2022-04-18 22:43:10.000000000'}, {'rev_nbr': 4, 'author': '2022-04-19 15:37:53.000000000', 'date': '2022-04-19 15:37:53.000000000'}]",2,"[{'number': 4, 'created': '2022-04-19 13:26:49.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1944619.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1944619-fix-live-migration-rollback.yaml', 'nova/compute/manager.py'], 'message': ""Fix pre_live_migration rollback\n\nDuring the pre live migration process, Nova performs most of the\ntasks related to the creation and operation of the VM in the destination\nhost. That is done without interrupting any of the hardware in the source\nhost. If the pre_live_migration fails, those same operations should be\nrolled back.\n\nCurrently nova is sharing the _rollback_live_migration for both\nlive and pre_live migration rollbacks, and that is causing the source\nhost to try to re-attach network interfaces on the source host where\nthey weren't actually de-attached.\n\nThis patch fixes that by adding a conditional to allow nova to do\ndifferent paths for migration and pre_live_migration rollbacks.\n\nCloses-bug: #1944619\nChange-Id: I784190ac356695dd508e0ad8ec31d8eaa3ebee56\n(cherry picked from commit 63ffba7496182f6f6f49a380f3c639fc3ded9772)\n(cherry picked from commit 379e54fe49b3343a0734c96574789614e3d83b49)\n(cherry picked from commit c277636a96f4525ed6eb0530aa576f2156c8b99d)\n(cherry picked from commit d91051269a3230f3e2ec7609ec2a5d378143703c)\n""}]",836017,bf8f44857446bf5337db62a7793b4f4a7b350022,10058,Erlon R. Cruz,sombrafam,0,"Fix pre_live_migration rollback

During the pre live migration process, Nova performs most of the
tasks related to the creation and operation of the VM in the destination
host. That is done without interrupting any of the hardware in the source
host. If the pre_live_migration fails, those same operations should be
rolled back.

Currently nova is sharing the _rollback_live_migration for both
live and pre_live migration rollbacks, and that is causing the source
host to try to re-attach network interfaces on the source host where
they weren't actually de-attached.

This patch fixes that by adding a conditional to allow nova to do
different paths for migration and pre_live_migration rollbacks.

Closes-bug: #1944619
Change-Id: I784190ac356695dd508e0ad8ec31d8eaa3ebee56
(cherry picked from commit 63ffba7496182f6f6f49a380f3c639fc3ded9772)
(cherry picked from commit 379e54fe49b3343a0734c96574789614e3d83b49)
(cherry picked from commit c277636a96f4525ed6eb0530aa576f2156c8b99d)
(cherry picked from commit d91051269a3230f3e2ec7609ec2a5d378143703c)
","['nova/tests/functional/regressions/test_bug_1944619.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1944619-fix-live-migration-rollback.yaml', 'nova/compute/manager.py']"
openstack%2Fnova~860736,openstack/nova,stable/victoria,I77fdfa9cffbd44b2889f49f266b2582bcc6a4267,"Handle ""no RAM info was set"" migration case",ABANDONED,2022-10-07 18:47:17.000000000,2024-03-05 18:57:31.000000000,40,0,"[{'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-10-07 18:58:26.000000000', 'date': '2022-10-07 18:58:26.000000000'}]",2,"[{'number': 1, 'created': '2022-10-07 18:47:17.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'releasenotes/notes/bug-1982284-libvirt-handle-no-ram-info-was-set-99784934ed80fd72.yaml'], 'message': 'Handle ""no RAM info was set"" migration case\n\nThis handles the case where the live migration monitoring thread may\nrace and call jobStats() after the migration has completed resulting in\nthe following error:\n\n    libvirt.libvirtError: internal error: migration was active, but no\n    RAM info was set\n\nCloses-Bug: #1982284\nChange-Id: I77fdfa9cffbd44b2889f49f266b2582bcc6a4267\n(cherry picked from commit 9fea934c71d3c2fa7fdd80c67d94e18466c5cf9a)\n(cherry picked from commit 00396fa9396324780c09161ed57a86b7e458c26f)\n(cherry picked from commit 4316234e63b76e4f9877ec6e924b5c54ea761bbb)\n(cherry picked from commit 98d9936e54b900db1bd2d5477a9a1d7e5a7be104)\n(cherry picked from commit 6d68aee626875a165667e04c4ccc54ff3073e4ff)\n'}]",860736,13c2e5b2d7a2d3ac7384dc17cbe74b9faca2762c,4690,melanie witt,melwitt,0,"Handle ""no RAM info was set"" migration case

This handles the case where the live migration monitoring thread may
race and call jobStats() after the migration has completed resulting in
the following error:

    libvirt.libvirtError: internal error: migration was active, but no
    RAM info was set

Closes-Bug: #1982284
Change-Id: I77fdfa9cffbd44b2889f49f266b2582bcc6a4267
(cherry picked from commit 9fea934c71d3c2fa7fdd80c67d94e18466c5cf9a)
(cherry picked from commit 00396fa9396324780c09161ed57a86b7e458c26f)
(cherry picked from commit 4316234e63b76e4f9877ec6e924b5c54ea761bbb)
(cherry picked from commit 98d9936e54b900db1bd2d5477a9a1d7e5a7be104)
(cherry picked from commit 6d68aee626875a165667e04c4ccc54ff3073e4ff)
","['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'releasenotes/notes/bug-1982284-libvirt-handle-no-ram-info-was-set-99784934ed80fd72.yaml']"
openstack%2Fnova~811810,openstack/nova,stable/victoria,Ice4071722de54e8d20bb8c3795be22f1995940cd,Add functional regression test for bug 1853009,ABANDONED,2021-09-30 00:29:44.000000000,2024-03-05 18:57:27.000000000,190,0,"[{'_account_id': 14826, 'name': 'Mark Goddard', 'email': 'markgoddard86@gmail.com', 'username': 'mgoddard'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2021-09-30 00:29:44.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1853009.py'], 'message': 'Add functional regression test for bug 1853009\n\nBug 1853009 describes a race condition involving multiple nova-compute\nservices with ironic. As the compute services start up, the hash ring\nrebalances, and the compute services have an inconsistent view of which\nis responsible for a compute node.\n\nThe sequence of actions here is adapted from a real world log [1], where\nmultiple nova-compute services were started simultaneously. In some\ncases mocks are used to simulate race conditions.\n\nThere are three main issues with the behaviour:\n\n* host2 deletes the orphan node compute node after host1 has taken\n  ownership of it.\n\n* host1 assumes that another compute service will not delete its nodes.\n  Once a node is in rt.compute_nodes, it is not removed again unless the\n  node is orphaned. This prevents host1 from recreating the compute\n  node.\n\n* host1 assumes that another compute service will not delete its\n  resource providers. Once an RP is in the provider tree, it is not\n  removed.\n\nThis functional test documents the current behaviour, with the idea that\nit can be updated as this behaviour is fixed.\n\n[1] http://paste.openstack.org/show/786272/\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd\nRelated-Bug: #1853009\nRelated-Bug: #1853159\n(cherry picked from commit 59d9871e8a0672538f8ffc43ae99b3d1c4b08909)\n(cherry picked from commit c260e75d012cc4fae596d5de185afad6fb24068c)\n'}]",811810,34d5bca6bc612f41ac3fc33447cd2ba83bf446ba,4690,melanie witt,melwitt,0,"Add functional regression test for bug 1853009

Bug 1853009 describes a race condition involving multiple nova-compute
services with ironic. As the compute services start up, the hash ring
rebalances, and the compute services have an inconsistent view of which
is responsible for a compute node.

The sequence of actions here is adapted from a real world log [1], where
multiple nova-compute services were started simultaneously. In some
cases mocks are used to simulate race conditions.

There are three main issues with the behaviour:

* host2 deletes the orphan node compute node after host1 has taken
  ownership of it.

* host1 assumes that another compute service will not delete its nodes.
  Once a node is in rt.compute_nodes, it is not removed again unless the
  node is orphaned. This prevents host1 from recreating the compute
  node.

* host1 assumes that another compute service will not delete its
  resource providers. Once an RP is in the provider tree, it is not
  removed.

This functional test documents the current behaviour, with the idea that
it can be updated as this behaviour is fixed.

[1] http://paste.openstack.org/show/786272/

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Change-Id: Ice4071722de54e8d20bb8c3795be22f1995940cd
Related-Bug: #1853009
Related-Bug: #1853159
(cherry picked from commit 59d9871e8a0672538f8ffc43ae99b3d1c4b08909)
(cherry picked from commit c260e75d012cc4fae596d5de185afad6fb24068c)
",['nova/tests/functional/regressions/test_bug_1853009.py']
openstack%2Fnova~811813,openstack/nova,stable/victoria,I260c1fded79a85d4899e94df4d9036a1ee437f02,Prevent deletion of a compute node belonging to another host,ABANDONED,2021-09-30 00:29:44.000000000,2024-03-05 18:57:23.000000000,128,27,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 14826, 'name': 'Mark Goddard', 'email': 'markgoddard86@gmail.com', 'username': 'mgoddard'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 20733, 'name': 'Rajesh Tailor', 'email': 'ratailor@redhat.com', 'username': 'rajesht'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 3, 'author': '2021-09-30 06:25:23.000000000', 'date': '2021-09-30 06:25:23.000000000'}]",4,"[{'number': 3, 'created': '2021-09-30 03:53:17.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/compute_node.py', 'nova/tests/unit/objects/test_compute_node.py', 'releasenotes/notes/bug-1853009-99414e14d1491b5f.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'message': 'Prevent deletion of a compute node belonging to another host\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe main race condition involved is in update_available_resources in\nthe compute manager. When the list of compute nodes is queried, there is\na compute node belonging to the host that it does not expect to be\nmanaging, i.e. it is an orphan. Between that time and deleting the\norphan, the real owner of the compute node takes ownership of it ( in\nthe resource tracker). However, the node is still deleted as the first\nhost is unaware of the ownership change.\n\nThis change prevents this from occurring by filtering on the host when\ndeleting a compute node. If another compute host has taken ownership of\na node, it will have updated the host field and this will prevent\ndeletion from occurring. The first host sees this has happened via the\nComputeHostNotFound exception, and avoids deleting its resource\nprovider.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nConflicts:\n    nova/compute/manager.py\n\nNOTE(melwitt): The conflict is because change\nI23bb9e539d08f5c6202909054c2dd49b6c7a7a0e (Remove six.text_type (1/2))\nis not in Victoria.\n\nCloses-Bug: #1853009\nRelated-Bug: #1841481\n\nChange-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02\n(cherry picked from commit a8492e88783b40f6dc61888fada232f0d00d6acf)\n(cherry picked from commit cbbca58504275f194ec55eeb89dad4a496d98060)\n'}]",811813,737a4ccd1398a5cf28a67547f226b668f246c784,4690,melanie witt,melwitt,0,"Prevent deletion of a compute node belonging to another host

There is a race condition in nova-compute with the ironic virt driver as
nodes get rebalanced. It can lead to compute nodes being removed in the
DB and not repopulated. Ultimately this prevents these nodes from being
scheduled to.

The main race condition involved is in update_available_resources in
the compute manager. When the list of compute nodes is queried, there is
a compute node belonging to the host that it does not expect to be
managing, i.e. it is an orphan. Between that time and deleting the
orphan, the real owner of the compute node takes ownership of it ( in
the resource tracker). However, the node is still deleted as the first
host is unaware of the ownership change.

This change prevents this from occurring by filtering on the host when
deleting a compute node. If another compute host has taken ownership of
a node, it will have updated the host field and this will prevent
deletion from occurring. The first host sees this has happened via the
ComputeHostNotFound exception, and avoids deleting its resource
provider.

Co-Authored-By: melanie witt <melwittt@gmail.com>

Conflicts:
    nova/compute/manager.py

NOTE(melwitt): The conflict is because change
I23bb9e539d08f5c6202909054c2dd49b6c7a7a0e (Remove six.text_type (1/2))
is not in Victoria.

Closes-Bug: #1853009
Related-Bug: #1841481

Change-Id: I260c1fded79a85d4899e94df4d9036a1ee437f02
(cherry picked from commit a8492e88783b40f6dc61888fada232f0d00d6acf)
(cherry picked from commit cbbca58504275f194ec55eeb89dad4a496d98060)
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/compute_node.py', 'nova/tests/unit/objects/test_compute_node.py', 'releasenotes/notes/bug-1853009-99414e14d1491b5f.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py']"
openstack%2Fnova~811814,openstack/nova,stable/victoria,Iae119ea8776bc7f2e5dbe2e502a743217beded73,Fix inactive session error in compute node creation,ABANDONED,2021-09-30 00:29:44.000000000,2024-03-05 18:57:19.000000000,31,35,"[{'_account_id': 14826, 'name': 'Mark Goddard', 'email': 'markgoddard86@gmail.com', 'username': 'mgoddard'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 3, 'author': '2021-09-30 06:42:28.000000000', 'date': '2021-09-30 06:42:28.000000000'}]",1,"[{'number': 3, 'created': '2021-09-30 03:53:17.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'message': ""Fix inactive session error in compute node creation\n\nIn the fix for bug 1839560 [1][2], soft-deleted compute nodes may be\nrestored, to ensure we can reuse ironic node UUIDs as compute node\nUUIDs. While this seems to largely work, it results in some nasty errors\nbeing generated [3]:\n\n    InvalidRequestError This session is in 'inactive' state, due to the\n    SQL transaction being rolled back; no further SQL can be emitted\n    within this transaction.\n\nThis happens because compute_node_create is decorated with\npick_context_manager_writer, which begins a transaction. While\n_compute_node_get_and_update_deleted claims that calling a second\npick_context_manager_writer decorated function will begin a new\nsubtransaction, this does not appear to be the case.\n\nThis change removes pick_context_manager_writer from the\ncompute_node_create function, and adds a new _compute_node_create\nfunction which ensures the transaction is finished if\n_compute_node_get_and_update_deleted is called.\n\nThe new unit test added here fails without this change.\n\nThis change marks the removal of the final FIXME from the functional\ntest added in [4].\n\n[1] https://bugs.launchpad.net/nova/+bug/1839560\n[2] https://git.openstack.org/cgit/openstack/nova/commit/?id=89dd74ac7f1028daadf86cb18948e27fe9d1d411\n[3] http://paste.openstack.org/show/786350/\n[4] https://review.opendev.org/#/c/695012/\n\nChange-Id: Iae119ea8776bc7f2e5dbe2e502a743217beded73\nCloses-Bug: #1853159\nRelated-Bug: #1853009\n(cherry picked from commit 2383cbb4a518821d245fce316b3778c8ba8e5246)\n(cherry picked from commit 665c053315439e1345aa131f4839945d662fb3f3)\n""}]",811814,b1331d0bed7a414591a389f5eca8700fe2fec136,4690,melanie witt,melwitt,0,"Fix inactive session error in compute node creation

In the fix for bug 1839560 [1][2], soft-deleted compute nodes may be
restored, to ensure we can reuse ironic node UUIDs as compute node
UUIDs. While this seems to largely work, it results in some nasty errors
being generated [3]:

    InvalidRequestError This session is in 'inactive' state, due to the
    SQL transaction being rolled back; no further SQL can be emitted
    within this transaction.

This happens because compute_node_create is decorated with
pick_context_manager_writer, which begins a transaction. While
_compute_node_get_and_update_deleted claims that calling a second
pick_context_manager_writer decorated function will begin a new
subtransaction, this does not appear to be the case.

This change removes pick_context_manager_writer from the
compute_node_create function, and adds a new _compute_node_create
function which ensures the transaction is finished if
_compute_node_get_and_update_deleted is called.

The new unit test added here fails without this change.

This change marks the removal of the final FIXME from the functional
test added in [4].

[1] https://bugs.launchpad.net/nova/+bug/1839560
[2] https://git.openstack.org/cgit/openstack/nova/commit/?id=89dd74ac7f1028daadf86cb18948e27fe9d1d411
[3] http://paste.openstack.org/show/786350/
[4] https://review.opendev.org/#/c/695012/

Change-Id: Iae119ea8776bc7f2e5dbe2e502a743217beded73
Closes-Bug: #1853159
Related-Bug: #1853009
(cherry picked from commit 2383cbb4a518821d245fce316b3778c8ba8e5246)
(cherry picked from commit 665c053315439e1345aa131f4839945d662fb3f3)
","['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1853009.py']"
openstack%2Fnova~811812,openstack/nova,stable/victoria,Ia53ff43e6964963cdf295604ba0fb7171389606e,Invalidate provider tree when compute node disappears,ABANDONED,2021-09-30 00:29:44.000000000,2024-03-05 18:57:15.000000000,25,20,"[{'_account_id': 14826, 'name': 'Mark Goddard', 'email': 'markgoddard86@gmail.com', 'username': 'mgoddard'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-09-30 03:02:55.000000000', 'date': '2021-09-30 03:02:55.000000000'}]",1,"[{'number': 1, 'created': '2021-09-30 00:29:44.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/scheduler/client/report.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'message': 'Invalidate provider tree when compute node disappears\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n(cherry picked from commit 2bb4527228c8e6fa4a1fa6cfbe80e8790e4e0789)\n(cherry picked from commit 0fc104eeea065579f7fa9b52794d5151baefc84c)\n'}]",811812,456bcc784340a5674d25fbe6e707c36c583b504f,4690,melanie witt,melwitt,0,"Invalidate provider tree when compute node disappears

There is a race condition in nova-compute with the ironic virt driver
as nodes get rebalanced. It can lead to compute nodes being removed in
the DB and not repopulated. Ultimately this prevents these nodes from
being scheduled to.

The issue being addressed here is that if a compute node is deleted by a
host which thinks it is an orphan, then the resource provider for that
node might also be deleted. The compute host that owns the node might
not recreate the resource provider if it exists in the provider tree
cache.

This change fixes the issue by clearing resource providers from the
provider tree cache for which a compute node entry does not exist. Then,
when the available resource for the node is updated, the resource
providers are not found in the cache and get recreated in placement.

Change-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e
Related-Bug: #1853009
Related-Bug: #1841481
(cherry picked from commit 2bb4527228c8e6fa4a1fa6cfbe80e8790e4e0789)
(cherry picked from commit 0fc104eeea065579f7fa9b52794d5151baefc84c)
","['nova/tests/unit/compute/test_resource_tracker.py', 'nova/scheduler/client/report.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py']"
openstack%2Fnova~811811,openstack/nova,stable/victoria,I39241223b447fcc671161c370dbf16e1773b684a,Clear rebalanced compute nodes from resource tracker,ABANDONED,2021-09-30 00:29:44.000000000,2024-03-05 18:57:12.000000000,66,18,"[{'_account_id': 2033, 'name': 'Belmiro Moreira', 'email': 'moreira.belmiro.email.lists@gmail.com', 'username': 'moreira-belmiro-email-lists'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-09-30 02:55:17.000000000', 'date': '2021-09-30 02:55:17.000000000'}, {'rev_nbr': 1, 'author': '2021-10-29 04:04:57.000000000', 'date': '2021-10-29 04:04:57.000000000'}, {'rev_nbr': 1, 'author': '2021-10-29 04:31:17.000000000', 'date': '2021-10-29 04:31:17.000000000'}, {'rev_nbr': 1, 'author': '2022-06-15 04:15:00.000000000', 'date': '2022-06-15 04:15:00.000000000'}]",4,"[{'number': 1, 'created': '2021-09-30 00:29:44.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'message': 'Clear rebalanced compute nodes from resource tracker\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n(cherry picked from commit 32676a9f45807ea8770dc7bdff1e859673af1b61)\n(cherry picked from commit f950cedf17cc4c3ce9d094dbfde5e4cf013260f7)\n'}]",811811,32887f82c9bd430f285ff4418811dffdd88e398f,4690,melanie witt,melwitt,0,"Clear rebalanced compute nodes from resource tracker

There is a race condition in nova-compute with the ironic virt driver as
nodes get rebalanced. It can lead to compute nodes being removed in the
DB and not repopulated. Ultimately this prevents these nodes from being
scheduled to.

The issue being addressed here is that if a compute node is deleted by a host
which thinks it is an orphan, then the compute host that actually owns the node
might not recreate it if the node is already in its resource tracker cache.

This change fixes the issue by clearing nodes from the resource tracker cache
for which a compute node entry does not exist. Then, when the available
resource for the node is updated, the compute node object is not found in the
cache and gets recreated.

Change-Id: I39241223b447fcc671161c370dbf16e1773b684a
Partial-Bug: #1853009
(cherry picked from commit 32676a9f45807ea8770dc7bdff1e859673af1b61)
(cherry picked from commit f950cedf17cc4c3ce9d094dbfde5e4cf013260f7)
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py']"
openstack%2Fnova~869583,openstack/nova,stable/victoria,I9367b7ed475917bdb05eb3f209ce1a4e646534e2,Reproduce bug 1981813 in func env,ABANDONED,2023-01-09 17:31:45.000000000,2024-03-05 18:57:08.000000000,80,3,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-01-25 16:38:53.000000000', 'files': ['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py'], 'message': 'Reproduce bug 1981813 in func env\n\nThere stable/yoga only change in test_pci_sriov_servers.py due to\nunittest.mock switch[1] only happened in zed.\n\n[1] https://review.opendev.org/q/topic:unittest.mock+status:merged+project:openstack/nova\n\nRelated-Bug: #1981813\nChange-Id: I9367b7ed475917bdb05eb3f209ce1a4e646534e2\n(cherry picked from commit f8c91eb75fc5504a37fc3b4be1d65d33dbc9b511)\n(cherry picked from commit 4954f993680c75fd9d3d507f2dcd00300c9b3d44)\n(cherry picked from commit 0c87681135cfb3ce61d2a0392928c1dbc1fe5fde)\n(cherry picked from commit cb4c2b6c04232901f4c5adae724697fec3aed4e8)\n'}]",869583,231881b214e36f256bfb95d806557e6a0852f5e3,9708,Balazs Gibizer,gibi,0,"Reproduce bug 1981813 in func env

There stable/yoga only change in test_pci_sriov_servers.py due to
unittest.mock switch[1] only happened in zed.

[1] https://review.opendev.org/q/topic:unittest.mock+status:merged+project:openstack/nova

Related-Bug: #1981813
Change-Id: I9367b7ed475917bdb05eb3f209ce1a4e646534e2
(cherry picked from commit f8c91eb75fc5504a37fc3b4be1d65d33dbc9b511)
(cherry picked from commit 4954f993680c75fd9d3d507f2dcd00300c9b3d44)
(cherry picked from commit 0c87681135cfb3ce61d2a0392928c1dbc1fe5fde)
(cherry picked from commit cb4c2b6c04232901f4c5adae724697fec3aed4e8)
","['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py']"
openstack%2Fnova~843947,openstack/nova,stable/victoria,I066fb5617bae944a03273049117fc2b5bf329283,fake: Ensure need_legacy_block_device_info returns False,ABANDONED,2022-05-30 18:33:49.000000000,2024-03-05 18:57:04.000000000,31,19,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 33493, 'name': 'chenwei', 'display_name': 'chenwei', 'email': 'jzpcoming@163.com', 'username': 'chenwei'}]","[{'rev_nbr': 2, 'author': '2022-05-30 21:32:37.000000000', 'date': '2022-05-30 21:32:37.000000000'}, {'rev_nbr': 2, 'author': '2022-05-31 21:49:56.000000000', 'date': '2022-05-31 21:49:56.000000000'}, {'rev_nbr': 4, 'author': '2023-02-02 21:15:54.000000000', 'date': '2023-02-02 21:15:54.000000000'}]",6,"[{'number': 4, 'created': '2022-06-17 14:58:42.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py'], 'message': ""fake: Ensure need_legacy_block_device_info returns False\n\nThe legacy block_device_info format has not been used for a while in the\nvirt drivers and the Fake virt drivers shouldn't be using it anymore.\n\nSome compute tests have been updated as they were previously asserting\nthe legacy format incorrectly. TODOs are also left to remove support for\nthe legacy format in a follow up change.\n\nChange-Id: I066fb5617bae944a03273049117fc2b5bf329283\n(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)\n(cherry picked from commit 74160240526ccc64b7c86b66969b2e22f8a2c683)\n""}]",843947,2ce7dc32d5f58e0be4c464faff00b53fb4671a22,8864,Artom Lifshitz,artom,0,"fake: Ensure need_legacy_block_device_info returns False

The legacy block_device_info format has not been used for a while in the
virt drivers and the Fake virt drivers shouldn't be using it anymore.

Some compute tests have been updated as they were previously asserting
the legacy format incorrectly. TODOs are also left to remove support for
the legacy format in a follow up change.

Change-Id: I066fb5617bae944a03273049117fc2b5bf329283
(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)
(cherry picked from commit 74160240526ccc64b7c86b66969b2e22f8a2c683)
","['nova/virt/fake.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py']"
openstack%2Fnova~869584,openstack/nova,stable/victoria,I1719f8eda04e8d15a3b01f0612977164c4e55e85,Gracefully ERROR in _init_instance if vnic_type changed,ABANDONED,2023-01-09 17:31:45.000000000,2024-03-05 18:57:00.000000000,252,7,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2023-01-26 10:46:09.000000000', 'date': '2023-01-26 10:46:09.000000000'}, {'rev_nbr': 2, 'author': '2023-02-07 16:33:11.000000000', 'date': '2023-02-07 16:33:11.000000000'}]",2,"[{'number': 2, 'created': '2023-01-25 16:38:53.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py', 'releasenotes/notes/bug-1981813-vnic-type-change-9f3e16fae885b57f.yaml', 'nova/compute/manager.py'], 'message': 'Gracefully ERROR in _init_instance if vnic_type changed\n\nIf the vnic_type of a bound port changes from ""direct"" to ""macvtap"" and\nthen the compute service is restarted then during _init_instance nova\ntries to plug the vif of the changed port. However as it now has macvtap\nvnic_type nova tries to look up the netdev of the parent VF. Still that\nVF is consumed by the instance so there is no such netdev on the host\nOS. This error killed the compute service at startup due to unhandled\nexception. This patch adds the exception handler, logs an ERROR and\ncontinue initializing other instances on the host.\n\nAlso this patch adds a detailed ERROR log when nova detects that the\nvnic_type changed during _heal_instance_info_cache periodic.\n\nCloses-Bug: #1981813\nChange-Id: I1719f8eda04e8d15a3b01f0612977164c4e55e85\n(cherry picked from commit e43bf900dc8ca66578603bed333c56b215b1876e)\n(cherry picked from commit a28c82719545d5c8ee7f3ff1361b3a796e05095a)\n(cherry picked from commit 1a98a1a650d065a8ab3e1c474f3b9fd537dc2206)\n(cherry picked from commit e5838298e7189f01a1eb99e90a9b4da6e1925c36)\n'}]",869584,88df0d05e6ba4e2a5a4eb1185ad8cde6a9797c89,9708,Balazs Gibizer,gibi,0,"Gracefully ERROR in _init_instance if vnic_type changed

If the vnic_type of a bound port changes from ""direct"" to ""macvtap"" and
then the compute service is restarted then during _init_instance nova
tries to plug the vif of the changed port. However as it now has macvtap
vnic_type nova tries to look up the netdev of the parent VF. Still that
VF is consumed by the instance so there is no such netdev on the host
OS. This error killed the compute service at startup due to unhandled
exception. This patch adds the exception handler, logs an ERROR and
continue initializing other instances on the host.

Also this patch adds a detailed ERROR log when nova detects that the
vnic_type changed during _heal_instance_info_cache periodic.

Closes-Bug: #1981813
Change-Id: I1719f8eda04e8d15a3b01f0612977164c4e55e85
(cherry picked from commit e43bf900dc8ca66578603bed333c56b215b1876e)
(cherry picked from commit a28c82719545d5c8ee7f3ff1361b3a796e05095a)
(cherry picked from commit 1a98a1a650d065a8ab3e1c474f3b9fd537dc2206)
(cherry picked from commit e5838298e7189f01a1eb99e90a9b4da6e1925c36)
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py', 'releasenotes/notes/bug-1981813-vnic-type-change-9f3e16fae885b57f.yaml', 'nova/compute/manager.py']"
openstack%2Fnova~857423,openstack/nova,stable/victoria,I3cb39a9ec2c260f422b3c48122b9db512cdd799b,"Revert ""Revert resize: wait for events according to hybrid plug""",ABANDONED,2022-09-13 12:42:02.000000000,2024-03-05 18:56:56.000000000,51,284,"[{'_account_id': 782, 'name': 'John Garbutt', 'email': 'john.garbutt@stackhpc.com', 'username': 'johngarbutt'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 2, 'author': '2023-02-08 17:55:18.000000000', 'date': '2023-02-08 17:55:18.000000000'}]",8,"[{'number': 2, 'created': '2023-02-08 11:27:31.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/tests/unit/objects/test_migration.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/objects/migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': 'Revert ""Revert resize: wait for events according to hybrid plug""\n\nThis reverts commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.\n\nThat commit was added because - tl\'dr - upon revert resize, Neutron\nwith the OVS backend and the iptables security group driver would send\nus the network-vif-plugged event as soon as we updated the port\nbinding.\n\nThat behaviour has changed with commit 66c7f00e1d9. With that commit,\nwe started unplugging the vifs on the source compute host when doing a\nresize. When reverting the resize, the vifs had to be re-plugged again,\nregarldess of the networking backend in use. This renders commit\n7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b. pointless, and it can be\nreverted.\n\nBackport is clean from master, and the TODO that was present in the\ncommit message on master is removed, as its a driver interface change\nand can only be done on master.\n\nCloses-bug: 1952003\nChange-Id: I3cb39a9ec2c260f422b3c48122b9db512cdd799b\n(cherry picked from commit 0b0f40d1b308b29da537859b72080488560c23d4)\n(cherry picked from commit c3ebe0f39e82cf1df6886cfd03fd8de62548fb26)\n(cherry picked from commit 36378de1bdfe451d683ed1028ffd5f6c7130c6ee)\n    Conflicts:\n        zuul.yaml\n'}]",857423,cbb5ffd65893ed003344b10f73cebe26a4374697,15554,Bence Romsics,ebenrom,0,"Revert ""Revert resize: wait for events according to hybrid plug""

This reverts commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.

That commit was added because - tl'dr - upon revert resize, Neutron
with the OVS backend and the iptables security group driver would send
us the network-vif-plugged event as soon as we updated the port
binding.

That behaviour has changed with commit 66c7f00e1d9. With that commit,
we started unplugging the vifs on the source compute host when doing a
resize. When reverting the resize, the vifs had to be re-plugged again,
regarldess of the networking backend in use. This renders commit
7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b. pointless, and it can be
reverted.

Backport is clean from master, and the TODO that was present in the
commit message on master is removed, as its a driver interface change
and can only be done on master.

Closes-bug: 1952003
Change-Id: I3cb39a9ec2c260f422b3c48122b9db512cdd799b
(cherry picked from commit 0b0f40d1b308b29da537859b72080488560c23d4)
(cherry picked from commit c3ebe0f39e82cf1df6886cfd03fd8de62548fb26)
(cherry picked from commit 36378de1bdfe451d683ed1028ffd5f6c7130c6ee)
    Conflicts:
        zuul.yaml
","['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/tests/unit/objects/test_migration.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/objects/migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~873242,openstack/nova,stable/victoria,I677882593903c53ec3d91ec2f641c8b0b6a86489,DNM: CI test,ABANDONED,2023-02-09 11:14:18.000000000,2024-03-05 18:56:52.000000000,1,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-02-09 15:51:39.000000000', 'date': '2023-02-09 15:51:39.000000000'}]",2,"[{'number': 1, 'created': '2023-02-09 11:14:18.000000000', 'files': ['nova/__init__.py'], 'message': 'DNM: CI test\n\nDepends-On: https://review.opendev.org/872964\nChange-Id: I677882593903c53ec3d91ec2f641c8b0b6a86489\n'}]",873242,64f005b7cbbda991b10c6d51a3cb5b4914671b44,17685,Elod Illes,elod.illes,0,"DNM: CI test

Depends-On: https://review.opendev.org/872964
Change-Id: I677882593903c53ec3d91ec2f641c8b0b6a86489
",['nova/__init__.py']
openstack%2Fnova~874071,openstack/nova,stable/victoria,I63208c7bd5f9f4c3d5e4a40bd0f6253d0f042a37,db: Resolve additional SAWarning warnings,ABANDONED,2023-02-16 09:31:44.000000000,2024-03-05 18:56:49.000000000,15,4,"[{'_account_id': 15334, 'name': 'Stephen Finucane', 'display_name': 'stephenfin', 'email': 'stephenfin@redhat.com', 'username': 'sfinucan'}, {'_account_id': 20733, 'name': 'Rajesh Tailor', 'email': 'ratailor@redhat.com', 'username': 'rajesht'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-02-18 09:20:36.000000000', 'date': '2023-02-18 09:20:36.000000000'}]",0,"[{'number': 1, 'created': '2023-02-16 09:31:44.000000000', 'files': ['nova/objects/cell_mapping.py', 'nova/db/sqlalchemy/api.py'], 'message': 'db: Resolve additional SAWarning warnings\n\nResolving the following SAWarning warnings:\n\n  Coercing Subquery object into a select() for use in IN(); please pass\n  a select() construct explicitly\n\n  SELECT statement has a cartesian product between FROM element(s)\n  ""foo"" and FROM element ""bar"". Apply join condition(s) between each\n  element to resolve.\n\nWhile the first of these was a trivial fix, the second one is a little\nmore involved. It was caused by attempting to build a query across\ntables that had no relationship as part of our archive logic. For\nexample, consider the following queries, generated early in\n\'_get_fk_stmts\':\n\n  SELECT instances.uuid\n  FROM instances, security_group_instance_association\n  WHERE security_group_instance_association.instance_uuid = instances.uuid\n    AND instances.id IN (__[POSTCOMPILE_id_1])\n\n  SELECT security_groups.id\n  FROM security_groups, security_group_instance_association, instances\n  WHERE security_group_instance_association.security_group_id = security_groups.id\n    AND instances.id IN (__[POSTCOMPILE_id_1])\n\nWhile the first of these is fine, the second is clearly wrong: why are\nwe filtering on a field that is of no relevance to our join? These were\ngenerated because we were attempting to archive one or more instances\n(in this case, the instance with id=1) and needed to find related tables\nto archive at the same time. A related table is any table that\nreferences our ""source"" table - \'instances\' here - by way of a foreign\nkey. For each of *these* tables, we then lookup each foreign key and\njoin back to the source table, filtering by matching entries in the\nsource table. The issue here is that we\'re looking up every foreign key.\nWhat we actually want to do is lookup only the foreign keys that point\nback to our source table. This flaw is why we were generating the second\nSELECT above: the \'security_group_instance_association\' has two foreign\nkeys, one pointing to our \'instances\' table but also another pointing to\nthe \'security_groups\' table. We want the first but not the second.\n\nResolve this by checking if the table that each foreign key points to is\nactually the source table and simply skip if not. With this issue\nresolved, we can enable errors on SAWarning warnings in general without\nany filters.\n\nChange-Id: I63208c7bd5f9f4c3d5e4a40bd0f6253d0f042a37\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit 8142b9dc47b7096ab9d8180f0b5b1e52d513e2dc)\n(cherry picked from commit ce2cc54bfe236554badb9f6bf53a958417e5525d)\n(cherry picked from commit 5b1d487d7fc49580a606b68e1271cae5f2f2df87)\n(cherry picked from commit 5d0325a78b2a5f7a9109290fb23d46a841042da6)\n'}]",874071,3fd73d5935ac048eaa5f90c9f996e66aab0431b8,4690,melanie witt,melwitt,0,"db: Resolve additional SAWarning warnings

Resolving the following SAWarning warnings:

  Coercing Subquery object into a select() for use in IN(); please pass
  a select() construct explicitly

  SELECT statement has a cartesian product between FROM element(s)
  ""foo"" and FROM element ""bar"". Apply join condition(s) between each
  element to resolve.

While the first of these was a trivial fix, the second one is a little
more involved. It was caused by attempting to build a query across
tables that had no relationship as part of our archive logic. For
example, consider the following queries, generated early in
'_get_fk_stmts':

  SELECT instances.uuid
  FROM instances, security_group_instance_association
  WHERE security_group_instance_association.instance_uuid = instances.uuid
    AND instances.id IN (__[POSTCOMPILE_id_1])

  SELECT security_groups.id
  FROM security_groups, security_group_instance_association, instances
  WHERE security_group_instance_association.security_group_id = security_groups.id
    AND instances.id IN (__[POSTCOMPILE_id_1])

While the first of these is fine, the second is clearly wrong: why are
we filtering on a field that is of no relevance to our join? These were
generated because we were attempting to archive one or more instances
(in this case, the instance with id=1) and needed to find related tables
to archive at the same time. A related table is any table that
references our ""source"" table - 'instances' here - by way of a foreign
key. For each of *these* tables, we then lookup each foreign key and
join back to the source table, filtering by matching entries in the
source table. The issue here is that we're looking up every foreign key.
What we actually want to do is lookup only the foreign keys that point
back to our source table. This flaw is why we were generating the second
SELECT above: the 'security_group_instance_association' has two foreign
keys, one pointing to our 'instances' table but also another pointing to
the 'security_groups' table. We want the first but not the second.

Resolve this by checking if the table that each foreign key points to is
actually the source table and simply skip if not. With this issue
resolved, we can enable errors on SAWarning warnings in general without
any filters.

Change-Id: I63208c7bd5f9f4c3d5e4a40bd0f6253d0f042a37
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit 8142b9dc47b7096ab9d8180f0b5b1e52d513e2dc)
(cherry picked from commit ce2cc54bfe236554badb9f6bf53a958417e5525d)
(cherry picked from commit 5b1d487d7fc49580a606b68e1271cae5f2f2df87)
(cherry picked from commit 5d0325a78b2a5f7a9109290fb23d46a841042da6)
","['nova/objects/cell_mapping.py', 'nova/db/sqlalchemy/api.py']"
openstack%2Fnova~883906,openstack/nova,stable/victoria,I16ed1143ead3779c87698aa29bac005678db2993,Add reno for fixing bug 1941005,ABANDONED,2023-05-23 11:45:33.000000000,2024-03-05 18:56:45.000000000,6,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-05-23 11:45:33.000000000', 'files': ['releasenotes/notes/bug-1983753-update-requestspec-pci_request-for-resize-a3c6b0a979db723f.yaml'], 'message': 'Add reno for fixing bug 1941005\n\nRelated-Bug: #1941005\nRelated-Bug: #1983753\nChange-Id: I16ed1143ead3779c87698aa29bac005678db2993\n(cherry picked from commit 82cdfa23c7a0e269ab038e241bb7428b7f1391aa)\n(cherry picked from commit 19bac6e9c362ee692f4be92041bb3f6c3b9b6c23)\n(cherry picked from commit cbf785709968fffc0a760e28f1cdb5c38b254232)\n(cherry picked from commit 63c21cf68502a6c61727d9080e13a3882b9e7c11)\n'}]",883906,82e1524d07389958098b66a726d71b10bbaaf049,9708,Balazs Gibizer,gibi,0,"Add reno for fixing bug 1941005

Related-Bug: #1941005
Related-Bug: #1983753
Change-Id: I16ed1143ead3779c87698aa29bac005678db2993
(cherry picked from commit 82cdfa23c7a0e269ab038e241bb7428b7f1391aa)
(cherry picked from commit 19bac6e9c362ee692f4be92041bb3f6c3b9b6c23)
(cherry picked from commit cbf785709968fffc0a760e28f1cdb5c38b254232)
(cherry picked from commit 63c21cf68502a6c61727d9080e13a3882b9e7c11)
",['releasenotes/notes/bug-1983753-update-requestspec-pci_request-for-resize-a3c6b0a979db723f.yaml']
openstack%2Fnova~883904,openstack/nova,stable/victoria,Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe,Reproducer for bug 1983753,ABANDONED,2023-05-23 11:45:33.000000000,2024-03-05 18:56:41.000000000,202,9,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-05-23 11:45:33.000000000', 'files': ['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/regressions/test_bug_1983753.py'], 'message': 'Reproducer for bug 1983753\n\nThere is a stable/victoria specific change in test_pci_sriov_servers.py\nas the assertPCIDeviceCounts was not available in the base test class in\nvictoria. So it is moved there by this patch\n\nRelated-Bug: #1983753\nChange-Id: Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe\n(cherry picked from commit 6d602c6b734c2e360fa319ba22c2fced02ad3d29)\n(cherry picked from commit bdc32226e2d9ce4a073306f8f6267fbe305e64e4)\n(cherry picked from commit 87a8a7df9800f3c81dba2e2c0520168115ad1b28)\n(cherry picked from commit 81741d7ce8031367ca4055227ecd55014d0aced8)\n'}]",883904,7f97c65b8c56facedc0fe69d150c22d7d9218b52,9708,Balazs Gibizer,gibi,0,"Reproducer for bug 1983753

There is a stable/victoria specific change in test_pci_sriov_servers.py
as the assertPCIDeviceCounts was not available in the base test class in
victoria. So it is moved there by this patch

Related-Bug: #1983753
Change-Id: Ic6566272b8c5af57cd1c73c73b3cba6cd265bebe
(cherry picked from commit 6d602c6b734c2e360fa319ba22c2fced02ad3d29)
(cherry picked from commit bdc32226e2d9ce4a073306f8f6267fbe305e64e4)
(cherry picked from commit 87a8a7df9800f3c81dba2e2c0520168115ad1b28)
(cherry picked from commit 81741d7ce8031367ca4055227ecd55014d0aced8)
","['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/regressions/test_bug_1983753.py']"
openstack%2Fnova~883905,openstack/nova,stable/victoria,I73c9ae27e9c42ee211a53bed3d849650b65f08be,Update RequestSpec.pci_request for resize,ABANDONED,2023-05-23 11:45:33.000000000,2024-03-05 18:56:38.000000000,20,22,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-05-23 11:45:33.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1983753.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'message': 'Update RequestSpec.pci_request for resize\n\nNova uses the RequestSpec.pci_request in the PciPassthroughFilter to\ndecide if the PCI devicesm, requested via the pci_alias in the flavor\nextra_spec, are available on a potential target host. During resize the\nnew flavor might contain different pci_alias request than the old flavor\nof the instance. In this case Nova should use the pci_alias from the new\nflavor to scheduler the destination host of the resize. However this\nlogic was missing and Nova used the old pci_request value based on the\nold flavor. This patch adds the missing logic.\n\nCloses-Bug: #1983753\nCloses-Bug: #1941005\nChange-Id: I73c9ae27e9c42ee211a53bed3d849650b65f08be\n(cherry picked from commit a93092e0d5c1483f9ad48276708ee35c54ce44fe)\n(cherry picked from commit b6c7ee07ad2a6503b8aad0921cca70e61e60259d)\n(cherry picked from commit 696d27a0e2ccf0916fc6bd3eabf73f2b007e7830)\n(cherry picked from commit 35ad4bbaf8b383436d3b972daa58e05a47e36d82)\n'}]",883905,c530350360d1f003156ba0c4820047d336bba4d1,9708,Balazs Gibizer,gibi,0,"Update RequestSpec.pci_request for resize

Nova uses the RequestSpec.pci_request in the PciPassthroughFilter to
decide if the PCI devicesm, requested via the pci_alias in the flavor
extra_spec, are available on a potential target host. During resize the
new flavor might contain different pci_alias request than the old flavor
of the instance. In this case Nova should use the pci_alias from the new
flavor to scheduler the destination host of the resize. However this
logic was missing and Nova used the old pci_request value based on the
old flavor. This patch adds the missing logic.

Closes-Bug: #1983753
Closes-Bug: #1941005
Change-Id: I73c9ae27e9c42ee211a53bed3d849650b65f08be
(cherry picked from commit a93092e0d5c1483f9ad48276708ee35c54ce44fe)
(cherry picked from commit b6c7ee07ad2a6503b8aad0921cca70e61e60259d)
(cherry picked from commit 696d27a0e2ccf0916fc6bd3eabf73f2b007e7830)
(cherry picked from commit 35ad4bbaf8b383436d3b972daa58e05a47e36d82)
","['nova/tests/functional/regressions/test_bug_1983753.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']"
openstack%2Fnova~884570,openstack/nova,stable/victoria,Id917d715c0c0955fbc6761d4b5af386514a343d2,libvirt: Stop NVMe and ScaleIO unit tests from calling os-brick,ABANDONED,2023-05-28 12:17:00.000000000,2024-03-05 18:56:34.000000000,26,20,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-05-28 12:17:00.000000000', 'files': ['nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/tests/unit/virt/libvirt/volume/test_scaleio.py'], 'message': 'libvirt: Stop NVMe and ScaleIO unit tests from calling os-brick\n\nBoth sets of tests would allow calls to the InitiatorConnector.factory\nwithin os-brick that returns an arch specific connector. When running\ntests on ppc64le hosts this would result in failures are the SCALEIO and\nNVME protocols are not supported on these architectures.\n\nCloses-Bug: #1912608\nChange-Id: Id917d715c0c0955fbc6761d4b5af386514a343d2\n(cherry picked from commit 0f558749d1489c6399bb009dfd2a1aeda8d85f9c)\n'}]",884570,b706522152ecfeb52a67e3546aea5c4d95960a5a,17685,Elod Illes,elod.illes,0,"libvirt: Stop NVMe and ScaleIO unit tests from calling os-brick

Both sets of tests would allow calls to the InitiatorConnector.factory
within os-brick that returns an arch specific connector. When running
tests on ppc64le hosts this would result in failures are the SCALEIO and
NVME protocols are not supported on these architectures.

Closes-Bug: #1912608
Change-Id: Id917d715c0c0955fbc6761d4b5af386514a343d2
(cherry picked from commit 0f558749d1489c6399bb009dfd2a1aeda8d85f9c)
","['nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/tests/unit/virt/libvirt/volume/test_scaleio.py']"
openstack%2Fnova~887997,openstack/nova,stable/victoria,If39f6afb6359c67aa38cf315ec90ffa386d5c142,testing: Fix and robustify archive_deleted_rows test,ABANDONED,2023-07-07 21:16:53.000000000,2024-03-05 18:56:30.000000000,54,40,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-07-07 21:16:53.000000000', 'files': ['nova/tests/functional/test_nova_manage.py'], 'message': 'testing: Fix and robustify archive_deleted_rows test\n\nThe regexes in test_archive_deleted_rows for multiple cells were\nincorrect in that they were not isolating the search pattern and rather\ncould match with other rows in the result table as well, resulting in a\nfalse positive.\n\nThis fixes the regexes and also adds one more server to the test\nscenario in order to make sure archive_deleted_rows iterates at least\nonce to expose bugs that may be present in its internal iteration.\n\nThis patch is in preparation for a future patch that will change the\nlogic in archive_deleted_rows. Making this test more robust will more\nthoroughly test for regression.\n\nChange-Id: If39f6afb6359c67aa38cf315ec90ffa386d5c142\n(cherry picked from commit f6620d48c86fb1c5034c09da6411ea46b4d9c2ed)\n(cherry picked from commit 8823da84e9d07309b860c3ce3ad4c9ebd3652f86)\n(cherry picked from commit ecfa7c405710451247018f189416ada7bba6fd36)\n(cherry picked from commit 956208d879ef2d49ac5a6f6c2067ff299114d193)\n(cherry picked from commit 600dba5571e830c1e274e391fe86d498efcd7e53)\n(cherry picked from commit 7287070758e7f99c35eb4827b5552df784084a09)\n'}]",887997,afdf01aa1f95ab430f62661680b7b492f5f78ff8,4690,melanie witt,melwitt,0,"testing: Fix and robustify archive_deleted_rows test

The regexes in test_archive_deleted_rows for multiple cells were
incorrect in that they were not isolating the search pattern and rather
could match with other rows in the result table as well, resulting in a
false positive.

This fixes the regexes and also adds one more server to the test
scenario in order to make sure archive_deleted_rows iterates at least
once to expose bugs that may be present in its internal iteration.

This patch is in preparation for a future patch that will change the
logic in archive_deleted_rows. Making this test more robust will more
thoroughly test for regression.

Change-Id: If39f6afb6359c67aa38cf315ec90ffa386d5c142
(cherry picked from commit f6620d48c86fb1c5034c09da6411ea46b4d9c2ed)
(cherry picked from commit 8823da84e9d07309b860c3ce3ad4c9ebd3652f86)
(cherry picked from commit ecfa7c405710451247018f189416ada7bba6fd36)
(cherry picked from commit 956208d879ef2d49ac5a6f6c2067ff299114d193)
(cherry picked from commit 600dba5571e830c1e274e391fe86d498efcd7e53)
(cherry picked from commit 7287070758e7f99c35eb4827b5552df784084a09)
",['nova/tests/functional/test_nova_manage.py']
openstack%2Fnova~887998,openstack/nova,stable/victoria,I2209bf1b3320901cf603ec39163cf923b25b0359,"database: Archive parent and child rows ""trees"" one at a time",ABANDONED,2023-07-07 21:16:53.000000000,2024-03-05 18:56:27.000000000,200,43,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-07-07 21:16:53.000000000', 'files': ['nova/tests/functional/db/test_archive.py', 'releasenotes/notes/db-archive-performance-degradation-3fdabc43398149b1.yaml', 'nova/tests/unit/cmd/test_manage.py', 'nova/cmd/manage.py', 'nova/db/sqlalchemy/api.py'], 'message': 'database: Archive parent and child rows ""trees"" one at a time\n\nPreviously, we archived deleted rows in batches of max_rows parents +\ntheir child rows in a single database transaction. Doing it that way\nlimited how high a value of max_rows could be specified by the caller\nbecause of the size of the database transaction it could generate.\n\nFor example, in a large scale deployment with hundreds of thousands of\ndeleted rows and constant server creation and deletion activity, a\nvalue of max_rows=1000 might exceed the database\'s configured maximum\npacket size or timeout due to a database deadlock, forcing the operator\nto use a much lower max_rows value like 100 or 50.\n\nAnd when the operator has e.g. 500,000 deleted instances rows (and\nmillions of deleted rows total) they are trying to archive, being\nforced to use a max_rows value several orders of magnitude lower than\nthe number of rows they need to archive was a poor user experience.\n\nThis changes the logic to archive one parent row and its foreign key\nrelated child rows one at a time in a single database transaction\nwhile limiting the total number of rows per table as soon as it reaches\n>= max_rows. Doing this will allow operators to choose more predictable\nvalues for max_rows and get more progress per invocation of\narchive_deleted_rows.\n\nConflicts:\n    nova/db/sqlalchemy/api.py\n\nNOTE(melwitt): The conflict is because change\nI23bb9e539d08f5c6202909054c2dd49b6c7a7a0e (Remove six.text_type (1/2))\nis not in Victoria.\n\nCloses-Bug: #2024258\n\nChange-Id: I2209bf1b3320901cf603ec39163cf923b25b0359\n(cherry picked from commit 697fa3c000696da559e52b664c04cbd8d261c037)\n(cherry picked from commit 75e4c86d90ae0229069fc2eb06bfb41436be7319)\n(cherry picked from commit 6972efdaa94d05952eb5b90e456b566c4c73360c)\n(cherry picked from commit b555279add583e6b0cee1bddb8d5642c68ad84a6)\n(cherry picked from commit 4dc6ec9dccba2695536cb3cbd5534e64003904c9)\n(cherry picked from commit 2d073fdd935d3df6511c16b0203dcc7933e68a89)\n'}]",887998,125009b215f8d8ca0d28a3bbf06c9ade6e5840ab,4690,melanie witt,melwitt,0,"database: Archive parent and child rows ""trees"" one at a time

Previously, we archived deleted rows in batches of max_rows parents +
their child rows in a single database transaction. Doing it that way
limited how high a value of max_rows could be specified by the caller
because of the size of the database transaction it could generate.

For example, in a large scale deployment with hundreds of thousands of
deleted rows and constant server creation and deletion activity, a
value of max_rows=1000 might exceed the database's configured maximum
packet size or timeout due to a database deadlock, forcing the operator
to use a much lower max_rows value like 100 or 50.

And when the operator has e.g. 500,000 deleted instances rows (and
millions of deleted rows total) they are trying to archive, being
forced to use a max_rows value several orders of magnitude lower than
the number of rows they need to archive was a poor user experience.

This changes the logic to archive one parent row and its foreign key
related child rows one at a time in a single database transaction
while limiting the total number of rows per table as soon as it reaches
>= max_rows. Doing this will allow operators to choose more predictable
values for max_rows and get more progress per invocation of
archive_deleted_rows.

Conflicts:
    nova/db/sqlalchemy/api.py

NOTE(melwitt): The conflict is because change
I23bb9e539d08f5c6202909054c2dd49b6c7a7a0e (Remove six.text_type (1/2))
is not in Victoria.

Closes-Bug: #2024258

Change-Id: I2209bf1b3320901cf603ec39163cf923b25b0359
(cherry picked from commit 697fa3c000696da559e52b664c04cbd8d261c037)
(cherry picked from commit 75e4c86d90ae0229069fc2eb06bfb41436be7319)
(cherry picked from commit 6972efdaa94d05952eb5b90e456b566c4c73360c)
(cherry picked from commit b555279add583e6b0cee1bddb8d5642c68ad84a6)
(cherry picked from commit 4dc6ec9dccba2695536cb3cbd5534e64003904c9)
(cherry picked from commit 2d073fdd935d3df6511c16b0203dcc7933e68a89)
","['nova/tests/functional/db/test_archive.py', 'releasenotes/notes/db-archive-performance-degradation-3fdabc43398149b1.yaml', 'nova/tests/unit/cmd/test_manage.py', 'nova/cmd/manage.py', 'nova/db/sqlalchemy/api.py']"
openstack%2Fnova~888203,openstack/nova,stable/victoria,Icc9b6366aebba2f8468e2127da7b7e099098513a,Reproducer for bug 2003991 unshelving offloaded instance,ABANDONED,2023-07-12 02:38:48.000000000,2024-03-05 18:56:23.000000000,84,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-07-12 02:38:48.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'message': 'Reproducer for bug 2003991 unshelving offloaded instance\n\nThis adds test coverage for:\n\n  * Shelve/unshelve offloaded with legacy quota usage\n  * Shelve/unshelve offloaded with quota usage from placement\n  * Shelve/unshelve with legacy quota usage\n  * Shelve/unshelve with quota usage from placement\n\nRelated-Bug: #2003991\n\nChange-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a\n(cherry picked from commit 427b2cb4d61cdfaf18b2467eb50b3772dffd3def)\n(cherry picked from commit 004a773a3a286f39889519bb5b2009fb9bf44fb1)\n(cherry picked from commit 710116f4beadb1553c9ad7991ea69b0e286657d6)\n(cherry picked from commit 291c02a7d51585551266fe5b7e7afd9726317671)\n(cherry picked from commit dc2d308118a126e087431d5c7810e1f958cbe895)\n(cherry picked from commit 1d91e71e74b57b0f2f108faeb522244a03540485)\n'}]",888203,c0f06628eb883aa6d213cc9b57ffb8f5b3a64372,4690,melanie witt,melwitt,0,"Reproducer for bug 2003991 unshelving offloaded instance

This adds test coverage for:

  * Shelve/unshelve offloaded with legacy quota usage
  * Shelve/unshelve offloaded with quota usage from placement
  * Shelve/unshelve with legacy quota usage
  * Shelve/unshelve with quota usage from placement

Related-Bug: #2003991

Change-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a
(cherry picked from commit 427b2cb4d61cdfaf18b2467eb50b3772dffd3def)
(cherry picked from commit 004a773a3a286f39889519bb5b2009fb9bf44fb1)
(cherry picked from commit 710116f4beadb1553c9ad7991ea69b0e286657d6)
(cherry picked from commit 291c02a7d51585551266fe5b7e7afd9726317671)
(cherry picked from commit dc2d308118a126e087431d5c7810e1f958cbe895)
(cherry picked from commit 1d91e71e74b57b0f2f108faeb522244a03540485)
",['nova/tests/functional/test_servers.py']
openstack%2Fnova~888204,openstack/nova,stable/victoria,I4ab97626c10052c7af9934a80ff8db9ddab82738,Enforce quota usage from placement when unshelving,ABANDONED,2023-07-12 02:38:48.000000000,2024-03-05 18:56:19.000000000,214,22,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2023-07-12 02:38:48.000000000', 'files': ['releasenotes/notes/quota-unshelve-offloaded-e4ea2d6a1449f549.yaml', 'nova/api/openstack/compute/shelve.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = true or\n[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota\nusage are counted from placement. When an instance is SHELVED_OFFLOADED,\nit will not have allocations in placement, so its cores and ram should\nnot count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being properly enforced during\nunshelve of a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)\n(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)\n(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)\n(cherry picked from commit da4b7d1e70486402635a009724b263981cd22861)\n(cherry picked from commit 746bc7222276a8c6bb4f0f9317802e332d25b756)\n(cherry picked from commit c13c26f88edea2d762aef97013662859496dd3e6)\n'}]",888204,da5e34e33d8ad0f85da1dd83c0e020efb6fc3978,4690,melanie witt,melwitt,0,"Enforce quota usage from placement when unshelving

When [quota]count_usage_from_placement = true or
[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota
usage are counted from placement. When an instance is SHELVED_OFFLOADED,
it will not have allocations in placement, so its cores and ram should
not count against quota during that time.

This means however that when an instance is unshelved, there is a
possibility of going over quota if the cores and ram it needs were
allocated by some other instance(s) while it was SHELVED_OFFLOADED.

This fixes a bug where quota was not being properly enforced during
unshelve of a SHELVED_OFFLOADED instance when quota usage is counted
from placement. Test coverage is also added for the ""recheck"" quota
cases.

Closes-Bug: #2003991

Change-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738
(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)
(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)
(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)
(cherry picked from commit da4b7d1e70486402635a009724b263981cd22861)
(cherry picked from commit 746bc7222276a8c6bb4f0f9317802e332d25b756)
(cherry picked from commit c13c26f88edea2d762aef97013662859496dd3e6)
","['releasenotes/notes/quota-unshelve-offloaded-e4ea2d6a1449f549.yaml', 'nova/api/openstack/compute/shelve.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']"
openstack%2Fnova~879705,openstack/nova,stable/victoria,Ib775c2210349b72b3dc033554ac6d8b35b8d2d79,Don't provide MTU value in metadata service if DHCP is enabled,ABANDONED,2023-04-06 13:52:52.000000000,2024-03-05 18:56:16.000000000,36,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-04-06 15:44:05.000000000', 'date': '2023-04-06 15:44:05.000000000'}, {'rev_nbr': 1, 'author': '2023-04-12 10:37:06.000000000', 'date': '2023-04-12 10:37:06.000000000'}, {'rev_nbr': 1, 'author': '2023-05-10 20:40:58.000000000', 'date': '2023-05-10 20:40:58.000000000'}]",3,"[{'number': 2, 'created': '2023-08-29 15:03:19.000000000', 'files': ['releasenotes/notes/Do-not-send-mtu-value-in-metadata-for-networks-with-enabled-dhcp-641506f2a13b540f.yaml', 'nova/tests/unit/virt/test_netutils.py', 'nova/virt/netutils.py'], 'message': 'Don\'t provide MTU value in metadata service if DHCP is enabled\n\nFor networks with subnets with enabled DHCP service don\'t provide\nmtu value in the metadata. That way cloud-init will not configure it\n""statically"" in e.g. netplan\'s config file and guest OS will use MTU\nvalue provided by the DHCP service.\n\nCloses-Bug: #1899487\nChange-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79\n(cherry picked from commit 6bdc79af30151f683c0f462bc6c69da30ebcbcf9)\n(cherry picked from commit ec15df83d2d8eb9744438c7129f64a00e5c5694e)\n(cherry picked from commit 0aac193fe3f427eb5ca32e70df77dadaebd55bb9)\n(cherry picked from commit ebae52aefcc9d5c4882668ce1375e940ce46a675)\n(cherry picked from commit 9f49bd1142a9e0e7351490556b9d97fc34ea70d1)\n'}]",879705,fb3eea22405fa50874a46b039a133d70df36be76,16207,ribaudr,uggla,0,"Don't provide MTU value in metadata service if DHCP is enabled

For networks with subnets with enabled DHCP service don't provide
mtu value in the metadata. That way cloud-init will not configure it
""statically"" in e.g. netplan's config file and guest OS will use MTU
value provided by the DHCP service.

Closes-Bug: #1899487
Change-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79
(cherry picked from commit 6bdc79af30151f683c0f462bc6c69da30ebcbcf9)
(cherry picked from commit ec15df83d2d8eb9744438c7129f64a00e5c5694e)
(cherry picked from commit 0aac193fe3f427eb5ca32e70df77dadaebd55bb9)
(cherry picked from commit ebae52aefcc9d5c4882668ce1375e940ce46a675)
(cherry picked from commit 9f49bd1142a9e0e7351490556b9d97fc34ea70d1)
","['releasenotes/notes/Do-not-send-mtu-value-in-metadata-for-networks-with-enabled-dhcp-641506f2a13b540f.yaml', 'nova/tests/unit/virt/test_netutils.py', 'nova/virt/netutils.py']"
openstack%2Fnova~837321,openstack/nova,stable/victoria,Ia593b500425c81e54eb401e38264db5cc5fc1f93,libvirt: Abort live-migration job when monitoring fails,ABANDONED,2022-04-11 19:24:11.000000000,2024-03-05 18:56:12.000000000,33,6,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2022-04-11 22:16:53.000000000', 'date': '2022-04-11 22:16:53.000000000'}, {'rev_nbr': 1, 'author': '2022-04-12 01:08:01.000000000', 'date': '2022-04-12 01:08:01.000000000'}]",2,"[{'number': 2, 'created': '2023-10-03 15:56:21.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': 'libvirt: Abort live-migration job when monitoring fails\n\nDuring live migration process, a _live_migration_monitor thread\nchecks progress of migration on source host, if for any reason\nwe hit infrastructure issue involving a DB/RPC/libvirt-timeout\nfailure, an Exception is raised to the nova-compute service and\ninstance/migration is set to ERROR state.\n\nThe issue is that we may let live-migration job running out of nova\ncontrol. At the end of job, guest is resumed on target host while\nnova still reports it on source host, this may lead to a split-brain\nsituation if instance is restarted.\n\nThis change proposes to abort live-migration job if issue occurs\nduring _live_migration_monitor.\n\nChange-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93\nCloses-Bug: #1905944\n(cherry picked from commit 39f0af5d18d6bea34fa15b8f7778115b25432749)\n(cherry picked from commit 76ea8ee37707e0e2160d30cdb5c74d1fcad60de3)\n'}]",837321,4772b112531560b5f8446944d64c6682dff4b357,7130,David Hill,dhill,0,"libvirt: Abort live-migration job when monitoring fails

During live migration process, a _live_migration_monitor thread
checks progress of migration on source host, if for any reason
we hit infrastructure issue involving a DB/RPC/libvirt-timeout
failure, an Exception is raised to the nova-compute service and
instance/migration is set to ERROR state.

The issue is that we may let live-migration job running out of nova
control. At the end of job, guest is resumed on target host while
nova still reports it on source host, this may lead to a split-brain
situation if instance is restarted.

This change proposes to abort live-migration job if issue occurs
during _live_migration_monitor.

Change-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93
Closes-Bug: #1905944
(cherry picked from commit 39f0af5d18d6bea34fa15b8f7778115b25432749)
(cherry picked from commit 76ea8ee37707e0e2160d30cdb5c74d1fcad60de3)
","['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~885349,openstack/nova,stable/victoria,I2ba035c09ace20e9835d9d12a5c5bee17d616718,Fix failed count for anti-affinity check,ABANDONED,2023-06-06 09:08:05.000000000,2024-03-05 18:56:08.000000000,265,14,"[{'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 20733, 'name': 'Rajesh Tailor', 'email': 'ratailor@redhat.com', 'username': 'rajesht'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34860, 'name': 'Amit Uniyal', 'email': 'auniyal@redhat.com', 'username': 'auniyal'}, {'_account_id': 34951, 'name': 'Yusuke Okada', 'email': 'okada.yusuke@fujitsu.com', 'username': 'yusokada'}]",,2,"[{'number': 1, 'created': '2023-06-06 09:08:05.000000000', 'files': ['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py'], 'message': 'Fix failed count for anti-affinity check\n\nThe late anti-affinity check runs in the compute manager to avoid\nparallel scheduling requests to invalidate the anti-affinity server\ngroup policy. When the check fails the instance is re-scheduled.\nHowever this failure counted as a real instance boot failure of the\ncompute host and can lead to de-prioritization of the compute host\nin the scheduler via BuildFailureWeigher. As the late anti-affinity\ncheck does not indicate any fault of the compute host itself it\nshould not be counted towards the build failure counter.\nThis patch adds new build results to handle this case.\n\nCloses-Bug: #1996732\nChange-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718\nSigned-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>\n(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)\n(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)\n(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)\n(cherry picked from commit cd0403dd3b1099bd13da503500a50249db8e49ea)\n(cherry picked from commit 87488180e5633db5ef8d684684a4355de48ef428)\n(cherry picked from commit e48fb15aaa462813fe9334a83bc76b43eb465fbd)\n'}]",885349,3853ccc5fdf2abaabe9a5810af3343f5c86790e6,9708,Balazs Gibizer,gibi,0,"Fix failed count for anti-affinity check

The late anti-affinity check runs in the compute manager to avoid
parallel scheduling requests to invalidate the anti-affinity server
group policy. When the check fails the instance is re-scheduled.
However this failure counted as a real instance boot failure of the
compute host and can lead to de-prioritization of the compute host
in the scheduler via BuildFailureWeigher. As the late anti-affinity
check does not indicate any fault of the compute host itself it
should not be counted towards the build failure counter.
This patch adds new build results to handle this case.

Closes-Bug: #1996732
Change-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718
Signed-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>
(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)
(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)
(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)
(cherry picked from commit cd0403dd3b1099bd13da503500a50249db8e49ea)
(cherry picked from commit 87488180e5633db5ef8d684684a4355de48ef428)
(cherry picked from commit e48fb15aaa462813fe9334a83bc76b43eb465fbd)
","['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py']"
openstack%2Fnova~821980,openstack/nova,stable/victoria,I083929f36d9e78bf7713a87cae6d581e0d946867,Reattach mdevs to guest on resume,ABANDONED,2021-12-16 14:04:21.000000000,2024-03-05 18:56:04.000000000,108,7,"[{'_account_id': 6062, 'name': 'jichenjc', 'email': 'jichenjc@cn.ibm.com', 'username': 'jichenjc'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2021-12-16 16:48:31.000000000', 'date': '2021-12-16 16:48:31.000000000'}, {'rev_nbr': 1, 'author': '2021-12-17 17:22:35.000000000', 'date': '2021-12-17 17:22:35.000000000'}, {'rev_nbr': 1, 'author': '2022-01-04 00:05:47.000000000', 'date': '2022-01-04 00:05:47.000000000'}, {'rev_nbr': 2, 'author': '2022-01-26 20:40:33.000000000', 'date': '2022-01-26 20:40:33.000000000'}, {'rev_nbr': 2, 'author': '2022-01-26 21:35:15.000000000', 'date': '2022-01-26 21:35:15.000000000'}, {'rev_nbr': 2, 'author': '2022-01-31 23:30:17.000000000', 'date': '2022-01-31 23:30:17.000000000'}, {'rev_nbr': 2, 'author': '2022-02-25 22:13:50.000000000', 'date': '2022-02-25 22:13:50.000000000'}, {'rev_nbr': 3, 'author': '2023-04-05 18:38:10.000000000', 'date': '2023-04-05 18:38:10.000000000'}]",5,"[{'number': 3, 'created': '2023-04-05 15:55:23.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1948705-ff80ae392c525475.yaml', 'doc/source/admin/virtual-gpu.rst', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': 'Reattach mdevs to guest on resume\n\nWhen suspending a VM in OpenStack, Nova detaches all the mediated\ndevices from the guest machine, but does not reattach them on the resume\noperation. This patch makes Nova reattach the mdevs that were detached\nwhen the guest was suspended.\n\nThis behavior is due to libvirt not supporting the hot-unplug of\nmediated devices at the time the feature was being developed. The\nlimitation has been lifted since then, and now we have to amend the\nresume function so it will reattach the mediated devices that were\ndetached on suspension.\n\nCloses-bug: #1948705\n\nSigned-off-by: Gustavo Santos <gustavofaganello.santos@windriver.com>\nChange-Id: I083929f36d9e78bf7713a87cae6d581e0d946867\n(cherry picked from commit 16f7c601b63bd1e7ca13917261300a7064ec72bc)\n'}]",821980,d72db209f295294d5492a5ebd2ae6a3395774075,33006,Gustavo Santos,gooshtavow,0,"Reattach mdevs to guest on resume

When suspending a VM in OpenStack, Nova detaches all the mediated
devices from the guest machine, but does not reattach them on the resume
operation. This patch makes Nova reattach the mdevs that were detached
when the guest was suspended.

This behavior is due to libvirt not supporting the hot-unplug of
mediated devices at the time the feature was being developed. The
limitation has been lifted since then, and now we have to amend the
resume function so it will reattach the mediated devices that were
detached on suspension.

Closes-bug: #1948705

Signed-off-by: Gustavo Santos <gustavofaganello.santos@windriver.com>
Change-Id: I083929f36d9e78bf7713a87cae6d581e0d946867
(cherry picked from commit 16f7c601b63bd1e7ca13917261300a7064ec72bc)
","['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1948705-ff80ae392c525475.yaml', 'doc/source/admin/virtual-gpu.rst', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fnova~827873,openstack/nova,stable/victoria,I812d720555bdf008c83cae3d81541a37bd99e594,Migrate RequestSpec.numa_topology to use pcpuset,ABANDONED,2022-02-04 14:37:12.000000000,2024-03-05 18:56:01.000000000,47,42,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 32761, 'name': 'panhongyin', 'display_name': 'panhongyin', 'email': 'panhongyin@yovole.com', 'username': 'panhongyin'}]","[{'rev_nbr': 1, 'author': '2022-02-04 17:24:32.000000000', 'date': '2022-02-04 17:24:32.000000000'}, {'rev_nbr': 1, 'author': '2022-02-04 17:28:36.000000000', 'date': '2022-02-04 17:28:36.000000000'}]",2,"[{'number': 1, 'created': '2022-02-04 14:37:12.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/objects/instance_numa.py', 'releasenotes/notes/bug-1952941-request-spec-numa-topology-migration-c97dbd51b3c6c116.yaml'], 'message': 'Migrate RequestSpec.numa_topology to use pcpuset\n\nWhen the InstanceNUMATopology OVO has changed in\nI901fbd7df00e45196395ff4c69e7b8aa3359edf6 to separately track\npcpus from vcpus a data migration was added. This data migration is\ntriggered when the InstanceNUMATopology object is loaded from the\ninstance_extra table. However that patch is missed the fact that the\nInstanceNUMATopology object can be loaded from the request_spec table as\nwell. So InstanceNUMATopology object in RequestSpec are not migrated.\nThis could lead to errors in the scheduler when such RequestSpec object\nis used for scheduling (e.g. during a migration of a pre Victoria\ninstance with cpu pinning)\n\nThis patch adds the missing data migration.\n\nChange-Id: I812d720555bdf008c83cae3d81541a37bd99e594\nCloses-Bug: #1952941\n(cherry picked from commit e853bb57181721725a89656b3cb3058636630a6e)\n(cherry picked from commit 7f6ec8cf546cf8f437ee94bb2308447427f54ada)\n(cherry picked from commit dad566614c92841aba65d3f0a69e0c580457cb46)\n'}]",827873,0d98f7b9902dd2c22f32dccabe3e7c3e630a9614,9708,Balazs Gibizer,gibi,0,"Migrate RequestSpec.numa_topology to use pcpuset

When the InstanceNUMATopology OVO has changed in
I901fbd7df00e45196395ff4c69e7b8aa3359edf6 to separately track
pcpus from vcpus a data migration was added. This data migration is
triggered when the InstanceNUMATopology object is loaded from the
instance_extra table. However that patch is missed the fact that the
InstanceNUMATopology object can be loaded from the request_spec table as
well. So InstanceNUMATopology object in RequestSpec are not migrated.
This could lead to errors in the scheduler when such RequestSpec object
is used for scheduling (e.g. during a migration of a pre Victoria
instance with cpu pinning)

This patch adds the missing data migration.

Change-Id: I812d720555bdf008c83cae3d81541a37bd99e594
Closes-Bug: #1952941
(cherry picked from commit e853bb57181721725a89656b3cb3058636630a6e)
(cherry picked from commit 7f6ec8cf546cf8f437ee94bb2308447427f54ada)
(cherry picked from commit dad566614c92841aba65d3f0a69e0c580457cb46)
","['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/objects/instance_numa.py', 'releasenotes/notes/bug-1952941-request-spec-numa-topology-migration-c97dbd51b3c6c116.yaml']"
openstack%2Fnova~884571,openstack/nova,stable/victoria,I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8,Use force=True for os-brick disconnect during delete,ABANDONED,2023-05-28 12:17:00.000000000,2024-03-05 18:55:57.000000000,407,114,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,7,"[{'number': 1, 'created': '2023-05-28 12:17:00.000000000', 'files': ['nova/virt/libvirt/volume/scaleio.py', 'doc/source/admin/configuration/index.rst', 'nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/virt/libvirt/volume/fibrechannel.py', 'doc/source/admin/configuration/cross-cell-resize.rst', 'nova/virt/libvirt/driver.py', 'doc/source/install/controller-install-obs.rst', 'nova/virt/libvirt/volume/quobyte.py', 'nova/virt/libvirt/volume/smbfs.py', 'doc/source/install/compute-install-ubuntu.rst', 'nova/tests/unit/virt/libvirt/volume/test_iscsi.py', 'nova/tests/unit/virt/libvirt/volume/test_net.py', 'nova/virt/libvirt/volume/storpool.py', 'nova/virt/libvirt/volume/nvme.py', 'doc/source/install/compute-install-rdo.rst', 'nova/tests/unit/virt/hyperv/test_vmops.py', 'doc/source/admin/migrate-instance-with-snapshot.rst', 'nova/cmd/status.py', 'nova/virt/libvirt/volume/fs.py', 'nova/tests/unit/virt/libvirt/volume/test_storpool.py', 'nova/tests/unit/virt/hyperv/test_volumeops.py', 'doc/source/admin/support-compute.rst', 'doc/source/install/controller-install-ubuntu.rst', 'nova/virt/hyperv/volumeops.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/cmd/test_status.py', 'nova/virt/hyperv/vmops.py', 'nova/virt/libvirt/volume/iscsi.py', 'nova/virt/libvirt/volume/vzstorage.py', 'nova/virt/libvirt/volume/net.py', 'doc/source/admin/live-migration-usage.rst', 'nova/tests/unit/virt/libvirt/volume/test_scaleio.py', 'nova/tests/unit/virt/libvirt/volume/test_vzstorage.py', 'nova/tests/unit/virt/libvirt/volume/test_fibrechannel.py', 'nova/virt/libvirt/volume/volume.py', 'releasenotes/notes/service-user-token-421d067c16257782.yaml', 'doc/source/admin/configuration/service-user-token.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install-obs.rst'], 'message': ""Use force=True for os-brick disconnect during delete\n\nThe 'force' parameter of os-brick's disconnect_volume() method allows\ncallers to ignore flushing errors and ensure that devices are being\nremoved from the host.\n\nWe should use force=True when we are going to delete an instance to\navoid leaving leftover devices connected to the compute host which\ncould then potentially be reused to map to volumes to an instance that\nshould not have access to those volumes.\n\nWe can use force=True even when disconnecting a volume that will not be\ndeleted on termination because os-brick will always attempt to flush\nand disconnect gracefully before forcefully removing devices.\n\nConflicts:\n  nova/cmd/status.py\n  nova/tests/unit/cmd/test_status.py\n  nova/tests/unit/virt/libvirt/test_driver.py\n\nNOTE(elod.illes): the conflicts in status.py and test_status.py come\nfrom patch Ic3ae48c57e61c4e45883fbae1328a448be025953, which was merged\nin stable/wallaby when it was master.\nThe conflicts in test_driver.py is caused by missing backport of\nI7f2b6330decb92e2838aa7cee47fb228f00f47da.\n\nCloses-Bug: #2004555\n\nChange-Id: I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8\n(cherry picked from commit db455548a12beac1153ce04eca5e728d7b773901)\n(cherry picked from commit efb01985db88d6333897018174649b425feaa1b4)\n(cherry picked from commit 8b4b99149a35663fc11d7d163082747b1b210b4d)\n(cherry picked from commit 4d8efa2d196f72fdde33136a0b50c4ee8da3c941)\n(cherry picked from commit b574901500d936488cdedf9fda90c4d36eeddd97)\n(cherry picked from commit 5b4cb92aa8adab2bd3d7905e0b76eceab680ab28)\n""}]",884571,65bb187045610b2630d3e32485aeecf2ca6a102a,17685,Elod Illes,elod.illes,0,"Use force=True for os-brick disconnect during delete

The 'force' parameter of os-brick's disconnect_volume() method allows
callers to ignore flushing errors and ensure that devices are being
removed from the host.

We should use force=True when we are going to delete an instance to
avoid leaving leftover devices connected to the compute host which
could then potentially be reused to map to volumes to an instance that
should not have access to those volumes.

We can use force=True even when disconnecting a volume that will not be
deleted on termination because os-brick will always attempt to flush
and disconnect gracefully before forcefully removing devices.

Conflicts:
  nova/cmd/status.py
  nova/tests/unit/cmd/test_status.py
  nova/tests/unit/virt/libvirt/test_driver.py

NOTE(elod.illes): the conflicts in status.py and test_status.py come
from patch Ic3ae48c57e61c4e45883fbae1328a448be025953, which was merged
in stable/wallaby when it was master.
The conflicts in test_driver.py is caused by missing backport of
I7f2b6330decb92e2838aa7cee47fb228f00f47da.

Closes-Bug: #2004555

Change-Id: I3629b84d3255a8fe9d8a7cea8c6131d7c40899e8
(cherry picked from commit db455548a12beac1153ce04eca5e728d7b773901)
(cherry picked from commit efb01985db88d6333897018174649b425feaa1b4)
(cherry picked from commit 8b4b99149a35663fc11d7d163082747b1b210b4d)
(cherry picked from commit 4d8efa2d196f72fdde33136a0b50c4ee8da3c941)
(cherry picked from commit b574901500d936488cdedf9fda90c4d36eeddd97)
(cherry picked from commit 5b4cb92aa8adab2bd3d7905e0b76eceab680ab28)
","['nova/virt/libvirt/volume/scaleio.py', 'doc/source/admin/configuration/index.rst', 'nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/virt/libvirt/volume/fibrechannel.py', 'doc/source/admin/configuration/cross-cell-resize.rst', 'nova/virt/libvirt/driver.py', 'doc/source/install/controller-install-obs.rst', 'nova/virt/libvirt/volume/quobyte.py', 'nova/virt/libvirt/volume/smbfs.py', 'doc/source/install/compute-install-ubuntu.rst', 'nova/tests/unit/virt/libvirt/volume/test_iscsi.py', 'nova/tests/unit/virt/libvirt/volume/test_net.py', 'nova/virt/libvirt/volume/storpool.py', 'nova/virt/libvirt/volume/nvme.py', 'doc/source/install/compute-install-rdo.rst', 'nova/tests/unit/virt/hyperv/test_vmops.py', 'doc/source/admin/migrate-instance-with-snapshot.rst', 'nova/cmd/status.py', 'nova/virt/libvirt/volume/fs.py', 'nova/tests/unit/virt/libvirt/volume/test_storpool.py', 'nova/tests/unit/virt/hyperv/test_volumeops.py', 'doc/source/admin/support-compute.rst', 'doc/source/install/controller-install-ubuntu.rst', 'nova/virt/hyperv/volumeops.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/cmd/test_status.py', 'nova/virt/hyperv/vmops.py', 'nova/virt/libvirt/volume/iscsi.py', 'nova/virt/libvirt/volume/vzstorage.py', 'nova/virt/libvirt/volume/net.py', 'doc/source/admin/live-migration-usage.rst', 'nova/tests/unit/virt/libvirt/volume/test_scaleio.py', 'nova/tests/unit/virt/libvirt/volume/test_vzstorage.py', 'nova/tests/unit/virt/libvirt/volume/test_fibrechannel.py', 'nova/virt/libvirt/volume/volume.py', 'releasenotes/notes/service-user-token-421d067c16257782.yaml', 'doc/source/admin/configuration/service-user-token.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install-obs.rst']"
openstack%2Fnova~904083,openstack/nova,stable/victoria,I300a3e29ba56584f4c99d534a6cf8ee7dc0ed4b7,Fixed an error when caching multiple images in aggregate,ABANDONED,2023-12-20 07:46:22.000000000,2024-03-05 18:55:54.000000000,26,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2023-12-20 07:49:43.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/api/openstack/compute/aggregates.py'], 'message': 'Fixed an error when caching multiple images in aggregate\n\nBecause in the process of judging whether the image id is Duplicate,there is only deduplication without sorting, so no duplicate image error is judged as duplicate and an error ""Duplicate images in request"" is reported.\n\nNow it is changed to sort after deduplication and then compare.\n\nTwo unit test cases were added to verify the fix\n\nRelated-Bug: #2034702\nChange-Id: I300a3e29ba56584f4c99d534a6cf8ee7dc0ed4b7\n(cherry picked from commit aa500fbb31d2f7129c048460e57a3dff229cabc8)\n'}]",904083,c9de882ac8eec94acaeb333cabd7698b909cfb22,36115,liwenjian,liwenjian,0,"Fixed an error when caching multiple images in aggregate

Because in the process of judging whether the image id is Duplicate,there is only deduplication without sorting, so no duplicate image error is judged as duplicate and an error ""Duplicate images in request"" is reported.

Now it is changed to sort after deduplication and then compare.

Two unit test cases were added to verify the fix

Related-Bug: #2034702
Change-Id: I300a3e29ba56584f4c99d534a6cf8ee7dc0ed4b7
(cherry picked from commit aa500fbb31d2f7129c048460e57a3dff229cabc8)
","['nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/api/openstack/compute/aggregates.py']"
openstack%2Fnova~875348,openstack/nova,stable/victoria,Ia738a0972b050f549f446c85171d3f33e60ada4f,Handle InstanceInvalidState exception,ABANDONED,2023-02-27 12:33:49.000000000,2024-03-05 18:55:50.000000000,35,0,"[{'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 8864, 'name': 'Artom Lifshitz', 'email': 'notartom@gmail.com', 'username': 'artom'}, {'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-02-27 23:33:44.000000000', 'date': '2023-02-27 23:33:44.000000000'}, {'rev_nbr': 1, 'author': '2023-03-02 07:41:03.000000000', 'date': '2023-03-02 07:41:03.000000000'}, {'rev_nbr': 1, 'author': '2023-03-02 11:19:42.000000000', 'date': '2023-03-02 11:19:42.000000000'}, {'rev_nbr': 1, 'author': '2023-03-09 14:33:53.000000000', 'date': '2023-03-09 14:33:53.000000000'}, {'rev_nbr': 1, 'author': '2023-03-13 16:29:58.000000000', 'date': '2023-03-13 16:29:58.000000000'}, {'rev_nbr': 1, 'author': '2023-04-27 10:26:14.000000000', 'date': '2023-04-27 10:26:14.000000000'}]",6,"[{'number': 1, 'created': '2023-02-27 12:33:49.000000000', 'files': ['nova/api/openstack/compute/remote_consoles.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/tests/functional/api_sample_tests/test_remote_consoles.py'], 'message': ""Handle InstanceInvalidState exception\n\nWhen instance task state is 'deleting' or 'migrating', then\nget_vnc_console throws 500 error, as InstanceInvalidState\nexception is not handled there.\n\nThis change handles InstanceInvalidState in api layer in\nget_vnc_console call.\n\nCloses-Bug: #1968618\nChange-Id: Ia738a0972b050f549f446c85171d3f33e60ada4f\n(cherry picked from commit ec40d5aee34e9428e2a19231fc3df4d23d75b779)\n(cherry picked from commit 71855163a944e437f9c48a5765f683b55a28c720)\n(cherry picked from commit 286aadf289ef1b001ba7816e20b8cd53ba7a8618)\n(cherry picked from commit bb696a3274f7891dc7def0a33ef9528f6df7b085)\n(cherry picked from commit 1c809f744ea7cde185bbd86041cb58a730be65b0)\n""}]",875348,6ccdf83fe90b9d48cf6cf35011b02ea19c5b8694,20733,Rajesh Tailor,rajesht,0,"Handle InstanceInvalidState exception

When instance task state is 'deleting' or 'migrating', then
get_vnc_console throws 500 error, as InstanceInvalidState
exception is not handled there.

This change handles InstanceInvalidState in api layer in
get_vnc_console call.

Closes-Bug: #1968618
Change-Id: Ia738a0972b050f549f446c85171d3f33e60ada4f
(cherry picked from commit ec40d5aee34e9428e2a19231fc3df4d23d75b779)
(cherry picked from commit 71855163a944e437f9c48a5765f683b55a28c720)
(cherry picked from commit 286aadf289ef1b001ba7816e20b8cd53ba7a8618)
(cherry picked from commit bb696a3274f7891dc7def0a33ef9528f6df7b085)
(cherry picked from commit 1c809f744ea7cde185bbd86041cb58a730be65b0)
","['nova/api/openstack/compute/remote_consoles.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/tests/functional/api_sample_tests/test_remote_consoles.py']"
openstack%2Fnova~875347,openstack/nova,stable/victoria,Id4c8c5f3b32985ac7d3d7c833b82e0876f7367c1,Fix rescue volume-based instance,ABANDONED,2023-02-27 12:32:27.000000000,2024-03-05 18:55:46.000000000,220,11,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2023-02-27 22:48:00.000000000', 'date': '2023-02-27 22:48:00.000000000'}, {'rev_nbr': 1, 'author': '2023-03-02 22:00:47.000000000', 'date': '2023-03-02 22:00:47.000000000'}, {'rev_nbr': 1, 'author': '2023-03-15 16:32:44.000000000', 'date': '2023-03-15 16:32:44.000000000'}, {'rev_nbr': 1, 'author': '2023-04-27 11:09:59.000000000', 'date': '2023-04-27 11:09:59.000000000'}]",5,"[{'number': 1, 'created': '2023-02-27 12:32:27.000000000', 'files': ['releasenotes/notes/rescue-volume-based-instance-c6e3fba236d90be7.yaml', 'nova/tests/functional/test_server_rescue.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'message': 'Fix rescue volume-based instance\n\nAs of now, when attempting to rescue a volume-based instance\nusing an image without the hw_rescue_device and/or hw_rescue_bus\nproperties set, the rescue api call fails (as non-stable rescue\nfor volume-based instances are not supported) leaving the instance\nin error state.\n\nThis change checks for hw_rescue_device/hw_rescue_bus image\nproperties before attempting to rescue and if the property\nis not set, then fail with proper error message, without changing\ninstance state.\n\nRelated-Bug: #1978958\nCloses-Bug: #1926601\nChange-Id: Id4c8c5f3b32985ac7d3d7c833b82e0876f7367c1\n(cherry picked from commit 6eed55bf55469f4ceaa7d4d4eb1be635e14bc73b)\n(cherry picked from commit d00a848a735f98b028f5930798ee69ef205c8e2e)\n(cherry picked from commit 4073aa51f79be54e2e6e8143666a7c1f9a00e03d)\n(cherry picked from commit c977027b1933e408c58508e883f6a799ffacc4cc)\n(cherry picked from commit 99164cb1401bcf29d0e00263bc8d09ec5291468e)\n'}]",875347,f9586b8b849a24af0fe41d8f25b857d6757ca2a2,20733,Rajesh Tailor,rajesht,0,"Fix rescue volume-based instance

As of now, when attempting to rescue a volume-based instance
using an image without the hw_rescue_device and/or hw_rescue_bus
properties set, the rescue api call fails (as non-stable rescue
for volume-based instances are not supported) leaving the instance
in error state.

This change checks for hw_rescue_device/hw_rescue_bus image
properties before attempting to rescue and if the property
is not set, then fail with proper error message, without changing
instance state.

Related-Bug: #1978958
Closes-Bug: #1926601
Change-Id: Id4c8c5f3b32985ac7d3d7c833b82e0876f7367c1
(cherry picked from commit 6eed55bf55469f4ceaa7d4d4eb1be635e14bc73b)
(cherry picked from commit d00a848a735f98b028f5930798ee69ef205c8e2e)
(cherry picked from commit 4073aa51f79be54e2e6e8143666a7c1f9a00e03d)
(cherry picked from commit c977027b1933e408c58508e883f6a799ffacc4cc)
(cherry picked from commit 99164cb1401bcf29d0e00263bc8d09ec5291468e)
","['releasenotes/notes/rescue-volume-based-instance-c6e3fba236d90be7.yaml', 'nova/tests/functional/test_server_rescue.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']"
openstack%2Fec2-api~843407,openstack/ec2-api,stable/victoria,I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9,Remove TripleO job,ABANDONED,2022-05-26 15:28:55.000000000,2024-03-05 18:55:30.000000000,0,8,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2022-05-26 15:28:55.000000000', 'files': ['.zuul.yaml'], 'message': 'Remove TripleO job\n\n... because TripleO deprecated support for EC2 API during Train cycle\nand removed it during Ussuri cycle.\n\nChange-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9\n(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)\n(cherry picked from commit 14c86d1fc5d151adc64c62043b1754ecf032d742)\n(cherry picked from commit 6eaebd8672a4391b33885067a84cd4c2e204d584)\n(cherry picked from commit 0466881b9a74392f64c8b2fddffbea5a23ba5eb9)\n'}]",843407,f69db1ed64a0562d2bc7346139be676402f3883c,9816,Takashi Kajinami,kajinamit,0,"Remove TripleO job

... because TripleO deprecated support for EC2 API during Train cycle
and removed it during Ussuri cycle.

Change-Id: I9c9f09b339f46855a8ed4465f11db8c15e0ef5e9
(cherry picked from commit ebb12611cadca3e6e817f1d7f5badce014fab2c3)
(cherry picked from commit 14c86d1fc5d151adc64c62043b1754ecf032d742)
(cherry picked from commit 6eaebd8672a4391b33885067a84cd4c2e204d584)
(cherry picked from commit 0466881b9a74392f64c8b2fddffbea5a23ba5eb9)
",['.zuul.yaml']
openstack%2Freleases~910387,openstack/releases,master,Ib19f52b45eb2b9c5509db05e3c2965f42fef8abc,[octavia] Transition EM branches to Unmaintained,MERGED,2024-02-27 18:52:29.000000000,2024-03-05 18:48:53.000000000,84,6,"[{'_account_id': 6469, 'name': 'Carlos Gonçalves', 'display_name': 'Carlos Goncalves', 'email': 'cgoncalves@redhat.com', 'username': 'cgoncalves'}, {'_account_id': 11628, 'name': 'Michael Johnson', 'email': 'johnsomor@gmail.com', 'username': 'johnsom'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29244, 'name': 'Gregory Thiemonge', 'email': 'gthiemon@redhat.com', 'username': 'gthiemonge'}]",,3,"[{'number': 1, 'created': '2024-02-27 18:52:29.000000000', 'files': ['deliverables/xena/octavia.yaml', 'deliverables/wallaby/octavia-dashboard.yaml', 'deliverables/wallaby/python-octaviaclient.yaml', 'deliverables/wallaby/octavia.yaml', 'deliverables/xena/octavia-dashboard.yaml', 'deliverables/victoria/octavia-dashboard.yaml', 'deliverables/wallaby/octavia-lib.yaml', 'deliverables/victoria/octavia.yaml', 'deliverables/victoria/octavia-lib.yaml', 'deliverables/xena/octavia-lib.yaml', 'deliverables/xena/python-octaviaclient.yaml', 'deliverables/victoria/python-octaviaclient.yaml'], 'message': '[octavia] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: Ib19f52b45eb2b9c5509db05e3c2965f42fef8abc\n'}]",910387,ecca7b268cb78435ca3d9c8ed56b76a201598552,17685,Elod Illes,elod.illes,0,"[octavia] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: Ib19f52b45eb2b9c5509db05e3c2965f42fef8abc
","['deliverables/xena/octavia.yaml', 'deliverables/wallaby/octavia-dashboard.yaml', 'deliverables/wallaby/python-octaviaclient.yaml', 'deliverables/wallaby/octavia.yaml', 'deliverables/xena/octavia-dashboard.yaml', 'deliverables/victoria/octavia-dashboard.yaml', 'deliverables/wallaby/octavia-lib.yaml', 'deliverables/victoria/octavia.yaml', 'deliverables/victoria/octavia-lib.yaml', 'deliverables/xena/octavia-lib.yaml', 'deliverables/xena/python-octaviaclient.yaml', 'deliverables/victoria/python-octaviaclient.yaml']"
openstack%2Fglance~901429,openstack/glance,master,Icd6d79d563c6b5e8f2158bcad9b4f471d72def90,Use centralized_db cache driver in tempest jobs,MERGED,2023-11-20 06:20:06.000000000,2024-03-05 18:45:52.000000000,15,0,"[{'_account_id': 4393, 'name': 'Dan Smith', 'email': 'dms@danplanet.com', 'username': 'danms'}, {'_account_id': 8122, 'name': 'Cyril Roelandt', 'email': 'cyril@redhat.com', 'username': 'cyril.roelandt.enovance'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,27,"[{'number': 24, 'created': '2024-03-01 05:45:41.000000000', 'files': ['.zuul.yaml'], 'message': 'Use centralized_db cache driver in tempest jobs\n\nRelated blueprint centralized-cache-db\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/901525\nChange-Id: Icd6d79d563c6b5e8f2158bcad9b4f471d72def90\n'}]",901429,68c3a802910e66f2a792821d7023789b39d29b73,9303,Abhishek Kekane,abhishekkekane,0,"Use centralized_db cache driver in tempest jobs

Related blueprint centralized-cache-db
Depends-On: https://review.opendev.org/c/openstack/tempest/+/901525
Change-Id: Icd6d79d563c6b5e8f2158bcad9b4f471d72def90
",['.zuul.yaml']
openstack%2Freleases~910385,openstack/releases,master,I212b8e818b075dcfcd9de810e22c2cbdc14ae21e,[nova] Transition EM branches to Unmaintained,MERGED,2024-02-27 18:51:35.000000000,2024-03-05 18:34:10.000000000,98,4,"[{'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 16207, 'name': 'ribaudr', 'display_name': 'uggla', 'email': 'rene.ribaud@gmail.com', 'username': 'uggla', 'status': 'Red Hat'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28522, 'name': 'Hervé Beraud', 'email': 'herveberaud.pro@gmail.com', 'username': 'hberaud'}, {'_account_id': 34860, 'name': 'Amit Uniyal', 'email': 'auniyal@redhat.com', 'username': 'auniyal'}]",,4,"[{'number': 1, 'created': '2024-02-27 18:51:35.000000000', 'files': ['deliverables/xena/placement.yaml', 'deliverables/victoria/os-vif.yaml', 'deliverables/wallaby/python-novaclient.yaml', 'deliverables/victoria/osc-placement.yaml', 'deliverables/wallaby/nova.yaml', 'deliverables/xena/python-novaclient.yaml', 'deliverables/victoria/placement.yaml', 'deliverables/wallaby/os-vif.yaml', 'deliverables/wallaby/osc-placement.yaml', 'deliverables/victoria/python-novaclient.yaml', 'deliverables/xena/nova.yaml', 'deliverables/victoria/nova.yaml', 'deliverables/xena/os-vif.yaml', 'deliverables/wallaby/placement.yaml', 'deliverables/xena/osc-placement.yaml'], 'message': '[nova] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I212b8e818b075dcfcd9de810e22c2cbdc14ae21e\n'}]",910385,f62d97fb1e68ece972e3adbd46091fd8ff7424c7,17685,Elod Illes,elod.illes,0,"[nova] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I212b8e818b075dcfcd9de810e22c2cbdc14ae21e
","['deliverables/xena/placement.yaml', 'deliverables/victoria/os-vif.yaml', 'deliverables/wallaby/python-novaclient.yaml', 'deliverables/victoria/osc-placement.yaml', 'deliverables/wallaby/nova.yaml', 'deliverables/xena/python-novaclient.yaml', 'deliverables/victoria/placement.yaml', 'deliverables/wallaby/os-vif.yaml', 'deliverables/wallaby/osc-placement.yaml', 'deliverables/victoria/python-novaclient.yaml', 'deliverables/xena/nova.yaml', 'deliverables/victoria/nova.yaml', 'deliverables/xena/os-vif.yaml', 'deliverables/wallaby/placement.yaml', 'deliverables/xena/osc-placement.yaml']"
openstack%2Freleases~910429,openstack/releases,master,I8c57ac885b937c100f18f58947d06e6419f36f3f,[tacker] Transition EM branches to Unmaintained,MERGED,2024-02-27 18:59:37.000000000,2024-03-05 18:33:30.000000000,96,3,"[{'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 25701, 'name': 'Yasufumi Ogawa', 'email': 'yasufum.o@gmail.com', 'username': 'yasufum'}, {'_account_id': 28522, 'name': 'Hervé Beraud', 'email': 'herveberaud.pro@gmail.com', 'username': 'hberaud'}]",,3,"[{'number': 1, 'created': '2024-02-27 18:59:37.000000000', 'files': ['deliverables/victoria/python-tackerclient.yaml', 'deliverables/wallaby/tacker.yaml', 'deliverables/wallaby/tosca-parser.yaml', 'deliverables/wallaby/tacker-horizon.yaml', 'deliverables/xena/heat-translator.yaml', 'deliverables/xena/tosca-parser.yaml', 'deliverables/xena/tacker.yaml', 'deliverables/victoria/heat-translator.yaml', 'deliverables/wallaby/heat-translator.yaml', 'deliverables/victoria/tacker.yaml', 'deliverables/xena/tacker-horizon.yaml', 'deliverables/victoria/tosca-parser.yaml', 'deliverables/wallaby/python-tackerclient.yaml', 'deliverables/victoria/tacker-horizon.yaml', 'deliverables/xena/python-tackerclient.yaml'], 'message': '[tacker] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I8c57ac885b937c100f18f58947d06e6419f36f3f\n'}]",910429,8d2a4e7247127f06e04c00394c665aca6a6ad48d,17685,Elod Illes,elod.illes,0,"[tacker] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I8c57ac885b937c100f18f58947d06e6419f36f3f
","['deliverables/victoria/python-tackerclient.yaml', 'deliverables/wallaby/tacker.yaml', 'deliverables/wallaby/tosca-parser.yaml', 'deliverables/wallaby/tacker-horizon.yaml', 'deliverables/xena/heat-translator.yaml', 'deliverables/xena/tosca-parser.yaml', 'deliverables/xena/tacker.yaml', 'deliverables/victoria/heat-translator.yaml', 'deliverables/wallaby/heat-translator.yaml', 'deliverables/victoria/tacker.yaml', 'deliverables/xena/tacker-horizon.yaml', 'deliverables/victoria/tosca-parser.yaml', 'deliverables/wallaby/python-tackerclient.yaml', 'deliverables/victoria/tacker-horizon.yaml', 'deliverables/xena/python-tackerclient.yaml']"
openstack%2Freleases~910416,openstack/releases,master,I3951afab5ad6ff901e5ffe7ccfa3a6a1294637c5,[designate] Transition EM branches to Unmaintained,MERGED,2024-02-27 18:57:20.000000000,2024-03-05 18:31:16.000000000,66,6,"[{'_account_id': 11628, 'name': 'Michael Johnson', 'email': 'johnsomor@gmail.com', 'username': 'johnsom'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 19298, 'name': 'Nicolas Bock', 'email': 'nicolas.bock@canonical.com', 'username': 'nicolasbock'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28522, 'name': 'Hervé Beraud', 'email': 'herveberaud.pro@gmail.com', 'username': 'hberaud'}]",,2,"[{'number': 1, 'created': '2024-02-27 18:57:20.000000000', 'files': ['deliverables/victoria/designate-dashboard.yaml', 'deliverables/xena/designate.yaml', 'deliverables/victoria/python-designateclient.yaml', 'deliverables/wallaby/designate.yaml', 'deliverables/wallaby/designate-dashboard.yaml', 'deliverables/wallaby/python-designateclient.yaml', 'deliverables/xena/designate-dashboard.yaml', 'deliverables/xena/python-designateclient.yaml', 'deliverables/victoria/designate.yaml'], 'message': '[designate] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I3951afab5ad6ff901e5ffe7ccfa3a6a1294637c5\n'}]",910416,ef0885c5c722b6e3351513147bb1355d799e431c,17685,Elod Illes,elod.illes,0,"[designate] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I3951afab5ad6ff901e5ffe7ccfa3a6a1294637c5
","['deliverables/victoria/designate-dashboard.yaml', 'deliverables/xena/designate.yaml', 'deliverables/victoria/python-designateclient.yaml', 'deliverables/wallaby/designate.yaml', 'deliverables/wallaby/designate-dashboard.yaml', 'deliverables/wallaby/python-designateclient.yaml', 'deliverables/xena/designate-dashboard.yaml', 'deliverables/xena/python-designateclient.yaml', 'deliverables/victoria/designate.yaml']"
openstack%2Freleases~910431,openstack/releases,master,I7ffcf35c0eea2832f8fe7487c32d2bb0b0926597,[blazar] Transition EM branches to Unmaintained,MERGED,2024-02-27 18:59:51.000000000,2024-03-05 18:23:14.000000000,82,5,"[{'_account_id': 15197, 'name': 'Pierre Riteau', 'email': 'pierre@stackhpc.com', 'username': 'priteau', 'status': 'StackHPC'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28522, 'name': 'Hervé Beraud', 'email': 'herveberaud.pro@gmail.com', 'username': 'hberaud'}]",,1,"[{'number': 1, 'created': '2024-02-27 18:59:51.000000000', 'files': ['deliverables/wallaby/blazar-dashboard.yaml', 'deliverables/xena/blazar-nova.yaml', 'deliverables/xena/blazar-dashboard.yaml', 'deliverables/wallaby/blazar-nova.yaml', 'deliverables/victoria/blazar-nova.yaml', 'deliverables/victoria/blazar.yaml', 'deliverables/victoria/python-blazarclient.yaml', 'deliverables/victoria/blazar-dashboard.yaml', 'deliverables/xena/blazar.yaml', 'deliverables/wallaby/blazar.yaml', 'deliverables/wallaby/python-blazarclient.yaml', 'deliverables/xena/python-blazarclient.yaml'], 'message': '[blazar] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I7ffcf35c0eea2832f8fe7487c32d2bb0b0926597\n'}]",910431,f8cfa3fa47cc649182d0ebf4026845945fc30460,17685,Elod Illes,elod.illes,0,"[blazar] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I7ffcf35c0eea2832f8fe7487c32d2bb0b0926597
","['deliverables/wallaby/blazar-dashboard.yaml', 'deliverables/xena/blazar-nova.yaml', 'deliverables/xena/blazar-dashboard.yaml', 'deliverables/wallaby/blazar-nova.yaml', 'deliverables/victoria/blazar-nova.yaml', 'deliverables/victoria/blazar.yaml', 'deliverables/victoria/python-blazarclient.yaml', 'deliverables/victoria/blazar-dashboard.yaml', 'deliverables/xena/blazar.yaml', 'deliverables/wallaby/blazar.yaml', 'deliverables/wallaby/python-blazarclient.yaml', 'deliverables/xena/python-blazarclient.yaml']"
openstack%2Freleases~910417,openstack/releases,master,I130499ade903691d09cb477a832ba30f8b71873d,[masakari] Transition EM branches to Unmaintained,MERGED,2024-02-27 18:57:26.000000000,2024-03-05 18:19:12.000000000,90,9,"[{'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28522, 'name': 'Hervé Beraud', 'email': 'herveberaud.pro@gmail.com', 'username': 'hberaud'}, {'_account_id': 30623, 'name': 'suzhengwei', 'email': 'suzhengwei@inspur.com', 'username': 'SuZhengwei'}]",,1,"[{'number': 1, 'created': '2024-02-27 18:57:26.000000000', 'files': ['deliverables/victoria/masakari.yaml', 'deliverables/victoria/python-masakariclient.yaml', 'deliverables/wallaby/masakari.yaml', 'deliverables/wallaby/masakari-monitors.yaml', 'deliverables/victoria/masakari-dashboard.yaml', 'deliverables/wallaby/python-masakariclient.yaml', 'deliverables/xena/python-masakariclient.yaml', 'deliverables/xena/masakari-monitors.yaml', 'deliverables/xena/masakari-dashboard.yaml', 'deliverables/victoria/masakari-monitors.yaml', 'deliverables/xena/masakari.yaml', 'deliverables/wallaby/masakari-dashboard.yaml'], 'message': '[masakari] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I130499ade903691d09cb477a832ba30f8b71873d\n'}]",910417,b0f2b3dc2648c282eb2d71cad36039b2bd78df59,17685,Elod Illes,elod.illes,0,"[masakari] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I130499ade903691d09cb477a832ba30f8b71873d
","['deliverables/victoria/masakari.yaml', 'deliverables/victoria/python-masakariclient.yaml', 'deliverables/wallaby/masakari.yaml', 'deliverables/wallaby/masakari-monitors.yaml', 'deliverables/victoria/masakari-dashboard.yaml', 'deliverables/wallaby/python-masakariclient.yaml', 'deliverables/xena/python-masakariclient.yaml', 'deliverables/xena/masakari-monitors.yaml', 'deliverables/xena/masakari-dashboard.yaml', 'deliverables/victoria/masakari-monitors.yaml', 'deliverables/xena/masakari.yaml', 'deliverables/wallaby/masakari-dashboard.yaml']"
openstack%2Freleases~910401,openstack/releases,master,I4ca342be29ad5d540fb262cc95f8f0b1b326b8f7,[zaqar] Transition EM branches to Unmaintained,MERGED,2024-02-27 18:55:23.000000000,2024-03-05 18:16:36.000000000,54,0,"[{'_account_id': 8846, 'name': 'Hao Wang', 'display_name': 'Hao Wang', 'email': 'sxmatch1986@gmail.com', 'username': 'sxmatch'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28522, 'name': 'Hervé Beraud', 'email': 'herveberaud.pro@gmail.com', 'username': 'hberaud'}]",,2,"[{'number': 1, 'created': '2024-02-27 18:55:23.000000000', 'files': ['deliverables/xena/zaqar-ui.yaml', 'deliverables/victoria/python-zaqarclient.yaml', 'deliverables/wallaby/zaqar.yaml', 'deliverables/victoria/zaqar.yaml', 'deliverables/xena/python-zaqarclient.yaml', 'deliverables/wallaby/python-zaqarclient.yaml', 'deliverables/wallaby/zaqar-ui.yaml', 'deliverables/xena/zaqar.yaml', 'deliverables/victoria/zaqar-ui.yaml'], 'message': '[zaqar] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I4ca342be29ad5d540fb262cc95f8f0b1b326b8f7\n'}]",910401,cd067b550fc949363fe6404b0cd808e4bb1baa63,17685,Elod Illes,elod.illes,0,"[zaqar] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I4ca342be29ad5d540fb262cc95f8f0b1b326b8f7
","['deliverables/xena/zaqar-ui.yaml', 'deliverables/victoria/python-zaqarclient.yaml', 'deliverables/wallaby/zaqar.yaml', 'deliverables/victoria/zaqar.yaml', 'deliverables/xena/python-zaqarclient.yaml', 'deliverables/wallaby/python-zaqarclient.yaml', 'deliverables/wallaby/zaqar-ui.yaml', 'deliverables/xena/zaqar.yaml', 'deliverables/victoria/zaqar-ui.yaml']"
openstack%2Fopenstack-helm-infra~910861,openstack/openstack-helm-infra,master,I9049e4312aa6cb92a832d5100ba1da995233c48e,bugfix: updated permissions of ceph user created to allow rbd profile,MERGED,2024-03-03 02:41:52.000000000,2024-03-05 18:16:12.000000000,6,5,"[{'_account_id': 1004, 'name': 'Mohammed Naser', 'email': 'mnaser@vexxhost.com', 'username': 'mnaser'}, {'_account_id': 3009, 'name': 'Vladimir Kozhukalov', 'email': 'kozhukalov@gmail.com', 'username': 'kozhukalov'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 33330, 'name': 'Karl Kloppenborg', 'email': 'k@rl.ag', 'username': 'karl_kloppenborg'}, {'_account_id': 34520, 'name': 'Sergiy Markin', 'email': 'smarkin@mirantis.com', 'username': 'sm515x'}]",,4,"[{'number': 1, 'created': '2024-03-03 02:41:52.000000000', 'files': ['gnocchi/templates/bin/_storage-init.sh.tpl', 'releasenotes/notes/gnocchi.yaml', 'gnocchi/Chart.yaml'], 'message': 'bugfix: updated permissions of ceph user created to allow rbd profile\n\nChange-Id: I9049e4312aa6cb92a832d5100ba1da995233c48e\n'}]",910861,93e639a4bed6face95554ac33ad5ea0bb9bebaab,33330,Karl Kloppenborg,karl_kloppenborg,0,"bugfix: updated permissions of ceph user created to allow rbd profile

Change-Id: I9049e4312aa6cb92a832d5100ba1da995233c48e
","['gnocchi/templates/bin/_storage-init.sh.tpl', 'releasenotes/notes/gnocchi.yaml', 'gnocchi/Chart.yaml']"
openstack%2Fcinder~895731,openstack/cinder,master,I58f0f10b63431896e7532b16b561683cd242e9ee,[Pure Storage] Enable sync repl volume creation during failover,MERGED,2023-09-18 19:15:02.000000000,2024-03-05 18:01:08.000000000,140,74,"[{'_account_id': 4523, 'name': 'Eric Harney', 'email': 'eharney@redhat.com', 'username': 'eharney'}, {'_account_id': 5314, 'name': 'Brian Rosmaita', 'email': 'rosmaita.fossdev@gmail.com', 'username': 'brian-rosmaita'}, {'_account_id': 5997, 'name': 'Walt', 'display_name': 'Hemna', 'email': 'waboring@hemna.com', 'username': 'walter-boring', 'status': 'SAP'}, {'_account_id': 9236, 'name': 'Jon Bernard', 'email': 'jobernar@redhat.com', 'username': 'jbernard'}, {'_account_id': 13425, 'name': 'Simon Dodsley', 'email': 'simon@purestorage.com', 'username': 'sdodsley'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27615, 'name': 'Rajat Dhasmana', 'email': 'rajatdhasmana@gmail.com', 'username': 'whoami-rajat'}, {'_account_id': 29122, 'name': 'Raghavendra Tilay', 'email': 'raghavendra-uddhav.tilay@hpe.com', 'username': 'raghavendrat'}]","[{'rev_nbr': 1, 'author': '2023-09-18 19:24:13.000000000', 'date': '2023-09-18 19:24:13.000000000'}, {'rev_nbr': 4, 'author': '2023-09-18 20:03:34.000000000', 'date': '2023-09-18 20:03:34.000000000'}, {'rev_nbr': 1, 'author': '2023-09-18 20:08:17.000000000', 'date': '2023-09-18 20:08:17.000000000'}, {'rev_nbr': 1, 'author': '2023-09-18 22:16:38.000000000', 'date': '2023-09-18 22:16:38.000000000'}, {'rev_nbr': 2, 'author': '2023-09-18 22:26:04.000000000', 'date': '2023-09-18 22:26:04.000000000'}, {'rev_nbr': 8, 'author': '2023-09-18 23:44:37.000000000', 'date': '2023-09-18 23:44:37.000000000'}, {'rev_nbr': 2, 'author': '2023-09-18 23:51:17.000000000', 'date': '2023-09-18 23:51:17.000000000'}, {'rev_nbr': 3, 'author': '2023-09-19 00:02:49.000000000', 'date': '2023-09-19 00:02:49.000000000'}, {'rev_nbr': 7, 'author': '2023-09-19 01:14:07.000000000', 'date': '2023-09-19 01:14:07.000000000'}, {'rev_nbr': 6, 'author': '2023-09-19 01:18:09.000000000', 'date': '2023-09-19 01:18:09.000000000'}, {'rev_nbr': 8, 'author': '2023-09-19 02:22:18.000000000', 'date': '2023-09-19 02:22:18.000000000'}, {'rev_nbr': 8, 'author': '2023-09-19 03:19:48.000000000', 'date': '2023-09-19 03:19:48.000000000'}, {'rev_nbr': 3, 'author': '2023-09-19 03:42:10.000000000', 'date': '2023-09-19 03:42:10.000000000'}, {'rev_nbr': 4, 'author': '2023-09-19 04:18:25.000000000', 'date': '2023-09-19 04:18:25.000000000'}, {'rev_nbr': 5, 'author': '2023-09-19 05:01:59.000000000', 'date': '2023-09-19 05:01:59.000000000'}, {'rev_nbr': 8, 'author': '2023-09-19 08:26:53.000000000', 'date': '2023-09-19 08:26:53.000000000'}, {'rev_nbr': 8, 'author': '2023-09-19 14:34:27.000000000', 'date': '2023-09-19 14:34:27.000000000'}, {'rev_nbr': 9, 'author': '2023-09-20 17:45:10.000000000', 'date': '2023-09-20 17:45:10.000000000'}, {'rev_nbr': 10, 'author': '2023-09-20 17:53:00.000000000', 'date': '2023-09-20 17:53:00.000000000'}, {'rev_nbr': 11, 'author': '2023-09-20 17:56:40.000000000', 'date': '2023-09-20 17:56:40.000000000'}, {'rev_nbr': 12, 'author': '2023-09-20 18:27:28.000000000', 'date': '2023-09-20 18:27:28.000000000'}, {'rev_nbr': 12, 'author': '2023-09-20 19:04:02.000000000', 'date': '2023-09-20 19:04:02.000000000'}, {'rev_nbr': 12, 'author': '2023-09-20 19:46:52.000000000', 'date': '2023-09-20 19:46:52.000000000'}, {'rev_nbr': 12, 'author': '2023-09-20 20:22:46.000000000', 'date': '2023-09-20 20:22:46.000000000'}, {'rev_nbr': 12, 'author': '2023-09-20 20:56:42.000000000', 'date': '2023-09-20 20:56:42.000000000'}, {'rev_nbr': 12, 'author': '2023-09-20 22:19:26.000000000', 'date': '2023-09-20 22:19:26.000000000'}, {'rev_nbr': 12, 'author': '2023-09-20 22:27:18.000000000', 'date': '2023-09-20 22:27:18.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 00:24:31.000000000', 'date': '2023-09-21 00:24:31.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 00:32:49.000000000', 'date': '2023-09-21 00:32:49.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 01:47:30.000000000', 'date': '2023-09-21 01:47:30.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 02:17:58.000000000', 'date': '2023-09-21 02:17:58.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 03:43:27.000000000', 'date': '2023-09-21 03:43:27.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 04:12:44.000000000', 'date': '2023-09-21 04:12:44.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 05:36:13.000000000', 'date': '2023-09-21 05:36:13.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 08:14:38.000000000', 'date': '2023-09-21 08:14:38.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 13:12:16.000000000', 'date': '2023-09-21 13:12:16.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 14:35:23.000000000', 'date': '2023-09-21 14:35:23.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 15:27:07.000000000', 'date': '2023-09-21 15:27:07.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 15:52:41.000000000', 'date': '2023-09-21 15:52:41.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 17:16:34.000000000', 'date': '2023-09-21 17:16:34.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 17:43:19.000000000', 'date': '2023-09-21 17:43:19.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 19:05:43.000000000', 'date': '2023-09-21 19:05:43.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 19:34:18.000000000', 'date': '2023-09-21 19:34:18.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 20:04:01.000000000', 'date': '2023-09-21 20:04:01.000000000'}, {'rev_nbr': 12, 'author': '2023-09-21 23:10:05.000000000', 'date': '2023-09-21 23:10:05.000000000'}, {'rev_nbr': 12, 'author': '2023-09-22 03:23:56.000000000', 'date': '2023-09-22 03:23:56.000000000'}, {'rev_nbr': 12, 'author': '2023-09-22 03:41:18.000000000', 'date': '2023-09-22 03:41:18.000000000'}, {'rev_nbr': 12, 'author': '2023-09-22 12:30:29.000000000', 'date': '2023-09-22 12:30:29.000000000'}, {'rev_nbr': 12, 'author': '2023-09-22 12:31:17.000000000', 'date': '2023-09-22 12:31:17.000000000'}, {'rev_nbr': 13, 'author': '2023-09-22 15:38:35.000000000', 'date': '2023-09-22 15:38:35.000000000'}, {'rev_nbr': 12, 'author': '2023-09-22 15:40:54.000000000', 'date': '2023-09-22 15:40:54.000000000'}, {'rev_nbr': 14, 'author': '2023-09-22 15:45:05.000000000', 'date': '2023-09-22 15:45:05.000000000'}, {'rev_nbr': 14, 'author': '2023-09-22 16:30:41.000000000', 'date': '2023-09-22 16:30:41.000000000'}, {'rev_nbr': 14, 'author': '2023-09-22 17:33:42.000000000', 'date': '2023-09-22 17:33:42.000000000'}, {'rev_nbr': 15, 'author': '2023-09-22 17:56:52.000000000', 'date': '2023-09-22 17:56:52.000000000'}, {'rev_nbr': 15, 'author': '2023-09-22 18:22:22.000000000', 'date': '2023-09-22 18:22:22.000000000'}, {'rev_nbr': 13, 'author': '2023-09-22 19:10:19.000000000', 'date': '2023-09-22 19:10:19.000000000'}, {'rev_nbr': 15, 'author': '2023-09-22 19:20:55.000000000', 'date': '2023-09-22 19:20:55.000000000'}, {'rev_nbr': 15, 'author': '2023-09-22 19:56:38.000000000', 'date': '2023-09-22 19:56:38.000000000'}, {'rev_nbr': 15, 'author': '2023-09-22 21:01:04.000000000', 'date': '2023-09-22 21:01:04.000000000'}, {'rev_nbr': 15, 'author': '2023-09-22 21:08:12.000000000', 'date': '2023-09-22 21:08:12.000000000'}, {'rev_nbr': 15, 'author': '2023-09-22 23:21:55.000000000', 'date': '2023-09-22 23:21:55.000000000'}, {'rev_nbr': 14, 'author': '2023-09-23 01:05:55.000000000', 'date': '2023-09-23 01:05:55.000000000'}, {'rev_nbr': 15, 'author': '2023-09-23 04:48:32.000000000', 'date': '2023-09-23 04:48:32.000000000'}, {'rev_nbr': 15, 'author': '2023-09-23 05:47:48.000000000', 'date': '2023-09-23 05:47:48.000000000'}, {'rev_nbr': 15, 'author': '2023-09-23 09:44:34.000000000', 'date': '2023-09-23 09:44:34.000000000'}, {'rev_nbr': 15, 'author': '2023-09-23 13:32:39.000000000', 'date': '2023-09-23 13:32:39.000000000'}, {'rev_nbr': 15, 'author': '2023-09-23 15:49:52.000000000', 'date': '2023-09-23 15:49:52.000000000'}, {'rev_nbr': 16, 'author': '2023-09-25 16:26:15.000000000', 'date': '2023-09-25 16:26:15.000000000'}, {'rev_nbr': 17, 'author': '2023-09-25 16:53:45.000000000', 'date': '2023-09-25 16:53:45.000000000'}, {'rev_nbr': 15, 'author': '2023-09-25 17:38:54.000000000', 'date': '2023-09-25 17:38:54.000000000'}, {'rev_nbr': 17, 'author': '2023-09-25 18:14:23.000000000', 'date': '2023-09-25 18:14:23.000000000'}, {'rev_nbr': 17, 'author': '2023-09-25 18:47:26.000000000', 'date': '2023-09-25 18:47:26.000000000'}, {'rev_nbr': 16, 'author': '2023-09-25 19:23:42.000000000', 'date': '2023-09-25 19:23:42.000000000'}, {'rev_nbr': 17, 'author': '2023-09-25 19:26:21.000000000', 'date': '2023-09-25 19:26:21.000000000'}, {'rev_nbr': 17, 'author': '2023-09-25 19:57:00.000000000', 'date': '2023-09-25 19:57:00.000000000'}, {'rev_nbr': 17, 'author': '2023-09-25 20:03:02.000000000', 'date': '2023-09-25 20:03:02.000000000'}, {'rev_nbr': 17, 'author': '2023-09-25 20:22:47.000000000', 'date': '2023-09-25 20:22:47.000000000'}, {'rev_nbr': 17, 'author': '2023-09-25 21:29:51.000000000', 'date': '2023-09-25 21:29:51.000000000'}, {'rev_nbr': 17, 'author': '2023-09-25 21:51:57.000000000', 'date': '2023-09-25 21:51:57.000000000'}, {'rev_nbr': 17, 'author': '2023-09-25 23:37:02.000000000', 'date': '2023-09-25 23:37:02.000000000'}, {'rev_nbr': 17, 'author': '2023-09-26 00:56:34.000000000', 'date': '2023-09-26 00:56:34.000000000'}, {'rev_nbr': 17, 'author': '2023-09-26 02:11:03.000000000', 'date': '2023-09-26 02:11:03.000000000'}, {'rev_nbr': 17, 'author': '2023-09-26 07:02:49.000000000', 'date': '2023-09-26 07:02:49.000000000'}, {'rev_nbr': 17, 'author': '2023-09-26 10:07:28.000000000', 'date': '2023-09-26 10:07:28.000000000'}, {'rev_nbr': 17, 'author': '2023-09-26 19:27:30.000000000', 'date': '2023-09-26 19:27:30.000000000'}, {'rev_nbr': 17, 'author': '2023-09-26 22:24:45.000000000', 'date': '2023-09-26 22:24:45.000000000'}, {'rev_nbr': 17, 'author': '2023-09-26 22:56:56.000000000', 'date': '2023-09-26 22:56:56.000000000'}, {'rev_nbr': 17, 'author': '2023-09-27 00:04:56.000000000', 'date': '2023-09-27 00:04:56.000000000'}, {'rev_nbr': 17, 'author': '2023-09-27 02:59:51.000000000', 'date': '2023-09-27 02:59:51.000000000'}, {'rev_nbr': 4, 'author': '2023-10-03 21:25:24.000000000', 'date': '2023-10-03 21:25:24.000000000'}, {'rev_nbr': 6, 'author': '2023-10-03 21:31:03.000000000', 'date': '2023-10-03 21:31:03.000000000'}, {'rev_nbr': 5, 'author': '2023-10-03 21:31:47.000000000', 'date': '2023-10-03 21:31:47.000000000'}, {'rev_nbr': 17, 'author': '2023-10-05 20:05:37.000000000', 'date': '2023-10-05 20:05:37.000000000'}, {'rev_nbr': 18, 'author': '2024-01-09 14:56:47.000000000', 'date': '2024-01-09 14:56:47.000000000'}, {'rev_nbr': 18, 'author': '2024-01-09 16:20:07.000000000', 'date': '2024-01-09 16:20:07.000000000'}, {'rev_nbr': 18, 'author': '2024-01-09 16:49:03.000000000', 'date': '2024-01-09 16:49:03.000000000'}, {'rev_nbr': 18, 'author': '2024-01-09 17:07:30.000000000', 'date': '2024-01-09 17:07:30.000000000'}, {'rev_nbr': 18, 'author': '2024-01-09 17:08:25.000000000', 'date': '2024-01-09 17:08:25.000000000'}, {'rev_nbr': 18, 'author': '2024-01-09 18:48:23.000000000', 'date': '2024-01-09 18:48:23.000000000'}, {'rev_nbr': 18, 'author': '2024-01-09 18:59:52.000000000', 'date': '2024-01-09 18:59:52.000000000'}, {'rev_nbr': 18, 'author': '2024-01-09 20:12:20.000000000', 'date': '2024-01-09 20:12:20.000000000'}, {'rev_nbr': 18, 'author': '2024-01-09 21:24:07.000000000', 'date': '2024-01-09 21:24:07.000000000'}, {'rev_nbr': 18, 'author': '2024-01-10 00:27:44.000000000', 'date': '2024-01-10 00:27:44.000000000'}, {'rev_nbr': 18, 'author': '2024-01-10 07:34:14.000000000', 'date': '2024-01-10 07:34:14.000000000'}, {'rev_nbr': 18, 'author': '2024-01-13 20:19:02.000000000', 'date': '2024-01-13 20:19:02.000000000'}, {'rev_nbr': 19, 'author': '2024-01-13 22:47:14.000000000', 'date': '2024-01-13 22:47:14.000000000'}, {'rev_nbr': 19, 'author': '2024-01-13 23:12:32.000000000', 'date': '2024-01-13 23:12:32.000000000'}, {'rev_nbr': 19, 'author': '2024-01-13 23:56:10.000000000', 'date': '2024-01-13 23:56:10.000000000'}, {'rev_nbr': 19, 'author': '2024-01-14 00:22:08.000000000', 'date': '2024-01-14 00:22:08.000000000'}, {'rev_nbr': 19, 'author': '2024-01-14 01:11:49.000000000', 'date': '2024-01-14 01:11:49.000000000'}, {'rev_nbr': 19, 'author': '2024-01-14 20:44:05.000000000', 'date': '2024-01-14 20:44:05.000000000'}, {'rev_nbr': 19, 'author': '2024-01-15 04:02:56.000000000', 'date': '2024-01-15 04:02:56.000000000'}, {'rev_nbr': 19, 'author': '2024-01-15 19:19:37.000000000', 'date': '2024-01-15 19:19:37.000000000'}, {'rev_nbr': 19, 'author': '2024-01-17 14:54:59.000000000', 'date': '2024-01-17 14:54:59.000000000'}, {'rev_nbr': 19, 'author': '2024-01-17 15:50:23.000000000', 'date': '2024-01-17 15:50:23.000000000'}, {'rev_nbr': 19, 'author': '2024-01-17 17:09:54.000000000', 'date': '2024-01-17 17:09:54.000000000'}, {'rev_nbr': 19, 'author': '2024-01-17 18:53:10.000000000', 'date': '2024-01-17 18:53:10.000000000'}, {'rev_nbr': 19, 'author': '2024-01-17 20:11:02.000000000', 'date': '2024-01-17 20:11:02.000000000'}, {'rev_nbr': 19, 'author': '2024-01-17 20:26:40.000000000', 'date': '2024-01-17 20:26:40.000000000'}, {'rev_nbr': 19, 'author': '2024-01-17 21:45:46.000000000', 'date': '2024-01-17 21:45:46.000000000'}, {'rev_nbr': 19, 'author': '2024-01-17 22:37:19.000000000', 'date': '2024-01-17 22:37:19.000000000'}, {'rev_nbr': 19, 'author': '2024-01-17 23:42:17.000000000', 'date': '2024-01-17 23:42:17.000000000'}, {'rev_nbr': 19, 'author': '2024-01-18 02:31:07.000000000', 'date': '2024-01-18 02:31:07.000000000'}, {'rev_nbr': 19, 'author': '2024-01-18 06:14:38.000000000', 'date': '2024-01-18 06:14:38.000000000'}]",56,"[{'number': 19, 'created': '2024-01-13 22:25:31.000000000', 'files': ['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure_failover_sync-86814167598af2f8.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py'], 'message': ""[Pure Storage] Enable sync repl volume creation during failover\n\nCurrently when cinder failover is invoked, due to the primary\nstorage backend being down, it is not possible, through the\ndriver, to create a new volume with sync replication\nfunctionality. Non-replicated and async replicated volumes can\nbe created in this scenario - although not recommended due to\npotential issues after failback.\n\nA synchronously replicated volume could be safely created\nduring failover as the Pure Storage architecture can allow\nthis to happen. When the failed array is available again, any\nnew sync replication volumes created during the outage will be\nautomatically recovered by the backend's own internal systems.\n\nThis patch updates the driver to check, during volume creation,\nif the backend is in failover mode and then allow sync volumes\nto be correctly created, even though the primary array could be\ninaccessible. Sync volume attachment will also be allowed to\ncontinue should one of the backend replica pair arrays be down.\n\nCreating different replication volume types have been tested\nboth failover and failback scenarios in Pure's labs and this\npatch has proved to work as expected.\n\nAdditionally included is work from abandoned\nchange I7ed3ebd7fec389870edad0c1cc07ac553854dd8a, which\nresolves replication issues in A/A deployments.\n\nAlso, fixes bug where a deleted replication pod can cause the\ndriver to fail on restart.\n\nCloses-Bug: #2035404\nChange-Id: I58f0f10b63431896e7532b16b561683cd242e9ee\n""}]",895731,e1d93531b94dfcfecb3cac08cfd1d849f29db467,13425,Simon Dodsley,sdodsley,0,"[Pure Storage] Enable sync repl volume creation during failover

Currently when cinder failover is invoked, due to the primary
storage backend being down, it is not possible, through the
driver, to create a new volume with sync replication
functionality. Non-replicated and async replicated volumes can
be created in this scenario - although not recommended due to
potential issues after failback.

A synchronously replicated volume could be safely created
during failover as the Pure Storage architecture can allow
this to happen. When the failed array is available again, any
new sync replication volumes created during the outage will be
automatically recovered by the backend's own internal systems.

This patch updates the driver to check, during volume creation,
if the backend is in failover mode and then allow sync volumes
to be correctly created, even though the primary array could be
inaccessible. Sync volume attachment will also be allowed to
continue should one of the backend replica pair arrays be down.

Creating different replication volume types have been tested
both failover and failback scenarios in Pure's labs and this
patch has proved to work as expected.

Additionally included is work from abandoned
change I7ed3ebd7fec389870edad0c1cc07ac553854dd8a, which
resolves replication issues in A/A deployments.

Also, fixes bug where a deleted replication pod can cause the
driver to fail on restart.

Closes-Bug: #2035404
Change-Id: I58f0f10b63431896e7532b16b561683cd242e9ee
","['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure_failover_sync-86814167598af2f8.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py']"
openstack%2Fdevstack~910990,openstack/devstack,stable/wallaby,Icd487e1012263a9b0bc13b529d31ff2025108adf,Drop the devstack-single-node-centos-7 nodeset,MERGED,2024-03-04 19:29:37.000000000,2024-03-05 18:00:55.000000000,0,13,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,4,"[{'number': 2, 'created': '2024-03-04 19:50:56.000000000', 'files': ['.zuul.yaml'], 'message': ""Drop the devstack-single-node-centos-7 nodeset\n\nOpenDev is preparing to remove centos-7 nodes on March 15[*]. This\nchange drops one nodeset definition which is the last remaining\nreference on DevStack's master branch. Also clean up a lingering\nreference to swift-dsvm-functional-py3 which no longer exists.\n\n[*] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/A2YIY5L7MVYSQMTVZU3L3OM7GLVVZPLK/\n\nChange-Id: Icd487e1012263a9b0bc13b529d31ff2025108adf\n(cherry picked from commit de9a15adbcc12dacef5b58da18c72d65c087651a)\n""}]",910990,ec783f0b044012d3d7e1410d3b599e67fc9dd624,5263,Jeremy Stanley,fungi,0,"Drop the devstack-single-node-centos-7 nodeset

OpenDev is preparing to remove centos-7 nodes on March 15[*]. This
change drops one nodeset definition which is the last remaining
reference on DevStack's master branch. Also clean up a lingering
reference to swift-dsvm-functional-py3 which no longer exists.

[*] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/A2YIY5L7MVYSQMTVZU3L3OM7GLVVZPLK/

Change-Id: Icd487e1012263a9b0bc13b529d31ff2025108adf
(cherry picked from commit de9a15adbcc12dacef5b58da18c72d65c087651a)
",['.zuul.yaml']
openstack%2Fdevstack~910980,openstack/devstack,master,Icd487e1012263a9b0bc13b529d31ff2025108adf,Drop the devstack-single-node-centos-7 nodeset,MERGED,2024-03-04 18:28:35.000000000,2024-03-05 18:00:48.000000000,0,10,"[{'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-04 18:28:35.000000000', 'files': ['.zuul.yaml'], 'message': ""Drop the devstack-single-node-centos-7 nodeset\n\nOpenDev is preparing to remove centos-7 nodes on March 15[*]. This\nchange drops one nodeset definition which is the last remaining\nreference on DevStack's master branch.\n\n[*] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/A2YIY5L7MVYSQMTVZU3L3OM7GLVVZPLK/\n\nChange-Id: Icd487e1012263a9b0bc13b529d31ff2025108adf\n""}]",910980,af57c0b778bb13a9b5ffd784fc456a21614e67b1,5263,Jeremy Stanley,fungi,0,"Drop the devstack-single-node-centos-7 nodeset

OpenDev is preparing to remove centos-7 nodes on March 15[*]. This
change drops one nodeset definition which is the last remaining
reference on DevStack's master branch.

[*] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/A2YIY5L7MVYSQMTVZU3L3OM7GLVVZPLK/

Change-Id: Icd487e1012263a9b0bc13b529d31ff2025108adf
",['.zuul.yaml']
openstack%2Fmanila-ui~909659,openstack/manila-ui,master,I12ac14f664f59dbab11ded5f420de4ea290f21f6,Add new-note tox environment,MERGED,2024-02-21 13:25:36.000000000,2024-03-05 17:50:45.000000000,187,0,"[{'_account_id': 16643, 'name': 'Goutham Pacha Ravi', 'email': 'gouthampravi@gmail.com', 'username': 'gouthamr'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29632, 'name': 'Carlos Eduardo', 'email': 'ces.eduardo98@gmail.com', 'username': 'silvacarlos'}, {'_account_id': 30407, 'name': 'haixin', 'email': '653186640@qq.com', 'username': 'haixin'}]",,12,"[{'number': 3, 'created': '2024-02-29 12:34:10.000000000', 'files': ['doc/source/contributor/adding_release_notes.rst', 'doc/source/contributor/index.rst', 'tox.ini'], 'message': 'Add new-note tox environment\n\nOnly reno command was possible to add a\nrelease notes. modify tox config to allow\nnewnote command too.\n\nChange-Id: I12ac14f664f59dbab11ded5f420de4ea290f21f6\n'}]",909659,9f0aaf7dd4d737bdc35d50d9f92240a0ffb96dfa,36483,melaku alehegn,melakualehegn,0,"Add new-note tox environment

Only reno command was possible to add a
release notes. modify tox config to allow
newnote command too.

Change-Id: I12ac14f664f59dbab11ded5f420de4ea290f21f6
","['doc/source/contributor/adding_release_notes.rst', 'doc/source/contributor/index.rst', 'tox.ini']"
openstack%2Fneutron~893185,openstack/neutron,master,Id5b0b230e342074d8ca27e4fc4ce1c1f0c1b0d34,Add release notes for l3-ext-gw-multihoming and adjacent features,MERGED,2023-08-30 13:35:47.000000000,2024-03-05 17:27:46.000000000,14,0,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 13686, 'name': 'Frode Nordahl', 'email': 'fnordahl@ubuntu.com', 'username': 'fnordahl'}, {'_account_id': 13861, 'name': 'yatin', 'email': 'ykarel@redhat.com', 'username': 'yatinkarel'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2023-08-30 13:35:47.000000000', 'files': ['releasenotes/notes/l3-ext-gw-multihoming-99be481ddeaa3a6d.yaml', 'releasenotes/notes/enable-default-route-bfd-and-ecmp-2cbb3be64ee25410.yaml'], 'message': 'Add release notes for l3-ext-gw-multihoming and adjacent features\n\nThese features was added to Caracal.\n\nPartial-Bug: #2002687\nChange-Id: Id5b0b230e342074d8ca27e4fc4ce1c1f0c1b0d34\n'}]",893185,f16310515860beac14ec04dddb97573a69181ecd,13686,Frode Nordahl,fnordahl,0,"Add release notes for l3-ext-gw-multihoming and adjacent features

These features was added to Caracal.

Partial-Bug: #2002687
Change-Id: Id5b0b230e342074d8ca27e4fc4ce1c1f0c1b0d34
","['releasenotes/notes/l3-ext-gw-multihoming-99be481ddeaa3a6d.yaml', 'releasenotes/notes/enable-default-route-bfd-and-ecmp-2cbb3be64ee25410.yaml']"
openstack%2Fdevstack~907110,openstack/devstack,master,I75267988b1c80ac9daa5843ce8462bbac49ffe27,Make `centralized_db` driver as default cache driver,MERGED,2024-01-29 18:41:35.000000000,2024-03-05 17:27:29.000000000,2,1,"[{'_account_id': 4393, 'name': 'Dan Smith', 'email': 'dms@danplanet.com', 'username': 'danms'}, {'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22873, 'name': 'Martin Kopec', 'email': 'mkopec@redhat.com', 'username': 'mkopec'}]",,9,"[{'number': 4, 'created': '2024-01-31 21:37:20.000000000', 'files': ['lib/glance'], 'message': 'Make `centralized_db` driver as default cache driver\n\nMaking newly introduced `centralized_db` driver as default cache\ndriver for glance so that it can be tested in available CI jobs.\n\nNew cache driver `centralized_db` needs `worker_self_reference_url`\nin glance-api.conf file otherwise glance api service will fail to\nstart.\n\nRelated blueprint centralized-cache-db\nDepends-On: https://review.opendev.org/c/openstack/glance/+/899871\n\nChange-Id: I75267988b1c80ac9daa5843ce8462bbac49ffe27\n'}]",907110,d251d12d71ebca758e8584204a0ba14d3c6bab6c,9303,Abhishek Kekane,abhishekkekane,0,"Make `centralized_db` driver as default cache driver

Making newly introduced `centralized_db` driver as default cache
driver for glance so that it can be tested in available CI jobs.

New cache driver `centralized_db` needs `worker_self_reference_url`
in glance-api.conf file otherwise glance api service will fail to
start.

Related blueprint centralized-cache-db
Depends-On: https://review.opendev.org/c/openstack/glance/+/899871

Change-Id: I75267988b1c80ac9daa5843ce8462bbac49ffe27
",['lib/glance']
openstack%2Fironic~910445,openstack/ironic,master,Iabde23adc8504a5a443577c21e450b26f0e43da7,Remove downgrade_dnsmasq; 2.90 is upstream now,ABANDONED,2024-02-27 23:47:03.000000000,2024-03-05 17:20:02.000000000,0,14,"[{'_account_id': 11655, 'name': 'Julia Kreger', 'email': 'juliaashleykreger@gmail.com', 'username': 'jkreger', 'status': 'Flying to the moon with a Jetpack!'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 2, 'created': '2024-02-28 19:20:08.000000000', 'files': ['devstack/lib/ironic', 'devstack/plugin.sh'], 'message': 'Remove downgrade_dnsmasq; 2.90 is upstream now\n\nUpstream ubuntu Jammy now has 2.90, with security fixes and the fix for\nthe bug we were avoiding. Lets get out of the custom dnsmasq business!\n\nChange-Id: Iabde23adc8504a5a443577c21e450b26f0e43da7\n'}]",910445,377bc02fea6a88cafb266712f0995d885c30c250,10342,Jay Faulkner,JayF,0,"Remove downgrade_dnsmasq; 2.90 is upstream now

Upstream ubuntu Jammy now has 2.90, with security fixes and the fix for
the bug we were avoiding. Lets get out of the custom dnsmasq business!

Change-Id: Iabde23adc8504a5a443577c21e450b26f0e43da7
","['devstack/lib/ironic', 'devstack/plugin.sh']"
openstack%2Fopenstack-helm-images~910349,openstack/openstack-helm-images,master,I07ac4b70ce5eb0ceb1b805f24345ccc97cb99c7e,Update Ceph images to address https://tracker.ceph.com/issues/63684,MERGED,2024-02-27 15:00:43.000000000,2024-03-05 16:49:58.000000000,3,3,"[{'_account_id': 3009, 'name': 'Vladimir Kozhukalov', 'email': 'kozhukalov@gmail.com', 'username': 'kozhukalov'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34520, 'name': 'Sergiy Markin', 'email': 'smarkin@mirantis.com', 'username': 'sm515x'}]",,0,"[{'number': 1, 'created': '2024-02-27 15:00:43.000000000', 'files': ['zuul.d/ceph.yaml'], 'message': ""Update Ceph images to address https://tracker.ceph.com/issues/63684\n\nThis change updates the Ceph images to include new Reef 18.2.1 Ceph\npackages that include a patch to work around an RGW segfault that\nhas been seen in some cases. This isn't a permanent fix, but it\nprevents the radosgw binary from segfaulting while a permanent fix\nis in progress.\n\nChange-Id: I07ac4b70ce5eb0ceb1b805f24345ccc97cb99c7e\n""}]",910349,5c0935b2e3fe926e3dc4f0e8291692ef1aef976d,29974,Stephen Taylor,st053q,0,"Update Ceph images to address https://tracker.ceph.com/issues/63684

This change updates the Ceph images to include new Reef 18.2.1 Ceph
packages that include a patch to work around an RGW segfault that
has been seen in some cases. This isn't a permanent fix, but it
prevents the radosgw binary from segfaulting while a permanent fix
is in progress.

Change-Id: I07ac4b70ce5eb0ceb1b805f24345ccc97cb99c7e
",['zuul.d/ceph.yaml']
openstack%2Fkuryr-kubernetes~910962,openstack/kuryr-kubernetes,master,Ib43164901cbc23038eff7c2b110078555d5e4ba3,Change k8s package repository,MERGED,2024-03-04 16:00:03.000000000,2024-03-05 16:48:36.000000000,11,18,"[{'_account_id': 11600, 'name': 'Michał Dulko', 'email': 'michal.dulko@gmail.com', 'username': 'dulek'}, {'_account_id': 13692, 'name': 'Roman Dobosz', 'email': 'gryf73@gmail.com', 'username': 'gryf'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,11,"[{'number': 4, 'created': '2024-03-05 13:03:54.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/tempest-jobs.yaml', 'devstack/lib/kubernetes'], 'message': 'Change k8s package repository\n\nCloses-Bug: #2055979\nChange-Id: Ib43164901cbc23038eff7c2b110078555d5e4ba3\n'}]",910962,0c1fe5fd3c5b441c8d0b8e36997f4293ea891a27,31857,Ayumu Ueha,ueha,0,"Change k8s package repository

Closes-Bug: #2055979
Change-Id: Ib43164901cbc23038eff7c2b110078555d5e4ba3
","['.zuul.d/project.yaml', '.zuul.d/tempest-jobs.yaml', 'devstack/lib/kubernetes']"
openstack%2Fglance_store~907733,openstack/glance_store,stable/2023.1,I9193df38d613259b61bb369fa1040fb2c51a21d7,Do not show access_key in s3 driver,MERGED,2024-02-05 13:49:51.000000000,2024-03-05 16:30:17.000000000,6,11,"[{'_account_id': 8122, 'name': 'Cyril Roelandt', 'email': 'cyril@redhat.com', 'username': 'cyril.roelandt.enovance'}, {'_account_id': 9303, 'name': 'Abhishek Kekane', 'email': 'akekane@redhat.com', 'username': 'abhishekkekane'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 2, 'created': '2024-02-15 22:37:31.000000000', 'files': ['glance_store/_drivers/s3.py'], 'message': 'Do not show access_key in s3 driver\n\nAvoid possible leakage of s3 access keys by not including them in log\nmessages.\n\nThis patch includes commit d6e531af4821c8466b1e9404f12f89f6216417f2\n(change I8dc564bed33d6fc71965f4f573ae9109b410b1d4), which addressed\nsome more log messages that the original patch had missed.\n\nThe two commits are squashed here for ease in backporting (and also\nto make sure that *both* are always backported).\n\nCloses-Bug: #2047688\nChange-Id: I9193df38d613259b61bb369fa1040fb2c51a21d7\n(cherry picked from commit a5ba027922ba1230b4ae9abb810f36427be6354a)\n(cherry picked from commit 1583aebb69befea3173396ea161cf896b7d51beb)\n'}]",907733,45ad5df01fa7062ba7d3ec99966531623e35ab57,8122,Cyril Roelandt,cyril.roelandt.enovance,0,"Do not show access_key in s3 driver

Avoid possible leakage of s3 access keys by not including them in log
messages.

This patch includes commit d6e531af4821c8466b1e9404f12f89f6216417f2
(change I8dc564bed33d6fc71965f4f573ae9109b410b1d4), which addressed
some more log messages that the original patch had missed.

The two commits are squashed here for ease in backporting (and also
to make sure that *both* are always backported).

Closes-Bug: #2047688
Change-Id: I9193df38d613259b61bb369fa1040fb2c51a21d7
(cherry picked from commit a5ba027922ba1230b4ae9abb810f36427be6354a)
(cherry picked from commit 1583aebb69befea3173396ea161cf896b7d51beb)
",['glance_store/_drivers/s3.py']
openstack%2Fglance_store~906484,openstack/glance_store,stable/2023.2,I9193df38d613259b61bb369fa1040fb2c51a21d7,Do not show access_key in s3 driver,MERGED,2024-01-24 07:42:11.000000000,2024-03-05 16:30:10.000000000,6,11,"[{'_account_id': 5314, 'name': 'Brian Rosmaita', 'email': 'rosmaita.fossdev@gmail.com', 'username': 'brian-rosmaita'}, {'_account_id': 8122, 'name': 'Cyril Roelandt', 'email': 'cyril@redhat.com', 'username': 'cyril.roelandt.enovance'}, {'_account_id': 9303, 'name': 'Abhishek Kekane', 'email': 'akekane@redhat.com', 'username': 'abhishekkekane'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,3,"[{'number': 2, 'created': '2024-02-15 22:27:49.000000000', 'files': ['glance_store/_drivers/s3.py'], 'message': 'Do not show access_key in s3 driver\n\nAvoid possible leakage of s3 access keys by not including them in log\nmessages.\n\nThis patch includes commit d6e531af4821c8466b1e9404f12f89f6216417f2\n(change I8dc564bed33d6fc71965f4f573ae9109b410b1d4), which addressed\nsome more log messages that the original patch had missed.\n\nThe two commits are squashed here for ease in backporting (and also\nto make sure that *both* are always backported).\n\nCloses-Bug: #2047688\nChange-Id: I9193df38d613259b61bb369fa1040fb2c51a21d7\n(cherry picked from commit a5ba027922ba1230b4ae9abb810f36427be6354a)\n'}]",906484,1583aebb69befea3173396ea161cf896b7d51beb,19138,Pranali Deore,PranaliD,0,"Do not show access_key in s3 driver

Avoid possible leakage of s3 access keys by not including them in log
messages.

This patch includes commit d6e531af4821c8466b1e9404f12f89f6216417f2
(change I8dc564bed33d6fc71965f4f573ae9109b410b1d4), which addressed
some more log messages that the original patch had missed.

The two commits are squashed here for ease in backporting (and also
to make sure that *both* are always backported).

Closes-Bug: #2047688
Change-Id: I9193df38d613259b61bb369fa1040fb2c51a21d7
(cherry picked from commit a5ba027922ba1230b4ae9abb810f36427be6354a)
",['glance_store/_drivers/s3.py']
openstack%2Fglance_store~907736,openstack/glance_store,stable/zed,I9193df38d613259b61bb369fa1040fb2c51a21d7,Do not show access_key in s3 driver,MERGED,2024-02-05 13:52:44.000000000,2024-03-05 16:30:07.000000000,6,11,"[{'_account_id': 8122, 'name': 'Cyril Roelandt', 'email': 'cyril@redhat.com', 'username': 'cyril.roelandt.enovance'}, {'_account_id': 9303, 'name': 'Abhishek Kekane', 'email': 'akekane@redhat.com', 'username': 'abhishekkekane'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 2, 'created': '2024-02-15 22:40:33.000000000', 'files': ['glance_store/_drivers/s3.py'], 'message': 'Do not show access_key in s3 driver\n\nAvoid possible leakage of s3 access keys by not including them in log\nmessages.\n\nThis patch includes commit d6e531af4821c8466b1e9404f12f89f6216417f2\n(change I8dc564bed33d6fc71965f4f573ae9109b410b1d4), which addressed\nsome more log messages that the original patch had missed.\n\nThe two commits are squashed here for ease in backporting (and also\nto make sure that *both* are always backported).\n\nCloses-Bug: #2047688\nChange-Id: I9193df38d613259b61bb369fa1040fb2c51a21d7\n(cherry picked from commit a5ba027922ba1230b4ae9abb810f36427be6354a)\n(cherry picked from commit 1583aebb69befea3173396ea161cf896b7d51beb)\n(cherry picked from commit 45ad5df01fa7062ba7d3ec99966531623e35ab57)\n'}]",907736,f7f87019adbcdb069ea23ccb7b3e187cb52eaf55,8122,Cyril Roelandt,cyril.roelandt.enovance,0,"Do not show access_key in s3 driver

Avoid possible leakage of s3 access keys by not including them in log
messages.

This patch includes commit d6e531af4821c8466b1e9404f12f89f6216417f2
(change I8dc564bed33d6fc71965f4f573ae9109b410b1d4), which addressed
some more log messages that the original patch had missed.

The two commits are squashed here for ease in backporting (and also
to make sure that *both* are always backported).

Closes-Bug: #2047688
Change-Id: I9193df38d613259b61bb369fa1040fb2c51a21d7
(cherry picked from commit a5ba027922ba1230b4ae9abb810f36427be6354a)
(cherry picked from commit 1583aebb69befea3173396ea161cf896b7d51beb)
(cherry picked from commit 45ad5df01fa7062ba7d3ec99966531623e35ab57)
",['glance_store/_drivers/s3.py']
openstack%2Fopenstack-ansible~911051,openstack/openstack-ansible,stable/zed,I987dd5cffc267f0ccafbe5fd0d7d0fa764852d40,Bump SHAs for Zed,MERGED,2024-03-05 09:46:08.000000000,2024-03-05 16:27:37.000000000,19,19,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 25023, 'name': 'Jonathan Rosser', 'email': 'jonathan.rosser@rd.bbc.co.uk', 'username': 'jrosser'}, {'_account_id': 31542, 'name': 'Andrew Bonney', 'email': 'andrew.bonney@bbc.co.uk', 'username': 'andrewbonney'}]",,0,"[{'number': 1, 'created': '2024-03-05 09:46:08.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml'], 'message': 'Bump SHAs for Zed\n\nChange-Id: I987dd5cffc267f0ccafbe5fd0d7d0fa764852d40\n'}]",911051,b81f3e88c18b8a6e72a0d98e2fc171ac2baf762e,28619,Dmitriy Rabotyagov,noonedeadpunk,0,"Bump SHAs for Zed

Change-Id: I987dd5cffc267f0ccafbe5fd0d7d0fa764852d40
","['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml']"
openstack%2Fopenstack-ansible~911054,openstack/openstack-ansible,stable/2023.1,Iab37f42150536d9a42cf5061a26b8dc8b2d89844,Bump SHAs for 2023.1 (Antelope),MERGED,2024-03-05 09:55:49.000000000,2024-03-05 16:26:03.000000000,54,54,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 25023, 'name': 'Jonathan Rosser', 'email': 'jonathan.rosser@rd.bbc.co.uk', 'username': 'jrosser'}, {'_account_id': 31542, 'name': 'Andrew Bonney', 'email': 'andrew.bonney@bbc.co.uk', 'username': 'andrewbonney'}]",,0,"[{'number': 1, 'created': '2024-03-05 09:55:49.000000000', 'files': ['inventory/group_vars/trove_all/source_git.yml', 'inventory/group_vars/cinder_all/source_git.yml', 'inventory/group_vars/manila_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'inventory/group_vars/ceilometer_all/source_git.yml', 'inventory/group_vars/keystone_all/source_git.yml', 'inventory/group_vars/cloudkitty_all/source_git.yml', 'inventory/group_vars/all/source_git.yml', 'inventory/group_vars/magnum_all/source_git.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'ansible-role-requirements.yml', 'inventory/group_vars/blazar_all/source_git.yml', 'inventory/group_vars/swift_all/source_git.yml', 'inventory/group_vars/neutron_all/source_git.yml', 'inventory/group_vars/nova_all/source_git.yml', 'inventory/group_vars/octavia_all/source_git.yml', 'inventory/group_vars/aodh_all/source_git.yml'], 'message': 'Bump SHAs for 2023.1 (Antelope)\n\nChange-Id: Iab37f42150536d9a42cf5061a26b8dc8b2d89844\n'}]",911054,b40c523d5f16a68b99c700194096a1575402ca6d,28619,Dmitriy Rabotyagov,noonedeadpunk,0,"Bump SHAs for 2023.1 (Antelope)

Change-Id: Iab37f42150536d9a42cf5061a26b8dc8b2d89844
","['inventory/group_vars/trove_all/source_git.yml', 'inventory/group_vars/cinder_all/source_git.yml', 'inventory/group_vars/manila_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'inventory/group_vars/ceilometer_all/source_git.yml', 'inventory/group_vars/keystone_all/source_git.yml', 'inventory/group_vars/cloudkitty_all/source_git.yml', 'inventory/group_vars/all/source_git.yml', 'inventory/group_vars/magnum_all/source_git.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'ansible-role-requirements.yml', 'inventory/group_vars/blazar_all/source_git.yml', 'inventory/group_vars/swift_all/source_git.yml', 'inventory/group_vars/neutron_all/source_git.yml', 'inventory/group_vars/nova_all/source_git.yml', 'inventory/group_vars/octavia_all/source_git.yml', 'inventory/group_vars/aodh_all/source_git.yml']"
openstack%2Fcharm-manila-netapp~909833,openstack/charm-manila-netapp,stable/yoga,I807edb61b6171cfd2260d1eba581019a130090c0,Enable a standalone network for shares,MERGED,2024-02-23 11:24:45.000000000,2024-03-05 16:25:15.000000000,106,9,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 6737, 'name': 'Edward Hope-Morley', 'email': 'edward.hope-morley@canonical.com', 'username': 'hopem'}, {'_account_id': 19298, 'name': 'Nicolas Bock', 'email': 'nicolas.bock@canonical.com', 'username': 'nicolasbock'}, {'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-02-23 11:24:45.000000000', 'files': ['templates/queens/manila.conf', 'config.yaml', 'src/charm.py'], 'message': 'Enable a standalone network for shares\n\nThe patch adds config options and template changes to enable a single\nstandalone network for serving shares from a NetApp appliance.\n\nCloses-Bug: #1989216\nChange-Id: I807edb61b6171cfd2260d1eba581019a130090c0\n(cherry picked from commit 29af821ce468f27dfe66c4ebde4b86e86c923984)\n(cherry picked from commit 046338217fdf309fcb6abd9127d53f1900f4d549)\n'}]",909833,644f57c5425a91dd65b9a5ea66ac94924fac7ff9,14567,Rodrigo Barbieri,ganso,0,"Enable a standalone network for shares

The patch adds config options and template changes to enable a single
standalone network for serving shares from a NetApp appliance.

Closes-Bug: #1989216
Change-Id: I807edb61b6171cfd2260d1eba581019a130090c0
(cherry picked from commit 29af821ce468f27dfe66c4ebde4b86e86c923984)
(cherry picked from commit 046338217fdf309fcb6abd9127d53f1900f4d549)
","['templates/queens/manila.conf', 'config.yaml', 'src/charm.py']"
openstack%2Freleases~910433,openstack/releases,master,Ic47e05836819a01feea815af418448fec192bd0d,[requirements] Transition EM branches to Unmaintained,MERGED,2024-02-27 19:10:25.000000000,2024-03-05 16:11:00.000000000,21,0,"[{'_account_id': 12898, 'name': 'Tony Breeds', 'email': 'tony@bakeyournoodle.com', 'username': 'tonyb'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 14288, 'name': 'Matthew Thode', 'display_name': 'prometheanfire', 'email': 'mthode@mthode.org', 'username': 'prometheanfire'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,4,"[{'number': 2, 'created': '2024-03-05 15:37:15.000000000', 'files': ['deliverables/xena/requirements.yaml', 'deliverables/victoria/requirements.yaml', 'deliverables/wallaby/requirements.yaml'], 'message': '[requirements] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: Ic47e05836819a01feea815af418448fec192bd0d\n'}]",910433,ac6b438b75d6bcca477dca2d8929857697e2199d,17685,Elod Illes,elod.illes,0,"[requirements] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: Ic47e05836819a01feea815af418448fec192bd0d
","['deliverables/xena/requirements.yaml', 'deliverables/victoria/requirements.yaml', 'deliverables/wallaby/requirements.yaml']"
openstack%2Fblazar~910598,openstack/blazar,master,I055fed2ef2f4953cdd7b215ccafaa27767e915ae,Replace usage of LegacyEngineFacade,MERGED,2024-02-29 12:46:48.000000000,2024-03-05 16:09:23.000000000,249,283,"[{'_account_id': 15197, 'name': 'Pierre Riteau', 'email': 'pierre@stackhpc.com', 'username': 'priteau', 'status': 'StackHPC'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 35263, 'name': 'Matt Crees', 'email': 'mattc@stackhpc.com', 'username': 'mattcrees'}]",,44,"[{'number': 4, 'created': '2024-03-04 16:13:03.000000000', 'files': ['blazar/db/sqlalchemy/facade_wrapper.py', 'blazar/tests/__init__.py', 'blazar/db/sqlalchemy/api.py', 'blazar/db/sqlalchemy/utils.py'], 'message': 'Replace usage of LegacyEngineFacade\n\nSwitch to using oslo_db.sqlalchemy.enginefacade instead, as this is\nrequired for SQLAlchemy 2.x support.\n\nChange-Id: I055fed2ef2f4953cdd7b215ccafaa27767e915ae\n'}]",910598,b91c0f691ea562ccab7e1514ff9101f41e56b598,35263,Matt Crees,mattcrees,0,"Replace usage of LegacyEngineFacade

Switch to using oslo_db.sqlalchemy.enginefacade instead, as this is
required for SQLAlchemy 2.x support.

Change-Id: I055fed2ef2f4953cdd7b215ccafaa27767e915ae
","['blazar/db/sqlalchemy/facade_wrapper.py', 'blazar/tests/__init__.py', 'blazar/db/sqlalchemy/api.py', 'blazar/db/sqlalchemy/utils.py']"
openstack%2Fopenstack-ansible~910386,openstack/openstack-ansible,master,Idab46a7c557366dabd6979ee08c1332a2d2d7515,Update upstream SHAs,MERGED,2024-02-27 18:52:16.000000000,2024-03-05 16:09:12.000000000,88,88,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 25023, 'name': 'Jonathan Rosser', 'email': 'jonathan.rosser@rd.bbc.co.uk', 'username': 'jrosser'}, {'_account_id': 31542, 'name': 'Andrew Bonney', 'email': 'andrew.bonney@bbc.co.uk', 'username': 'andrewbonney'}]",,1,"[{'number': 3, 'created': '2024-03-05 09:18:38.000000000', 'files': ['ansible-collection-requirements.yml', 'inventory/group_vars/magnum_all/source_git.yml', 'inventory/group_vars/designate_all/source_git.yml', 'inventory/group_vars/blazar_all/source_git.yml', 'inventory/group_vars/zun_all/source_git.yml', 'inventory/group_vars/neutron_all/source_git.yml', 'inventory/group_vars/nova_all/source_git.yml', 'inventory/group_vars/masakari_all/source_git.yml', 'inventory/group_vars/trove_all/source_git.yml', 'inventory/group_vars/cinder_all/source_git.yml', 'inventory/group_vars/manila_all/source_git.yml', 'inventory/group_vars/placement_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'inventory/group_vars/ceilometer_all/source_git.yml', 'inventory/group_vars/keystone_all/source_git.yml', 'inventory/group_vars/cloudkitty_all/source_git.yml', 'inventory/group_vars/all/source_git.yml', 'inventory/group_vars/heat_all/source_git.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'inventory/group_vars/utility_all/source_git.yml', 'inventory/group_vars/tacker_all/source_git.yml', 'inventory/group_vars/mistral_all/source_git.yml', 'inventory/group_vars/swift_all/source_git.yml', 'inventory/group_vars/barbican_all/source_git.yml', 'inventory/group_vars/octavia_all/source_git.yml', 'inventory/group_vars/aodh_all/source_git.yml', 'inventory/group_vars/glance_all/source_git.yml'], 'message': 'Update upstream SHAs\n\nCloses-Bug: #2054224\nChange-Id: Idab46a7c557366dabd6979ee08c1332a2d2d7515\n'}]",910386,e72984ca956d44d8056ca4ea8ea7e263bc3c8881,28619,Dmitriy Rabotyagov,noonedeadpunk,0,"Update upstream SHAs

Closes-Bug: #2054224
Change-Id: Idab46a7c557366dabd6979ee08c1332a2d2d7515
","['ansible-collection-requirements.yml', 'inventory/group_vars/magnum_all/source_git.yml', 'inventory/group_vars/designate_all/source_git.yml', 'inventory/group_vars/blazar_all/source_git.yml', 'inventory/group_vars/zun_all/source_git.yml', 'inventory/group_vars/neutron_all/source_git.yml', 'inventory/group_vars/nova_all/source_git.yml', 'inventory/group_vars/masakari_all/source_git.yml', 'inventory/group_vars/trove_all/source_git.yml', 'inventory/group_vars/cinder_all/source_git.yml', 'inventory/group_vars/manila_all/source_git.yml', 'inventory/group_vars/placement_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'inventory/group_vars/ceilometer_all/source_git.yml', 'inventory/group_vars/keystone_all/source_git.yml', 'inventory/group_vars/cloudkitty_all/source_git.yml', 'inventory/group_vars/all/source_git.yml', 'inventory/group_vars/heat_all/source_git.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'inventory/group_vars/utility_all/source_git.yml', 'inventory/group_vars/tacker_all/source_git.yml', 'inventory/group_vars/mistral_all/source_git.yml', 'inventory/group_vars/swift_all/source_git.yml', 'inventory/group_vars/barbican_all/source_git.yml', 'inventory/group_vars/octavia_all/source_git.yml', 'inventory/group_vars/aodh_all/source_git.yml', 'inventory/group_vars/glance_all/source_git.yml']"
openstack%2Fopenstack-helm-infra~910996,openstack/openstack-helm-infra,master,I0d69bd920c8e62915853ecc3b22825fa98f7edf3,[ceph-osd] Allow lvcreate to wipe existing LV metadata,MERGED,2024-03-04 20:37:52.000000000,2024-03-05 16:01:50.000000000,3,2,"[{'_account_id': 3009, 'name': 'Vladimir Kozhukalov', 'email': 'kozhukalov@gmail.com', 'username': 'kozhukalov'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34520, 'name': 'Sergiy Markin', 'email': 'smarkin@mirantis.com', 'username': 'sm515x'}, {'_account_id': 34821, 'name': 'Schubert Anselme', 'email': 'sa246v@att.com', 'username': 'sa246v'}]",,0,"[{'number': 3, 'created': '2024-03-04 21:19:50.000000000', 'files': ['ceph-osd/templates/bin/osd/ceph-volume/_init-ceph-volume-helper-bluestore.sh.tpl', 'ceph-osd/Chart.yaml', 'releasenotes/notes/ceph-osd.yaml'], 'message': '[ceph-osd] Allow lvcreate to wipe existing LV metadata\n\nIn some cases when OSD metadata disks are reused and redeployed,\nlvcreate can fail to create a DB or WAL volume because it overlaps\nan old, deleted volume on the same disk whose signature still\nexists at the offsets that trigger detection and abort the LV\ncreation process when the user is asked whether or not to wipe to\nold signature. Adding a --yes argument to the lvcreate command\nautomatically answers yes to the wipe question and allows lvcreate\nto wipe the old signature.\n\nChange-Id: I0d69bd920c8e62915853ecc3b22825fa98f7edf3\n'}]",910996,1e05f3151d84726f0c9c516dd14364fe88db0fe8,29974,Stephen Taylor,st053q,0,"[ceph-osd] Allow lvcreate to wipe existing LV metadata

In some cases when OSD metadata disks are reused and redeployed,
lvcreate can fail to create a DB or WAL volume because it overlaps
an old, deleted volume on the same disk whose signature still
exists at the offsets that trigger detection and abort the LV
creation process when the user is asked whether or not to wipe to
old signature. Adding a --yes argument to the lvcreate command
automatically answers yes to the wipe question and allows lvcreate
to wipe the old signature.

Change-Id: I0d69bd920c8e62915853ecc3b22825fa98f7edf3
","['ceph-osd/templates/bin/osd/ceph-volume/_init-ceph-volume-helper-bluestore.sh.tpl', 'ceph-osd/Chart.yaml', 'releasenotes/notes/ceph-osd.yaml']"
openstack%2Fironic~910528,openstack/ironic,stable/2023.1,Ibe3274d7fabfd4f06af8aba1af0957fa36e8d217,stable-only: pin proliantutils/scciclient to prevent break,MERGED,2024-02-28 15:53:31.000000000,2024-03-05 15:59:24.000000000,32,12,"[{'_account_id': 10342, 'name': 'Jay Faulkner', 'display_name': 'JayF', 'email': 'jay@jvf.cc', 'username': 'JayF'}, {'_account_id': 11655, 'name': 'Julia Kreger', 'email': 'juliaashleykreger@gmail.com', 'username': 'jkreger', 'status': 'Flying to the moon with a Jetpack!'}, {'_account_id': 15519, 'name': 'Iury Gregory Melo Ferreira', 'display_name': 'Iury Gregory', 'email': 'iurygregory@gmail.com', 'username': 'iurygregory'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 32029, 'name': 'likui', 'email': 'likui@yovole.com', 'username': 'likui'}]",,5,"[{'number': 6, 'created': '2024-03-05 04:44:54.000000000', 'files': ['driver-requirements.txt', 'zuul.d/project.yaml'], 'message': 'stable-only: pin proliantutils/scciclient to prevent break\n\nProliantutils 2.16.0 roughly times with the 2023.2\nrelease of ironic and a switch to lextudio-pysnmp,\nhowever in this branch of ironic, however this breaks\ndepending on order and collides with pysnmp namespace.\n\nAlso pins python-scciclient to <0.14.0 as to also not\npull in the dependency difference.\n\nAlso, Also, disables standalone, grenade, and metalsmith,\nand snmp jobs from voting while we work to stabilize CI across\nmultiple branches.\n\nChange-Id: Ibe3274d7fabfd4f06af8aba1af0957fa36e8d217\n'}]",910528,d278fdb6d25250232aca776003cdf6eb675a1132,11655,Julia Kreger,jkreger,0,"stable-only: pin proliantutils/scciclient to prevent break

Proliantutils 2.16.0 roughly times with the 2023.2
release of ironic and a switch to lextudio-pysnmp,
however in this branch of ironic, however this breaks
depending on order and collides with pysnmp namespace.

Also pins python-scciclient to <0.14.0 as to also not
pull in the dependency difference.

Also, Also, disables standalone, grenade, and metalsmith,
and snmp jobs from voting while we work to stabilize CI across
multiple branches.

Change-Id: Ibe3274d7fabfd4f06af8aba1af0957fa36e8d217
","['driver-requirements.txt', 'zuul.d/project.yaml']"
openstack%2Fdevstack~910989,openstack/devstack,stable/xena,Icd487e1012263a9b0bc13b529d31ff2025108adf,Drop the devstack-single-node-centos-7 nodeset,MERGED,2024-03-04 19:28:49.000000000,2024-03-05 15:57:56.000000000,0,10,"[{'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 32029, 'name': 'likui', 'email': 'likui@yovole.com', 'username': 'likui'}]",,1,"[{'number': 1, 'created': '2024-03-04 19:28:49.000000000', 'files': ['.zuul.yaml'], 'message': ""Drop the devstack-single-node-centos-7 nodeset\n\nOpenDev is preparing to remove centos-7 nodes on March 15[*]. This\nchange drops one nodeset definition which is the last remaining\nreference on DevStack's master branch.\n\n[*] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/A2YIY5L7MVYSQMTVZU3L3OM7GLVVZPLK/\n\nChange-Id: Icd487e1012263a9b0bc13b529d31ff2025108adf\n(cherry picked from commit c7472801f78c8b9f4b4d54c256a1274fdc8c08cb)\n""}]",910989,de9a15adbcc12dacef5b58da18c72d65c087651a,5263,Jeremy Stanley,fungi,0,"Drop the devstack-single-node-centos-7 nodeset

OpenDev is preparing to remove centos-7 nodes on March 15[*]. This
change drops one nodeset definition which is the last remaining
reference on DevStack's master branch.

[*] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/A2YIY5L7MVYSQMTVZU3L3OM7GLVVZPLK/

Change-Id: Icd487e1012263a9b0bc13b529d31ff2025108adf
(cherry picked from commit c7472801f78c8b9f4b4d54c256a1274fdc8c08cb)
",['.zuul.yaml']
openstack%2Fcharm-nova-compute~908187,openstack/charm-nova-compute,stable/zed,I1ae12d787a1f8e7761ca06b5a80049c1c62e9e90,[v2] Fix migration across nova-compute apps using ceph,MERGED,2024-02-06 18:29:54.000000000,2024-03-05 15:57:54.000000000,195,19,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 10058, 'name': 'Erlon R. Cruz', 'email': 'erlon.rodrigues.cruz@canonical.com', 'username': 'sombrafam'}, {'_account_id': 19298, 'name': 'Nicolas Bock', 'email': 'nicolas.bock@canonical.com', 'username': 'nicolasbock'}, {'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,3,"[{'number': 1, 'created': '2024-02-06 18:29:54.000000000', 'files': ['hooks/nova_compute_context.py', 'unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py', 'unit_tests/test_nova_compute_contexts.py'], 'message': ""[v2] Fix migration across nova-compute apps using ceph\n\nThis change reworks previous changes [1] and [2] that had\nbeen respectively reverted and abandoned.\n\nWhen using the config libvirt-image-backend=rbd, VMs\ncreated from image have their disk data stored in ceph\ninstead of the compute node itself.\n\nWhen performing live-migrations, both nodes need to\naccess the same ceph credentials to access the VM's\ndisk in ceph, but this is currently not possible\nif the nodes involved pertain to different\nnova-compute charm apps.\n\nThis patch changes app name sent to ceph to\n'nova-compute-ceph-auth-c91ce26f', a unique name common to\nall nova-compute apps, allowing all nova-compute apps to\nuse the same ceph auth.\n\nThis change also ensures newly deployed nodes install\nthe old credentials first on ceph-joined hook,\nand then supercedes it with the new credentials\non ceph-changed hook, therefore also retaining\nthe old credentials.\n\n[1] https://review.opendev.org/889642\n[2] https://review.opendev.org/896155\n\nCloses-bug: #2028559\nRelated-bug: #2037003\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1183\n\nChange-Id: I1ae12d787a1f8e7761ca06b5a80049c1c62e9e90\n(cherry picked from commit 650f3a5d511690ec27648b30f3b24532378a33a1)\n(cherry picked from commit 28233f9a943f9c6c67d4934cf693869c9c03b1e4)\n(cherry picked from commit ecaf8010fc6ee2e28e6a0f05cb2ae0a8ce25b5e6)\n""}]",908187,8c3549d828c5ba0d6306b76494fdbd1abd9d8471,14567,Rodrigo Barbieri,ganso,0,"[v2] Fix migration across nova-compute apps using ceph

This change reworks previous changes [1] and [2] that had
been respectively reverted and abandoned.

When using the config libvirt-image-backend=rbd, VMs
created from image have their disk data stored in ceph
instead of the compute node itself.

When performing live-migrations, both nodes need to
access the same ceph credentials to access the VM's
disk in ceph, but this is currently not possible
if the nodes involved pertain to different
nova-compute charm apps.

This patch changes app name sent to ceph to
'nova-compute-ceph-auth-c91ce26f', a unique name common to
all nova-compute apps, allowing all nova-compute apps to
use the same ceph auth.

This change also ensures newly deployed nodes install
the old credentials first on ceph-joined hook,
and then supercedes it with the new credentials
on ceph-changed hook, therefore also retaining
the old credentials.

[1] https://review.opendev.org/889642
[2] https://review.opendev.org/896155

Closes-bug: #2028559
Related-bug: #2037003

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1183

Change-Id: I1ae12d787a1f8e7761ca06b5a80049c1c62e9e90
(cherry picked from commit 650f3a5d511690ec27648b30f3b24532378a33a1)
(cherry picked from commit 28233f9a943f9c6c67d4934cf693869c9c03b1e4)
(cherry picked from commit ecaf8010fc6ee2e28e6a0f05cb2ae0a8ce25b5e6)
","['hooks/nova_compute_context.py', 'unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py', 'unit_tests/test_nova_compute_contexts.py']"
openstack%2Fcharm-nova-compute~908936,openstack/charm-nova-compute,stable/2023.2,Ia23fbf341d5b7ad469337d8a0c65c18ec519a891,AppArmor policy update for NVMeoF,MERGED,2024-02-14 16:31:41.000000000,2024-03-05 15:50:35.000000000,3,0,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 10058, 'name': 'Erlon R. Cruz', 'email': 'erlon.rodrigues.cruz@canonical.com', 'username': 'sombrafam'}, {'_account_id': 19298, 'name': 'Nicolas Bock', 'email': 'nicolas.bock@canonical.com', 'username': 'nicolasbock'}, {'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,3,"[{'number': 1, 'created': '2024-02-14 16:31:41.000000000', 'files': ['templates/usr.bin.nova-compute'], 'message': 'AppArmor policy update for NVMeoF\n\nWhen using NVMeoF feature with nova-compute apparmor in enforce\nmode, nova-compute is denied from running /usr/sbin/nvme and\n/usr/sbin/blkid, and reading /etc/nvme/hostnqn.\n\nChange-Id: Ia23fbf341d5b7ad469337d8a0c65c18ec519a891\nCloses-Bug: #2039161\n(cherry picked from commit 0f9c730817b4f175e617ab5ce362bf9ff5157092)\n'}]",908936,557c47f37baa83e96f5618ae0a46a554897977b4,14567,Rodrigo Barbieri,ganso,0,"AppArmor policy update for NVMeoF

When using NVMeoF feature with nova-compute apparmor in enforce
mode, nova-compute is denied from running /usr/sbin/nvme and
/usr/sbin/blkid, and reading /etc/nvme/hostnqn.

Change-Id: Ia23fbf341d5b7ad469337d8a0c65c18ec519a891
Closes-Bug: #2039161
(cherry picked from commit 0f9c730817b4f175e617ab5ce362bf9ff5157092)
",['templates/usr.bin.nova-compute']
openstack%2Fpython-manilaclient~909364,openstack/python-manilaclient,master,Iae8ec60ed91708f428ef24d5fec07e95d68986ac,Add new-note tox environment,MERGED,2024-02-19 08:02:10.000000000,2024-03-05 15:09:02.000000000,173,0,"[{'_account_id': 16643, 'name': 'Goutham Pacha Ravi', 'email': 'gouthampravi@gmail.com', 'username': 'gouthamr'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29632, 'name': 'Carlos Eduardo', 'email': 'ces.eduardo98@gmail.com', 'username': 'silvacarlos'}, {'_account_id': 30407, 'name': 'haixin', 'email': '653186640@qq.com', 'username': 'haixin'}]",,25,"[{'number': 4, 'created': '2024-02-29 12:07:11.000000000', 'files': ['doc/source/contributor/adding_release_notes.rst', 'doc/source/contributor/index.rst', 'tox.ini'], 'message': 'Add new-note tox environment\n\nonly reno command was possible to add a\nrelease notes. modify tox config to allow\nnewnote command too.\n\nChange-Id: Iae8ec60ed91708f428ef24d5fec07e95d68986ac\n'}]",909364,129ddada81b7c6315b1d2529c826269d9e403e99,36483,melaku alehegn,melakualehegn,0,"Add new-note tox environment

only reno command was possible to add a
release notes. modify tox config to allow
newnote command too.

Change-Id: Iae8ec60ed91708f428ef24d5fec07e95d68986ac
","['doc/source/contributor/adding_release_notes.rst', 'doc/source/contributor/index.rst', 'tox.ini']"
openstack%2Fdevstack~910982,openstack/devstack,stable/2023.2,Icd487e1012263a9b0bc13b529d31ff2025108adf,Drop the devstack-single-node-centos-7 nodeset,MERGED,2024-03-04 18:50:25.000000000,2024-03-05 15:05:14.000000000,0,10,"[{'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-04 18:50:25.000000000', 'files': ['.zuul.yaml'], 'message': ""Drop the devstack-single-node-centos-7 nodeset\n\nOpenDev is preparing to remove centos-7 nodes on March 15[*]. This\nchange drops one nodeset definition which is the last remaining\nreference on DevStack's master branch.\n\n[*] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/A2YIY5L7MVYSQMTVZU3L3OM7GLVVZPLK/\n\nChange-Id: Icd487e1012263a9b0bc13b529d31ff2025108adf\n(cherry picked from commit af57c0b778bb13a9b5ffd784fc456a21614e67b1)\n""}]",910982,8ed5e01b1a3e4daeec5747b16aa1f46c7d506a24,5263,Jeremy Stanley,fungi,0,"Drop the devstack-single-node-centos-7 nodeset

OpenDev is preparing to remove centos-7 nodes on March 15[*]. This
change drops one nodeset definition which is the last remaining
reference on DevStack's master branch.

[*] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/A2YIY5L7MVYSQMTVZU3L3OM7GLVVZPLK/

Change-Id: Icd487e1012263a9b0bc13b529d31ff2025108adf
(cherry picked from commit af57c0b778bb13a9b5ffd784fc456a21614e67b1)
",['.zuul.yaml']
openstack%2Freleases~910391,openstack/releases,master,Ie133d8beb7ecdc056150b3ae897dd3c582b90ada,[ec2-api] Transition EM branches to Unmaintained,MERGED,2024-02-27 18:53:18.000000000,2024-03-05 14:56:29.000000000,18,0,"[{'_account_id': 10234, 'name': 'Andrey Pavlov', 'email': 'andrey.mp@gmail.com', 'username': 'andrey-mp'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28522, 'name': 'Hervé Beraud', 'email': 'herveberaud.pro@gmail.com', 'username': 'hberaud'}]",,1,"[{'number': 1, 'created': '2024-02-27 18:53:18.000000000', 'files': ['deliverables/victoria/ec2-api.yaml', 'deliverables/wallaby/ec2-api.yaml', 'deliverables/xena/ec2-api.yaml'], 'message': '[ec2-api] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: Ie133d8beb7ecdc056150b3ae897dd3c582b90ada\n'}]",910391,0a0d6ea5ac749c224c40294af12a9192528096fd,17685,Elod Illes,elod.illes,0,"[ec2-api] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: Ie133d8beb7ecdc056150b3ae897dd3c582b90ada
","['deliverables/victoria/ec2-api.yaml', 'deliverables/wallaby/ec2-api.yaml', 'deliverables/xena/ec2-api.yaml']"
openstack%2Freleases~910390,openstack/releases,master,I702c610267e72bf894d74935ed0db0f99274a41a,[cloudkitty] Transition EM branches to Unmaintained,MERGED,2024-02-27 18:53:01.000000000,2024-03-05 14:49:57.000000000,66,6,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28356, 'name': 'Rafael Weingartner', 'email': 'rafael@apache.org', 'username': 'rafaelweingartner'}, {'_account_id': 28522, 'name': 'Hervé Beraud', 'email': 'herveberaud.pro@gmail.com', 'username': 'hberaud'}]",,2,"[{'number': 1, 'created': '2024-02-27 18:53:01.000000000', 'files': ['deliverables/xena/cloudkitty-dashboard.yaml', 'deliverables/xena/python-cloudkittyclient.yaml', 'deliverables/victoria/cloudkitty.yaml', 'deliverables/wallaby/python-cloudkittyclient.yaml', 'deliverables/victoria/cloudkitty-dashboard.yaml', 'deliverables/wallaby/cloudkitty.yaml', 'deliverables/wallaby/cloudkitty-dashboard.yaml', 'deliverables/victoria/python-cloudkittyclient.yaml', 'deliverables/xena/cloudkitty.yaml'], 'message': '[cloudkitty] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I702c610267e72bf894d74935ed0db0f99274a41a\n'}]",910390,248731d7929c1a140b357d791f2cce790dcbc952,17685,Elod Illes,elod.illes,0,"[cloudkitty] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I702c610267e72bf894d74935ed0db0f99274a41a
","['deliverables/xena/cloudkitty-dashboard.yaml', 'deliverables/xena/python-cloudkittyclient.yaml', 'deliverables/victoria/cloudkitty.yaml', 'deliverables/wallaby/python-cloudkittyclient.yaml', 'deliverables/victoria/cloudkitty-dashboard.yaml', 'deliverables/wallaby/cloudkitty.yaml', 'deliverables/wallaby/cloudkitty-dashboard.yaml', 'deliverables/victoria/python-cloudkittyclient.yaml', 'deliverables/xena/cloudkitty.yaml']"
openstack%2Fosc-lib~910919,openstack/osc-lib,stable/zed,Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512,Drop master-only job from zuul config,MERGED,2024-03-05 06:40:19.000000000,2024-03-05 14:18:38.000000000,0,8,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27900, 'name': 'Artem Goncharov', 'email': 'artem.goncharov@gmail.com', 'username': 'gtema'}]",,0,"[{'number': 2, 'created': '2024-03-05 08:15:59.000000000', 'files': ['.zuul.yaml'], 'message': 'Drop master-only job from zuul config\n\nThe tips job should only run on the master branch, drop it from the zuul\nconfig for stable branches.\n\nUpdated for zed and older: Drop openstack-lower-constraints-jobs\n\nChange-Id: Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512\n(cherry picked from commit 923a847dea1d4577e75d4044a58596a0665941f1)\n'}]",910919,4b1808da4837628d8c03a02ba4aa2a7a6c3da94f,13252,Dr. Jens Harbott,jrosenboom,0,"Drop master-only job from zuul config

The tips job should only run on the master branch, drop it from the zuul
config for stable branches.

Updated for zed and older: Drop openstack-lower-constraints-jobs

Change-Id: Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512
(cherry picked from commit 923a847dea1d4577e75d4044a58596a0665941f1)
",['.zuul.yaml']
openstack%2Fosc-lib~910918,openstack/osc-lib,stable/2023.1,Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512,Drop master-only job from zuul config,MERGED,2024-03-05 06:39:48.000000000,2024-03-05 14:11:10.000000000,0,7,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27900, 'name': 'Artem Goncharov', 'email': 'artem.goncharov@gmail.com', 'username': 'gtema'}]",,0,"[{'number': 1, 'created': '2024-03-05 06:39:48.000000000', 'files': ['.zuul.yaml'], 'message': 'Drop master-only job from zuul config\n\nThe tips job should only run on the master branch, drop it from the zuul\nconfig for stable branches.\n\nChange-Id: Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512\n(cherry picked from commit 923a847dea1d4577e75d4044a58596a0665941f1)\n'}]",910918,1f33f2dd09033f5be76dc29ed38c4b0ed3d065b3,13252,Dr. Jens Harbott,jrosenboom,0,"Drop master-only job from zuul config

The tips job should only run on the master branch, drop it from the zuul
config for stable branches.

Change-Id: Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512
(cherry picked from commit 923a847dea1d4577e75d4044a58596a0665941f1)
",['.zuul.yaml']
openstack%2Fopenstack-ansible-openstack_hosts~907433,openstack/openstack-ansible-openstack_hosts,master,I15cc331ad5ec11507860bf61b0c2b20fa8c0b2a0,Drop task that deletes old UCA repo,MERGED,2024-02-01 15:14:45.000000000,2024-03-05 13:57:28.000000000,0,5,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28619, 'name': 'Dmitriy Rabotyagov', 'email': 'noonedeadpunk@gmail.com', 'username': 'noonedeadpunk'}, {'_account_id': 31542, 'name': 'Andrew Bonney', 'email': 'andrew.bonney@bbc.co.uk', 'username': 'andrewbonney'}]",,3,"[{'number': 1, 'created': '2024-02-01 15:14:45.000000000', 'files': ['tasks/openstack_hosts_configure_apt.yml'], 'message': 'Drop task that deletes old UCA repo\n\nThe variable `uca_apt_source_list_filename` is not defined anywhere\nin openstack-ansible so this task is redundant.\n\nChange-Id: I15cc331ad5ec11507860bf61b0c2b20fa8c0b2a0\n'}]",907433,08784f1e6704ba257ddef7ef94935c9cb8277a33,25023,Jonathan Rosser,jrosser,0,"Drop task that deletes old UCA repo

The variable `uca_apt_source_list_filename` is not defined anywhere
in openstack-ansible so this task is redundant.

Change-Id: I15cc331ad5ec11507860bf61b0c2b20fa8c0b2a0
",['tasks/openstack_hosts_configure_apt.yml']
openstack%2Fosc-lib~911061,openstack/osc-lib,stable/xena,Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512,Drop master-only job from zuul config,MERGED,2024-03-05 06:42:11.000000000,2024-03-05 13:57:06.000000000,0,8,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27900, 'name': 'Artem Goncharov', 'email': 'artem.goncharov@gmail.com', 'username': 'gtema'}]",,0,"[{'number': 2, 'created': '2024-03-05 10:30:09.000000000', 'files': ['.zuul.yaml'], 'message': 'Drop master-only job from zuul config\n\nThe tips job should only run on the master branch, drop it from the zuul\nconfig for stable branches.\n\nUpdated for zed and older: Drop openstack-lower-constraints-jobs\n\nChange-Id: Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512\n(cherry picked from commit 923a847dea1d4577e75d4044a58596a0665941f1)\n'}]",911061,b3cb7b86e7e34876177c4e92f83a59d3c369a7c1,13252,Dr. Jens Harbott,jrosenboom,0,"Drop master-only job from zuul config

The tips job should only run on the master branch, drop it from the zuul
config for stable branches.

Updated for zed and older: Drop openstack-lower-constraints-jobs

Change-Id: Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512
(cherry picked from commit 923a847dea1d4577e75d4044a58596a0665941f1)
",['.zuul.yaml']
openstack%2Fnetworking-generic-switch~908550,openstack/networking-generic-switch,master,I806dbf98e0824360cbd26d7b2b89b5e3cae3173a,Replace usage of deprecated path for test decorators,MERGED,2024-02-09 04:11:35.000000000,2024-03-05 13:21:40.000000000,3,3,"[{'_account_id': 10239, 'name': 'Dmitry Tantsur', 'email': 'dtantsur@protonmail.com', 'username': 'dtantsur'}, {'_account_id': 11655, 'name': 'Julia Kreger', 'email': 'juliaashleykreger@gmail.com', 'username': 'jkreger', 'status': 'Flying to the moon with a Jetpack!'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 2, 'created': '2024-02-09 04:17:55.000000000', 'files': ['tempest_plugin/tests/scenario/test_ngs_basic_ops.py'], 'message': 'Replace usage of deprecated path for test decorators\n\nThese decorators were moved to the common module in tempest 17.0.0[1].\n\n[1] cd36841ca25b39b9c8ad1b83e0abd0a191d538a0\n\nChange-Id: I806dbf98e0824360cbd26d7b2b89b5e3cae3173a\n'}]",908550,253ee4524fcf66a5eb6da4ee2c2a543e178e5f75,9816,Takashi Kajinami,kajinamit,0,"Replace usage of deprecated path for test decorators

These decorators were moved to the common module in tempest 17.0.0[1].

[1] cd36841ca25b39b9c8ad1b83e0abd0a191d538a0

Change-Id: I806dbf98e0824360cbd26d7b2b89b5e3cae3173a
",['tempest_plugin/tests/scenario/test_ngs_basic_ops.py']
openstack%2Fosc-lib~911062,openstack/osc-lib,stable/wallaby,Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512,Drop master-only job from zuul config,MERGED,2024-03-05 06:42:42.000000000,2024-03-05 13:18:35.000000000,0,8,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27900, 'name': 'Artem Goncharov', 'email': 'artem.goncharov@gmail.com', 'username': 'gtema'}]",,0,"[{'number': 2, 'created': '2024-03-05 10:30:57.000000000', 'files': ['.zuul.yaml'], 'message': 'Drop master-only job from zuul config\n\nThe tips job should only run on the master branch, drop it from the zuul\nconfig for stable branches.\n\nUpdated for zed and older: Drop openstack-lower-constraints-jobs\n\nChange-Id: Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512\n(cherry picked from commit 923a847dea1d4577e75d4044a58596a0665941f1)\n'}]",911062,ba61c4f5c32f99f45d67db3aba07eeaf4908661c,13252,Dr. Jens Harbott,jrosenboom,0,"Drop master-only job from zuul config

The tips job should only run on the master branch, drop it from the zuul
config for stable branches.

Updated for zed and older: Drop openstack-lower-constraints-jobs

Change-Id: Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512
(cherry picked from commit 923a847dea1d4577e75d4044a58596a0665941f1)
",['.zuul.yaml']
openstack%2Fpbr~910690,openstack/pbr,master,I9d3417d5803b9ba3e4731fdebbd26778031effcd,Omnibus PBR CI fixups,MERGED,2024-03-01 02:58:07.000000000,2024-03-05 13:11:09.000000000,8,28,"[{'_account_id': 5263, 'name': 'Jeremy Stanley', 'display_name': 'fungi', 'email': 'fungi@yuggoth.org', 'username': 'fungi', 'status': 'missing, presumed fed'}, {'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,6,"[{'number': 8, 'created': '2024-03-04 17:23:55.000000000', 'files': ['pbr/tests/test_integration.py', '.zuul.yaml'], 'message': ""Omnibus PBR CI fixups\n\nThese fixes have to go in together as they are not mergeable\nindividually.\n\nFirst up remove the TripleO jobs\n\nTripleO is retired so removing its jobs\n\n- https://review.opendev.org/q/topic:%22retire-tripleo%22\n\nNext the train EOL has largely completed and leaves us in an awkward\nposition for running tempest-full against python2. While branchless\ntempest continues to define a tempest-full job this job is no longer\nworking after devstack's stable/train branch deletion. There are two\nreasons for this. The first is checking out correct branches of\nopenstack software which we can address in a straightforward manner\nthrough zuul branch checkout overrides from stable/train to train-eol.\nThe other issue is that we previously relied on zuul running the\nstable/train version of devstack's base jobs under tempest-full. Now\nthat the branch is gone we're getting master devstack base jobs which\ndon't do things like setup virtualenv (needed for python2) or override\nthe nodeset to ubuntu-bionic.\n\nInstead of trying to continue to make this job work we accept the\ndecrease in python2 coverage and will rely on python2 unittesting\ninstead. An alternative would be to set up functional testing with swift\nsince swift continues to maintain python2 compatibility in its newer\nbranches.\n\nFinally we update a test case to check for modern pip's normalized\npackage names (previously installing pkg_b resulted in a normalized name\nof pkg-b, but now pkg_b remains pkg_b and we need to check for that\ninstead). Check for both variations as we want the tests to pass\nregardless of pip and setuptools versions used.\n\nCo-Authored-By: Clark Boylan <clark.boylan@gmail.com>\nChange-Id: I9d3417d5803b9ba3e4731fdebbd26778031effcd\n""}]",910690,f75e1056f1763b567d7044ec63279afe110aa75e,8556,Ghanshyam,ghanshyam,0,"Omnibus PBR CI fixups

These fixes have to go in together as they are not mergeable
individually.

First up remove the TripleO jobs

TripleO is retired so removing its jobs

- https://review.opendev.org/q/topic:%22retire-tripleo%22

Next the train EOL has largely completed and leaves us in an awkward
position for running tempest-full against python2. While branchless
tempest continues to define a tempest-full job this job is no longer
working after devstack's stable/train branch deletion. There are two
reasons for this. The first is checking out correct branches of
openstack software which we can address in a straightforward manner
through zuul branch checkout overrides from stable/train to train-eol.
The other issue is that we previously relied on zuul running the
stable/train version of devstack's base jobs under tempest-full. Now
that the branch is gone we're getting master devstack base jobs which
don't do things like setup virtualenv (needed for python2) or override
the nodeset to ubuntu-bionic.

Instead of trying to continue to make this job work we accept the
decrease in python2 coverage and will rely on python2 unittesting
instead. An alternative would be to set up functional testing with swift
since swift continues to maintain python2 compatibility in its newer
branches.

Finally we update a test case to check for modern pip's normalized
package names (previously installing pkg_b resulted in a normalized name
of pkg-b, but now pkg_b remains pkg_b and we need to check for that
instead). Check for both variations as we want the tests to pass
regardless of pip and setuptools versions used.

Co-Authored-By: Clark Boylan <clark.boylan@gmail.com>
Change-Id: I9d3417d5803b9ba3e4731fdebbd26778031effcd
","['pbr/tests/test_integration.py', '.zuul.yaml']"
openstack%2Fsushy-tools~908789,openstack/sushy-tools,master,I98e55372488fb0acc24d08b23ca6b41f7cb2764a,Force constraints when installing a package during tox test,MERGED,2024-02-12 14:02:02.000000000,2024-03-05 13:02:43.000000000,4,2,"[{'_account_id': 10239, 'name': 'Dmitry Tantsur', 'email': 'dtantsur@protonmail.com', 'username': 'dtantsur'}, {'_account_id': 10342, 'name': 'Jay Faulkner', 'display_name': 'JayF', 'email': 'jay@jvf.cc', 'username': 'JayF'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-02-12 14:02:02.000000000', 'files': ['tox.ini'], 'message': 'Force constraints when installing a package during tox test\n\nThe tox deps option grants installation of single dependencies and\nrequirements, optionally pinned using constraints, before installing\na package, therefore not granting installation of the correct\nconstraint during the package installation.\nTo fix that tox 4.4.0 has introduced the constrain_package_deps\noption [1]\n\n[1] https://tox.wiki/en/4.12.1/faq.html#using-constraint-files\n\nChange-Id: I98e55372488fb0acc24d08b23ca6b41f7cb2764a\n'}]",908789,0f9c9dc0c612f1822ed7211a9801857645f5d7b8,23851,Riccardo Pittau,elfosardo,0,"Force constraints when installing a package during tox test

The tox deps option grants installation of single dependencies and
requirements, optionally pinned using constraints, before installing
a package, therefore not granting installation of the correct
constraint during the package installation.
To fix that tox 4.4.0 has introduced the constrain_package_deps
option [1]

[1] https://tox.wiki/en/4.12.1/faq.html#using-constraint-files

Change-Id: I98e55372488fb0acc24d08b23ca6b41f7cb2764a
",['tox.ini']
openstack%2Fmagnum~908423,openstack/magnum,master,Iab738b4120c0ac823b247b04f0cd750de0147779,Move Helm client install to separate script,MERGED,2024-02-08 13:51:41.000000000,2024-03-05 12:36:11.000000000,42,21,"[{'_account_id': 8064, 'name': 'Jake Yip', 'email': 'jake.yip@ardc.edu.au', 'username': 'jake'}, {'_account_id': 14394, 'name': 'Dale Smith', 'email': 'dale@catalystcloud.nz', 'username': 'dalees'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 26285, 'name': 'wu.chunyang', 'email': 'wchy1001@gmail.com', 'username': 'wu.chunyang'}]",,0,"[{'number': 8, 'created': '2024-02-29 14:41:37.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/install-helm-modules.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-helm.sh'], 'message': 'Move Helm client install to separate script\n\nTo deploy Calico with Tigera Operator helm charts it was necessary\nto move Helm client install to separate script for earlier execution.\n\nChange-Id: Iab738b4120c0ac823b247b04f0cd750de0147779\n'}]",908423,b6e2aa8af766197fc585605b30e91e85f97bc401,34076,Jakub Darmach,darmach,0,"Move Helm client install to separate script

To deploy Calico with Tigera Operator helm charts it was necessary
to move Helm client install to separate script for earlier execution.

Change-Id: Iab738b4120c0ac823b247b04f0cd750de0147779
","['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/install-helm-modules.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-helm.sh']"
openstack%2Fneutron-tempest-plugin~899846,openstack/neutron-tempest-plugin,master,I42bea9217462226e8650e55997449e1cc05f085c,"Makes ""segmentation_id"" configurable",MERGED,2023-11-01 11:06:22.000000000,2024-03-05 12:12:46.000000000,15,5,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 8313, 'name': 'Lajos Katona', 'display_name': 'lajoskatona', 'email': 'katonalala@gmail.com', 'username': 'elajkat', 'status': 'Eicsson Software Technologies'}, {'_account_id': 9656, 'name': 'Ihar Hrachyshka', 'email': 'ihrachys@redhat.com', 'username': 'ihrachys', 'status': 'Red Hat Networking Systems Engineer'}, {'_account_id': 9800, 'name': 'Ihar Hrachyshka'}, {'_account_id': 11975, 'name': 'Slawek Kaplonski', 'email': 'skaplons@redhat.com', 'username': 'slaweq'}, {'_account_id': 13861, 'name': 'yatin', 'email': 'ykarel@redhat.com', 'username': 'yatinkarel'}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34777, 'name': 'Fiorella Yanac', 'email': 'fyanac@redhat.com', 'username': 'fyanac'}]",,1,"[{'number': 1, 'created': '2023-11-01 11:06:22.000000000', 'files': ['neutron_tempest_plugin/scenario/test_dns_integration.py', 'neutron_tempest_plugin/config.py'], 'message': 'Makes ""segmentation_id"" configurable\n\nWe should add the segmentation_id as tempest option,\nso that it can be changed to match the deployment if needed.\n\nChange-Id: I42bea9217462226e8650e55997449e1cc05f085c\n'}]",899846,88d1d5752a0f2762df052d70a85edfab1db5a87c,28609,Arkady Shtempler,ashtempl,0,"Makes ""segmentation_id"" configurable

We should add the segmentation_id as tempest option,
so that it can be changed to match the deployment if needed.

Change-Id: I42bea9217462226e8650e55997449e1cc05f085c
","['neutron_tempest_plugin/scenario/test_dns_integration.py', 'neutron_tempest_plugin/config.py']"
openstack%2Ftempest~901525,openstack/tempest,master,I866abe25e9c8204bcfb452dd2fac6181b6dfd7e0,Add coverage for caching image on remote node,MERGED,2023-11-21 07:51:02.000000000,2024-03-05 11:16:23.000000000,99,26,"[{'_account_id': 4393, 'name': 'Dan Smith', 'email': 'dms@danplanet.com', 'username': 'danms'}, {'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22873, 'name': 'Martin Kopec', 'email': 'mkopec@redhat.com', 'username': 'mkopec'}, {'_account_id': 34510, 'name': 'Maxim Sava', 'email': 'msava@redhat.com', 'username': 'msava@redhat.com'}]",,15,"[{'number': 4, 'created': '2024-03-04 15:26:15.000000000', 'files': ['tempest/api/image/v2/admin/test_image_caching.py', 'tempest/clients.py'], 'message': 'Add coverage for caching image on remote node\n\nAdded test coverage to verify image is cached on remote glance\nnode as well.\n\nNote: Removed potential race condtion logic where earlier we were\nchecking for image stays in queued state.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/900419\nChange-Id: I866abe25e9c8204bcfb452dd2fac6181b6dfd7e0\n'}]",901525,56364027879c655e38957780059f41007e6516ea,9303,Abhishek Kekane,abhishekkekane,0,"Add coverage for caching image on remote node

Added test coverage to verify image is cached on remote glance
node as well.

Note: Removed potential race condtion logic where earlier we were
checking for image stays in queued state.

Depends-On: https://review.opendev.org/c/openstack/glance/+/900419
Change-Id: I866abe25e9c8204bcfb452dd2fac6181b6dfd7e0
","['tempest/api/image/v2/admin/test_image_caching.py', 'tempest/clients.py']"
openstack%2Fopenstack-zuul-jobs~910256,openstack/openstack-zuul-jobs,master,Ib37c638a2703f323156ec6d08519f1016c413b75,Drop integrated-gate template,MERGED,2024-02-26 17:56:59.000000000,2024-03-05 11:08:07.000000000,0,12,"[{'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 19138, 'name': 'Pranali Deore', 'email': 'pdeore@redhat.com', 'username': 'PranaliD'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,5,"[{'number': 2, 'created': '2024-03-05 09:02:46.000000000', 'files': ['zuul.d/zuul-legacy-project-templates.yaml'], 'message': 'Drop integrated-gate template\n\nThe old tempest-full legacy job is to be removed, because all branches\nthat were using it have been EOLed. Drop the template that references\nit.\n\nChange-Id: Ib37c638a2703f323156ec6d08519f1016c413b75\n'}]",910256,0415d86ac390783f77933527fafc9b603a976aee,13252,Dr. Jens Harbott,jrosenboom,0,"Drop integrated-gate template

The old tempest-full legacy job is to be removed, because all branches
that were using it have been EOLed. Drop the template that references
it.

Change-Id: Ib37c638a2703f323156ec6d08519f1016c413b75
",['zuul.d/zuul-legacy-project-templates.yaml']
openstack%2Fdevstack-plugin-ceph~910966,openstack/devstack-plugin-ceph,master,Ic39b48fb2dd48f47d5b3c6165e4f4c6b1c47cc7d,Fix cephadm binary URL to the numeric ceph version,MERGED,2024-03-04 16:40:10.000000000,2024-03-05 10:52:42.000000000,2,1,"[{'_account_id': 4393, 'name': 'Dan Smith', 'email': 'dms@danplanet.com', 'username': 'danms'}, {'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29632, 'name': 'Carlos Eduardo', 'email': 'ces.eduardo98@gmail.com', 'username': 'silvacarlos'}]",,10,"[{'number': 2, 'created': '2024-03-04 19:07:16.000000000', 'files': ['devstack/lib/cephadm'], 'message': ""Fix cephadm binary URL to the numeric ceph version\n\ndownload.ceph.com used to maintain named versions of ceph\nreleases, which were hardlinked folders corresponding\nto the latest minor release from a stable branch; we've noticed\nthat these folders can be deleted. Let's instead look for\ncephadm under the corresponding numeric release tag folder.\n\nChange-Id: Ic39b48fb2dd48f47d5b3c6165e4f4c6b1c47cc7d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",910966,24d9517b78c13777bfb3583a30328a9eedbf6fe8,16643,Goutham Pacha Ravi,gouthamr,0,"Fix cephadm binary URL to the numeric ceph version

download.ceph.com used to maintain named versions of ceph
releases, which were hardlinked folders corresponding
to the latest minor release from a stable branch; we've noticed
that these folders can be deleted. Let's instead look for
cephadm under the corresponding numeric release tag folder.

Change-Id: Ic39b48fb2dd48f47d5b3c6165e4f4c6b1c47cc7d
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",['devstack/lib/cephadm']
openstack%2Fneutron~910718,openstack/neutron,stable/2023.1,I7ff300e9634e5e3fc68d70540392109fd8b9babc,[OVN] Set MTU of the VETH interfaces between OVS and metadata,MERGED,2024-03-01 10:32:11.000000000,2024-03-05 10:39:13.000000000,55,56,"[{'_account_id': 11975, 'name': 'Slawek Kaplonski', 'email': 'skaplons@redhat.com', 'username': 'slaweq'}, {'_account_id': 21798, 'name': 'Bernard Cafarelli', 'email': 'bcafarel@redhat.com', 'username': 'bcafarel'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 2, 'created': '2024-03-04 10:54:56.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'message': '[OVN] Set MTU of the VETH interfaces between OVS and metadata\n\nThe VETH pair between the metadata namespace and the local OVS now\nhas the same MTU as the network associated to this metadata service.\nThe ""LSP.external_ids"" field has a new key defined: ""neutron:mtu"".\nThis is the value of the network MTU.\n\nThis patch does not update the previous metadata datapaths nor the\nexisting LSP. This change will affect only to new created ports\nand the corresponding metadata datapaths.\n\nConflicts:\n    neutron/agent/ovn/metadata/agent.py\n\nCloses-Bug: #2053274\nChange-Id: I7ff300e9634e5e3fc68d70540392109fd8b9babc\n(cherry picked from commit 47b4d14955451c320ce612e4e2e7d0a896e2fe36)\n(cherry picked from commit 101898fde869a5f530580d1c69c52cdc4a33cd98)\n'}]",910718,5ffec5d17a0aa03afb6353c39865b42290b678c1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,0,"[OVN] Set MTU of the VETH interfaces between OVS and metadata

The VETH pair between the metadata namespace and the local OVS now
has the same MTU as the network associated to this metadata service.
The ""LSP.external_ids"" field has a new key defined: ""neutron:mtu"".
This is the value of the network MTU.

This patch does not update the previous metadata datapaths nor the
existing LSP. This change will affect only to new created ports
and the corresponding metadata datapaths.

Conflicts:
    neutron/agent/ovn/metadata/agent.py

Closes-Bug: #2053274
Change-Id: I7ff300e9634e5e3fc68d70540392109fd8b9babc
(cherry picked from commit 47b4d14955451c320ce612e4e2e7d0a896e2fe36)
(cherry picked from commit 101898fde869a5f530580d1c69c52cdc4a33cd98)
","['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']"
openstack%2Fneutron~910717,openstack/neutron,stable/2023.2,I7ff300e9634e5e3fc68d70540392109fd8b9babc,[OVN] Set MTU of the VETH interfaces between OVS and metadata,MERGED,2024-03-01 10:30:58.000000000,2024-03-05 10:39:05.000000000,55,56,"[{'_account_id': 11975, 'name': 'Slawek Kaplonski', 'email': 'skaplons@redhat.com', 'username': 'slaweq'}, {'_account_id': 21798, 'name': 'Bernard Cafarelli', 'email': 'bcafarel@redhat.com', 'username': 'bcafarel'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 3, 'created': '2024-03-04 10:53:46.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'message': '[OVN] Set MTU of the VETH interfaces between OVS and metadata\n\nThe VETH pair between the metadata namespace and the local OVS now\nhas the same MTU as the network associated to this metadata service.\nThe ""LSP.external_ids"" field has a new key defined: ""neutron:mtu"".\nThis is the value of the network MTU.\n\nThis patch does not update the previous metadata datapaths nor the\nexisting LSP. This change will affect only to new created ports\nand the corresponding metadata datapaths.\n\nConflicts:\n    neutron/agent/ovn/metadata/agent.py\n\nCloses-Bug: #2053274\nChange-Id: I7ff300e9634e5e3fc68d70540392109fd8b9babc\n(cherry picked from commit 47b4d14955451c320ce612e4e2e7d0a896e2fe36)\n'}]",910717,101898fde869a5f530580d1c69c52cdc4a33cd98,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,0,"[OVN] Set MTU of the VETH interfaces between OVS and metadata

The VETH pair between the metadata namespace and the local OVS now
has the same MTU as the network associated to this metadata service.
The ""LSP.external_ids"" field has a new key defined: ""neutron:mtu"".
This is the value of the network MTU.

This patch does not update the previous metadata datapaths nor the
existing LSP. This change will affect only to new created ports
and the corresponding metadata datapaths.

Conflicts:
    neutron/agent/ovn/metadata/agent.py

Closes-Bug: #2053274
Change-Id: I7ff300e9634e5e3fc68d70540392109fd8b9babc
(cherry picked from commit 47b4d14955451c320ce612e4e2e7d0a896e2fe36)
","['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']"
openstack%2Fskyline-apiserver~911055,openstack/skyline-apiserver,master,I049577641440e8b1dd15a13dca65e9c40b4a4be6,[translate] add korean README,ABANDONED,2024-03-05 10:04:18.000000000,2024-03-05 10:13:20.000000000,827,1,[],,0,"[{'number': 1, 'created': '2024-03-05 10:04:18.000000000', 'files': ['README/README.rst', 'README/README-ko-KR.rst', 'README/README-zh_CN.rst', 'setup.cfg'], 'message': '[translate] add korean README\n\nadd korean readme file\nrelative file edit\n\nChange-Id: I049577641440e8b1dd15a13dca65e9c40b4a4be6\nSigned-off-by: HyoBin Kim <hb.kim@okestro.com>\n'}]",911055,19417045a023c1b99f695fbc3e9e22f913dde62f,36208,Kim HyoBin,hbkim,0,"[translate] add korean README

add korean readme file
relative file edit

Change-Id: I049577641440e8b1dd15a13dca65e9c40b4a4be6
Signed-off-by: HyoBin Kim <hb.kim@okestro.com>
","['README/README.rst', 'README/README-ko-KR.rst', 'README/README-zh_CN.rst', 'setup.cfg']"
openstack%2Freleases~910710,openstack/releases,master,I18265cfbc7158148b3b19ac512116b585f3f40ff,fix R-5 template,MERGED,2024-03-01 09:40:07.000000000,2024-03-05 10:10:24.000000000,0,3,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2024-03-01 09:40:07.000000000', 'files': ['doc/source/reference/process.rst'], 'message': ""fix R-5 template\n\nCycle Highlights has been moved to R-4:\nhttps://review.opendev.org/c/openstack/releases/+/906351\n\nR-5's email template remains outdated.\n\nChange-Id: I18265cfbc7158148b3b19ac512116b585f3f40ff\n""}]",910710,31528065d74ce500dc79a35a367647f225462748,28522,Hervé Beraud,hberaud,0,"fix R-5 template

Cycle Highlights has been moved to R-4:
https://review.opendev.org/c/openstack/releases/+/906351

R-5's email template remains outdated.

Change-Id: I18265cfbc7158148b3b19ac512116b585f3f40ff
",['doc/source/reference/process.rst']
openstack%2Fskyline-apiserver~911058,openstack/skyline-apiserver,master,I6e0e42d932f8f1ab8f20b632523a8fe665f7180d,[translate] korean readme translate 1,ABANDONED,2024-03-05 10:04:18.000000000,2024-03-05 10:07:08.000000000,90,88,[],,0,"[{'number': 1, 'created': '2024-03-05 10:04:18.000000000', 'files': ['README/README-ko_KR.rst', 'README/README-zh_CN.rst'], 'message': '[translate] korean readme translate 1\n\ntranslate\n\nChange-Id: I6e0e42d932f8f1ab8f20b632523a8fe665f7180d\nSigned-off-by: HyoBin Kim <hb.kim@okestro.com>\n'}]",911058,2031a5d74788b0acea0bd44f041d4b5dc47dff7f,36208,Kim HyoBin,hbkim,0,"[translate] korean readme translate 1

translate

Change-Id: I6e0e42d932f8f1ab8f20b632523a8fe665f7180d
Signed-off-by: HyoBin Kim <hb.kim@okestro.com>
","['README/README-ko_KR.rst', 'README/README-zh_CN.rst']"
openstack%2Fskyline-apiserver~911057,openstack/skyline-apiserver,master,Ie47ac0a15d2801e9c553fe5f703d852c619cfe82,[fix] readme (english version) move root dir,ABANDONED,2024-03-05 10:04:18.000000000,2024-03-05 10:07:03.000000000,5,269,[],,0,"[{'number': 1, 'created': '2024-03-05 10:04:18.000000000', 'files': ['README/README-ko_KR.rst', 'README/README-ko-KR.rst', 'README/README-zh_CN.rst', 'README.rst'], 'message': '[fix] readme (english version) move root dir\n\nfix readme path\n\nChange-Id: Ie47ac0a15d2801e9c553fe5f703d852c619cfe82\nSigned-off-by: HyoBin Kim <hb.kim@okestro.com>\n'}]",911057,3b04cc5f9c05b2264342328323cc1b953be18e03,36208,Kim HyoBin,hbkim,0,"[fix] readme (english version) move root dir

fix readme path

Change-Id: Ie47ac0a15d2801e9c553fe5f703d852c619cfe82
Signed-off-by: HyoBin Kim <hb.kim@okestro.com>
","['README/README-ko_KR.rst', 'README/README-ko-KR.rst', 'README/README-zh_CN.rst', 'README.rst']"
openstack%2Fskyline-apiserver~911056,openstack/skyline-apiserver,master,If6fe26913f7cb60a12ed3db5b551ed1bba3a93e6,[fix] remove readme file,ABANDONED,2024-03-05 10:04:18.000000000,2024-03-05 10:06:47.000000000,0,562,[],,0,"[{'number': 1, 'created': '2024-03-05 10:04:18.000000000', 'files': ['README-zh_CN.rst', 'README.rst'], 'message': '[fix] remove readme file\n\nmove README Folder\n\nChange-Id: If6fe26913f7cb60a12ed3db5b551ed1bba3a93e6\nSigned-off-by: HyoBin Kim <hb.kim@okestro.com>\n'}]",911056,7761e78c3206a43a5f622d5f44960197c924d57c,36208,Kim HyoBin,hbkim,0,"[fix] remove readme file

move README Folder

Change-Id: If6fe26913f7cb60a12ed3db5b551ed1bba3a93e6
Signed-off-by: HyoBin Kim <hb.kim@okestro.com>
","['README-zh_CN.rst', 'README.rst']"
openstack%2Fopenstack-ansible~908499,openstack/openstack-ansible,master,I9ff589583e7e53941c81c52e7ca5dae77c5de1d9,reno: Update master for unmaintained/yoga,MERGED,2024-02-08 15:01:30.000000000,2024-03-05 10:02:32.000000000,1,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 25023, 'name': 'Jonathan Rosser', 'email': 'jonathan.rosser@rd.bbc.co.uk', 'username': 'jrosser'}, {'_account_id': 28619, 'name': 'Dmitriy Rabotyagov', 'email': 'noonedeadpunk@gmail.com', 'username': 'noonedeadpunk'}]",,6,"[{'number': 10, 'created': '2024-03-05 09:17:00.000000000', 'files': ['tox.ini'], 'message': ""reno: Update master for unmaintained/yoga\n\nUpdate the yoga release notes configuration to build from\nunmaintained/yoga.\n\nThis also workaround the issue with Zed not being able to\nfind out where it's changes started by defining\nproper regexp for `closed_branch_tag_re`\n\nPresumably, default for reno should be adjusted to avoid this\nconfig override, ie with [1]\n\n[1] https://review.opendev.org/c/openstack/reno/+/910547\n\nChange-Id: I9ff589583e7e53941c81c52e7ca5dae77c5de1d9\n""}]",908499,f73cf9a0a94b2efe858bf8aff7fc112dfc62a72b,22816,OpenStack Release Bot,release,1,"reno: Update master for unmaintained/yoga

Update the yoga release notes configuration to build from
unmaintained/yoga.

This also workaround the issue with Zed not being able to
find out where it's changes started by defining
proper regexp for `closed_branch_tag_re`

Presumably, default for reno should be adjusted to avoid this
config override, ie with [1]

[1] https://review.opendev.org/c/openstack/reno/+/910547

Change-Id: I9ff589583e7e53941c81c52e7ca5dae77c5de1d9
",['tox.ini']
openstack%2Fkolla-ansible~904005,openstack/kolla-ansible,stable/zed,Ibf9a9a0c18938f638c8e8b00b6017c64f1523b23,quorum: add missing octavia and masakari,ABANDONED,2023-12-19 16:17:22.000000000,2024-03-05 09:59:07.000000000,6,0,"[{'_account_id': 14826, 'name': 'Mark Goddard', 'email': 'markgoddard86@gmail.com', 'username': 'mgoddard'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}]",,5,"[{'number': 1, 'created': '2023-12-19 16:17:22.000000000', 'files': ['ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2'], 'message': 'quorum: add missing octavia and masakari\n\nChange-Id: Ibf9a9a0c18938f638c8e8b00b6017c64f1523b23\n(cherry picked from commit be5dc32c8628688a97bbb44419b147c4fab78b7c)\n'}]",904005,dbdb2b2a4f99ffc872ada539140c31b22170f0bc,32553,Sven Kieske,skieske,0,"quorum: add missing octavia and masakari

Change-Id: Ibf9a9a0c18938f638c8e8b00b6017c64f1523b23
(cherry picked from commit be5dc32c8628688a97bbb44419b147c4fab78b7c)
","['ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2']"
openstack%2Fkolla-ansible~904090,openstack/kolla-ansible,stable/zed,I6c033d460a5c9b93c346e9e47e93b159d3c27830,provide a flag to enable quorum queues,ABANDONED,2023-12-20 14:29:53.000000000,2024-03-05 09:57:49.000000000,115,4,"[{'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}]",,2,"[{'number': 1, 'created': '2023-12-20 14:29:53.000000000', 'files': ['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/ceilometer/templates/ceilometer.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'releasenotes/notes/make-quorum-queues-usable-552bfb2e8975f83f.yaml', 'ansible/group_vars/all.yml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'message': ""provide a flag to enable quorum queues\n\nThis implements a global toggle `om_enable_rabbitmq_quorum_queues`\nto enable quorum queues for each service in RabbitMQ, similar to\nwhat was done for HA[0].\n\nQuorum Queues are not enabled by default in stable branches backports.\n\nQuorum queues are more reliable, safer, simpler and faster than\nreplicated mirrored classic queues[1].\n\nMirrored classic queues are deprecated and scheduled for removal\nin RabbitMQ 4.0[2].\n\nNotice, that we do not need a new policy in the RabbitMQ definitions\ntemplate, because their usage is enabled on the client side and can't\nbe set using a policy[3].\n\nNotice also, that quorum queues are not yet enabled in oslo.messaging\nfor the usage of reply_ and fanout_ queues (transient queues).\nThis will change once[4] is merged.\n\n[0]: https://review.opendev.org/c/openstack/kolla-ansible/+/867771\n[1]: https://www.rabbitmq.com/quorum-queues.html\n[2]: https://blog.rabbitmq.com/posts/2021/08/4.0-deprecation-announcements/\n[3]: https://www.rabbitmq.com/quorum-queues.html#declaring\n[4]: https://review.opendev.org/c/openstack/oslo.messaging/+/888479\n\nChange-Id: I6c033d460a5c9b93c346e9e47e93b159d3c27830\n(cherry picked from commit 64575519aa742236fa1ebd493e7f198b7b1d26ba)\nSigned-off-by: Sven Kieske <kieske@osism.tech>\n""}]",904090,d2c2c00a5e79fab1f361e8eee6bc389ea2ff476a,32553,Sven Kieske,skieske,0,"provide a flag to enable quorum queues

This implements a global toggle `om_enable_rabbitmq_quorum_queues`
to enable quorum queues for each service in RabbitMQ, similar to
what was done for HA[0].

Quorum Queues are not enabled by default in stable branches backports.

Quorum queues are more reliable, safer, simpler and faster than
replicated mirrored classic queues[1].

Mirrored classic queues are deprecated and scheduled for removal
in RabbitMQ 4.0[2].

Notice, that we do not need a new policy in the RabbitMQ definitions
template, because their usage is enabled on the client side and can't
be set using a policy[3].

Notice also, that quorum queues are not yet enabled in oslo.messaging
for the usage of reply_ and fanout_ queues (transient queues).
This will change once[4] is merged.

[0]: https://review.opendev.org/c/openstack/kolla-ansible/+/867771
[1]: https://www.rabbitmq.com/quorum-queues.html
[2]: https://blog.rabbitmq.com/posts/2021/08/4.0-deprecation-announcements/
[3]: https://www.rabbitmq.com/quorum-queues.html#declaring
[4]: https://review.opendev.org/c/openstack/oslo.messaging/+/888479

Change-Id: I6c033d460a5c9b93c346e9e47e93b159d3c27830
(cherry picked from commit 64575519aa742236fa1ebd493e7f198b7b1d26ba)
Signed-off-by: Sven Kieske <kieske@osism.tech>
","['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/ceilometer/templates/ceilometer.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'releasenotes/notes/make-quorum-queues-usable-552bfb2e8975f83f.yaml', 'ansible/group_vars/all.yml', 'doc/source/reference/message-queues/rabbitmq.rst', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/barbican/templates/barbican.conf.j2']"
openstack%2Ftacker~907284,openstack/tacker,master,I58064a76401c3156239137a6d411938662c59875,Fix db-migration-tool issues,MERGED,2024-01-31 06:13:13.000000000,2024-03-05 09:55:43.000000000,19,13,"[{'_account_id': 17255, 'name': 'Toshiaki Takahashi', 'email': 'ts-takahashi@nec.com', 'username': 'takahashi_ts'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 25701, 'name': 'Yasufumi Ogawa', 'email': 'yasufum.o@gmail.com', 'username': 'yasufum'}, {'_account_id': 32707, 'name': 'Kenta Fukaya', 'email': 'kenta.fukaya.xv@hco.ntt.co.jp', 'username': 'fukayan'}, {'_account_id': 34107, 'name': 'Masaki Oyama', 'email': 'ma-ooyama@kddi.com', 'username': 'oyamamasaki'}]",,1,"[{'number': 3, 'created': '2024-02-09 06:47:06.000000000', 'files': ['tacker/db/migration/migrate_to_v2.py', 'tacker/tests/unit/db/test_db_migration_to_v2.py'], 'message': 'Fix db-migration-tool issues\n\nThis patch fixes the following db-migration-tool issues.\n1. Difference of map key for vimConnectionInfo between VnfInstanceV2\n   and VnfLcmOpOccV2.\n2. `NoSuchOptError` during executing db-migration-tool.\n3. Fail to convert of `computeResource`, `networkResource` and\n   `storageResource` data fails in `Resource Changes` of VnfLcmOpOccV2.\n\nCloses-Bug: #2051469\nImplements: blueprint db-migration-tool\nChange-Id: I58064a76401c3156239137a6d411938662c59875\n'}]",907284,aa73583b50eed576809f58e9bd4313aedf8e2622,31857,Ayumu Ueha,ueha,0,"Fix db-migration-tool issues

This patch fixes the following db-migration-tool issues.
1. Difference of map key for vimConnectionInfo between VnfInstanceV2
   and VnfLcmOpOccV2.
2. `NoSuchOptError` during executing db-migration-tool.
3. Fail to convert of `computeResource`, `networkResource` and
   `storageResource` data fails in `Resource Changes` of VnfLcmOpOccV2.

Closes-Bug: #2051469
Implements: blueprint db-migration-tool
Change-Id: I58064a76401c3156239137a6d411938662c59875
","['tacker/db/migration/migrate_to_v2.py', 'tacker/tests/unit/db/test_db_migration_to_v2.py']"
openstack%2Fneutron~909684,openstack/neutron,master,I7ff300e9634e5e3fc68d70540392109fd8b9babc,[OVN] Set MTU of the VETH interfaces between OVS and metadata,MERGED,2024-02-21 15:35:52.000000000,2024-03-05 09:50:53.000000000,54,56,"[{'_account_id': 1004, 'name': 'Mohammed Naser', 'email': 'mnaser@vexxhost.com', 'username': 'mnaser'}, {'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 9656, 'name': 'Ihar Hrachyshka', 'email': 'ihrachys@redhat.com', 'username': 'ihrachys', 'status': 'Red Hat Networking Systems Engineer'}, {'_account_id': 9845, 'name': 'Arista CI', 'email': 'arista-openstack-test@aristanetworks.com', 'username': 'arista-test', 'tags': ['SERVICE_USER']}, {'_account_id': 11975, 'name': 'Slawek Kaplonski', 'email': 'skaplons@redhat.com', 'username': 'slaweq'}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,7,"[{'number': 4, 'created': '2024-03-01 10:18:25.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'message': '[OVN] Set MTU of the VETH interfaces between OVS and metadata\n\nThe VETH pair between the metadata namespace and the local OVS now\nhas the same MTU as the network associated to this metadata service.\nThe ""LSP.external_ids"" field has a new key defined: ""neutron:mtu"".\nThis is the value of the network MTU.\n\nThis patch does not update the previous metadata datapaths nor the\nexisting LSP. This change will affect only to new created ports\nand the corresponding metadata datapaths.\n\nCloses-Bug: #2053274\n\nChange-Id: I7ff300e9634e5e3fc68d70540392109fd8b9babc\n'}]",909684,47b4d14955451c320ce612e4e2e7d0a896e2fe36,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,0,"[OVN] Set MTU of the VETH interfaces between OVS and metadata

The VETH pair between the metadata namespace and the local OVS now
has the same MTU as the network associated to this metadata service.
The ""LSP.external_ids"" field has a new key defined: ""neutron:mtu"".
This is the value of the network MTU.

This patch does not update the previous metadata datapaths nor the
existing LSP. This change will affect only to new created ports
and the corresponding metadata datapaths.

Closes-Bug: #2053274

Change-Id: I7ff300e9634e5e3fc68d70540392109fd8b9babc
","['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']"
openstack%2Freleases~910883,openstack/releases,master,I01be64a2b7e060903bdb3edb182478743ad482b1,Create new castellan with major bump,MERGED,2024-03-04 08:22:33.000000000,2024-03-05 09:43:49.000000000,4,0,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28522, 'name': 'Hervé Beraud', 'email': 'herveberaud.pro@gmail.com', 'username': 'hberaud'}, {'_account_id': 31245, 'name': 'Daniel Bengtsson', 'email': 'dbengt@redhat.com', 'username': 'damani42'}]",,2,"[{'number': 2, 'created': '2024-03-04 09:09:26.000000000', 'files': ['deliverables/caracal/castellan.yaml'], 'message': 'Create new castellan with major bump\n\ncastellan 4.4.0 introduced the change which breaks any external\nimplementations inheriting the core KeyManager class, because of\nthe two new abstract methods added.\n\nThis creates a new release, with major version bumped and a release\nnote about upgrade impact added, to more clearly announce the impact.\n\nChange-Id: I01be64a2b7e060903bdb3edb182478743ad482b1\n'}]",910883,59482c21d6a06cd6a523dd3a39fe33aa1591f428,9816,Takashi Kajinami,kajinamit,0,"Create new castellan with major bump

castellan 4.4.0 introduced the change which breaks any external
implementations inheriting the core KeyManager class, because of
the two new abstract methods added.

This creates a new release, with major version bumped and a release
note about upgrade impact added, to more clearly announce the impact.

Change-Id: I01be64a2b7e060903bdb3edb182478743ad482b1
",['deliverables/caracal/castellan.yaml']
openstack%2Freleases~906842,openstack/releases,master,Ic2aa34f9d07c8fe8bbc659843fd932f9edef09f7,Release horizon for stable/zed,MERGED,2024-01-26 15:21:39.000000000,2024-03-05 09:37:39.000000000,4,0,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 17685, 'name': 'Elod Illes', 'email': 'elod.illes@est.tech', 'username': 'elod.illes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29313, 'name': 'Vishal Manchanda', 'email': 'manchandavishal143@gmail.com', 'username': 'vishalmanchanda'}]",,10,"[{'number': 4, 'created': '2024-03-05 08:53:06.000000000', 'files': ['deliverables/zed/horizon.yaml'], 'message': 'Release horizon for stable/zed\n\nThis release picks up new commits to horizon since\nthe last release from stable/zed.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nChange-Id: Ic2aa34f9d07c8fe8bbc659843fd932f9edef09f7\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",906842,c4e6178d954549068a32fefe60916d99689c1588,17685,Elod Illes,elod.illes,0,"Release horizon for stable/zed

This release picks up new commits to horizon since
the last release from stable/zed.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Change-Id: Ic2aa34f9d07c8fe8bbc659843fd932f9edef09f7
Signed-off-by: Elod Illes <elod.illes@est.tech>
",['deliverables/zed/horizon.yaml']
openstack%2Freleases~906874,openstack/releases,master,I112d2376225ad455ca4f8c44d0879c9eefed062a,Release python-manilaclient for stable/zed,ABANDONED,2024-01-26 16:45:05.000000000,2024-03-05 09:22:03.000000000,6,1,"[{'_account_id': 16643, 'name': 'Goutham Pacha Ravi', 'email': 'gouthampravi@gmail.com', 'username': 'gouthamr'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29632, 'name': 'Carlos Eduardo', 'email': 'ces.eduardo98@gmail.com', 'username': 'silvacarlos'}]",,4,"[{'number': 2, 'created': '2024-01-29 12:55:11.000000000', 'files': ['deliverables/zed/python-manilaclient.yaml'], 'message': 'Release python-manilaclient for stable/zed\n\nThis release picks up new commits to python-manilaclient since\nthe last release from stable/zed.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 4.1.2..9b4e03d\n145259b Fix ""test_share_access_show"" osc functional test\n6e494f1 Enable the option to return the response body\n\nChange-Id: I112d2376225ad455ca4f8c44d0879c9eefed062a\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",906874,a610535314f945cf9ab3e843a654e47246463131,17685,Elod Illes,elod.illes,0,"Release python-manilaclient for stable/zed

This release picks up new commits to python-manilaclient since
the last release from stable/zed.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 4.1.2..9b4e03d
145259b Fix ""test_share_access_show"" osc functional test
6e494f1 Enable the option to return the response body

Change-Id: I112d2376225ad455ca4f8c44d0879c9eefed062a
Signed-off-by: Elod Illes <elod.illes@est.tech>
",['deliverables/zed/python-manilaclient.yaml']
openstack%2Fopenstack-zuul-jobs~910979,openstack/openstack-zuul-jobs,master,I984c494afc5ba58b50350bc9eae58260cc66f2ee,Cleanup legacy CentOS 7 jobs and nodesets,MERGED,2024-03-04 18:19:50.000000000,2024-03-05 08:50:12.000000000,0,304,"[{'_account_id': 5263, 'name': 'Jeremy Stanley', 'display_name': 'fungi', 'email': 'fungi@yuggoth.org', 'username': 'fungi', 'status': 'missing, presumed fed'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-04 18:19:50.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'zuul.d/project-templates.yaml', 'playbooks/legacy/puppet-midonet-puppet-unit-latest-centos-7/run.yaml', 'playbooks/legacy/tempest-dsvm-neutron-full-centos-7/post.yaml', 'playbooks/legacy/tempest-dsvm-neutron-full-centos-7/run.yaml', 'zuul.d/zuul-legacy-project-templates.yaml', 'zuul.d/nodesets.yaml', 'playbooks/legacy/puppet-midonet-puppet-unit-4.5-centos-7/run.yaml'], 'message': 'Cleanup legacy CentOS 7 jobs and nodesets\n\nWe are starting work to remove CentOS 7 from Zuul and Nodepool. The\nfirst step there is to delete everything that appears to be unused. We\ndo that here cleaning up nodesets and jobs that should be unused at this\npoint in time.\n\nNote we keep the wheel cache/mirror build and publication jobs around\nfor just a bit longer. We will clean those up when we are closer to\nbeing able to remove everything CentOS 7 related.\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/910978\nChange-Id: I984c494afc5ba58b50350bc9eae58260cc66f2ee\n'}]",910979,9ec0fa8ca54e57be022b252d4fe008efd454b6b2,4146,Clark Boylan,cboylan,0,"Cleanup legacy CentOS 7 jobs and nodesets

We are starting work to remove CentOS 7 from Zuul and Nodepool. The
first step there is to delete everything that appears to be unused. We
do that here cleaning up nodesets and jobs that should be unused at this
point in time.

Note we keep the wheel cache/mirror build and publication jobs around
for just a bit longer. We will clean those up when we are closer to
being able to remove everything CentOS 7 related.

Depends-On: https://review.opendev.org/c/openstack/project-config/+/910978
Change-Id: I984c494afc5ba58b50350bc9eae58260cc66f2ee
","['zuul.d/zuul-legacy-jobs.yaml', 'zuul.d/project-templates.yaml', 'playbooks/legacy/puppet-midonet-puppet-unit-latest-centos-7/run.yaml', 'playbooks/legacy/tempest-dsvm-neutron-full-centos-7/post.yaml', 'playbooks/legacy/tempest-dsvm-neutron-full-centos-7/run.yaml', 'zuul.d/zuul-legacy-project-templates.yaml', 'zuul.d/nodesets.yaml', 'playbooks/legacy/puppet-midonet-puppet-unit-4.5-centos-7/run.yaml']"
openstack%2Frequirements~910735,openstack/requirements,master,I1a888456df86c793c90c8f4b1fc8949b0695f2b2,update constraint for python-designateclient to new release 6.0.1,MERGED,2024-03-01 13:59:33.000000000,2024-03-05 07:59:57.000000000,1,1,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,3,"[{'number': 1, 'created': '2024-03-01 13:59:33.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for python-designateclient to new release 6.0.1\n\nmeta: version: 6.0.1\nmeta: diff-start: -\nmeta: series: caracal\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: Ia4d0a279edd02d8e00645eabba5b5bccf106ae71\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I1a888456df86c793c90c8f4b1fc8949b0695f2b2\n'}]",910735,8ace413f24e7917a07a993616e607db761a0cd12,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for python-designateclient to new release 6.0.1

meta: version: 6.0.1
meta: diff-start: -
meta: series: caracal
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Ia4d0a279edd02d8e00645eabba5b5bccf106ae71
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I1a888456df86c793c90c8f4b1fc8949b0695f2b2
",['upper-constraints.txt']
openstack%2Fpuppet-keystone~911044,openstack/puppet-keystone,master,I2fb86cb33408a357019454d6fb17262056c43a9c,openidc: Fix typo in redis password option,ABANDONED,2024-03-05 07:01:01.000000000,2024-03-05 07:14:58.000000000,1,1,[],,0,"[{'number': 1, 'created': '2024-03-05 07:01:01.000000000', 'files': ['templates/openidc.conf.erb'], 'message': 'openidc: Fix typo in redis password option\n\nThe option name should be OIDCRedisCachePassword instead of\nOIDCRedisCachecPassword.\n\nChange-Id: I2fb86cb33408a357019454d6fb17262056c43a9c\n'}]",911044,fe101399a17b848d6cf843ab3d14b1cbcc027b77,9816,Takashi Kajinami,kajinamit,0,"openidc: Fix typo in redis password option

The option name should be OIDCRedisCachePassword instead of
OIDCRedisCachecPassword.

Change-Id: I2fb86cb33408a357019454d6fb17262056c43a9c
",['templates/openidc.conf.erb']
openstack%2Fironic~891334,openstack/ironic,master,Iaec9926fe031e65de4732ff0bc7988c5604d4755,Log upon completion of power sync,MERGED,2023-08-14 16:59:31.000000000,2024-03-05 06:01:11.000000000,3,0,"[{'_account_id': 10239, 'name': 'Dmitry Tantsur', 'email': 'dtantsur@protonmail.com', 'username': 'dtantsur'}, {'_account_id': 10342, 'name': 'Jay Faulkner', 'display_name': 'JayF', 'email': 'jay@jvf.cc', 'username': 'JayF'}, {'_account_id': 11292, 'name': 'Arne Wiebalck', 'email': 'Arne.Wiebalck@cern.ch', 'username': 'wiebalck'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 24828, 'name': 'Kaifeng Wang', 'email': 'kaifeng.w@gmail.com', 'username': 'wangkf'}]",,11,"[{'number': 5, 'created': '2024-02-13 23:28:48.000000000', 'files': ['ironic/conductor/manager.py'], 'message': 'Log upon completion of power sync\n\nPreviously, we updated node_periodic so we understood from the\nlogs when a periodic task was completed, so we could understand\nwhere things were at in our hunt for database lock racess.\n\nIn any event, we now explicitly log in the _sync_power_state\nmethod of the conductor, because it is not a node_periodic.\n\nChange-Id: Iaec9926fe031e65de4732ff0bc7988c5604d4755\n'}]",891334,82dbaa96687848c5d5b95fe56c9ca635a023fef2,11655,Julia Kreger,jkreger,0,"Log upon completion of power sync

Previously, we updated node_periodic so we understood from the
logs when a periodic task was completed, so we could understand
where things were at in our hunt for database lock racess.

In any event, we now explicitly log in the _sync_power_state
method of the conductor, because it is not a node_periodic.

Change-Id: Iaec9926fe031e65de4732ff0bc7988c5604d4755
",['ironic/conductor/manager.py']
openstack%2Fpuppet-neutron~910684,openstack/puppet-neutron,master,Ib722982e06a15396d09d9ff380abe4f24b0280da,cache: Support options for SASL mechanism in memcached,MERGED,2024-03-01 01:39:49.000000000,2024-03-05 04:06:52.000000000,41,9,"[{'_account_id': 14985, 'name': 'Alex Schultz', 'email': 'aschultz@next-development.com', 'username': 'mwhahaha'}, {'_account_id': 16137, 'name': 'Tobias Urdin', 'email': 'tobias.urdin@binero.com', 'username': 'tobasco'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 32029, 'name': 'likui', 'email': 'likui@yovole.com', 'username': 'likui'}]",,2,"[{'number': 2, 'created': '2024-03-01 01:41:21.000000000', 'files': ['releasenotes/notes/cache-memcache-sasl-6c1d07f71d2d24c2.yaml', 'manifests/cache.pp', 'spec/classes/neutron_cache_spec.rb'], 'message': 'cache: Support options for SASL mechanism in memcached\n\nDepends-on: https://review.opendev.org/910122\nChange-Id: Ib722982e06a15396d09d9ff380abe4f24b0280da\n'}]",910684,3832c80d64883212761ff32d22e9df2fc727ac96,9816,Takashi Kajinami,kajinamit,0,"cache: Support options for SASL mechanism in memcached

Depends-on: https://review.opendev.org/910122
Change-Id: Ib722982e06a15396d09d9ff380abe4f24b0280da
","['releasenotes/notes/cache-memcache-sasl-6c1d07f71d2d24c2.yaml', 'manifests/cache.pp', 'spec/classes/neutron_cache_spec.rb']"
openstack%2Fpuppet-glance~910868,openstack/puppet-glance,master,I6a4c65e81b97235d0ce8a142245927c92ab6e48d,Refactor resource dependencies,MERGED,2024-03-04 00:49:17.000000000,2024-03-05 03:50:52.000000000,27,15,"[{'_account_id': 14985, 'name': 'Alex Schultz', 'email': 'aschultz@next-development.com', 'username': 'mwhahaha'}, {'_account_id': 16137, 'name': 'Tobias Urdin', 'email': 'tobias.urdin@binero.com', 'username': 'tobasco'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 32029, 'name': 'likui', 'email': 'likui@yovole.com', 'username': 'likui'}]",,1,"[{'number': 1, 'created': '2024-03-04 00:49:17.000000000', 'files': ['manifests/api/db.pp', 'spec/classes/glance_policy_spec.rb', 'manifests/api.pp', 'manifests/api/authtoken.pp', 'manifests/deps.pp', 'manifests/policy.pp'], 'message': 'Refactor resource dependencies\n\nThis refactors resource dependencies to improve the following points.\n\n - Avoid unnecessary dependencies across services. For example aodh\n   service does not require cinder db.\n\n - Restart only api service when config files like paste.ini, which\n   are used only be api service is changed.\n\nChange-Id: I6a4c65e81b97235d0ce8a142245927c92ab6e48d\n'}]",910868,8b3054a13f6af070d627a019c9e1fd996fd1fd6a,9816,Takashi Kajinami,kajinamit,0,"Refactor resource dependencies

This refactors resource dependencies to improve the following points.

 - Avoid unnecessary dependencies across services. For example aodh
   service does not require cinder db.

 - Restart only api service when config files like paste.ini, which
   are used only be api service is changed.

Change-Id: I6a4c65e81b97235d0ce8a142245927c92ab6e48d
","['manifests/api/db.pp', 'spec/classes/glance_policy_spec.rb', 'manifests/api.pp', 'manifests/api/authtoken.pp', 'manifests/deps.pp', 'manifests/policy.pp']"
openstack%2Fskyline-console~910886,openstack/skyline-console,master,I13ce9af100ac8aa9a611a8d626b0819f37cb67aa,feat: add external network name for route list page,MERGED,2024-03-04 10:06:12.000000000,2024-03-05 02:48:13.000000000,48,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28706, 'name': 'Boxiang Zhu', 'email': 'zhu.boxiang@99cloud.net', 'username': 'ZhuBoxiang'}, {'_account_id': 32029, 'name': 'likui', 'email': 'likui@yovole.com', 'username': 'likui'}]",,0,"[{'number': 1, 'created': '2024-03-04 10:06:12.000000000', 'files': ['src/resources/neutron/router.jsx', 'src/stores/neutron/router.js'], 'message': 'feat: add external network name for route list page\n\nAdd the name of the external network for the route list page\n\nChange-Id: I13ce9af100ac8aa9a611a8d626b0819f37cb67aa\n'}]",910886,287d787d0889ca514580c4fdafd45f4a1e50b0d7,30434,Jingwei.Zhang,jwzhang,0,"feat: add external network name for route list page

Add the name of the external network for the route list page

Change-Id: I13ce9af100ac8aa9a611a8d626b0819f37cb67aa
","['src/resources/neutron/router.jsx', 'src/stores/neutron/router.js']"
openstack%2Fcinder~911002,openstack/cinder,master,I08153b431924e9608ee2a9a95711258d5ad34f33,[Pure Storage] Add volume groups support,ABANDONED,2024-03-04 21:43:10.000000000,2024-03-05 02:41:45.000000000,386,41,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]","[{'rev_nbr': 1, 'author': '2024-03-05 02:41:45.000000000', 'date': '2024-03-05 02:41:45.000000000'}]",0,"[{'number': 1, 'created': '2024-03-04 21:43:10.000000000', 'files': ['cinder/volume/drivers/pure.py'], 'message': ""[Pure Storage] Add volume groups support\n\nAdd support for FlashArray Volume Groups through vendor-specific\nvolume type extra-specs.\n\nThis allows volumes to be created in a group that has it's own\ngroup-level QoS settings.\n\nThis allows each tenenat to have a default volume type, linking\nto a volume group with a group QoS, therefore effectively\nproviding storage QoS at a per tenant level, rather than at\na per volume level.\n\nSupport is also included to retyping to/from volume group-based\nvolume types, as well as support of asynchronous replication\nof volumes in volume groups.\n\nSynchronous replication for volume group-based volumes is not\nsupported.\n\nCinder manage and unmanage is also supported, allowing volumes\nto be managed into a volume group-based volume type.\n\nChange-Id: I08153b431924e9608ee2a9a95711258d5ad34f33\nDepends-On: I3deae1cc6bbe5ef5820224f72bb02565677e1ade\n""}]",911002,ba39edadd40bf5eac6d0022fef020f7e7c01fa38,13425,Simon Dodsley,sdodsley,0,"[Pure Storage] Add volume groups support

Add support for FlashArray Volume Groups through vendor-specific
volume type extra-specs.

This allows volumes to be created in a group that has it's own
group-level QoS settings.

This allows each tenenat to have a default volume type, linking
to a volume group with a group QoS, therefore effectively
providing storage QoS at a per tenant level, rather than at
a per volume level.

Support is also included to retyping to/from volume group-based
volume types, as well as support of asynchronous replication
of volumes in volume groups.

Synchronous replication for volume group-based volumes is not
supported.

Cinder manage and unmanage is also supported, allowing volumes
to be managed into a volume group-based volume type.

Change-Id: I08153b431924e9608ee2a9a95711258d5ad34f33
Depends-On: I3deae1cc6bbe5ef5820224f72bb02565677e1ade
",['cinder/volume/drivers/pure.py']
openstack%2Fironic~908342,openstack/ironic,master,Ibda7bdeec6de62c93fa8aa6d5874eea43b3a802d,docs: troubleshooting addition for sync period,MERGED,2024-02-07 20:09:13.000000000,2024-03-05 02:27:49.000000000,21,0,"[{'_account_id': 4571, 'name': 'Steve Baker', 'email': 'sbaker@redhat.com', 'username': 'steve-stevebaker'}, {'_account_id': 10342, 'name': 'Jay Faulkner', 'display_name': 'JayF', 'email': 'jay@jvf.cc', 'username': 'JayF'}, {'_account_id': 11655, 'name': 'Julia Kreger', 'email': 'juliaashleykreger@gmail.com', 'username': 'jkreger', 'status': 'Flying to the moon with a Jetpack!'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 24245, 'name': 'Harald Jensås', 'email': 'hjensas@redhat.com', 'username': 'harald.jensas'}, {'_account_id': 32029, 'name': 'likui', 'email': 'likui@yovole.com', 'username': 'likui'}]",,11,"[{'number': 7, 'created': '2024-03-05 01:06:37.000000000', 'files': ['doc/source/admin/troubleshooting.rst'], 'message': 'docs: troubleshooting addition for sync period\n\nChange-Id: Ibda7bdeec6de62c93fa8aa6d5874eea43b3a802d\n'}]",908342,d89280676824b1f7f6629506209ff4b8e3f9cccf,11655,Julia Kreger,jkreger,0,"docs: troubleshooting addition for sync period

Change-Id: Ibda7bdeec6de62c93fa8aa6d5874eea43b3a802d
",['doc/source/admin/troubleshooting.rst']
openstack%2Fironic-inspector~905443,openstack/ironic-inspector,stable/zed,I939c80bb309b22e05ba7cc93686f12bbe0d71624,Handle LLDP parse Unicode error,MERGED,2024-01-12 09:28:55.000000000,2024-03-05 02:27:20.000000000,19,1,"[{'_account_id': 10239, 'name': 'Dmitry Tantsur', 'email': 'dtantsur@protonmail.com', 'username': 'dtantsur'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 24828, 'name': 'Kaifeng Wang', 'email': 'kaifeng.w@gmail.com', 'username': 'wangkf'}, {'_account_id': 32029, 'name': 'likui', 'email': 'likui@yovole.com', 'username': 'likui'}, {'_account_id': 36201, 'name': 'Shanjiayi', 'email': 'shanjiayi@yovole.com', 'username': 'Shanjiayi'}]",,0,"[{'number': 1, 'created': '2024-01-12 09:28:55.000000000', 'files': ['ironic_inspector/plugins/lldp_basic.py', 'releasenotes/notes/fix-lldp-decode-83f4ad3869b0c7a7.yaml'], 'message': 'Handle LLDP parse Unicode error\n\nCloses-Bug: #2044793\nChange-Id: I939c80bb309b22e05ba7cc93686f12bbe0d71624\n(cherry picked from commit db76af9c86bffb61f9b7a52a4080959fee1658fa)\n'}]",905443,ea0d0c6e286b15d6eda70bdbdfc2a8c67d7e895d,23851,Riccardo Pittau,elfosardo,0,"Handle LLDP parse Unicode error

Closes-Bug: #2044793
Change-Id: I939c80bb309b22e05ba7cc93686f12bbe0d71624
(cherry picked from commit db76af9c86bffb61f9b7a52a4080959fee1658fa)
","['ironic_inspector/plugins/lldp_basic.py', 'releasenotes/notes/fix-lldp-decode-83f4ad3869b0c7a7.yaml']"
openstack%2Fsunbeam-charms~910139,openstack/sunbeam-charms,main,I7d5538c74bb28e9c9a78235aaec76d23a09c4e40,Add docs for the tempest-k8s charm,MERGED,2024-02-26 05:14:45.000000000,2024-03-05 02:08:21.000000000,8,2,"[{'_account_id': 10366, 'name': 'Hemanth N', 'email': 'hemanth.nakkina@canonical.com', 'username': 'Hemanth'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27944, 'name': 'Andrea Ieri', 'email': 'andrea.ieri@canonical.com', 'username': 'aieri'}, {'_account_id': 32363, 'name': 'Robert Gildein', 'email': 'robert.gildein@canonical.com', 'username': 'rgildein'}, {'_account_id': 34543, 'name': 'Tianqi Xiao', 'email': 'tianqi.xiao@canonical.com', 'username': 'txiao'}]",,5,"[{'number': 3, 'created': '2024-03-03 23:44:54.000000000', 'files': ['charms/tempest-k8s/CONTRIBUTING.md', 'charms/tempest-k8s/charmcraft.yaml', 'charms/tempest-k8s/README.md'], 'message': 'Add docs for the tempest-k8s charm\n\nChange-Id: I7d5538c74bb28e9c9a78235aaec76d23a09c4e40\n'}]",910139,6818929c8aa20139105e7ff917fac312c8fbc93d,34352,Samuel Allan,swalladge,0,"Add docs for the tempest-k8s charm

Change-Id: I7d5538c74bb28e9c9a78235aaec76d23a09c4e40
","['charms/tempest-k8s/CONTRIBUTING.md', 'charms/tempest-k8s/charmcraft.yaml', 'charms/tempest-k8s/README.md']"
openstack%2Ftacker~910720,openstack/tacker,master,I8c1543bb724b6f2c4f3f4f7edecdfef063d3d9a4,Fix broken gate jobs caused by oslo.db upgrades,MERGED,2024-03-01 10:58:01.000000000,2024-03-05 01:48:46.000000000,30,4,"[{'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 17255, 'name': 'Toshiaki Takahashi', 'email': 'ts-takahashi@nec.com', 'username': 'takahashi_ts'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 25701, 'name': 'Yasufumi Ogawa', 'email': 'yasufum.o@gmail.com', 'username': 'yasufum'}]",,4,"[{'number': 1, 'created': '2024-03-01 10:58:01.000000000', 'files': ['tacker/api/views/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py'], 'message': ""Fix broken gate jobs caused by oslo.db upgrades\n\nThis patch fixes an issue where the filter attribute of vnflcm\nsubscription (v1 API) could not be retrieved because oslo.db version\nwas updated to 15.0.0 [1].\nThe reason of the issue was that obj's data type, which was obtained\nwhen oslo.db was 14.1.0 and 15.0.0, was different as below:\n\n* oslo.db==14.1.0: sqlalchemy.engine.row.LegacyRow\n* oslo.db==15.0.0: sqlalchemy.engine.row.Row\n\nThis patch changes the existence validation of the filter key for\n`vnf_lcm_subscription` in the `sqlalchemy.engine.row.Row` case.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/909930\n[2] https://pydoc.dev/sqlalchemy/latest/sqlalchemy.engine.row.Row.html\n\nCloses-Bug: #2055431\nChange-Id: I8c1543bb724b6f2c4f3f4f7edecdfef063d3d9a4\n""}]",910720,b885f93d6459f56457b649724dd0e868ade353cd,31857,Ayumu Ueha,ueha,0,"Fix broken gate jobs caused by oslo.db upgrades

This patch fixes an issue where the filter attribute of vnflcm
subscription (v1 API) could not be retrieved because oslo.db version
was updated to 15.0.0 [1].
The reason of the issue was that obj's data type, which was obtained
when oslo.db was 14.1.0 and 15.0.0, was different as below:

* oslo.db==14.1.0: sqlalchemy.engine.row.LegacyRow
* oslo.db==15.0.0: sqlalchemy.engine.row.Row

This patch changes the existence validation of the filter key for
`vnf_lcm_subscription` in the `sqlalchemy.engine.row.Row` case.

[1] https://review.opendev.org/c/openstack/requirements/+/909930
[2] https://pydoc.dev/sqlalchemy/latest/sqlalchemy.engine.row.Row.html

Closes-Bug: #2055431
Change-Id: I8c1543bb724b6f2c4f3f4f7edecdfef063d3d9a4
","['tacker/api/views/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py']"
openstack%2Foslo.messaging~910575,openstack/oslo.messaging,feature/nats-driver,I5207a233dcb173ba2b394e28e9e39692cf0fb6dc,Drop reference to dib-utils,ABANDONED,2024-02-29 08:01:47.000000000,2024-03-05 01:01:57.000000000,0,3,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,3,"[{'number': 2, 'created': '2024-02-29 08:05:19.000000000', 'files': ['.zuul.yaml'], 'message': ""Drop reference to dib-utils\n\n... because the repository was retired as part of TripleO's retirement.\n\nChange-Id: I5207a233dcb173ba2b394e28e9e39692cf0fb6dc\n""}]",910575,cc237dbb2a51816add8b23a20e58a9051db12cd6,9816,Takashi Kajinami,kajinamit,0,"Drop reference to dib-utils

... because the repository was retired as part of TripleO's retirement.

Change-Id: I5207a233dcb173ba2b394e28e9e39692cf0fb6dc
",['.zuul.yaml']
openstack%2Felection~910688,openstack/election,master,Id1c7b66e94e672d42cfa27c7c53704ac36a25977,Update governance tag 0.16.0 to configuration,MERGED,2024-03-01 02:01:43.000000000,2024-03-05 00:45:12.000000000,1,1,"[{'_account_id': 10342, 'name': 'Jay Faulkner', 'display_name': 'JayF', 'email': 'jay@jvf.cc', 'username': 'JayF'}, {'_account_id': 12898, 'name': 'Tony Breeds', 'email': 'tony@bakeyournoodle.com', 'username': 'tonyb'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-01 02:01:43.000000000', 'files': ['configuration.yaml'], 'message': 'Update governance tag 0.16.0 to configuration\n\nDepends-On: I3685ac5c0d959bb3732ce103af33a2deca8aa540\nChange-Id: Id1c7b66e94e672d42cfa27c7c53704ac36a25977\n'}]",910688,710115af853395985d072c07d2f07ea450400d9a,14482,Ian Y. Choi,ianychoi,0,"Update governance tag 0.16.0 to configuration

Depends-On: I3685ac5c0d959bb3732ce103af33a2deca8aa540
Change-Id: Id1c7b66e94e672d42cfa27c7c53704ac36a25977
",['configuration.yaml']
openstack%2Fopenstack-helm~910565,openstack/openstack-helm,master,Ifee524ad494a7f11f909816a49dd31cf62d22902,Set horizon ingress annotation proxy-body-size=300m by default,MERGED,2024-02-29 04:16:35.000000000,2024-03-05 00:20:46.000000000,3,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29974, 'name': 'Stephen Taylor', 'email': 'stephen.taylor.1@att.com', 'username': 'st053q'}, {'_account_id': 34520, 'name': 'Sergiy Markin', 'email': 'smarkin@mirantis.com', 'username': 'sm515x'}]",,2,"[{'number': 2, 'created': '2024-02-29 18:31:06.000000000', 'files': ['horizon/Chart.yaml', 'releasenotes/notes/horizon.yaml', 'horizon/values.yaml'], 'message': 'Set horizon ingress annotation proxy-body-size=300m by default\n\nChange-Id: Ifee524ad494a7f11f909816a49dd31cf62d22902\n'}]",910565,cedaaf75bedea91c32bd9d97699d5cbc6d5222b0,3009,Vladimir Kozhukalov,kozhukalov,0,"Set horizon ingress annotation proxy-body-size=300m by default

Change-Id: Ifee524ad494a7f11f909816a49dd31cf62d22902
","['horizon/Chart.yaml', 'releasenotes/notes/horizon.yaml', 'horizon/values.yaml']"
openstack%2Fopenstack-helm~909571,openstack/openstack-helm,master,I106f50f620c2594b1f8ea7dc516d2e254c6af479,Use metadata_listen_port in nova config,MERGED,2024-02-26 06:54:03.000000000,2024-03-05 00:19:53.000000000,11,14,"[{'_account_id': 3009, 'name': 'Vladimir Kozhukalov', 'email': 'kozhukalov@gmail.com', 'username': 'kozhukalov'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29974, 'name': 'Stephen Taylor', 'email': 'stephen.taylor.1@att.com', 'username': 'st053q'}]",,5,"[{'number': 4, 'created': '2024-03-04 03:45:24.000000000', 'files': ['nova/templates/configmap-etc.yaml', 'neutron/Chart.yaml', 'neutron/values_overrides/tls.yaml', 'releasenotes/notes/neutron.yaml', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml', 'neutron/templates/configmap-etc.yaml'], 'message': 'Use metadata_listen_port in nova config\n\nmetadata_port value used in queens version and changed\nin rocky version to metadata_listen_port\n\nstory: 2011052\ntask: 49616\nChange-Id: I106f50f620c2594b1f8ea7dc516d2e254c6af479\n'}]",909571,44e2b10447085ca0f30bb76d80ee92a89ed8db9f,35674,ChungWon Lee,cw0306-lee,0,"Use metadata_listen_port in nova config

metadata_port value used in queens version and changed
in rocky version to metadata_listen_port

story: 2011052
task: 49616
Change-Id: I106f50f620c2594b1f8ea7dc516d2e254c6af479
","['nova/templates/configmap-etc.yaml', 'neutron/Chart.yaml', 'neutron/values_overrides/tls.yaml', 'releasenotes/notes/neutron.yaml', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml', 'neutron/templates/configmap-etc.yaml']"
openstack%2Fswift~910995,openstack/swift,stable/2023.2,I8f6c247c21f16aa4717569cc69308f846c6a0245,CI: Remove centos-7 jobs,MERGED,2024-03-04 20:36:55.000000000,2024-03-04 23:33:29.000000000,5,84,"[{'_account_id': 15343, 'name': 'Tim Burke', 'email': 'tburke@nvidia.com', 'username': 'tburke'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2024-03-04 20:36:55.000000000', 'files': ['tools/playbooks/common/install_dependencies.yaml', '.zuul.yaml', 'tools/test-setup.sh'], 'message': ""CI: Remove centos-7 jobs\n\nCentOS 7 will go EOL later this year, and infra wants to drop the nodes\nsoon-ish -- don't make them wait on our account.\n\nThe only major loss is py2 probe tests, but officially, yoga was the\nlast release we pledged to support py2.\n\nChange-Id: I8f6c247c21f16aa4717569cc69308f846c6a0245\n""}]",910995,ce1e641e32a8ae77aa30f90c7ece27c7ada4ffd5,15343,Tim Burke,tburke,0,"CI: Remove centos-7 jobs

CentOS 7 will go EOL later this year, and infra wants to drop the nodes
soon-ish -- don't make them wait on our account.

The only major loss is py2 probe tests, but officially, yoga was the
last release we pledged to support py2.

Change-Id: I8f6c247c21f16aa4717569cc69308f846c6a0245
","['tools/playbooks/common/install_dependencies.yaml', '.zuul.yaml', 'tools/test-setup.sh']"
openstack%2Fproject-config~910978,openstack/project-config,master,I06f8b0243d2083aacb44fe12c0c850991ce3ef63,CentOS 7 removal prep changes,MERGED,2024-03-04 18:18:01.000000000,2024-03-04 22:03:12.000000000,3,36,"[{'_account_id': 5263, 'name': 'Jeremy Stanley', 'display_name': 'fungi', 'email': 'fungi@yuggoth.org', 'username': 'fungi', 'status': 'missing, presumed fed'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 3, 'created': '2024-03-04 18:26:05.000000000', 'files': ['nodepool/nl01.opendev.org.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml'], 'message': 'CentOS 7 removal prep changes\n\nThis drop min-ready for centos-7 to 0 and removes use of some centos 7\njobs from puppet-midnoet. We will clean up those removed jobs in a\nfollowup change to openstack-zuul-jobs.\n\nWe also remove x/collected-openstack-plugins from zuul. This repo uses\ncentos 7 nodesets that we want to clean up and it last merged a change\nin 2019. That change was written by the infra team as part of global\ncleanups. I think we can remove it from zuul for now and if interest\nrestarts it can be added and fixed up.\n\nChange-Id: I06f8b0243d2083aacb44fe12c0c850991ce3ef63\n'}]",910978,56c5fefcf6394d6ebffd7407d990215a7973edc0,4146,Clark Boylan,cboylan,0,"CentOS 7 removal prep changes

This drop min-ready for centos-7 to 0 and removes use of some centos 7
jobs from puppet-midnoet. We will clean up those removed jobs in a
followup change to openstack-zuul-jobs.

We also remove x/collected-openstack-plugins from zuul. This repo uses
centos 7 nodesets that we want to clean up and it last merged a change
in 2019. That change was written by the infra team as part of global
cleanups. I think we can remove it from zuul for now and if interest
restarts it can be added and fixed up.

Change-Id: I06f8b0243d2083aacb44fe12c0c850991ce3ef63
","['nodepool/nl01.opendev.org.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']"
openstack%2Fopenstack-helm-infra~910992,openstack/openstack-helm-infra,master,I31c501541b54d9253c334b56df975bddb13bbaeb,Workaround for debian-reef folder issue,MERGED,2024-03-04 19:34:09.000000000,2024-03-04 21:49:44.000000000,2,2,"[{'_account_id': 3009, 'name': 'Vladimir Kozhukalov', 'email': 'kozhukalov@gmail.com', 'username': 'kozhukalov'}, {'_account_id': 17119, 'name': 'Dmitrii Kabanov', 'email': 'dmitrii.kabanov@att.com', 'username': 'dk370c'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29974, 'name': 'Stephen Taylor', 'email': 'stephen.taylor.1@att.com', 'username': 'st053q'}]",,0,"[{'number': 2, 'created': '2024-03-04 19:35:38.000000000', 'files': ['tools/gate/deploy-k8s.sh', 'roles/deploy-env/tasks/prerequisites.yaml'], 'message': 'Workaround for debian-reef folder issue\n\nThis PS changes ceph repo to debian-18.2.1 from\ndebian-reef due to some issues with debian-reef\nfolder at https://download.ceph.com/\n\nChange-Id: I31c501541b54d9253c334b56df975bddb13bbaeb\n'}]",910992,3a2399c99fd5c800f9cd48e06d4456140371a15e,34520,Sergiy Markin,sm515x,0,"Workaround for debian-reef folder issue

This PS changes ceph repo to debian-18.2.1 from
debian-reef due to some issues with debian-reef
folder at https://download.ceph.com/

Change-Id: I31c501541b54d9253c334b56df975bddb13bbaeb
","['tools/gate/deploy-k8s.sh', 'roles/deploy-env/tasks/prerequisites.yaml']"
openstack%2Fosc-lib~910610,openstack/osc-lib,stable/2023.2,Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512,Drop master-only job from zuul config,MERGED,2024-03-01 08:23:44.000000000,2024-03-04 21:16:03.000000000,0,7,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27900, 'name': 'Artem Goncharov', 'email': 'artem.goncharov@gmail.com', 'username': 'gtema'}]",,1,"[{'number': 2, 'created': '2024-03-01 13:50:38.000000000', 'files': ['.zuul.yaml'], 'message': 'Drop master-only job from zuul config\n\nThe tips job should only run on the master branch, drop it from the zuul\nconfig for stable branches.\n\nChange-Id: Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512\n'}]",910610,923a847dea1d4577e75d4044a58596a0665941f1,13252,Dr. Jens Harbott,jrosenboom,0,"Drop master-only job from zuul config

The tips job should only run on the master branch, drop it from the zuul
config for stable branches.

Change-Id: Ic2ddb04bc1f1e81586fff54f1e7bee9ee3689512
",['.zuul.yaml']
openstack%2Fnova~904568,openstack/nova,master,If4cf09c1006a3f56d243b9c00712bb24d2a796d3,Add support for showing requested az in output,MERGED,2024-01-03 13:26:11.000000000,2024-03-04 21:10:14.000000000,647,8,"[{'_account_id': 4690, 'name': 'melanie witt', 'display_name': 'melwitt', 'email': 'melwittt@gmail.com', 'username': 'melwitt'}, {'_account_id': 7166, 'name': 'Sylvain Bauza', 'email': 'sbauza@redhat.com', 'username': 'sbauza'}, {'_account_id': 8864, 'name': 'Artom Lifshitz', 'email': 'notartom@gmail.com', 'username': 'artom'}, {'_account_id': 9708, 'name': 'Balazs Gibizer', 'display_name': 'gibi', 'email': 'gibizer@gmail.com', 'username': 'gibi'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,82,"[{'number': 17, 'created': '2024-03-01 16:09:21.000000000', 'files': ['api-ref/source/parameters.yaml', 'doc/api_samples/servers/v2.96/servers-list-resp.json', 'doc/api_samples/servers/v2.96/servers-details-resp.json', 'nova/api/openstack/compute/views/servers.py', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.96/server-get-resp.json.tpl', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.96/servers-list-resp.json.tpl', 'doc/api_samples/servers/v2.96/server-get-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.96/server-details-resp.json.tpl', 'nova/objects/request_spec.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.96/server-create-req.json.tpl', 'nova/tests/functional/api_sample_tests/test_servers.py', 'releasenotes/notes/microversion-2-96-ca56e1e5a4ee4e02.yaml', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.96/server-list-resp.json.tpl', 'nova/api/openstack/compute/rest_api_version_history.rst', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.96/server-create-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.96/servers-details-resp.json.tpl', 'api-ref/source/servers.inc'], 'message': 'Add support for showing requested az in output\n\nAs of now, the server show and server list --long output\nshows the availability zone, that is, the AZ to which the\nhost of the instance belongs. There is no way to tell from\nthis information if the instance create request included an\nAZ or not.\n\nThis change adds a new api microversion to add support for\nincluding availability zone requested during instance create\nin server show and server list --long responses.\n\nChange-Id: If4cf09c1006a3f56d243b9c00712bb24d2a796d3\n'}]",904568,c98c8d84eec6e65f1b67ae1ab8278d9c507a1a76,20733,Rajesh Tailor,rajesht,0,"Add support for showing requested az in output

As of now, the server show and server list --long output
shows the availability zone, that is, the AZ to which the
host of the instance belongs. There is no way to tell from
this information if the instance create request included an
AZ or not.

This change adds a new api microversion to add support for
including availability zone requested during instance create
in server show and server list --long responses.

Change-Id: If4cf09c1006a3f56d243b9c00712bb24d2a796d3
","['api-ref/source/parameters.yaml', 'doc/api_samples/servers/v2.96/servers-list-resp.json', 'doc/api_samples/servers/v2.96/servers-details-resp.json', 'nova/api/openstack/compute/views/servers.py', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.96/server-get-resp.json.tpl', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.96/servers-list-resp.json.tpl', 'doc/api_samples/servers/v2.96/server-get-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.96/server-details-resp.json.tpl', 'nova/objects/request_spec.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.96/server-create-req.json.tpl', 'nova/tests/functional/api_sample_tests/test_servers.py', 'releasenotes/notes/microversion-2-96-ca56e1e5a4ee4e02.yaml', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.96/server-list-resp.json.tpl', 'nova/api/openstack/compute/rest_api_version_history.rst', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.96/server-create-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.96/servers-details-resp.json.tpl', 'api-ref/source/servers.inc']"
openstack%2Fmagnum~908414,openstack/magnum,master,I81db0055ae82c64218498ae3e2a4fcc802f8d0e4,Removing Tiller support,MERGED,2024-02-08 12:22:02.000000000,2024-03-04 20:54:04.000000000,57,379,"[{'_account_id': 8064, 'name': 'Jake Yip', 'email': 'jake.yip@ardc.edu.au', 'username': 'jake'}, {'_account_id': 14394, 'name': 'Dale Smith', 'email': 'dale@catalystcloud.nz', 'username': 'dalees'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 12, 'created': '2024-02-29 14:41:29.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-helm-tiller.sh', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'releasenotes/notes/drop-tiller-5b98862961003df8.yaml', 'doc/source/user/monitoring.rst', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/install-helm-modules.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh'], 'message': 'Removing Tiller support\n\nRemoved Tiller support from Helm modules install kubernetes fragment.\n\nChange-Id: I81db0055ae82c64218498ae3e2a4fcc802f8d0e4\n'}]",908414,e3aaa89376c2b405d74c91995888c6370b25dc51,34076,Jakub Darmach,darmach,0,"Removing Tiller support

Removed Tiller support from Helm modules install kubernetes fragment.

Change-Id: I81db0055ae82c64218498ae3e2a4fcc802f8d0e4
","['magnum/drivers/common/templates/kubernetes/fragments/enable-helm-tiller.sh', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'releasenotes/notes/drop-tiller-5b98862961003df8.yaml', 'doc/source/user/monitoring.rst', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/install-helm-modules.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh']"
openstack%2Fmagnum~910722,openstack/magnum,master,I597eed6f24f13f96f78f6596e16b6edcff989a90,SQLA 2.0 - Fix connection.execute,MERGED,2024-03-01 11:32:16.000000000,2024-03-04 20:53:11.000000000,6,6,"[{'_account_id': 8064, 'name': 'Jake Yip', 'email': 'jake.yip@ardc.edu.au', 'username': 'jake'}, {'_account_id': 14394, 'name': 'Dale Smith', 'email': 'dale@catalystcloud.nz', 'username': 'dalees'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,17,"[{'number': 6, 'created': '2024-03-02 07:30:50.000000000', 'files': ['magnum/db/sqlalchemy/alembic/versions/c04e925e65c2_nodegroups_v2.py', 'magnum/db/sqlalchemy/alembic/versions/95096e2334ee_add_master_lb_enabled_to_cluster.py', 'magnum/db/sqlalchemy/alembic/versions/461d798132c7_change_cluster_to_support_nodegroups.py'], 'message': 'SQLA 2.0 - Fix connection.execute\n\nexecute() in SQL Alchemy 2.x has different behaviour,\nthis patch adapts alembic scripts.\nSee [1].\n\n[1]: https://docs.sqlalchemy.org/en/20/changelog/migration_20.html#execute-method-more-strict-execution-options-are-more-prominent\n\nChange-Id: I597eed6f24f13f96f78f6596e16b6edcff989a90\n'}]",910722,38a0f41c940ec7b26d4771b11ef81d95d1f4ea7a,22629,Michal Nasiadka,mnasiadka,0,"SQLA 2.0 - Fix connection.execute

execute() in SQL Alchemy 2.x has different behaviour,
this patch adapts alembic scripts.
See [1].

[1]: https://docs.sqlalchemy.org/en/20/changelog/migration_20.html#execute-method-more-strict-execution-options-are-more-prominent

Change-Id: I597eed6f24f13f96f78f6596e16b6edcff989a90
","['magnum/db/sqlalchemy/alembic/versions/c04e925e65c2_nodegroups_v2.py', 'magnum/db/sqlalchemy/alembic/versions/95096e2334ee_add_master_lb_enabled_to_cluster.py', 'magnum/db/sqlalchemy/alembic/versions/461d798132c7_change_cluster_to_support_nodegroups.py']"
openstack%2Fopenstack-ansible-ops~910972,openstack/openstack-ansible-ops,master,Iead05995797652f5cd3d76db4b4eb6267e25835b,Clean up zuul jobs,MERGED,2024-03-04 17:46:27.000000000,2024-03-04 20:12:45.000000000,8,79,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 25023, 'name': 'Jonathan Rosser', 'email': 'jonathan.rosser@rd.bbc.co.uk', 'username': 'jrosser'}, {'_account_id': 28619, 'name': 'Dmitriy Rabotyagov', 'email': 'noonedeadpunk@gmail.com', 'username': 'noonedeadpunk'}]",,1,"[{'number': 2, 'created': '2024-03-04 17:50:11.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'message': 'Clean up zuul jobs\n\nRemove centos-7 jobs and migrate all others to focal/jammy.\n\nAs this is the ops repo some of these jobs might break, but thats\nOK as it is best effort here.\n\nChange-Id: Iead05995797652f5cd3d76db4b4eb6267e25835b\n'}]",910972,9224f5df39682c6c9e8837e4bebf4e36352b84f7,25023,Jonathan Rosser,jrosser,0,"Clean up zuul jobs

Remove centos-7 jobs and migrate all others to focal/jammy.

As this is the ops repo some of these jobs might break, but thats
OK as it is best effort here.

Change-Id: Iead05995797652f5cd3d76db4b4eb6267e25835b
","['zuul.d/project.yaml', 'zuul.d/jobs.yaml']"
openstack%2Fswift~902114,openstack/swift,master,Ifb6b2cad7e4db124d30991788efb07d3de29700d,sq: more slo part-number unittests,ABANDONED,2023-11-28 22:00:25.000000000,2024-03-04 20:04:45.000000000,215,104,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 34892, 'name': 'ASHWIN A NAIR', 'display_name': 'indianwhocodes', 'email': 'nairashwin952013@gmail.com', 'username': 'indianwhocodes', 'status': 'Nvidia'}]",,1,"[{'number': 2, 'created': '2023-11-28 22:06:19.000000000', 'files': ['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py', 'test/functional/test_slo.py'], 'message': 'sq: more slo part-number unittests\n\nChange-Id: Ifb6b2cad7e4db124d30991788efb07d3de29700d\n'}]",902114,9f6b8aa1e27e3fde141fbfcff675ecf9f77abccd,1179,Clay Gerrard,clay-gerrard,0,"sq: more slo part-number unittests

Change-Id: Ifb6b2cad7e4db124d30991788efb07d3de29700d
","['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py', 'test/functional/test_slo.py']"
openstack%2Fansible-role-uwsgi~910190,openstack/ansible-role-uwsgi,stable/2023.1,Iad0e73a12e61f98034fb5929923fdcc5ea4e1d50,Remove undefined bionic linters job,MERGED,2024-02-26 17:29:50.000000000,2024-03-04 20:03:55.000000000,0,8,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 25023, 'name': 'Jonathan Rosser', 'email': 'jonathan.rosser@rd.bbc.co.uk', 'username': 'jrosser'}, {'_account_id': 31542, 'name': 'Andrew Bonney', 'email': 'andrew.bonney@bbc.co.uk', 'username': 'andrewbonney'}]",,1,"[{'number': 1, 'created': '2024-02-26 17:29:50.000000000', 'files': ['zuul.d/project.yaml'], 'message': 'Remove undefined bionic linters job\n\nChange-Id: Iad0e73a12e61f98034fb5929923fdcc5ea4e1d50\n'}]",910190,7b3da8eead973a4972c7417d74f7d18e24709ba0,25023,Jonathan Rosser,jrosser,0,"Remove undefined bionic linters job

Change-Id: Iad0e73a12e61f98034fb5929923fdcc5ea4e1d50
",['zuul.d/project.yaml']
openstack%2Fswift~910829,openstack/swift,master,I8f6c247c21f16aa4717569cc69308f846c6a0245,CI: Remove centos-7 jobs,MERGED,2024-03-01 19:07:34.000000000,2024-03-04 19:16:08.000000000,5,85,"[{'_account_id': 15343, 'name': 'Tim Burke', 'email': 'tburke@nvidia.com', 'username': 'tburke'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,3,"[{'number': 2, 'created': '2024-03-01 19:55:15.000000000', 'files': ['tools/playbooks/common/install_dependencies.yaml', '.zuul.yaml', 'tools/test-setup.sh'], 'message': ""CI: Remove centos-7 jobs\n\nCentOS 7 will go EOL later this year, and infra wants to drop the nodes\nsoon-ish -- don't make them wait on our account.\n\nThe only major loss is py2 probe tests, but officially, yoga was the\nlast release we pledged to support py2.\n\nChange-Id: I8f6c247c21f16aa4717569cc69308f846c6a0245\n""}]",910829,bd3b2256a925472606b9fd1096e9e726a8c11e84,15343,Tim Burke,tburke,0,"CI: Remove centos-7 jobs

CentOS 7 will go EOL later this year, and infra wants to drop the nodes
soon-ish -- don't make them wait on our account.

The only major loss is py2 probe tests, but officially, yoga was the
last release we pledged to support py2.

Change-Id: I8f6c247c21f16aa4717569cc69308f846c6a0245
","['tools/playbooks/common/install_dependencies.yaml', '.zuul.yaml', 'tools/test-setup.sh']"
openstack%2Frequirements~910734,openstack/requirements,master,I248bc1c2ffef3c9aa752039ef045a3ac492c9e0d,update constraint for python-cinderclient to new release 9.5.0,MERGED,2024-03-01 13:59:04.000000000,2024-03-04 19:08:42.000000000,1,1,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2024-03-01 13:59:04.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for python-cinderclient to new release 9.5.0\n\nmeta: version: 9.5.0\nmeta: diff-start: -\nmeta: series: caracal\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: Iac4c725c2f8c3128870d5af8242cb467b15a4576\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I248bc1c2ffef3c9aa752039ef045a3ac492c9e0d\n'}]",910734,b60494080edc9680c39170aabd4a35b863a002b4,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for python-cinderclient to new release 9.5.0

meta: version: 9.5.0
meta: diff-start: -
meta: series: caracal
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Iac4c725c2f8c3128870d5af8242cb467b15a4576
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I248bc1c2ffef3c9aa752039ef045a3ac492c9e0d
",['upper-constraints.txt']
openstack%2Fnova~909098,openstack/nova,stable/zed,I6821819450bc96e4304125ea3b76a0e462e6e33f,libvirt: stop enabling hyperv feature reenlightenment,MERGED,2024-02-16 14:37:24.000000000,2024-03-04 18:42:11.000000000,3,2,"[{'_account_id': 1004, 'name': 'Mohammed Naser', 'email': 'mnaser@vexxhost.com', 'username': 'mnaser'}, {'_account_id': 4393, 'name': 'Dan Smith', 'email': 'dms@danplanet.com', 'username': 'danms'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,12,"[{'number': 2, 'created': '2024-02-20 11:52:02.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': ""libvirt: stop enabling hyperv feature reenlightenment\n\nThe 'reenlightenment' hyperv enlightenment will cause\ninstances live-migration to fail (KVM currently doesn’t\nfully support reenlightenment notifications, see\nwww.qemu.org/docs/master/system/i386/hyperv.html),\nso don't enable it now.\n\nChange-Id: I6821819450bc96e4304125ea3b76a0e462e6e33f\nCloses-Bug: #2046549\nRelated-Bug: #2009280\n(cherry picked from commit e618e78edc6293d248a5fa2eb63b3fa636250fca)\n(cherry picked from commit 436e525a970bb991e147a0b4c3ce389a815252c2)\n(cherry picked from commit 47271bb705de445ca5e17ba5e3d503cade2a0959)\n""}]",909098,201bfa5bd21e3436b5882880530d5937b7dca61c,29525,Artem Vasilyev,artem.v.vasilyev,0,"libvirt: stop enabling hyperv feature reenlightenment

The 'reenlightenment' hyperv enlightenment will cause
instances live-migration to fail (KVM currently doesn’t
fully support reenlightenment notifications, see
www.qemu.org/docs/master/system/i386/hyperv.html),
so don't enable it now.

Change-Id: I6821819450bc96e4304125ea3b76a0e462e6e33f
Closes-Bug: #2046549
Related-Bug: #2009280
(cherry picked from commit e618e78edc6293d248a5fa2eb63b3fa636250fca)
(cherry picked from commit 436e525a970bb991e147a0b4c3ce389a815252c2)
(cherry picked from commit 47271bb705de445ca5e17ba5e3d503cade2a0959)
","['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Frequirements~910731,openstack/requirements,master,Idd1ccee476c86cbcd2bc1ae4ceb197ed266d4eda,update constraint for python-barbicanclient to new release 5.7.0,MERGED,2024-03-01 13:52:50.000000000,2024-03-04 18:41:22.000000000,1,1,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,4,"[{'number': 1, 'created': '2024-03-01 13:52:50.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for python-barbicanclient to new release 5.7.0\n\nmeta: version: 5.7.0\nmeta: diff-start: -\nmeta: series: caracal\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I1459d88936420173a85eba1a722c922212b9948a\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: Idd1ccee476c86cbcd2bc1ae4ceb197ed266d4eda\n'}]",910731,624809bceb3b175b57e76cfef256a1c05a1de91e,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for python-barbicanclient to new release 5.7.0

meta: version: 5.7.0
meta: diff-start: -
meta: series: caracal
meta: branch: master
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I1459d88936420173a85eba1a722c922212b9948a
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: Idd1ccee476c86cbcd2bc1ae4ceb197ed266d4eda
",['upper-constraints.txt']
openstack%2Fpython-openstackclient~910910,openstack/python-openstackclient,stable/2023.2,I3eeca1a0296137eef777770bff4993a56e2fcc5c,Check the default role list before adding a new one,MERGED,2024-03-04 14:36:38.000000000,2024-03-04 18:41:17.000000000,11,3,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 27900, 'name': 'Artem Goncharov', 'email': 'artem.goncharov@gmail.com', 'username': 'gtema'}]",,2,"[{'number': 1, 'created': '2024-03-04 14:36:38.000000000', 'files': ['openstackclient/tests/functional/identity/v3/test_role.py'], 'message': 'Check the default role list before adding a new one\n\nThe default role list now adds ""manager"" by default. This new\ndefault role was added in Keystone 24.0.0.0rc1, that includes\n[1].\n\n[1]https://review.opendev.org/c/openstack/keystone/+/822601\n\nStory: #2010923\nTask: #48787\n\nChange-Id: I3eeca1a0296137eef777770bff4993a56e2fcc5c\n(cherry picked from commit 335bfdc38fabbdfac359936cc35ff089662705fe)\n'}]",910910,347133ade62279ec190bc99a935f8b51836b9f64,27900,Artem Goncharov,gtema,0,"Check the default role list before adding a new one

The default role list now adds ""manager"" by default. This new
default role was added in Keystone 24.0.0.0rc1, that includes
[1].

[1]https://review.opendev.org/c/openstack/keystone/+/822601

Story: #2010923
Task: #48787

Change-Id: I3eeca1a0296137eef777770bff4993a56e2fcc5c
(cherry picked from commit 335bfdc38fabbdfac359936cc35ff089662705fe)
",['openstackclient/tests/functional/identity/v3/test_role.py']
openstack%2Fnova~909541,openstack/nova,stable/zed,I2ff4fdecd9dc69de283f0e52e07df1aeaf0a9048,libvirt: Stop unconditionally enabling evmcs,MERGED,2024-02-20 11:51:12.000000000,2024-03-04 18:41:13.000000000,12,2,"[{'_account_id': 4393, 'name': 'Dan Smith', 'email': 'dms@danplanet.com', 'username': 'danms'}, {'_account_id': 11604, 'name': 'sean mooney', 'email': 'smooney@redhat.com', 'username': 'sean-k-mooney'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2024-02-20 11:51:12.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt-enlightenments-stop-unconditionally-enabling-evmcs-993a825641c4b9f3.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'message': 'libvirt: Stop unconditionally enabling evmcs\n\nIn I008841988547573878c4e06e82f0fa55084e51b5 we started enabling a\nbunch of libvirt enlightenments for Windows unconditionally. Turns\nout, the `evmcs` enlightenment only works on Intel hosts, and we broke\nthe ability to run Windows guests on AMD machines. Until we become\nsmarter about conditionally enabling evmcs (with something like traits\nfor host CPU features), just stop enabling it at all.\n\nChange-Id: I2ff4fdecd9dc69de283f0e52e07df1aeaf0a9048\nCloses-bug: 2009280\n(cherry picked from commit 86a35e97d286cbb6e23f8cc7bec5a05f022da0cb)\n(cherry picked from commit 0b7a59ad2812c3501332155211b18f224cd55bca)\n(cherry picked from commit 2bffc53ce8fb5239cb9cbd59f3bbd51577da0c4a)\n'}]",909541,3ef339a383e7e23085a582260badb347d96d8935,1004,Mohammed Naser,mnaser,0,"libvirt: Stop unconditionally enabling evmcs

In I008841988547573878c4e06e82f0fa55084e51b5 we started enabling a
bunch of libvirt enlightenments for Windows unconditionally. Turns
out, the `evmcs` enlightenment only works on Intel hosts, and we broke
the ability to run Windows guests on AMD machines. Until we become
smarter about conditionally enabling evmcs (with something like traits
for host CPU features), just stop enabling it at all.

Change-Id: I2ff4fdecd9dc69de283f0e52e07df1aeaf0a9048
Closes-bug: 2009280
(cherry picked from commit 86a35e97d286cbb6e23f8cc7bec5a05f022da0cb)
(cherry picked from commit 0b7a59ad2812c3501332155211b18f224cd55bca)
(cherry picked from commit 2bffc53ce8fb5239cb9cbd59f3bbd51577da0c4a)
","['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt-enlightenments-stop-unconditionally-enabling-evmcs-993a825641c4b9f3.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']"
openstack%2Fopenstack-ansible-os_neutron~909525,openstack/openstack-ansible-os_neutron,master,Iceab27aa1fdacc8b13f7ef6974b6a9076b8b7cd9,Run neutron OVN agents as neutron user,MERGED,2024-02-20 12:34:57.000000000,2024-03-04 18:21:49.000000000,23,8,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 25023, 'name': 'Jonathan Rosser', 'email': 'jonathan.rosser@rd.bbc.co.uk', 'username': 'jrosser'}, {'_account_id': 31542, 'name': 'Andrew Bonney', 'email': 'andrew.bonney@bbc.co.uk', 'username': 'andrewbonney'}]",,1,"[{'number': 1, 'created': '2024-02-20 12:34:57.000000000', 'files': ['releasenotes/notes/ovsdb_manager_connection-5ea44a5fd9aa789b.yaml', 'templates/neutron_ovn_metadata_agent.ini.j2', 'vars/redhat.yml', 'vars/debian.yml', 'defaults/main.yml', 'vars/main.yml'], 'message': 'Run neutron OVN agents as neutron user\n\nAs of today we run some agents, like neutron-ovn-metadata agent as\nroot user, since it needs access to ovsdb socket, which has 750 permissions\nby default.\n\nWith that, for OVN we already use connection via host:port to the same\novsdb manager, which allows to run it as an arbitrary user.\n\nIn order to align connection methods and to run services with lower\nprivileges\nwe introduce couple of new variables that allow to create valid connection\nstrings for both OpenFlow listeners and regular connection to the manager.\n\nChange-Id: Iceab27aa1fdacc8b13f7ef6974b6a9076b8b7cd9\n'}]",909525,601c66666f0c710fcde632c9b13ad0f4c888bccc,28619,Dmitriy Rabotyagov,noonedeadpunk,0,"Run neutron OVN agents as neutron user

As of today we run some agents, like neutron-ovn-metadata agent as
root user, since it needs access to ovsdb socket, which has 750 permissions
by default.

With that, for OVN we already use connection via host:port to the same
ovsdb manager, which allows to run it as an arbitrary user.

In order to align connection methods and to run services with lower
privileges
we introduce couple of new variables that allow to create valid connection
strings for both OpenFlow listeners and regular connection to the manager.

Change-Id: Iceab27aa1fdacc8b13f7ef6974b6a9076b8b7cd9
","['releasenotes/notes/ovsdb_manager_connection-5ea44a5fd9aa789b.yaml', 'templates/neutron_ovn_metadata_agent.ini.j2', 'vars/redhat.yml', 'vars/debian.yml', 'defaults/main.yml', 'vars/main.yml']"
openstack%2Fpython-manilaclient~859432,openstack/python-manilaclient,master,I05413e9e8b846d725d8fe021daf5d320857aac2f,[OSC] Fix output format for osc share subnet create,MERGED,2022-09-27 12:44:41.000000000,2024-03-04 18:20:40.000000000,18,2,"[{'_account_id': 6413, 'name': 'Victoria Martinez de la Cruz', 'email': 'victoria@redhat.com', 'username': 'vkmc'}, {'_account_id': 16643, 'name': 'Goutham Pacha Ravi', 'email': 'gouthampravi@gmail.com', 'username': 'gouthamr'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 29632, 'name': 'Carlos Eduardo', 'email': 'ces.eduardo98@gmail.com', 'username': 'silvacarlos'}, {'_account_id': 32238, 'name': 'wdd', 'email': 'wangzihao@yovole.com', 'username': 'wangzihao'}, {'_account_id': 32594, 'name': 'Ashley Rodriguez', 'email': 'ashrod98@redhat.com', 'username': 'ashrod98'}]",,28,"[{'number': 7, 'created': '2023-03-26 16:03:51.000000000', 'files': ['manilaclient/tests/functional/osc/test_share_network_subnets.py', 'manilaclient/osc/v2/share_network_subnets.py', 'releasenotes/notes/bug-1989818-fix-share-network-output-format-93d997f0f4a33fab.yaml'], 'message': '[OSC] Fix output format for osc share subnet create\n\nThe format of the osc share network subnet create command\noutput has been updated to return a list of hosts instead\nof a dictionary, as we do for other commands in the client.\nWith this change, we are enhancing the consistency of the\nclient and the readability of the output.\n\nCloses-bug: #1989818\n\nChange-Id: I05413e9e8b846d725d8fe021daf5d320857aac2f\n'}]",859432,799278e644ce3b9578f85ecae546772e4a928cec,35328,Clifford Emeka,emclidon,0,"[OSC] Fix output format for osc share subnet create

The format of the osc share network subnet create command
output has been updated to return a list of hosts instead
of a dictionary, as we do for other commands in the client.
With this change, we are enhancing the consistency of the
client and the readability of the output.

Closes-bug: #1989818

Change-Id: I05413e9e8b846d725d8fe021daf5d320857aac2f
","['manilaclient/tests/functional/osc/test_share_network_subnets.py', 'manilaclient/osc/v2/share_network_subnets.py', 'releasenotes/notes/bug-1989818-fix-share-network-output-format-93d997f0f4a33fab.yaml']"
openstack%2Fswift~819199,openstack/swift,master,Idde58fb9d986aa30fc94eda16e968aa895500174,Updating python testing as per Yoga testing runtime,ABANDONED,2021-11-24 23:43:23.000000000,2024-03-04 17:47:04.000000000,14,63,"[{'_account_id': 8556, 'name': 'Ghanshyam', 'display_name': 'Ghanshyam Maan', 'email': 'gmaan@ghanshyammann.com', 'username': 'ghanshyam'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2021-11-24 23:43:23.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'message': 'Updating python testing as per Yoga testing runtime\n\nYoga testing runtime has been updated with py38 and py39\nas voting and removed the py36 testing. Unit tests update are\nhandled by the job template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/818609\n\nthis commit makes other required changes in fucntional jobs and\nupdate the metadata in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Idde58fb9d986aa30fc94eda16e968aa895500174\n'}]",819199,5910ded95d37be5d38c1a94354755107c39d8baa,8556,Ghanshyam,ghanshyam,0,"Updating python testing as per Yoga testing runtime

Yoga testing runtime has been updated with py38 and py39
as voting and removed the py36 testing. Unit tests update are
handled by the job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/818609

this commit makes other required changes in fucntional jobs and
update the metadata in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Idde58fb9d986aa30fc94eda16e968aa895500174
","['.zuul.yaml', 'setup.cfg', 'tox.ini']"
openstack%2Fpuppet-openstack-integration~910862,openstack/puppet-openstack-integration,master,I9d66d6d094b9a07afc0a52196b56972b723bb7f0,Updated from Puppet OpenStack modules constraints,MERGED,2024-03-03 02:59:26.000000000,2024-03-04 16:43:01.000000000,1,1,"[{'_account_id': 9816, 'name': 'Takashi Kajinami', 'email': 'kajinamit@oss.nttdata.com', 'username': 'kajinamit'}, {'_account_id': 14985, 'name': 'Alex Schultz', 'email': 'aschultz@next-development.com', 'username': 'mwhahaha'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-03 02:59:26.000000000', 'files': ['Puppetfile'], 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I9d66d6d094b9a07afc0a52196b56972b723bb7f0\n'}]",910862,f11a76f14731358dfcb48cabc5f2da14d94296f1,11131,OpenStack Proposal Bot,proposal-bot,1,"Updated from Puppet OpenStack modules constraints

Change-Id: I9d66d6d094b9a07afc0a52196b56972b723bb7f0
",['Puppetfile']
openstack%2Fpuppet-cinder~910867,openstack/puppet-cinder,master,I3953eea75f00c44363870c318f960b7299c65e7c,Refactor resource dependencies,MERGED,2024-03-04 00:44:03.000000000,2024-03-04 16:30:43.000000000,26,20,"[{'_account_id': 14985, 'name': 'Alex Schultz', 'email': 'aschultz@next-development.com', 'username': 'mwhahaha'}, {'_account_id': 16137, 'name': 'Tobias Urdin', 'email': 'tobias.urdin@binero.com', 'username': 'tobasco'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-04 00:44:03.000000000', 'files': ['spec/classes/cinder_policy_spec.rb', 'manifests/api.pp', 'manifests/db.pp', 'manifests/deps.pp', 'manifests/coordination.pp', 'manifests/keystone/authtoken.pp', 'manifests/policy.pp'], 'message': 'Refactor resource dependencies\n\nThis refactors resource dependencies to improve the following points.\n\n - Avoid unnecessary dependencies across services. For example aodh\n   service does not require cinder db.\n\n - Restart only api service when config files like paste.ini, which\n   are used only be api service is changed.\n\nChange-Id: I3953eea75f00c44363870c318f960b7299c65e7c\n'}]",910867,a5fb242e23e261c59c66c23ece81685658f8ce0f,9816,Takashi Kajinami,kajinamit,0,"Refactor resource dependencies

This refactors resource dependencies to improve the following points.

 - Avoid unnecessary dependencies across services. For example aodh
   service does not require cinder db.

 - Restart only api service when config files like paste.ini, which
   are used only be api service is changed.

Change-Id: I3953eea75f00c44363870c318f960b7299c65e7c
","['spec/classes/cinder_policy_spec.rb', 'manifests/api.pp', 'manifests/db.pp', 'manifests/deps.pp', 'manifests/coordination.pp', 'manifests/keystone/authtoken.pp', 'manifests/policy.pp']"
openstack%2Fpuppet-manila~910869,openstack/puppet-manila,master,I33f0123caa057169be0e7eee6c17d1d4d387f87f,Refactor resource dependencies,MERGED,2024-03-04 00:53:24.000000000,2024-03-04 16:27:19.000000000,29,20,"[{'_account_id': 14985, 'name': 'Alex Schultz', 'email': 'aschultz@next-development.com', 'username': 'mwhahaha'}, {'_account_id': 16137, 'name': 'Tobias Urdin', 'email': 'tobias.urdin@binero.com', 'username': 'tobasco'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-04 00:53:24.000000000', 'files': ['manifests/api.pp', 'manifests/db.pp', 'manifests/deps.pp', 'manifests/coordination.pp', 'manifests/keystone/authtoken.pp', 'manifests/policy.pp'], 'message': 'Refactor resource dependencies\n\nThis refactors resource dependencies to improve the following points.\n\n - Avoid unnecessary dependencies across services. For example aodh\n   service does not require cinder db.\n\n - Restart only api service when config files like paste.ini, which\n   are used only be api service is changed.\n\nChange-Id: I33f0123caa057169be0e7eee6c17d1d4d387f87f\n'}]",910869,6dc78a00e3f12537d959dcbc17d8bbafb904e9f7,9816,Takashi Kajinami,kajinamit,0,"Refactor resource dependencies

This refactors resource dependencies to improve the following points.

 - Avoid unnecessary dependencies across services. For example aodh
   service does not require cinder db.

 - Restart only api service when config files like paste.ini, which
   are used only be api service is changed.

Change-Id: I33f0123caa057169be0e7eee6c17d1d4d387f87f
","['manifests/api.pp', 'manifests/db.pp', 'manifests/deps.pp', 'manifests/coordination.pp', 'manifests/keystone/authtoken.pp', 'manifests/policy.pp']"
openstack%2Fpuppet-keystone~910652,openstack/puppet-keystone,master,Ic4f43215ea90c6b71fe4225e2dfa6a6a3abf6869,Refactor resource dependencies,MERGED,2024-02-29 17:36:15.000000000,2024-03-04 16:27:14.000000000,14,17,"[{'_account_id': 14985, 'name': 'Alex Schultz', 'email': 'aschultz@next-development.com', 'username': 'mwhahaha'}, {'_account_id': 16137, 'name': 'Tobias Urdin', 'email': 'tobias.urdin@binero.com', 'username': 'tobasco'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 36201, 'name': 'Shanjiayi', 'email': 'shanjiayi@yovole.com', 'username': 'Shanjiayi'}]",,1,"[{'number': 2, 'created': '2024-03-01 01:29:24.000000000', 'files': ['spec/classes/keystone_policy_spec.rb', 'manifests/db.pp', 'manifests/init.pp', 'manifests/cache.pp', 'manifests/deps.pp', 'manifests/policy.pp'], 'message': 'Refactor resource dependencies\n\nThis refactors resource dependencies to improve the following points.\n\n - Avoid unnecessary dependencies across services. For example aodh\n   service does not require cinder db.\n\n - Restart keystone on change in uwsgi only when a standalone service\n   is used. uwsgi config is not used when keystone is run by apache.\n\nChange-Id: Ic4f43215ea90c6b71fe4225e2dfa6a6a3abf6869\n'}]",910652,9fb48f7526397cb038a01e76c7a99a33b5885478,9816,Takashi Kajinami,kajinamit,0,"Refactor resource dependencies

This refactors resource dependencies to improve the following points.

 - Avoid unnecessary dependencies across services. For example aodh
   service does not require cinder db.

 - Restart keystone on change in uwsgi only when a standalone service
   is used. uwsgi config is not used when keystone is run by apache.

Change-Id: Ic4f43215ea90c6b71fe4225e2dfa6a6a3abf6869
","['spec/classes/keystone_policy_spec.rb', 'manifests/db.pp', 'manifests/init.pp', 'manifests/cache.pp', 'manifests/deps.pp', 'manifests/policy.pp']"
openstack%2Fpuppet-octavia~910870,openstack/puppet-octavia,master,Ibb4ec743e772716153eefe07ac36b888c0fb2b84,Refactor resource dependencies,MERGED,2024-03-04 01:06:48.000000000,2024-03-04 16:14:37.000000000,15,11,"[{'_account_id': 14985, 'name': 'Alex Schultz', 'email': 'aschultz@next-development.com', 'username': 'mwhahaha'}, {'_account_id': 16137, 'name': 'Tobias Urdin', 'email': 'tobias.urdin@binero.com', 'username': 'tobasco'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 3, 'created': '2024-03-04 07:33:59.000000000', 'files': ['manifests/api.pp', 'manifests/db.pp', 'manifests/deps.pp', 'manifests/keystone/authtoken.pp', 'manifests/policy.pp'], 'message': 'Refactor resource dependencies\n\nThis refactors resource dependencies to improve the following points.\n\n - Avoid unnecessary dependencies across services. For example aodh\n   service does not require cinder db.\n\n - Restart only api service when config files like paste.ini, which\n   are used only be api service is changed.\n\nChange-Id: Ibb4ec743e772716153eefe07ac36b888c0fb2b84\n'}]",910870,9f4d1d61327bf87963edf3c637c65e1920fa9421,9816,Takashi Kajinami,kajinamit,0,"Refactor resource dependencies

This refactors resource dependencies to improve the following points.

 - Avoid unnecessary dependencies across services. For example aodh
   service does not require cinder db.

 - Restart only api service when config files like paste.ini, which
   are used only be api service is changed.

Change-Id: Ibb4ec743e772716153eefe07ac36b888c0fb2b84
","['manifests/api.pp', 'manifests/db.pp', 'manifests/deps.pp', 'manifests/keystone/authtoken.pp', 'manifests/policy.pp']"
openstack%2Fcharm-nova-cloud-controller~909027,openstack/charm-nova-cloud-controller,stable/ussuri,Ic9e4657453d8f53d1ecbee23475c7b11549ebc14,Ensure mgmt network hostname and fqdn in known_hosts,MERGED,2024-02-14 17:09:28.000000000,2024-03-04 16:06:35.000000000,45,10,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 19298, 'name': 'Nicolas Bock', 'email': 'nicolas.bock@canonical.com', 'username': 'nicolasbock'}, {'_account_id': 20648, 'name': 'Canonical CI', 'email': 'uosci-testing-bot@ubuntu.com', 'username': 'uosci-testing-bot', 'tags': ['SERVICE_USER']}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,5,"[{'number': 3, 'created': '2024-03-04 11:49:23.000000000', 'files': ['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_utils.py', 'hooks/nova_cc_hooks.py'], 'message': 'Ensure mgmt network hostname and fqdn in known_hosts\n\nThe cloud-compute relation uses the private-address setting to\nreflect the hostname/address to be used for vm migrations. This\ncan be the default management network or an alternate one. When\nthis charm populates ssh known_hosts entries for compute hosts\nit needs to ensure hostname, address and fqdn for the mgmt network\nis included so that Nova resize operations can work if they use\nthe hostname from the db (which will always be from the mgmt\nnetwork).\n\nChange-Id: Ic9e4657453d8f53d1ecbee23475c7b11549ebc14\nCloses-Bug: #1969971\n'}]",909027,f2e57d0681c9ea34da2518834a6d5a198996ce6b,6737,Edward Hope-Morley,hopem,0,"Ensure mgmt network hostname and fqdn in known_hosts

The cloud-compute relation uses the private-address setting to
reflect the hostname/address to be used for vm migrations. This
can be the default management network or an alternate one. When
this charm populates ssh known_hosts entries for compute hosts
it needs to ensure hostname, address and fqdn for the mgmt network
is included so that Nova resize operations can work if they use
the hostname from the db (which will always be from the mgmt
network).

Change-Id: Ic9e4657453d8f53d1ecbee23475c7b11549ebc14
Closes-Bug: #1969971
","['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_utils.py', 'hooks/nova_cc_hooks.py']"
openstack%2Fansible-role-python_venv_build~910477,openstack/ansible-role-python_venv_build,master,I0c14510eb625d74a654a6398387ab74c4355a4e8,Workaround ansible unsafe text templating bug,MERGED,2024-02-28 08:53:11.000000000,2024-03-04 16:04:37.000000000,4,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28619, 'name': 'Dmitriy Rabotyagov', 'email': 'noonedeadpunk@gmail.com', 'username': 'noonedeadpunk'}, {'_account_id': 31542, 'name': 'Andrew Bonney', 'email': 'andrew.bonney@bbc.co.uk', 'username': 'andrewbonney'}]",,2,"[{'number': 1, 'created': '2024-02-28 08:53:11.000000000', 'files': ['tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml'], 'message': ""Workaround ansible unsafe text templating bug\n\nSee https://github.com/ansible/ansible/issues/82598\n\nSetting the 'use' parameter to something other than 'auto'\nshould cause a different code path to be use in the package\naction plugin which could avoid the templating unsafe text\ninside the plugin.\n\nChange-Id: I0c14510eb625d74a654a6398387ab74c4355a4e8\n""}]",910477,d80a61f81089338e5dc9a2cfd98ee3d322014c3a,25023,Jonathan Rosser,jrosser,0,"Workaround ansible unsafe text templating bug

See https://github.com/ansible/ansible/issues/82598

Setting the 'use' parameter to something other than 'auto'
should cause a different code path to be use in the package
action plugin which could avoid the templating unsafe text
inside the plugin.

Change-Id: I0c14510eb625d74a654a6398387ab74c4355a4e8
","['tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml']"
openstack%2Fpbr~910961,openstack/pbr,master,I9c4b4f854188fe885ac1030619ada5feaf3e2536,Add more train-eol overrides for python2 tempest-full,ABANDONED,2024-03-04 15:56:30.000000000,2024-03-04 16:01:46.000000000,14,3,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,2,"[{'number': 1, 'created': '2024-03-04 15:56:30.000000000', 'files': ['.zuul.yaml'], 'message': 'Add more train-eol overrides for python2 tempest-full\n\nThe train EOL has largely completed so we need to add more train-eol\ncheckout overrides to the tempest-full job.\n\nThis job is primarily used to ensure PBR maintains compatibility with\npython2 projects. Now that swift is the main thing with python2\ncompatibility we might consider replacing this job with a swift install\nand functional test instead.\n\nChange-Id: I9c4b4f854188fe885ac1030619ada5feaf3e2536\n'}]",910961,a20fe5f4fabd1cf237f4a4bc441da741c2299675,4146,Clark Boylan,cboylan,0,"Add more train-eol overrides for python2 tempest-full

The train EOL has largely completed so we need to add more train-eol
checkout overrides to the tempest-full job.

This job is primarily used to ensure PBR maintains compatibility with
python2 projects. Now that swift is the main thing with python2
compatibility we might consider replacing this job with a swift install
and functional test instead.

Change-Id: I9c4b4f854188fe885ac1030619ada5feaf3e2536
",['.zuul.yaml']
openstack%2Fpuppet-heat~910686,openstack/puppet-heat,master,I582474abb94fc14c477ae352318b46b58882fb35,cache: Support options for SASL mechanism in memcached,MERGED,2024-03-01 01:50:35.000000000,2024-03-04 15:32:47.000000000,37,5,"[{'_account_id': 14985, 'name': 'Alex Schultz', 'email': 'aschultz@next-development.com', 'username': 'mwhahaha'}, {'_account_id': 16137, 'name': 'Tobias Urdin', 'email': 'tobias.urdin@binero.com', 'username': 'tobasco'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-01 01:50:35.000000000', 'files': ['spec/classes/heat_cache_spec.rb', 'releasenotes/notes/cache-memcache-sasl-fe1b7183e96ec070.yaml', 'manifests/cache.pp'], 'message': 'cache: Support options for SASL mechanism in memcached\n\nDepends-on: https://review.opendev.org/910122\nChange-Id: I582474abb94fc14c477ae352318b46b58882fb35\n'}]",910686,88a97f1646f737a91f5ad186c9907c511c7e65b2,9816,Takashi Kajinami,kajinamit,0,"cache: Support options for SASL mechanism in memcached

Depends-on: https://review.opendev.org/910122
Change-Id: I582474abb94fc14c477ae352318b46b58882fb35
","['spec/classes/heat_cache_spec.rb', 'releasenotes/notes/cache-memcache-sasl-fe1b7183e96ec070.yaml', 'manifests/cache.pp']"
openstack%2Frequirements~910881,openstack/requirements,master,Id2b4746b783b30251204f318c75f7ee5e620b284,update constraint for reno to new release 4.1.0,MERGED,2024-03-04 07:43:20.000000000,2024-03-04 15:27:51.000000000,1,1,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-04 07:43:20.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for reno to new release 4.1.0\n\nmeta: version: 4.1.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Dr. Jens Harbott <harbott@osism.tech>\nmeta: release:Commit: Dr. Jens Harbott <harbott@osism.tech>\nmeta: release:Change-Id: I8c6cf16bea926da5c76739523e1001ef8e848730\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Dr. Jens Harbott <frickler@offenerstapel.de>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: Id2b4746b783b30251204f318c75f7ee5e620b284\n'}]",910881,fd3aba6f12edaabc8400cb962652e528cd14bc42,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for reno to new release 4.1.0

meta: version: 4.1.0
meta: diff-start: -
meta: series: independent
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Dr. Jens Harbott <harbott@osism.tech>
meta: release:Commit: Dr. Jens Harbott <harbott@osism.tech>
meta: release:Change-Id: I8c6cf16bea926da5c76739523e1001ef8e848730
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Dr. Jens Harbott <frickler@offenerstapel.de>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: Id2b4746b783b30251204f318c75f7ee5e620b284
",['upper-constraints.txt']
openstack%2Fcloudkitty~910336,openstack/cloudkitty,master,Ifcad28239b6907b8ca396d348cbfa54185355f68,Replace usage of LegacyEngineFacade,MERGED,2024-02-27 12:41:15.000000000,2024-03-04 15:03:44.000000000,589,644,"[{'_account_id': 15197, 'name': 'Pierre Riteau', 'email': 'pierre@stackhpc.com', 'username': 'priteau', 'status': 'StackHPC'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 25277, 'name': 'Mariusz Karpiarz', 'email': 'mariusz.karpiarz@codethink.co.uk', 'username': 'mkarpiarz'}, {'_account_id': 28356, 'name': 'Rafael Weingartner', 'email': 'rafael@apache.org', 'username': 'rafaelweingartner'}]",,77,"[{'number': 8, 'created': '2024-02-28 14:59:42.000000000', 'files': ['cloudkitty/rating/hash/db/sqlalchemy/alembic/models/f8c799db4aa0_fix_unnamed_constraints.py', 'cloudkitty/rating/hash/db/sqlalchemy/api.py', 'cloudkitty/rating/hash/db/sqlalchemy/models.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/api.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/models.py', 'cloudkitty/storage/v1/sqlalchemy/__init__.py', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/storage_state/__init__.py', 'cloudkitty/common/db/alembic/env.py', 'cloudkitty/storage/v1/hybrid/__init__.py', 'cloudkitty/db/__init__.py', 'cloudkitty/tests/__init__.py', 'cloudkitty/tests/test_storage_state.py', 'cloudkitty/db/sqlalchemy/api.py'], 'message': 'Replace usage of LegacyEngineFacade\n\nSwitch to using oslo_db.sqlalchemy.enginefacade instead, as this is\nrequired for SQLAlchemy 2.x support.\n\nChange-Id: Ifcad28239b6907b8ca396d348cbfa54185355f68\n'}]",910336,f2c103535e554c84fbc6f14aefee45ba84f23ca8,35263,Matt Crees,mattcrees,0,"Replace usage of LegacyEngineFacade

Switch to using oslo_db.sqlalchemy.enginefacade instead, as this is
required for SQLAlchemy 2.x support.

Change-Id: Ifcad28239b6907b8ca396d348cbfa54185355f68
","['cloudkitty/rating/hash/db/sqlalchemy/alembic/models/f8c799db4aa0_fix_unnamed_constraints.py', 'cloudkitty/rating/hash/db/sqlalchemy/api.py', 'cloudkitty/rating/hash/db/sqlalchemy/models.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/api.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/models.py', 'cloudkitty/storage/v1/sqlalchemy/__init__.py', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/storage_state/__init__.py', 'cloudkitty/common/db/alembic/env.py', 'cloudkitty/storage/v1/hybrid/__init__.py', 'cloudkitty/db/__init__.py', 'cloudkitty/tests/__init__.py', 'cloudkitty/tests/test_storage_state.py', 'cloudkitty/db/sqlalchemy/api.py']"
openstack%2Fkayobe~909913,openstack/kayobe,master,I5d85e751b490ab1e39e417ff8797ca8f8688590b,Skip buggy release of docker PyPI package,MERGED,2024-02-22 16:51:20.000000000,2024-03-04 14:57:01.000000000,15,3,"[{'_account_id': 14200, 'name': 'Maksim Malchuk', 'email': 'maksim.malchuk@gmail.com', 'username': 'mmalchuk'}, {'_account_id': 14826, 'name': 'Mark Goddard', 'email': 'markgoddard86@gmail.com', 'username': 'mgoddard'}, {'_account_id': 15197, 'name': 'Pierre Riteau', 'email': 'pierre@stackhpc.com', 'username': 'priteau', 'status': 'StackHPC'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 22629, 'name': 'Michal Nasiadka', 'email': 'mnasiadka@gmail.com', 'username': 'mnasiadka'}, {'_account_id': 28048, 'name': 'Will Szumski', 'email': 'will@stackhpc.com', 'username': 'jovial'}, {'_account_id': 36216, 'name': 'WangYun', 'email': 'wangyun@yovole.com', 'username': 'wangyun'}]",,6,"[{'number': 7, 'created': '2024-03-01 19:09:58.000000000', 'files': ['ansible/roles/kolla/tasks/install.yml', 'zuul.d/jobs.yaml', 'releasenotes/notes/fix-issue-building-images-when-docker-registry-contains-port-356dbaeeb8dd1e29.yaml'], 'message': 'Skip buggy release of docker PyPI package\n\nThe tag regex is buggy and fails if the docker registry contains a port\nnumber[1].\n\n[1] https://github.com/docker/docker-py/issues/3195\n\nChange-Id: I5d85e751b490ab1e39e417ff8797ca8f8688590b\nCloses-Bug: #2054715\n'}]",909913,9c1951478f06a9244b5bdc5fbd356b3872543d24,28048,Will Szumski,jovial,0,"Skip buggy release of docker PyPI package

The tag regex is buggy and fails if the docker registry contains a port
number[1].

[1] https://github.com/docker/docker-py/issues/3195

Change-Id: I5d85e751b490ab1e39e417ff8797ca8f8688590b
Closes-Bug: #2054715
","['ansible/roles/kolla/tasks/install.yml', 'zuul.d/jobs.yaml', 'releasenotes/notes/fix-issue-building-images-when-docker-registry-contains-port-356dbaeeb8dd1e29.yaml']"
openstack%2Frequirements~910744,openstack/requirements,master,I6b656795cf4ec0692c90755a598b419eac3d6311,update constraint for python-muranoclient to new release 2.8.0,MERGED,2024-03-01 14:08:36.000000000,2024-03-04 14:40:47.000000000,1,1,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-01 14:08:36.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for python-muranoclient to new release 2.8.0\n\nmeta: version: 2.8.0\nmeta: diff-start: -\nmeta: series: caracal\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I51489c0a4693f04bf565164efe9c1087c82265d7\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I6b656795cf4ec0692c90755a598b419eac3d6311\n'}]",910744,6ab063fd2a31673e0875c92aef805373d3fe96d5,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for python-muranoclient to new release 2.8.0

meta: version: 2.8.0
meta: diff-start: -
meta: series: caracal
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I51489c0a4693f04bf565164efe9c1087c82265d7
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I6b656795cf4ec0692c90755a598b419eac3d6311
",['upper-constraints.txt']
openstack%2Fkuryr-kubernetes~892331,openstack/kuryr-kubernetes,master,I2799170cd37424bc902168bbc02c82eff50724ff,DNM: Test gate with GLOBAL_VENV=true,ABANDONED,2023-08-22 13:39:05.000000000,2024-03-04 14:36:20.000000000,1,0,"[{'_account_id': 11600, 'name': 'Michał Dulko', 'email': 'michal.dulko@gmail.com', 'username': 'dulek'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,4,"[{'number': 1, 'created': '2023-08-22 13:39:05.000000000', 'files': ['devstack/lib/kuryr_kubernetes'], 'message': 'DNM: Test gate with GLOBAL_VENV=true\n\nThis patch tests to ensure gate jobs of kuryr-kubernetes are not\nbroken by devstack change [1] which change to uses venv.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/558930\n\nChange-Id: I2799170cd37424bc902168bbc02c82eff50724ff\n'}]",892331,2dc9206102892cc2eec77a408076fe5fe92e79a3,31857,Ayumu Ueha,ueha,0,"DNM: Test gate with GLOBAL_VENV=true

This patch tests to ensure gate jobs of kuryr-kubernetes are not
broken by devstack change [1] which change to uses venv.

[1] https://review.opendev.org/c/openstack/devstack/+/558930

Change-Id: I2799170cd37424bc902168bbc02c82eff50724ff
",['devstack/lib/kuryr_kubernetes']
openstack%2Fironic~910529,openstack/ironic,master,I5fcedfc89ac18025c178e8a5f6750802005d1507,"Don't import sushy conditionally, it's a requirement",MERGED,2024-02-28 15:56:40.000000000,2024-03-04 14:34:42.000000000,112,275,"[{'_account_id': 11655, 'name': 'Julia Kreger', 'email': 'juliaashleykreger@gmail.com', 'username': 'jkreger', 'status': 'Flying to the moon with a Jetpack!'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 23851, 'name': 'Riccardo Pittau', 'email': 'elfosardo@gmail.com', 'username': 'elfosardo'}]",,3,"[{'number': 1, 'created': '2024-02-28 15:56:40.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/tests/unit/drivers/modules/drac/test_inspect.py', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/tests/unit/drivers/modules/drac/test_boot.py', 'ironic/tests/unit/drivers/modules/redfish/test_power.py', 'ironic/tests/unit/drivers/modules/redfish/test_utils.py', 'ironic/drivers/modules/drac/boot.py', 'ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_inspect.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'ironic/drivers/modules/drac/inspect.py', 'ironic/drivers/modules/redfish/management.py', 'ironic/drivers/modules/drac/utils.py', 'ironic/drivers/modules/redfish/boot.py', 'ironic/drivers/modules/redfish/power.py', 'ironic/tests/unit/drivers/modules/redfish/test_vendor.py', 'ironic/tests/unit/drivers/modules/redfish/test_firmware.py', 'ironic/tests/unit/drivers/modules/test_inspect_utils.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py', 'ironic/drivers/modules/redfish/firmware.py', 'ironic/tests/unit/drivers/modules/redfish/test_bios.py', 'ironic/drivers/modules/redfish/bios.py', 'ironic/drivers/modules/redfish/utils.py', 'ironic/tests/unit/drivers/modules/drac/test_utils.py', 'ironic/drivers/modules/drac/management.py', 'ironic/drivers/modules/redfish/vendor.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/redfish/inspect.py'], 'message': ""Don't import sushy conditionally, it's a requirement\n\nChange-Id: I5fcedfc89ac18025c178e8a5f6750802005d1507\n""}]",910529,803d08cb88fc887b91572bc2d5517be7f1f790d2,10239,Dmitry Tantsur,dtantsur,0,"Don't import sushy conditionally, it's a requirement

Change-Id: I5fcedfc89ac18025c178e8a5f6750802005d1507
","['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/tests/unit/drivers/modules/drac/test_inspect.py', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/tests/unit/drivers/modules/drac/test_boot.py', 'ironic/tests/unit/drivers/modules/redfish/test_power.py', 'ironic/tests/unit/drivers/modules/redfish/test_utils.py', 'ironic/drivers/modules/drac/boot.py', 'ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_inspect.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'ironic/drivers/modules/drac/inspect.py', 'ironic/drivers/modules/redfish/management.py', 'ironic/drivers/modules/drac/utils.py', 'ironic/drivers/modules/redfish/boot.py', 'ironic/drivers/modules/redfish/power.py', 'ironic/tests/unit/drivers/modules/redfish/test_vendor.py', 'ironic/tests/unit/drivers/modules/redfish/test_firmware.py', 'ironic/tests/unit/drivers/modules/test_inspect_utils.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py', 'ironic/drivers/modules/redfish/firmware.py', 'ironic/tests/unit/drivers/modules/redfish/test_bios.py', 'ironic/drivers/modules/redfish/bios.py', 'ironic/drivers/modules/redfish/utils.py', 'ironic/tests/unit/drivers/modules/drac/test_utils.py', 'ironic/drivers/modules/drac/management.py', 'ironic/drivers/modules/redfish/vendor.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/redfish/inspect.py']"
openstack%2Fmanila-tempest-plugin~910909,openstack/manila-tempest-plugin,master,I4d274869e5e9e7800be44bccf7a2641b4a5febe7,Replace period to underscore,ABANDONED,2024-03-04 14:20:39.000000000,2024-03-04 14:34:31.000000000,8,8,"[{'_account_id': 10459, 'name': 'Luigi Toscano', 'email': 'ltoscano@redhat.com', 'username': 'ltoscano'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 30025, 'name': 'Vida Haririan', 'display_name': 'Vida Haririan', 'email': 'vhariria@redhat.com', 'username': 'vhari'}]",,1,"[{'number': 1, 'created': '2024-03-04 14:20:39.000000000', 'files': ['manila_tempest_tests/tests/api/admin/test_share_types.py', 'manila_tempest_tests/tests/api/test_share_types_negative.py'], 'message': 'Replace period to underscore\n\nAs the ddt is replacing . for _\nAs a follow up to Iaf39f4a83e383fb9db7f519136b9169352ff84af\n\nChange-Id: I4d274869e5e9e7800be44bccf7a2641b4a5febe7\n(cherry picked from commit 8125ca48c33e987cb7ddf726a33390f01a30ccc6)\n'}]",910909,b2bc4dcabf00f2e2bea18a4ae73761650da1f605,32704,Alfredo Garcia,alfrgarc,0,"Replace period to underscore

As the ddt is replacing . for _
As a follow up to Iaf39f4a83e383fb9db7f519136b9169352ff84af

Change-Id: I4d274869e5e9e7800be44bccf7a2641b4a5febe7
(cherry picked from commit 8125ca48c33e987cb7ddf726a33390f01a30ccc6)
","['manila_tempest_tests/tests/api/admin/test_share_types.py', 'manila_tempest_tests/tests/api/test_share_types_negative.py']"
openstack%2Frequirements~910743,openstack/requirements,master,I82e69dcd96deb38c29dc380c346b5cc9ccee2117,update constraint for python-blazarclient to new release 4.0.1,MERGED,2024-03-01 14:03:49.000000000,2024-03-04 14:27:06.000000000,1,1,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-01 14:03:49.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for python-blazarclient to new release 4.0.1\n\nmeta: version: 4.0.1\nmeta: diff-start: -\nmeta: series: caracal\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I46a865b1e17c3fbbda2999124eb081460e715204\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Pierre Riteau <pierre@stackhpc.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: I82e69dcd96deb38c29dc380c346b5cc9ccee2117\n'}]",910743,044bdc4a7484c0df4a2efe1495d6cf73bf3c23f0,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for python-blazarclient to new release 4.0.1

meta: version: 4.0.1
meta: diff-start: -
meta: series: caracal
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I46a865b1e17c3fbbda2999124eb081460e715204
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Pierre Riteau <pierre@stackhpc.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: I82e69dcd96deb38c29dc380c346b5cc9ccee2117
",['upper-constraints.txt']
openstack%2Frequirements~910733,openstack/requirements,master,I3325ffc336e8fd1217eeb9c5396142b9f6632818,update constraint for python-glanceclient to new release 4.5.0,MERGED,2024-03-01 13:57:01.000000000,2024-03-04 14:25:55.000000000,1,1,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-01 13:57:01.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for python-glanceclient to new release 4.5.0\n\nmeta: version: 4.5.0\nmeta: diff-start: -\nmeta: series: caracal\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: Ib339146196633dbc8b126eb58045122ac1b909b5\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: I3325ffc336e8fd1217eeb9c5396142b9f6632818\n'}]",910733,34d636d954d5f15622cfbf4b066d81111ac2582d,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for python-glanceclient to new release 4.5.0

meta: version: 4.5.0
meta: diff-start: -
meta: series: caracal
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Ib339146196633dbc8b126eb58045122ac1b909b5
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: I3325ffc336e8fd1217eeb9c5396142b9f6632818
",['upper-constraints.txt']
openstack%2Frequirements~910732,openstack/requirements,master,Ia826c98ae4080b80d8a1560f3fdaacbee2762658,update constraint for osc-placement to new release 4.3.0,MERGED,2024-03-01 13:54:45.000000000,2024-03-04 14:25:01.000000000,1,1,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2024-03-01 13:54:45.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for osc-placement to new release 4.3.0\n\nmeta: version: 4.3.0\nmeta: diff-start: -\nmeta: series: caracal\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: If6ef01ad20916e1e8e70ff7088e1d526401d48b4\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Ia826c98ae4080b80d8a1560f3fdaacbee2762658\n'}]",910732,c6cf07871844edcf6e8dbd87a7b5ca15045fa968,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for osc-placement to new release 4.3.0

meta: version: 4.3.0
meta: diff-start: -
meta: series: caracal
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: If6ef01ad20916e1e8e70ff7088e1d526401d48b4
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Ia826c98ae4080b80d8a1560f3fdaacbee2762658
",['upper-constraints.txt']
openstack%2Fneutron~910222,openstack/neutron,master,Ia2f70363963dca9f035eff8d1ff0c399dc8b9239,[OVN] Make mandatory the router name in the LRP.external_ids,MERGED,2024-02-26 11:52:48.000000000,2024-03-04 14:24:41.000000000,49,31,"[{'_account_id': 1131, 'name': 'Brian Haley', 'email': 'haleyb.dev@gmail.com', 'username': 'brian-haley'}, {'_account_id': 4694, 'name': 'Miguel Lavalle', 'email': 'miguel@mlavalle.com', 'username': 'minsel'}, {'_account_id': 9845, 'name': 'Arista CI', 'email': 'arista-openstack-test@aristanetworks.com', 'username': 'arista-test', 'tags': ['SERVICE_USER']}, {'_account_id': 11975, 'name': 'Slawek Kaplonski', 'email': 'skaplons@redhat.com', 'username': 'slaweq'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,9,"[{'number': 7, 'created': '2024-03-04 08:10:48.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/ovn_l3/service_providers/ovn.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'message': '[OVN] Make mandatory the router name in the LRP.external_ids\n\nThe router name will be always defined in the ""Logical_Router_Port""\nexternal_ids field.\n\nRelated-Bug: #2052821\nChange-Id: Ia2f70363963dca9f035eff8d1ff0c399dc8b9239\n'}]",910222,b5aecfeff89d4bd5441c91f8ba2b665d9d12cfca,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,0,"[OVN] Make mandatory the router name in the LRP.external_ids

The router name will be always defined in the ""Logical_Router_Port""
external_ids field.

Related-Bug: #2052821
Change-Id: Ia2f70363963dca9f035eff8d1ff0c399dc8b9239
","['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/ovn_l3/service_providers/ovn.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']"
openstack%2Fglance~910460,openstack/glance,master,I8cc1420e8b16ce0bc74314fd7b8aabf6e133abd8,Prepare for castellan 4.4.0,MERGED,2024-02-28 02:31:37.000000000,2024-03-04 14:24:39.000000000,3,1,"[{'_account_id': 5314, 'name': 'Brian Rosmaita', 'email': 'rosmaita.fossdev@gmail.com', 'username': 'brian-rosmaita'}, {'_account_id': 9303, 'name': 'Abhishek Kekane', 'email': 'akekane@redhat.com', 'username': 'abhishekkekane'}, {'_account_id': 16339, 'name': 'Cyril Lopez', 'email': 'cylopez@redhat.com', 'username': 'cylopez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 31245, 'name': 'Daniel Bengtsson', 'email': 'dbengt@redhat.com', 'username': 'damani42'}]",,2,"[{'number': 1, 'created': '2024-02-28 02:31:37.000000000', 'files': ['glance/tests/unit/v2/test_images_resource.py'], 'message': 'Prepare for castellan 4.4.0\n\nIn castellan 4.4.0, we fixed the wrong exception MockKeyManager.get\nraised in case the requested key does not exist. This change interferes\nwith the way one unit test case ensure a key is gone.\n\nThis replaces the asserted exception by generic Exception so that we\ncan unblock u-c bump now. We can later replace it by the specific and\ncorrect exception (ManagedObjectNotFoundError) once castellan 4.4.0 is\npulled to u-c.\n\n[1] 2cc410f56e7275d982bca95aa65cd11e22fc7c3c\n\nChange-Id: I8cc1420e8b16ce0bc74314fd7b8aabf6e133abd8\n'}]",910460,1e683483e72dfc25da81d9b376cf6963f87b0af7,9816,Takashi Kajinami,kajinamit,0,"Prepare for castellan 4.4.0

In castellan 4.4.0, we fixed the wrong exception MockKeyManager.get
raised in case the requested key does not exist. This change interferes
with the way one unit test case ensure a key is gone.

This replaces the asserted exception by generic Exception so that we
can unblock u-c bump now. We can later replace it by the specific and
correct exception (ManagedObjectNotFoundError) once castellan 4.4.0 is
pulled to u-c.

[1] 2cc410f56e7275d982bca95aa65cd11e22fc7c3c

Change-Id: I8cc1420e8b16ce0bc74314fd7b8aabf6e133abd8
",['glance/tests/unit/v2/test_images_resource.py']
openstack%2Frequirements~910747,openstack/requirements,master,I08a69810ab5541240921163dc8b1d0c3d5948d45,update constraint for python-mistralclient to new release 5.2.0,MERGED,2024-03-01 14:27:17.000000000,2024-03-04 14:24:18.000000000,1,1,"[{'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 2, 'created': '2024-03-04 08:50:51.000000000', 'files': ['upper-constraints.txt'], 'message': 'update constraint for python-mistralclient to new release 5.2.0\n\nmeta: version: 5.2.0\nmeta: diff-start: -\nmeta: series: caracal\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I45ccfe93e22bf320868f8dcb13dfb21800bbc14d\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: I08a69810ab5541240921163dc8b1d0c3d5948d45\n'}]",910747,caeed15e6eeae93a368d8a36bcbd31a8642f8680,11131,OpenStack Proposal Bot,proposal-bot,1,"update constraint for python-mistralclient to new release 5.2.0

meta: version: 5.2.0
meta: diff-start: -
meta: series: caracal
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I45ccfe93e22bf320868f8dcb13dfb21800bbc14d
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: I08a69810ab5541240921163dc8b1d0c3d5948d45
",['upper-constraints.txt']
openstack%2Fopenstack-ansible-ops~906363,openstack/openstack-ansible-ops,master,I3a7ee79c10c39cb805ed2134b21055d63786663d,Add hook playbook install and test magnum capi driver,MERGED,2024-01-23 12:14:26.000000000,2024-03-04 14:04:08.000000000,40,1,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 28619, 'name': 'Dmitriy Rabotyagov', 'email': 'noonedeadpunk@gmail.com', 'username': 'noonedeadpunk'}, {'_account_id': 31542, 'name': 'Andrew Bonney', 'email': 'andrew.bonney@bbc.co.uk', 'username': 'andrewbonney'}]",,2,"[{'number': 15, 'created': '2024-02-27 16:36:35.000000000', 'files': ['mcapi_vexxhost/playbooks/files/openstack_deploy/user_variables_hooks.yml', 'mcapi_vexxhost/playbooks/functional_test.yml', 'mcapi_vexxhost/playbooks/files/openstack_deploy/user_variables_tempest.yml', 'mcapi_vexxhost/playbooks/install_and_test.yml'], 'message': 'Add hook playbook install and test magnum capi driver\n\nChange-Id: I3a7ee79c10c39cb805ed2134b21055d63786663d\n'}]",906363,e03fc5a279a967215611aae1d8f6ff20aba81d03,25023,Jonathan Rosser,jrosser,0,"Add hook playbook install and test magnum capi driver

Change-Id: I3a7ee79c10c39cb805ed2134b21055d63786663d
","['mcapi_vexxhost/playbooks/files/openstack_deploy/user_variables_hooks.yml', 'mcapi_vexxhost/playbooks/functional_test.yml', 'mcapi_vexxhost/playbooks/files/openstack_deploy/user_variables_tempest.yml', 'mcapi_vexxhost/playbooks/install_and_test.yml']"
openstack%2Fcloudkitty~900420,openstack/cloudkitty,master,I2b3ed4d3b45fe0108a0ead2a4fc1979db4919e2a,[WIP] Remove use of autocommit,ABANDONED,2023-11-08 14:42:15.000000000,2024-03-04 14:00:53.000000000,1,2,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 1, 'created': '2023-11-08 14:42:15.000000000', 'files': ['cloudkitty/db/__init__.py'], 'message': '[WIP] Remove use of autocommit\n\nChange-Id: I2b3ed4d3b45fe0108a0ead2a4fc1979db4919e2a\n'}]",900420,5a1e4347f4220484e519d21c2497b065e565109a,15197,Pierre Riteau,priteau,0,"[WIP] Remove use of autocommit

Change-Id: I2b3ed4d3b45fe0108a0ead2a4fc1979db4919e2a
",['cloudkitty/db/__init__.py']
openstack%2Fovn-bgp-agent~910620,openstack/ovn-bgp-agent,stable/2023.2,If0bca4a39a857364582804b64140f9a36bfc422a,Fix OVN LB Delete events for NB driver,MERGED,2024-03-04 12:17:27.000000000,2024-03-04 13:59:41.000000000,245,120,"[{'_account_id': 6773, 'name': 'Lucas Alvares Gomes', 'email': 'lucasagomes@gmail.com', 'username': 'lucasagomes'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-04 12:17:27.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/utils/driver_utils.py', 'ovn_bgp_agent/drivers/openstack/watchers/base_watcher.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_base_watcher.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_nb_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/nb_bgp_watcher.py'], 'message': 'Fix OVN LB Delete events for NB driver\n\nWhen deleting an OVN LB with an attached FIP, the FIP is not\nwithdrawn from the BGP interface where it was exposed.\n\nThis patch corrects the behavior in accordance with the events\nreceived from the OVN NB DB, taking as main source the vips\nfield provided in events to detect if added/removed entries.\n\nCloses-Bug: #2049535\nChange-Id: If0bca4a39a857364582804b64140f9a36bfc422a\n(cherry picked from commit e6201b35bc0d83597e527cb3c3a4d5b800d85044)\n'}]",910620,b390a77fc52bc90c626b7b821c6da9ed7372fc2c,23567,Luis Tomas Bolivar,ltomasbo,0,"Fix OVN LB Delete events for NB driver

When deleting an OVN LB with an attached FIP, the FIP is not
withdrawn from the BGP interface where it was exposed.

This patch corrects the behavior in accordance with the events
received from the OVN NB DB, taking as main source the vips
field provided in events to detect if added/removed entries.

Closes-Bug: #2049535
Change-Id: If0bca4a39a857364582804b64140f9a36bfc422a
(cherry picked from commit e6201b35bc0d83597e527cb3c3a4d5b800d85044)
","['ovn_bgp_agent/drivers/openstack/utils/driver_utils.py', 'ovn_bgp_agent/drivers/openstack/watchers/base_watcher.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_base_watcher.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_nb_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/nb_bgp_watcher.py']"
openstack%2Fpython-aodhclient~910863,openstack/python-aodhclient,master,I54ae0a973b79f1cd1c54ee560ead03ccd9fee75b,DNM: Test CI,ABANDONED,2024-03-03 13:34:31.000000000,2024-03-04 13:49:56.000000000,1,0,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-03-03 13:34:31.000000000', 'files': ['aodhclient/__init__.py'], 'message': 'DNM: Test CI\n\nChange-Id: I54ae0a973b79f1cd1c54ee560ead03ccd9fee75b\n'}]",910863,17498805835369e8602e54ca0f412ef3a7eb2392,13252,Dr. Jens Harbott,jrosenboom,0,"DNM: Test CI

Change-Id: I54ae0a973b79f1cd1c54ee560ead03ccd9fee75b
",['aodhclient/__init__.py']
openstack%2Fcloudkitty~900411,openstack/cloudkitty,master,I845a22599c03ee0bc62b96703139117c680274a0,[DNM] Add job to test with SQLAlchemy master (2.x),ABANDONED,2023-11-08 13:23:09.000000000,2024-03-04 13:33:11.000000000,16,10,"[{'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,3,"[{'number': 4, 'created': '2024-02-27 12:43:36.000000000', 'files': ['.zuul.yaml'], 'message': '[DNM] Add job to test with SQLAlchemy master (2.x)\n\nChange-Id: I845a22599c03ee0bc62b96703139117c680274a0\n'}]",900411,f2955aefdd2f11e0d431bcb571e0fc598d0b1a4a,15197,Pierre Riteau,priteau,0,"[DNM] Add job to test with SQLAlchemy master (2.x)

Change-Id: I845a22599c03ee0bc62b96703139117c680274a0
",['.zuul.yaml']
openstack%2Freleases~905984,openstack/releases,master,I5ebeb6fcdadab5d022e777d10a8fe5dcaab5273a,DNM: test validation fails for release after yoga-eom,ABANDONED,2024-01-17 18:14:43.000000000,2024-03-04 13:03:41.000000000,4,0,"[{'_account_id': 308, 'name': 'Thierry Carrez', 'email': 'thierry@openstack.org', 'username': 'ttx'}, {'_account_id': 13252, 'name': 'Dr. Jens Harbott', 'display_name': 'Jens Harbott (frickler)', 'email': 'frickler@offenerstapel.de', 'username': 'jrosenboom'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 1, 'created': '2024-01-17 18:14:43.000000000', 'files': ['deliverables/yoga/release-test.yaml'], 'message': 'DNM: test validation fails for release after yoga-eom\n\nChange-Id: I5ebeb6fcdadab5d022e777d10a8fe5dcaab5273a\n'}]",905984,63ec64f0b0658e809f066e1fb883e5049a8a8a0a,17685,Elod Illes,elod.illes,0,"DNM: test validation fails for release after yoga-eom

Change-Id: I5ebeb6fcdadab5d022e777d10a8fe5dcaab5273a
",['deliverables/yoga/release-test.yaml']
openstack%2Fironic~910669,openstack/ironic,stable/2023.2,I3295c92fd7b7871ad351b94f4c6cf0f554279db0,ci: pin CI to dnsmasq 2.85,MERGED,2024-02-29 22:58:45.000000000,2024-03-04 12:12:18.000000000,9,11,"[{'_account_id': 10239, 'name': 'Dmitry Tantsur', 'email': 'dtantsur@protonmail.com', 'username': 'dtantsur'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,1,"[{'number': 2, 'created': '2024-03-01 17:52:45.000000000', 'files': ['devstack/lib/ironic', 'zuul.d/project.yaml'], 'message': 'ci: pin CI to dnsmasq 2.85\n\nA temporary path forward to increase CI stability, by pinning\nto what appears to be a ""good working version"" of upstream dnsmasq\nwhich does not crash fon us.\n\nAlso removes metal3-integration as that does not test stable branches.\nChange-Id: I3295c92fd7b7871ad351b94f4c6cf0f554279db0\n(cherry picked from commit f893c740d7303e9d321e04f32e3b623237815ff2)\n'}]",910669,92ae4448bef6c639b92d8b298cbba3e1a4e75a88,11655,Julia Kreger,jkreger,0,"ci: pin CI to dnsmasq 2.85

A temporary path forward to increase CI stability, by pinning
to what appears to be a ""good working version"" of upstream dnsmasq
which does not crash fon us.

Also removes metal3-integration as that does not test stable branches.
Change-Id: I3295c92fd7b7871ad351b94f4c6cf0f554279db0
(cherry picked from commit f893c740d7303e9d321e04f32e3b623237815ff2)
","['devstack/lib/ironic', 'zuul.d/project.yaml']"
openstack%2Fovn-bgp-agent~905783,openstack/ovn-bgp-agent,master,If0bca4a39a857364582804b64140f9a36bfc422a,Fix OVN LB Delete events for NB driver,MERGED,2024-01-16 19:13:18.000000000,2024-03-04 12:11:57.000000000,245,120,"[{'_account_id': 6773, 'name': 'Lucas Alvares Gomes', 'email': 'lucasagomes@gmail.com', 'username': 'lucasagomes'}, {'_account_id': 16688, 'name': 'Rodolfo Alonso', 'email': 'ralonsoh@redhat.com', 'username': 'rodolfo-alonso-hernandez'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}, {'_account_id': 23567, 'name': 'Luis Tomas Bolivar', 'email': 'ltomasbo@redhat.com', 'username': 'ltomasbo'}]",,52,"[{'number': 9, 'created': '2024-03-01 09:43:46.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/utils/driver_utils.py', 'ovn_bgp_agent/drivers/openstack/watchers/base_watcher.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_base_watcher.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_nb_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/nb_bgp_watcher.py'], 'message': 'Fix OVN LB Delete events for NB driver\n\nWhen deleting an OVN LB with an attached FIP, the FIP is not\nwithdrawn from the BGP interface where it was exposed.\n\nThis patch corrects the behavior in accordance with the events\nreceived from the OVN NB DB, taking as main source the vips\nfield provided in events to detect if added/removed entries.\n\nCloses-Bug: #2049535\nChange-Id: If0bca4a39a857364582804b64140f9a36bfc422a\n'}]",905783,e6201b35bc0d83597e527cb3c3a4d5b800d85044,34451,Fernando Royo,froyo,0,"Fix OVN LB Delete events for NB driver

When deleting an OVN LB with an attached FIP, the FIP is not
withdrawn from the BGP interface where it was exposed.

This patch corrects the behavior in accordance with the events
received from the OVN NB DB, taking as main source the vips
field provided in events to detect if added/removed entries.

Closes-Bug: #2049535
Change-Id: If0bca4a39a857364582804b64140f9a36bfc422a
","['ovn_bgp_agent/drivers/openstack/utils/driver_utils.py', 'ovn_bgp_agent/drivers/openstack/watchers/base_watcher.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_base_watcher.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_nb_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/nb_bgp_watcher.py']"
openstack%2Fpuppet-oslo~910629,openstack/puppet-oslo,master,I0386f2cc97346242549713e9663c48ca2b9444ac,cache: Support new redis options,MERGED,2024-02-29 14:47:11.000000000,2024-03-04 11:46:16.000000000,113,4,"[{'_account_id': 14985, 'name': 'Alex Schultz', 'email': 'aschultz@next-development.com', 'username': 'mwhahaha'}, {'_account_id': 16137, 'name': 'Tobias Urdin', 'email': 'tobias.urdin@binero.com', 'username': 'tobasco'}, {'_account_id': 22348, 'name': 'Zuul', 'username': 'zuul', 'tags': ['SERVICE_USER']}]",,0,"[{'number': 3, 'created': '2024-03-01 01:15:38.000000000', 'files': ['spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp', 'releasenotes/notes/cache-redis-opts-48e5d9aed33f3318.yaml'], 'message': 'cache: Support new redis options\n\nThe oslo.cache 3.7.0 release introduced some options for redis backend\nand redis sentinel backend. This introduces for these parameters.\n\nChange-Id: I0386f2cc97346242549713e9663c48ca2b9444ac\n'}]",910629,e21a6c603c6c2525cc0bfc386b2fd6cdc4011016,9816,Takashi Kajinami,kajinamit,0,"cache: Support new redis options

The oslo.cache 3.7.0 release introduced some options for redis backend
and redis sentinel backend. This introduces for these parameters.

Change-Id: I0386f2cc97346242549713e9663c48ca2b9444ac
","['spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp', 'releasenotes/notes/cache-redis-opts-48e5d9aed33f3318.yaml']"
